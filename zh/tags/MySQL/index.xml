<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>MySQL on éšè®°</title><link>https://lwmfjc.github.io/zh/tags/MySQL/</link><description>Recent content in MySQL on éšè®°</description><generator>Hugo</generator><language>zh</language><lastBuildDate>Sat, 11 Jan 2025 16:40:21 +0800</lastBuildDate><atom:link href="https://lwmfjc.github.io/zh/tags/MySQL/index.xml" rel="self" type="application/rss+xml"/><item><title>ç¬¬26ç« _å†™ä½œæœ¬ä¹¦æ—¶ç”¨åˆ°çš„ä¸€äº›é‡è¦çš„å‚è€ƒèµ„æ–™</title><link>https://lwmfjc.github.io/zh/docs/technology/MySQL/MySQL%E6%98%AF%E6%80%8E%E6%A0%B7%E8%BF%90%E8%A1%8C%E7%9A%84/%E7%AC%AC26%E7%AB%A0_%E5%86%99%E4%BD%9C%E6%9C%AC%E4%B9%A6%E6%97%B6%E7%94%A8%E5%88%B0%E7%9A%84%E4%B8%80%E4%BA%9B%E9%87%8D%E8%A6%81%E7%9A%84%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99/</link><pubDate>Sat, 11 Jan 2025 16:40:21 +0800</pubDate><guid>https://lwmfjc.github.io/zh/docs/technology/MySQL/MySQL%E6%98%AF%E6%80%8E%E6%A0%B7%E8%BF%90%E8%A1%8C%E7%9A%84/%E7%AC%AC26%E7%AB%A0_%E5%86%99%E4%BD%9C%E6%9C%AC%E4%B9%A6%E6%97%B6%E7%94%A8%E5%88%B0%E7%9A%84%E4%B8%80%E4%BA%9B%E9%87%8D%E8%A6%81%E7%9A%84%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99/</guid><description>&lt;h1 id="ç¬¬26ç« -å†™ä½œæœ¬ä¹¦æ—¶ç”¨åˆ°çš„ä¸€äº›é‡è¦çš„å‚è€ƒèµ„æ–™">
 ç¬¬26ç«  å†™ä½œæœ¬ä¹¦æ—¶ç”¨åˆ°çš„ä¸€äº›é‡è¦çš„å‚è€ƒèµ„æ–™
 &lt;a class="anchor" href="#%e7%ac%ac26%e7%ab%a0-%e5%86%99%e4%bd%9c%e6%9c%ac%e4%b9%a6%e6%97%b6%e7%94%a8%e5%88%b0%e7%9a%84%e4%b8%80%e4%ba%9b%e9%87%8d%e8%a6%81%e7%9a%84%e5%8f%82%e8%80%83%e8%b5%84%e6%96%99">#&lt;/a>
&lt;/h1>
&lt;p>æ„Ÿè°¢&lt;/p>
&lt;p>æˆ‘ä¸ç”Ÿäº§çŸ¥è¯†ï¼Œåªæ˜¯çŸ¥è¯†çš„æ¬è¿å·¥ã€‚å†™ä½œæœ¬å°å†Œçš„æ—¶é—´ä¸»è¦ç”¨åœ¨äº†ä¸¤ä¸ªæ–¹é¢ï¼š&lt;/p>
&lt;ul>
&lt;li>&lt;/li>
&lt;/ul>
&lt;p>ææ¸…æ¥šäº‹æƒ…çš„æœ¬è´¨æ˜¯ä»€ä¹ˆã€‚&lt;/p>
&lt;p>è¿™ä¸ªè¿‡ç¨‹å°±æ˜¯ç ”ç©¶æºç ã€ä¹¦ç±å’Œèµ„æ–™ã€‚&lt;/p>
&lt;ul>
&lt;li>&lt;/li>
&lt;/ul>
&lt;p>å¦‚ä½•æŠŠæˆ‘å·²ç»çŸ¥é“çš„çŸ¥è¯†è¡¨è¾¾å‡ºæ¥ã€‚&lt;/p>
&lt;p>è¿™ä¸ªè¿‡ç¨‹å°±æ˜¯æˆ‘ä¸åœçš„åœ¨åœ°ä¸Šèµ°è¿‡æ¥èµ°è¿‡å»ï¼Œæ¢³ç†çŸ¥è¯†ç»“æ„ï¼Œæ–Ÿé…Œç”¨è¯ç”¨å¥ï¼Œä¸åœçš„å°†å·²ç»å†™å¥½çš„æ–‡ç« æ¨å€’é‡æ¥ï¼Œåªæ˜¯æƒ³ç»™å¤§å®¶ä¸€ä¸ªä¸é”™çš„ç”¨æˆ·ä½“éªŒã€‚&lt;/p>
&lt;p>è¿™ä¸¤ä¸ªæ–¹é¢ç”¨çš„æ—¶é—´åŸºæœ¬ä¸Šæ˜¯ä¸€åŠä¸€åŠå§ï¼Œåœ¨ææ¸…æ¥šäº‹æƒ…çš„æœ¬è´¨æ˜¯ä»€ä¹ˆé˜¶æ®µï¼Œé™¤äº†ç›´æ¥é˜…è¯»&lt;code>MySQL&lt;/code>çš„æºç ä¹‹å¤–ï¼ŒæŸ¥çœ‹å‚è€ƒèµ„æ–™ä¹Ÿæ˜¯ä¸€ç§æ¯”è¾ƒå·æ‡’çš„å­¦ä¹ æ–¹å¼ã€‚æœ¬ä¹¦åªæ˜¯&lt;code>MySQL&lt;/code>è¿›é˜¶çš„ä¸€ä¸ªå…¥é—¨ï¼Œæƒ³äº†è§£æ›´å¤šå…³äº&lt;code>MySQL&lt;/code>çš„çŸ¥è¯†ï¼Œå¤§å®¶å¯ä»¥ä»ä¸‹é¢è¿™äº›èµ„æ–™é‡Œæ‰¾ç‚¹çµæ„Ÿã€‚&lt;/p>
&lt;p>ä¸€äº›é“¾æ¥&lt;/p>
&lt;ul>
&lt;li>&lt;/li>
&lt;/ul>
&lt;p>MySQLå®˜æ–¹æ–‡æ¡£ï¼š&lt;a href="https://dev.mysql.com/doc/refman/5.7/en/">https://dev.mysql.com/doc/refman/5.7/en/&lt;/a>&lt;/p>
&lt;p>&lt;code>MySQL&lt;/code>å®˜æ–¹æ–‡æ¡£æ˜¯å†™ä½œæœ¬ä¹¦æ—¶å‚è€ƒæœ€å¤šçš„ä¸€ä¸ªèµ„æ–™ã€‚è¯´å®è¯ï¼Œæ–‡æ¡£å†™çš„éå¸¸é€šä¿—æ˜“æ‡‚ï¼Œå”¯ä¸€çš„ç¼ºç‚¹å°±æ˜¯å¤ªé•¿äº†ï¼Œå¯¼è‡´å¤§å®¶çœ‹çš„æ—¶å€™æ— ä»ä¸‹æ‰‹ã€‚&lt;/p>
&lt;ul>
&lt;li>&lt;/li>
&lt;/ul>
&lt;p>MySQL Internals Manualï¼š&lt;a href="https://dev.mysql.com/doc/internals/en/">https://dev.mysql.com/doc/internals/en/&lt;/a>&lt;/p>
&lt;p>ä»‹ç»MySQLå¦‚ä½•å®ç°å„ç§åŠŸèƒ½çš„æ–‡æ¡£ï¼Œå†™çš„æ¯”è¾ƒå¥½ï¼Œä½†æ˜¯å¤ªå°‘äº†ï¼Œæœ‰å¾ˆå¤šç« èŠ‚ç›´æ¥è·³è¿‡äº†ã€‚&lt;/p>
&lt;ul>
&lt;li>&lt;/li>
&lt;/ul>
&lt;p>ä½•ç™»æˆçš„githubï¼š&lt;a href="https://github.com/hedengcheng/tech">https://github.com/hedengcheng/tech&lt;/a>&lt;/p>
&lt;p>ç™»åšçš„åšå®¢éå¸¸å¥½ï¼Œå¯¹äº‹åŠ¡ã€ä¼˜åŒ–è¿™è®¨è®ºçš„ç»†èŠ‚ä¹Ÿéå¸¸å¤šï¼Œä¸è¿‡ç”±äºå¤§å¤šæ˜¯PPTç»“æ„ï¼Œå­—å¤ªå°‘ï¼Œå¯¹ä¸Šä¸‹æ–‡ä¸æ¸…æ¥šçš„åŒå­¦å¯èƒ½ä¼šä¸€è„¸æ‡µé€¼ã€‚&lt;/p>
&lt;ul>
&lt;li>&lt;/li>
&lt;/ul>
&lt;p>orczhouçš„åšå®¢ï¼š&lt;a href="http://www.orczhou.com/">http://www.orczhou.com/&lt;/a>&lt;/p>
&lt;ul>
&lt;li>&lt;/li>
&lt;/ul>
&lt;p>Jeremy Coleçš„åšå®¢ï¼š&lt;a href="https://blog.jcole.us/innodb/">https://blog.jcole.us/innodb/&lt;/a>&lt;/p>
&lt;p>Jeremy Coleå¤§ç¥ä¸ä»…å†™ä½œäº†&lt;code>innodb_ruby&lt;/code>è¿™ä¸ªéå¸¸æ£’çš„è§£æ&lt;code>InnoDB&lt;/code>å­˜å‚¨ç»“æ„çš„å·¥å…·ï¼Œè¿˜å¯¹è¿™äº›å­˜å‚¨ç»“æ„å†™äº†ä¸€ç³»åˆ—çš„åšå®¢ï¼Œåœ¨æˆ‘å‡ ä¹è¦æ”¾å¼ƒæ·±å…¥ç ”ç©¶è¡¨ç©ºé—´ç»“æ„çš„æ—¶å€™ï¼Œæ˜¯ä»–è€äººå®¶çš„åšå®¢æŠŠæˆ‘åˆä»æ·±æ¸Šé‡Œæ‹‰äº†å›æ¥ã€‚&lt;/p>
&lt;ul>
&lt;li>&lt;/li>
&lt;/ul>
&lt;p>é‚£æµ·è“è“ï¼ˆææµ·ç¿”ï¼‰çš„åšå®¢ï¼š&lt;a href="https://blog.csdn.net/fly2nn">https://blog.csdn.net/fly2nn&lt;/a>&lt;/p>
&lt;ul>
&lt;li>&lt;/li>
&lt;/ul>
&lt;p>taobaoæœˆæŠ¥ï¼š&lt;a href="http://mysql.taobao.org/monthly/">http://mysql.taobao.org/monthly/&lt;/a>&lt;/p>
&lt;p>å› ä¸ºMySQLçš„æºç éå¸¸å¤šï¼Œç»å¸¸è®©å¤§å®¶æ— ä»ä¸‹æ‰‹ï¼Œè€ŒtaobaoæœˆæŠ¥å°±æ˜¯ä¸€ä¸ªéå¸¸å¥½çš„æºç é˜…è¯»æŒ‡å—ã€‚&lt;/p>
&lt;p>&lt;code>åæ§½ä¸€ä¸‹ï¼Œè¿™ä¸ªtaobaoæœˆæŠ¥ä¹Ÿåªèƒ½å½“ä½œæºç é˜…è¯»æŒ‡å—çœ‹ï¼Œå¦‚æœçœŸçš„ä¸çœ‹æºç å…‰çœ‹æœˆæŠ¥ï¼Œé‚£åªèƒ½å½“ä½œå¤©ä¹¦çœ‹ï¼Œåæœ‰å…«ä¹è¢«ç»•è¿›å»å‡ºä¸æ¥äº†ã€‚&lt;/code>&lt;/p>
&lt;ul>
&lt;li>&lt;/li>
&lt;/ul>
&lt;p>MySQL Server Blogï¼š&lt;a href="http://mysqlserverteam.com/">http://mysqlserverteam.com/&lt;/a>&lt;/p>
&lt;p>MySQL teamçš„åšå®¢ï¼Œä¸€æ‰‹èµ„æ–™ï¼Œåœ¨æˆ‘ä¸çŸ¥é“çœ‹ä»€ä¹ˆçš„æ—¶å€™ç»™äº†å¾ˆå¤šå¯ç¤ºã€‚&lt;/p>
&lt;ul>
&lt;li>&lt;/li>
&lt;/ul>
&lt;p>mysql_loverçš„åšå®¢ï¼š&lt;a href="https://blog.csdn.net/mysql_lover/">https://blog.csdn.net/mysql_lover/&lt;/a>&lt;/p>
&lt;ul>
&lt;li>Jorgen&amp;rsquo;s point of viewï¼š&lt;a href="https://jorgenloland.blogspot.com/">https://jorgenloland.blogspot.com/&lt;/a>&lt;/li>
&lt;li>&lt;/li>
&lt;/ul>
&lt;p>mariadbçš„å…³äºæŸ¥è¯¢ä¼˜åŒ–çš„æ–‡æ¡£ï¼š&lt;a href="https://mariadb.com/kb/en/library/query-optimizations/">https://mariadb.com/kb/en/library/query-optimizations/&lt;/a>&lt;/p>
&lt;p>ä¸å¾—ä¸è¯´mariadbçš„æ–‡æ¡£ç›¸æ¯”MySQLçš„æ¥è¯´å°±éå¸¸æœ‰è‰ºæœ¯æ€§äº†ï¼ˆé‡Œè¾¹å„¿æœ‰å¾ˆå¤šæ¼‚äº®çš„æ’å›¾ï¼‰ï¼Œæˆ‘å¾ˆæ€€ç–‘MySQLæ–‡æ¡£æ˜¯ç¨‹åºå‘˜ç›´æ¥å†™çš„ï¼Œmariadbçš„æ–‡æ¡£æ˜¯äº§å“ç»ç†å†™çš„ã€‚å½“æˆ‘ä»¬æƒ³ç ”ç©¶æŸä¸ªåŠŸèƒ½çš„åŸç†ï¼Œåœ¨MySQLæ–‡æ¡£å¹²å·´å·´çš„è¯´æ˜ä¸­æ‰¾ä¸åˆ°å¤´è„‘æ—¶ï¼Œå¯ä»¥å‚è€ƒä¸€ä¸‹mariadbå¨“å¨“é“æ¥çš„é£æ ¼ã€‚&lt;/p>
&lt;ul>
&lt;li>&lt;/li>
&lt;/ul>
&lt;p>Reconstructing Data Manipulation Queries from Redo Logsï¼š&lt;a href="https://www.sba-research.org/wp-content/uploads/publications/WSDF2012_InnoDB.pdf">https://www.sba-research.org/wp-content/uploads/publications/WSDF2012_InnoDB.pdf&lt;/a>&lt;/p>
&lt;ul>
&lt;li>å…³äºInnoDBäº‹åŠ¡çš„ä¸€ä¸ªPPTï¼š&lt;a href="https://mariadb.org/wp-content/uploads/2018/02/Deep-Dive_-InnoDB-Transactions-and-Write-Paths.pdf">https://mariadb.org/wp-content/uploads/2018/02/Deep-Dive_-InnoDB-Transactions-and-Write-Paths.pdf&lt;/a>&lt;/li>
&lt;li>&lt;/li>
&lt;/ul>
&lt;p>éå®˜æ–¹ä¼˜åŒ–æ–‡æ¡£ï¼š&lt;a href="http://www.unofficialmysqlguide.com/optimizer-trace.html">http://www.unofficialmysqlguide.com/optimizer-trace.html&lt;/a>&lt;/p>
&lt;p>è¿™ä¸ªæ–‡æ¡£éå¸¸å¥½ï¼Œéå¸¸éå¸¸å¥½ï½&lt;/p>
&lt;ul>
&lt;li>&lt;/li>
&lt;/ul>
&lt;p>MySQL8.0çš„æºç æ–‡æ¡£ï¼š&lt;a href="https://dev.mysql.com/doc/dev/mysql-server">https://dev.mysql.com/doc/dev/mysql-server&lt;/a>&lt;/p>
&lt;p>ä¸€äº›ä¹¦ç±&lt;/p>
&lt;ul>
&lt;li>&lt;/li>
&lt;/ul>
&lt;p>ã€Šæ•°æ®åº“æŸ¥è¯¢ä¼˜åŒ–å™¨çš„è‰ºæœ¯ã€‹ææµ·ç¿”è‘—&lt;/p></description></item><item><title>ç¬¬25ç« _å·¥ä½œé¢è¯•è€å¤§éš¾-é”</title><link>https://lwmfjc.github.io/zh/docs/technology/MySQL/MySQL%E6%98%AF%E6%80%8E%E6%A0%B7%E8%BF%90%E8%A1%8C%E7%9A%84/%E7%AC%AC25%E7%AB%A0_%E5%B7%A5%E4%BD%9C%E9%9D%A2%E8%AF%95%E8%80%81%E5%A4%A7%E9%9A%BE-%E9%94%81/</link><pubDate>Sat, 11 Jan 2025 16:40:20 +0800</pubDate><guid>https://lwmfjc.github.io/zh/docs/technology/MySQL/MySQL%E6%98%AF%E6%80%8E%E6%A0%B7%E8%BF%90%E8%A1%8C%E7%9A%84/%E7%AC%AC25%E7%AB%A0_%E5%B7%A5%E4%BD%9C%E9%9D%A2%E8%AF%95%E8%80%81%E5%A4%A7%E9%9A%BE-%E9%94%81/</guid><description>&lt;h1 id="ç¬¬25ç« -å·¥ä½œé¢è¯•è€å¤§éš¾-é”">
 ç¬¬25ç«  å·¥ä½œé¢è¯•è€å¤§éš¾-é”
 &lt;a class="anchor" href="#%e7%ac%ac25%e7%ab%a0-%e5%b7%a5%e4%bd%9c%e9%9d%a2%e8%af%95%e8%80%81%e5%a4%a7%e9%9a%be-%e9%94%81">#&lt;/a>
&lt;/h1>
&lt;p>è§£å†³å¹¶å‘äº‹åŠ¡å¸¦æ¥é—®é¢˜çš„ä¸¤ç§åŸºæœ¬æ–¹å¼&lt;/p>
&lt;p>ä¸Šä¸€ç« ä»‹ç»äº†äº‹åŠ¡å¹¶å‘æ‰§è¡Œæ—¶å¯èƒ½å¸¦æ¥çš„å„ç§é—®é¢˜ï¼Œå¹¶å‘äº‹åŠ¡è®¿é—®ç›¸åŒè®°å½•çš„æƒ…å†µå¤§è‡´å¯ä»¥åˆ’åˆ†ä¸º3ç§ï¼š&lt;/p>
&lt;ul>
&lt;li>&lt;/li>
&lt;/ul>
&lt;p>&lt;code>è¯»-è¯»&lt;/code>æƒ…å†µï¼šå³å¹¶å‘äº‹åŠ¡ç›¸ç»§è¯»å–ç›¸åŒçš„è®°å½•ã€‚&lt;/p>
&lt;p>è¯»å–æ“ä½œæœ¬èº«ä¸ä¼šå¯¹è®°å½•æœ‰ä¸€æ¯›é’±å½±å“ï¼Œå¹¶ä¸ä¼šå¼•èµ·ä»€ä¹ˆé—®é¢˜ï¼Œæ‰€ä»¥å…è®¸è¿™ç§æƒ…å†µçš„å‘ç”Ÿã€‚&lt;/p>
&lt;ul>
&lt;li>&lt;/li>
&lt;/ul>
&lt;p>&lt;code>å†™-å†™&lt;/code>æƒ…å†µï¼šå³å¹¶å‘äº‹åŠ¡ç›¸ç»§å¯¹ç›¸åŒçš„è®°å½•åšå‡ºæ”¹åŠ¨ã€‚&lt;/p>
&lt;p>æˆ‘ä»¬å‰é¢è¯´è¿‡ï¼Œåœ¨è¿™ç§æƒ…å†µä¸‹ä¼šå‘ç”Ÿ&lt;code>è„å†™&lt;/code>çš„é—®é¢˜ï¼Œä»»ä½•ä¸€ç§éš”ç¦»çº§åˆ«éƒ½ä¸å…è®¸è¿™ç§é—®é¢˜çš„å‘ç”Ÿã€‚æ‰€ä»¥åœ¨å¤šä¸ªæœªæäº¤äº‹åŠ¡ç›¸ç»§å¯¹ä¸€æ¡è®°å½•åšæ”¹åŠ¨æ—¶ï¼Œéœ€è¦è®©å®ƒä»¬æ’é˜Ÿæ‰§è¡Œï¼Œè¿™ä¸ªæ’é˜Ÿçš„è¿‡ç¨‹å…¶å®æ˜¯é€šè¿‡&lt;code>é”&lt;/code>æ¥å®ç°çš„ã€‚è¿™ä¸ªæ‰€è°“çš„&lt;code>é”&lt;/code>å…¶å®æ˜¯ä¸€ä¸ªå†…å­˜ä¸­çš„ç»“æ„ï¼Œåœ¨äº‹åŠ¡æ‰§è¡Œå‰æœ¬æ¥æ˜¯æ²¡æœ‰é”çš„ï¼Œä¹Ÿå°±æ˜¯è¯´ä¸€å¼€å§‹æ˜¯æ²¡æœ‰&lt;code>é”ç»“æ„&lt;/code>å’Œè®°å½•è¿›è¡Œå…³è”çš„ï¼Œå¦‚å›¾æ‰€ç¤ºï¼š&lt;/p>
&lt;p>&lt;img src="img/25-01.png" alt="" />&lt;/p>
&lt;p>å½“ä¸€ä¸ªäº‹åŠ¡æƒ³å¯¹è¿™æ¡è®°å½•åšæ”¹åŠ¨æ—¶ï¼Œé¦–å…ˆä¼šçœ‹çœ‹å†…å­˜ä¸­æœ‰æ²¡æœ‰ä¸è¿™æ¡è®°å½•å…³è”çš„&lt;code>é”ç»“æ„&lt;/code>ï¼Œå½“æ²¡æœ‰çš„æ—¶å€™å°±ä¼šåœ¨å†…å­˜ä¸­ç”Ÿæˆä¸€ä¸ª&lt;code>é”ç»“æ„&lt;/code>ä¸ä¹‹å…³è”ã€‚æ¯”æ–¹è¯´äº‹åŠ¡&lt;code>T1&lt;/code>è¦å¯¹è¿™æ¡è®°å½•åšæ”¹åŠ¨ï¼Œå°±éœ€è¦ç”Ÿæˆä¸€ä¸ª&lt;code>é”ç»“æ„&lt;/code>ä¸ä¹‹å…³è”ï¼š&lt;/p>
&lt;p>&lt;img src="img/25-02.png" alt="" />&lt;/p>
&lt;p>å…¶å®åœ¨&lt;code>é”ç»“æ„&lt;/code>é‡Œæœ‰å¾ˆå¤šä¿¡æ¯ï¼Œä¸è¿‡ä¸ºäº†ç®€åŒ–ç†è§£ï¼Œæˆ‘ä»¬ç°åœ¨åªæŠŠä¸¤ä¸ªæ¯”è¾ƒé‡è¦çš„å±æ€§æ‹¿äº†å‡ºæ¥ï¼š - &lt;code>trxä¿¡æ¯&lt;/code>ï¼šä»£è¡¨è¿™ä¸ªé”ç»“æ„æ˜¯å“ªä¸ªäº‹åŠ¡ç”Ÿæˆçš„ã€‚ - &lt;code>is_waiting&lt;/code>ï¼šä»£è¡¨å½“å‰äº‹åŠ¡æ˜¯å¦åœ¨ç­‰å¾…ã€‚&lt;/p>
&lt;p>å¦‚å›¾æ‰€ç¤ºï¼Œå½“äº‹åŠ¡&lt;code>T1&lt;/code>æ”¹åŠ¨äº†è¿™æ¡è®°å½•åï¼Œå°±ç”Ÿæˆäº†ä¸€ä¸ª&lt;code>é”ç»“æ„&lt;/code>ä¸è¯¥è®°å½•å…³è”ï¼Œå› ä¸ºä¹‹å‰æ²¡æœ‰åˆ«çš„äº‹åŠ¡ä¸ºè¿™æ¡è®°å½•åŠ é”ï¼Œæ‰€ä»¥&lt;code>is_waiting&lt;/code>å±æ€§å°±æ˜¯&lt;code>false&lt;/code>ï¼Œæˆ‘ä»¬æŠŠè¿™ä¸ªåœºæ™¯å°±ç§°ä¹‹ä¸º&lt;strong>è·å–é”æˆåŠŸï¼Œæˆ–è€…åŠ é”æˆåŠŸ&lt;/strong>ï¼Œç„¶åå°±å¯ä»¥ç»§ç»­æ‰§è¡Œæ“ä½œäº†ã€‚&lt;/p>
&lt;p>åœ¨äº‹åŠ¡&lt;code>T1&lt;/code>æäº¤ä¹‹å‰ï¼Œå¦ä¸€ä¸ªäº‹åŠ¡&lt;code>T2&lt;/code>ä¹Ÿæƒ³å¯¹è¯¥è®°å½•åšæ”¹åŠ¨ï¼Œé‚£ä¹ˆå…ˆå»çœ‹çœ‹æœ‰æ²¡æœ‰&lt;code>é”ç»“æ„&lt;/code>ä¸è¿™æ¡è®°å½•å…³è”ï¼Œå‘ç°æœ‰ä¸€ä¸ª&lt;code>é”ç»“æ„&lt;/code>ä¸ä¹‹å…³è”åï¼Œç„¶åä¹Ÿç”Ÿæˆäº†ä¸€ä¸ª&lt;code>é”ç»“æ„&lt;/code>ä¸è¿™æ¡è®°å½•å…³è”ï¼Œä¸è¿‡&lt;code>é”ç»“æ„&lt;/code>çš„&lt;code>is_waiting&lt;/code>å±æ€§å€¼ä¸º&lt;code>true&lt;/code>ï¼Œè¡¨ç¤ºå½“å‰äº‹åŠ¡éœ€è¦ç­‰å¾…ï¼Œæˆ‘ä»¬æŠŠè¿™ä¸ªåœºæ™¯å°±ç§°ä¹‹ä¸º&lt;strong>è·å–é”å¤±è´¥ï¼Œæˆ–è€…åŠ é”å¤±è´¥ï¼Œæˆ–è€…æ²¡æœ‰æˆåŠŸçš„è·å–åˆ°é”&lt;/strong>ï¼Œç”»ä¸ªå›¾è¡¨ç¤ºå°±æ˜¯è¿™æ ·ï¼š&lt;/p>
&lt;p>&lt;img src="img/25-03.png" alt="" />&lt;/p>
&lt;p>åœ¨äº‹åŠ¡&lt;code>T1&lt;/code>æäº¤ä¹‹åï¼Œå°±ä¼šæŠŠè¯¥äº‹åŠ¡ç”Ÿæˆçš„&lt;code>é”ç»“æ„&lt;/code>é‡Šæ”¾æ‰ï¼Œç„¶åçœ‹çœ‹è¿˜æœ‰æ²¡æœ‰åˆ«çš„äº‹åŠ¡åœ¨ç­‰å¾…è·å–é”ï¼Œå‘ç°äº†äº‹åŠ¡&lt;code>T2&lt;/code>è¿˜åœ¨ç­‰å¾…è·å–é”ï¼Œæ‰€ä»¥æŠŠäº‹åŠ¡&lt;code>T2&lt;/code>å¯¹åº”çš„é”ç»“æ„çš„&lt;code>is_waiting&lt;/code>å±æ€§è®¾ç½®ä¸º&lt;code>false&lt;/code>ï¼Œç„¶åæŠŠè¯¥äº‹åŠ¡å¯¹åº”çš„çº¿ç¨‹å”¤é†’ï¼Œè®©å®ƒç»§ç»­æ‰§è¡Œï¼Œæ­¤æ—¶äº‹åŠ¡&lt;code>T2&lt;/code>å°±ç®—è·å–åˆ°é”äº†ã€‚æ•ˆæœå›¾å°±æ˜¯è¿™æ ·ï¼š&lt;/p>
&lt;p>&lt;img src="img/25-04.png" alt="" />&lt;/p>
&lt;p>æˆ‘ä»¬æ€»ç»“ä¸€ä¸‹åç»­å†…å®¹ä¸­å¯èƒ½ç”¨åˆ°çš„å‡ ç§è¯´æ³•ï¼Œä»¥å…å¤§å®¶æ··æ·†ï¼š&lt;/p>
&lt;pre>&lt;code>+ 
&lt;/code>&lt;/pre>
&lt;p>ä¸åŠ é”&lt;/p>
&lt;p>æ„æ€å°±æ˜¯ä¸éœ€è¦åœ¨å†…å­˜ä¸­ç”Ÿæˆå¯¹åº”çš„&lt;code>é”ç»“æ„&lt;/code>ï¼Œå¯ä»¥ç›´æ¥æ‰§è¡Œæ“ä½œã€‚&lt;/p>
&lt;pre>&lt;code>+ 
&lt;/code>&lt;/pre>
&lt;p>è·å–é”æˆåŠŸï¼Œæˆ–è€…åŠ é”æˆåŠŸ&lt;/p>
&lt;p>æ„æ€å°±æ˜¯åœ¨å†…å­˜ä¸­ç”Ÿæˆäº†å¯¹åº”çš„&lt;code>é”ç»“æ„&lt;/code>ï¼Œè€Œä¸”é”ç»“æ„çš„&lt;code>is_waiting&lt;/code>å±æ€§ä¸º&lt;code>false&lt;/code>ï¼Œä¹Ÿå°±æ˜¯äº‹åŠ¡å¯ä»¥ç»§ç»­æ‰§è¡Œæ“ä½œã€‚&lt;/p>
&lt;pre>&lt;code>+ 
&lt;/code>&lt;/pre>
&lt;p>è·å–é”å¤±è´¥ï¼Œæˆ–è€…åŠ é”å¤±è´¥ï¼Œæˆ–è€…æ²¡æœ‰è·å–åˆ°é”&lt;/p>
&lt;p>æ„æ€å°±æ˜¯åœ¨å†…å­˜ä¸­ç”Ÿæˆäº†å¯¹åº”çš„&lt;code>é”ç»“æ„&lt;/code>ï¼Œä¸è¿‡é”ç»“æ„çš„&lt;code>is_waiting&lt;/code>å±æ€§ä¸º&lt;code>true&lt;/code>ï¼Œä¹Ÿå°±æ˜¯äº‹åŠ¡éœ€è¦ç­‰å¾…ï¼Œä¸å¯ä»¥ç»§ç»­æ‰§è¡Œæ“ä½œã€‚&lt;/p>
&lt;p>&lt;code>å°è´´å£«ï¼šè¿™é‡Œåªæ˜¯å¯¹é”ç»“æ„åšäº†ä¸€ä¸ªéå¸¸ç®€å•çš„æè¿°ï¼Œæˆ‘ä»¬åè¾¹ä¼šè¯¦ç»†ä»‹ç»ä»‹ç»é”ç»“æ„çš„ï¼Œç¨å®‰å‹¿èºã€‚&lt;/code>&lt;/p>
&lt;ul>
&lt;li>&lt;/li>
&lt;/ul>
&lt;p>&lt;code>è¯»-å†™&lt;/code>æˆ–&lt;code>å†™-è¯»&lt;/code>æƒ…å†µï¼šä¹Ÿå°±æ˜¯ä¸€ä¸ªäº‹åŠ¡è¿›è¡Œè¯»å–æ“ä½œï¼Œå¦ä¸€ä¸ªè¿›è¡Œæ”¹åŠ¨æ“ä½œã€‚&lt;/p>
&lt;p>æˆ‘ä»¬å‰é¢è¯´è¿‡ï¼Œè¿™ç§æƒ…å†µä¸‹å¯èƒ½å‘ç”Ÿ&lt;code>è„è¯»&lt;/code>ã€&lt;code>ä¸å¯é‡å¤è¯»&lt;/code>ã€&lt;code>å¹»è¯»&lt;/code>çš„é—®é¢˜ã€‚&lt;/p>
&lt;p>&lt;code>å°è´´å£«ï¼šå¹»è¯»é—®é¢˜çš„äº§ç”Ÿæ˜¯å› ä¸ºæŸä¸ªäº‹åŠ¡è¯»äº†ä¸€ä¸ªèŒƒå›´çš„è®°å½•ï¼Œä¹‹ååˆ«çš„äº‹åŠ¡åœ¨è¯¥èŒƒå›´å†…æ’å…¥äº†æ–°è®°å½•ï¼Œè¯¥äº‹åŠ¡å†æ¬¡è¯»å–è¯¥èŒƒå›´çš„è®°å½•æ—¶ï¼Œå¯ä»¥è¯»åˆ°æ–°æ’å…¥çš„è®°å½•ï¼Œæ‰€ä»¥å¹»è¯»é—®é¢˜å‡†ç¡®çš„è¯´å¹¶ä¸æ˜¯å› ä¸ºè¯»å–å’Œå†™å…¥ä¸€æ¡ç›¸åŒè®°å½•è€Œäº§ç”Ÿçš„ï¼Œè¿™ä¸€ç‚¹è¦æ³¨æ„ä¸€ä¸‹ã€‚&lt;/code>&lt;/p>
&lt;p>&lt;code>SQLæ ‡å‡†&lt;/code>è§„å®šä¸åŒéš”ç¦»çº§åˆ«ä¸‹å¯èƒ½å‘ç”Ÿçš„é—®é¢˜ä¸ä¸€æ ·ï¼š - åœ¨&lt;code>READ UNCOMMITTED&lt;/code>éš”ç¦»çº§åˆ«ä¸‹ï¼Œ&lt;code>è„è¯»&lt;/code>ã€&lt;code>ä¸å¯é‡å¤è¯»&lt;/code>ã€&lt;code>å¹»è¯»&lt;/code>éƒ½å¯èƒ½å‘ç”Ÿã€‚ - åœ¨&lt;code>READ COMMITTED&lt;/code>éš”ç¦»çº§åˆ«ä¸‹ï¼Œ&lt;code>ä¸å¯é‡å¤è¯»&lt;/code>ã€&lt;code>å¹»è¯»&lt;/code>å¯èƒ½å‘ç”Ÿï¼Œ&lt;code>è„è¯»&lt;/code>ä¸å¯ä»¥å‘ç”Ÿã€‚ - åœ¨&lt;code>REPEATABLE READ&lt;/code>éš”ç¦»çº§åˆ«ä¸‹ï¼Œ&lt;code>å¹»è¯»&lt;/code>å¯èƒ½å‘ç”Ÿï¼Œ&lt;code>è„è¯»&lt;/code>å’Œ&lt;code>ä¸å¯é‡å¤è¯»&lt;/code>ä¸å¯ä»¥å‘ç”Ÿã€‚ - åœ¨&lt;code>SERIALIZABLE&lt;/code>éš”ç¦»çº§åˆ«ä¸‹ï¼Œä¸Šè¿°é—®é¢˜éƒ½ä¸å¯ä»¥å‘ç”Ÿã€‚&lt;/p>
&lt;p>ä¸è¿‡å„ä¸ªæ•°æ®åº“å‚å•†å¯¹&lt;code>SQLæ ‡å‡†&lt;/code>çš„æ”¯æŒéƒ½å¯èƒ½ä¸ä¸€æ ·ï¼Œä¸&lt;code>SQLæ ‡å‡†&lt;/code>ä¸åŒçš„ä¸€ç‚¹å°±æ˜¯ï¼Œ&lt;code>MySQL&lt;/code>åœ¨&lt;code>REPEATABLE READ&lt;/code>éš”ç¦»çº§åˆ«å®é™…ä¸Šå°±å·²ç»è§£å†³äº†&lt;code>å¹»è¯»&lt;/code>é—®é¢˜ã€‚&lt;/p>
&lt;p>æ€ä¹ˆè§£å†³&lt;code>è„è¯»&lt;/code>ã€&lt;code>ä¸å¯é‡å¤è¯»&lt;/code>ã€&lt;code>å¹»è¯»&lt;/code>è¿™äº›é—®é¢˜å‘¢ï¼Ÿå…¶å®æœ‰ä¸¤ç§å¯é€‰çš„è§£å†³æ–¹æ¡ˆï¼š&lt;/p>
&lt;pre>&lt;code>+ 
&lt;/code>&lt;/pre>
&lt;p>æ–¹æ¡ˆä¸€ï¼šè¯»æ“ä½œåˆ©ç”¨å¤šç‰ˆæœ¬å¹¶å‘æ§åˆ¶ï¼ˆ&lt;code>MVCC&lt;/code>ï¼‰ï¼Œå†™æ“ä½œè¿›è¡Œ&lt;code>åŠ é”&lt;/code>ã€‚&lt;/p>
&lt;p>æ‰€è°“çš„&lt;code>MVCC&lt;/code>æˆ‘ä»¬åœ¨å‰ä¸€ç« æœ‰è¿‡è¯¦ç»†çš„æè¿°ï¼Œå°±æ˜¯é€šè¿‡ç”Ÿæˆä¸€ä¸ª&lt;code>ReadView&lt;/code>ï¼Œç„¶åé€šè¿‡&lt;code>ReadView&lt;/code>æ‰¾åˆ°ç¬¦åˆæ¡ä»¶çš„è®°å½•ç‰ˆæœ¬ï¼ˆå†å²ç‰ˆæœ¬æ˜¯ç”±&lt;code>undoæ—¥å¿—&lt;/code>æ„å»ºçš„ï¼‰ï¼Œå…¶å®å°±åƒæ˜¯åœ¨ç”Ÿæˆ&lt;code>ReadView&lt;/code>çš„é‚£ä¸ªæ—¶åˆ»åšäº†ä¸€æ¬¡æ—¶é—´é™æ­¢ï¼ˆå°±åƒç”¨ç›¸æœºæ‹äº†ä¸€ä¸ªå¿«ç…§ï¼‰ï¼ŒæŸ¥è¯¢è¯­å¥åªèƒ½è¯»åˆ°åœ¨ç”Ÿæˆ&lt;code>ReadView&lt;/code>ä¹‹å‰å·²æäº¤äº‹åŠ¡æ‰€åšçš„æ›´æ”¹ï¼Œåœ¨ç”Ÿæˆ&lt;code>ReadView&lt;/code>ä¹‹å‰æœªæäº¤çš„äº‹åŠ¡æˆ–è€…ä¹‹åæ‰å¼€å¯çš„äº‹åŠ¡æ‰€åšçš„æ›´æ”¹æ˜¯çœ‹ä¸åˆ°çš„ã€‚è€Œå†™æ“ä½œè‚¯å®šé’ˆå¯¹çš„æ˜¯æœ€æ–°ç‰ˆæœ¬çš„è®°å½•ï¼Œè¯»è®°å½•çš„å†å²ç‰ˆæœ¬å’Œæ”¹åŠ¨è®°å½•çš„æœ€æ–°ç‰ˆæœ¬æœ¬èº«å¹¶ä¸å†²çªï¼Œä¹Ÿå°±æ˜¯é‡‡ç”¨&lt;code>MVCC&lt;/code>æ—¶ï¼Œ&lt;code>è¯»-å†™&lt;/code>æ“ä½œå¹¶ä¸å†²çªã€‚&lt;/p>
&lt;p>&lt;code>å°è´´å£«ï¼šæˆ‘ä»¬è¯´è¿‡æ™®é€šçš„SELECTè¯­å¥åœ¨READ COMMITTEDå’ŒREPEATABLE READéš”ç¦»çº§åˆ«ä¸‹ä¼šä½¿ç”¨åˆ°MVCCè¯»å–è®°å½•ã€‚åœ¨READ COMMITTEDéš”ç¦»çº§åˆ«ä¸‹ï¼Œä¸€ä¸ªäº‹åŠ¡åœ¨æ‰§è¡Œè¿‡ç¨‹ä¸­æ¯æ¬¡æ‰§è¡ŒSELECTæ“ä½œæ—¶éƒ½ä¼šç”Ÿæˆä¸€ä¸ªReadViewï¼ŒReadViewçš„å­˜åœ¨æœ¬èº«å°±ä¿è¯äº†äº‹åŠ¡ä¸å¯ä»¥è¯»å–åˆ°æœªæäº¤çš„äº‹åŠ¡æ‰€åšçš„æ›´æ”¹ï¼Œä¹Ÿå°±æ˜¯é¿å…äº†è„è¯»ç°è±¡ï¼›REPEATABLE READéš”ç¦»çº§åˆ«ä¸‹ï¼Œä¸€ä¸ªäº‹åŠ¡åœ¨æ‰§è¡Œè¿‡ç¨‹ä¸­åªæœ‰ç¬¬ä¸€æ¬¡æ‰§è¡ŒSELECTæ“ä½œæ‰ä¼šç”Ÿæˆä¸€ä¸ªReadViewï¼Œä¹‹åçš„SELECTæ“ä½œéƒ½å¤ç”¨è¿™ä¸ªReadViewï¼Œè¿™æ ·ä¹Ÿå°±é¿å…äº†ä¸å¯é‡å¤è¯»å’Œå¹»è¯»çš„é—®é¢˜ã€‚&lt;/code>&lt;/p></description></item><item><title>ç¬¬24ç« _ä¸€æ¡è®°å½•çš„å¤šå¹…é¢å­”-äº‹åŠ¡çš„éš”ç¦»çº§åˆ«ä¸MVCC</title><link>https://lwmfjc.github.io/zh/docs/technology/MySQL/MySQL%E6%98%AF%E6%80%8E%E6%A0%B7%E8%BF%90%E8%A1%8C%E7%9A%84/%E7%AC%AC24%E7%AB%A0_%E4%B8%80%E6%9D%A1%E8%AE%B0%E5%BD%95%E7%9A%84%E5%A4%9A%E5%B9%85%E9%9D%A2%E5%AD%94-%E4%BA%8B%E5%8A%A1%E7%9A%84%E9%9A%94%E7%A6%BB%E7%BA%A7%E5%88%AB%E4%B8%8EMVCC/</link><pubDate>Sat, 11 Jan 2025 16:40:19 +0800</pubDate><guid>https://lwmfjc.github.io/zh/docs/technology/MySQL/MySQL%E6%98%AF%E6%80%8E%E6%A0%B7%E8%BF%90%E8%A1%8C%E7%9A%84/%E7%AC%AC24%E7%AB%A0_%E4%B8%80%E6%9D%A1%E8%AE%B0%E5%BD%95%E7%9A%84%E5%A4%9A%E5%B9%85%E9%9D%A2%E5%AD%94-%E4%BA%8B%E5%8A%A1%E7%9A%84%E9%9A%94%E7%A6%BB%E7%BA%A7%E5%88%AB%E4%B8%8EMVCC/</guid><description>&lt;h1 id="ç¬¬24ç« -ä¸€æ¡è®°å½•çš„å¤šå¹…é¢å­”-äº‹åŠ¡çš„éš”ç¦»çº§åˆ«ä¸mvcc">
 ç¬¬24ç«  ä¸€æ¡è®°å½•çš„å¤šå¹…é¢å­”-äº‹åŠ¡çš„éš”ç¦»çº§åˆ«ä¸MVCC
 &lt;a class="anchor" href="#%e7%ac%ac24%e7%ab%a0-%e4%b8%80%e6%9d%a1%e8%ae%b0%e5%bd%95%e7%9a%84%e5%a4%9a%e5%b9%85%e9%9d%a2%e5%ad%94-%e4%ba%8b%e5%8a%a1%e7%9a%84%e9%9a%94%e7%a6%bb%e7%ba%a7%e5%88%ab%e4%b8%8emvcc">#&lt;/a>
&lt;/h1>
&lt;p>äº‹å‰å‡†å¤‡&lt;/p>
&lt;p>ä¸ºäº†æ•…äº‹çš„é¡ºåˆ©å‘å±•ï¼Œæˆ‘ä»¬éœ€è¦åˆ›å»ºä¸€ä¸ªè¡¨ï¼š &lt;code>CREATE TABLE hero ( number INT, name VARCHAR(100), country varchar(100), PRIMARY KEY (number) ) Engine=InnoDB CHARSET=utf8;&lt;/code> &lt;code>å°è´´å£«ï¼šæ³¨æ„æˆ‘ä»¬æŠŠè¿™ä¸ªheroè¡¨çš„ä¸»é”®å‘½åä¸ºnumberï¼Œè€Œä¸æ˜¯idï¼Œä¸»è¦æ˜¯æƒ³å’Œåè¾¹è¦ç”¨åˆ°çš„äº‹åŠ¡idåšåŒºåˆ«ï¼Œå¤§å®¶ä¸ç”¨å¤§æƒŠå°æ€ªï½&lt;/code> ç„¶åå‘è¿™ä¸ªè¡¨é‡Œæ’å…¥ä¸€æ¡æ•°æ®ï¼š &lt;code>INSERT INTO hero VALUES(1, 'åˆ˜å¤‡', 'èœ€');&lt;/code> ç°åœ¨è¡¨é‡Œçš„æ•°æ®å°±æ˜¯è¿™æ ·çš„ï¼š &lt;code>mysql&amp;gt; SELECT * FROM hero; +--------+--------+---------+ | number | name | country | +--------+--------+---------+ | 1 | åˆ˜å¤‡ | èœ€ | +--------+--------+---------+ 1 row in set (0.00 sec)&lt;/code>&lt;/p>
&lt;p>äº‹åŠ¡éš”ç¦»çº§åˆ«&lt;/p>
&lt;p>æˆ‘ä»¬çŸ¥é“&lt;code>MySQL&lt;/code>æ˜¯ä¸€ä¸ª&lt;code>å®¢æˆ·ç«¯ï¼æœåŠ¡å™¨&lt;/code>æ¶æ„çš„è½¯ä»¶ï¼Œå¯¹äºåŒä¸€ä¸ªæœåŠ¡å™¨æ¥è¯´ï¼Œå¯ä»¥æœ‰è‹¥å¹²ä¸ªå®¢æˆ·ç«¯ä¸ä¹‹è¿æ¥ï¼Œæ¯ä¸ªå®¢æˆ·ç«¯ä¸æœåŠ¡å™¨è¿æ¥ä¸Šä¹‹åï¼Œå°±å¯ä»¥ç§°ä¹‹ä¸ºä¸€ä¸ªä¼šè¯ï¼ˆ&lt;code>Session&lt;/code>ï¼‰ã€‚æ¯ä¸ªå®¢æˆ·ç«¯éƒ½å¯ä»¥åœ¨è‡ªå·±çš„ä¼šè¯ä¸­å‘æœåŠ¡å™¨å‘å‡ºè¯·æ±‚è¯­å¥ï¼Œä¸€ä¸ªè¯·æ±‚è¯­å¥å¯èƒ½æ˜¯æŸä¸ªäº‹åŠ¡çš„ä¸€éƒ¨åˆ†ï¼Œä¹Ÿå°±æ˜¯å¯¹äºæœåŠ¡å™¨æ¥è¯´å¯èƒ½åŒæ—¶å¤„ç†å¤šä¸ªäº‹åŠ¡ã€‚åœ¨äº‹åŠ¡ç®€ä»‹çš„ç« èŠ‚ä¸­æˆ‘ä»¬è¯´è¿‡äº‹åŠ¡æœ‰ä¸€ä¸ªç§°ä¹‹ä¸º&lt;code>éš”ç¦»æ€§&lt;/code>çš„ç‰¹æ€§ï¼Œç†è®ºä¸Šåœ¨æŸä¸ªäº‹åŠ¡å¯¹æŸä¸ªæ•°æ®è¿›è¡Œè®¿é—®æ—¶ï¼Œå…¶ä»–äº‹åŠ¡åº”è¯¥è¿›è¡Œæ’é˜Ÿï¼Œå½“è¯¥äº‹åŠ¡æäº¤ä¹‹åï¼Œå…¶ä»–äº‹åŠ¡æ‰å¯ä»¥ç»§ç»­è®¿é—®è¿™ä¸ªæ•°æ®ã€‚ä½†æ˜¯è¿™æ ·å­çš„è¯å¯¹æ€§èƒ½å½±å“å¤ªå¤§ï¼Œæˆ‘ä»¬æ—¢æƒ³ä¿æŒäº‹åŠ¡çš„&lt;code>éš”ç¦»æ€§&lt;/code>ï¼Œåˆæƒ³è®©æœåŠ¡å™¨åœ¨å¤„ç†è®¿é—®åŒä¸€æ•°æ®çš„å¤šä¸ªäº‹åŠ¡æ—¶æ€§èƒ½å°½é‡é«˜äº›ï¼Œé±¼å’Œç†ŠæŒä¸å¯å¾—å…¼ï¼Œèˆä¸€éƒ¨åˆ†&lt;code>éš”ç¦»æ€§&lt;/code>è€Œå–æ€§èƒ½è€…ä¹Ÿã€‚&lt;/p>
&lt;h1 id="äº‹åŠ¡å¹¶å‘æ‰§è¡Œé‡åˆ°çš„é—®é¢˜">
 äº‹åŠ¡å¹¶å‘æ‰§è¡Œé‡åˆ°çš„é—®é¢˜
 &lt;a class="anchor" href="#%e4%ba%8b%e5%8a%a1%e5%b9%b6%e5%8f%91%e6%89%a7%e8%a1%8c%e9%81%87%e5%88%b0%e7%9a%84%e9%97%ae%e9%a2%98">#&lt;/a>
&lt;/h1>
&lt;p>æ€ä¹ˆä¸ªèˆå¼ƒæ³•å‘¢ï¼Ÿæˆ‘ä»¬å…ˆå¾—çœ‹ä¸€ä¸‹è®¿é—®ç›¸åŒæ•°æ®çš„äº‹åŠ¡åœ¨ä¸ä¿è¯ä¸²è¡Œæ‰§è¡Œï¼ˆä¹Ÿå°±æ˜¯æ‰§è¡Œå®Œä¸€ä¸ªå†æ‰§è¡Œå¦ä¸€ä¸ªï¼‰çš„æƒ…å†µä¸‹å¯èƒ½ä¼šå‡ºç°å“ªäº›é—®é¢˜ï¼š&lt;/p>
&lt;ul>
&lt;li>&lt;/li>
&lt;/ul>
&lt;p>è„å†™ï¼ˆ&lt;code>Dirty Write&lt;/code>ï¼‰&lt;/p>
&lt;p>å¦‚æœ&lt;strong>ä¸€ä¸ªäº‹åŠ¡ä¿®æ”¹äº†å¦ä¸€ä¸ªæœªæäº¤äº‹åŠ¡ä¿®æ”¹è¿‡çš„æ•°æ®&lt;/strong>ï¼Œé‚£å°±æ„å‘³ç€å‘ç”Ÿäº†&lt;code>è„å†™&lt;/code>ï¼Œç¤ºæ„å›¾å¦‚ä¸‹ï¼š&lt;/p>
&lt;p>&lt;img src="img/24-01.png" alt="" />&lt;/p></description></item><item><title>ç¬¬22ç« _åæ‚”äº†æ€ä¹ˆåŠ-undoæ—¥å¿—(ä¸Š)</title><link>https://lwmfjc.github.io/zh/docs/technology/MySQL/MySQL%E6%98%AF%E6%80%8E%E6%A0%B7%E8%BF%90%E8%A1%8C%E7%9A%84/%E7%AC%AC22%E7%AB%A0_%E5%90%8E%E6%82%94%E4%BA%86%E6%80%8E%E4%B9%88%E5%8A%9E-undo%E6%97%A5%E5%BF%97%E4%B8%8A/</link><pubDate>Sat, 11 Jan 2025 16:40:18 +0800</pubDate><guid>https://lwmfjc.github.io/zh/docs/technology/MySQL/MySQL%E6%98%AF%E6%80%8E%E6%A0%B7%E8%BF%90%E8%A1%8C%E7%9A%84/%E7%AC%AC22%E7%AB%A0_%E5%90%8E%E6%82%94%E4%BA%86%E6%80%8E%E4%B9%88%E5%8A%9E-undo%E6%97%A5%E5%BF%97%E4%B8%8A/</guid><description>&lt;h1 id="ç¬¬22ç« -åæ‚”äº†æ€ä¹ˆåŠ-undoæ—¥å¿—ä¸Š">
 ç¬¬22ç«  åæ‚”äº†æ€ä¹ˆåŠ-undoæ—¥å¿—ï¼ˆä¸Šï¼‰
 &lt;a class="anchor" href="#%e7%ac%ac22%e7%ab%a0-%e5%90%8e%e6%82%94%e4%ba%86%e6%80%8e%e4%b9%88%e5%8a%9e-undo%e6%97%a5%e5%bf%97%e4%b8%8a">#&lt;/a>
&lt;/h1>
&lt;p>äº‹åŠ¡å›æ»šçš„éœ€æ±‚&lt;/p>
&lt;p>æˆ‘ä»¬è¯´è¿‡&lt;code>äº‹åŠ¡&lt;/code>éœ€è¦ä¿è¯&lt;code>åŸå­æ€§&lt;/code>ï¼Œä¹Ÿå°±æ˜¯äº‹åŠ¡ä¸­çš„æ“ä½œè¦ä¹ˆå…¨éƒ¨å®Œæˆï¼Œè¦ä¹ˆä»€ä¹ˆä¹Ÿä¸åšã€‚ä½†æ˜¯ååæœ‰æ—¶å€™äº‹åŠ¡æ‰§è¡Œåˆ°ä¸€åŠä¼šå‡ºç°ä¸€äº›æƒ…å†µï¼Œæ¯”å¦‚ï¼š - æƒ…å†µä¸€ï¼šäº‹åŠ¡æ‰§è¡Œè¿‡ç¨‹ä¸­å¯èƒ½é‡åˆ°å„ç§é”™è¯¯ï¼Œæ¯”å¦‚æœåŠ¡å™¨æœ¬èº«çš„é”™è¯¯ï¼Œæ“ä½œç³»ç»Ÿé”™è¯¯ï¼Œç”šè‡³æ˜¯çªç„¶æ–­ç”µå¯¼è‡´çš„é”™è¯¯ã€‚ - æƒ…å†µäºŒï¼šç¨‹åºå‘˜å¯ä»¥åœ¨äº‹åŠ¡æ‰§è¡Œè¿‡ç¨‹ä¸­æ‰‹åŠ¨è¾“å…¥&lt;code>ROLLBACK&lt;/code>è¯­å¥ç»“æŸå½“å‰çš„äº‹åŠ¡çš„æ‰§è¡Œã€‚&lt;/p>
&lt;p>è¿™ä¸¤ç§æƒ…å†µéƒ½ä¼šå¯¼è‡´äº‹åŠ¡æ‰§è¡Œåˆ°ä¸€åŠå°±ç»“æŸï¼Œä½†æ˜¯äº‹åŠ¡æ‰§è¡Œè¿‡ç¨‹ä¸­å¯èƒ½å·²ç»ä¿®æ”¹äº†å¾ˆå¤šä¸œè¥¿ï¼Œä¸ºäº†ä¿è¯äº‹åŠ¡çš„åŸå­æ€§ï¼Œæˆ‘ä»¬éœ€è¦æŠŠä¸œè¥¿æ”¹å›åŸå…ˆçš„æ ·å­ï¼Œè¿™ä¸ªè¿‡ç¨‹å°±ç§°ä¹‹ä¸º&lt;code>å›æ»š&lt;/code>ï¼ˆè‹±æ–‡åï¼š&lt;code>rollback&lt;/code>ï¼‰ï¼Œè¿™æ ·å°±å¯ä»¥é€ æˆä¸€ä¸ªå‡è±¡ï¼š&lt;strong>è¿™ä¸ªäº‹åŠ¡çœ‹èµ·æ¥ä»€ä¹ˆéƒ½æ²¡åš&lt;/strong>ï¼Œæ‰€ä»¥ç¬¦åˆ&lt;code>åŸå­æ€§&lt;/code>è¦æ±‚ã€‚&lt;/p>
&lt;p>å°æ—¶å€™æˆ‘éå¸¸ç—´è¿·äºè±¡æ£‹ï¼Œæ€»æ˜¯æƒ³æ‰¾å‰å®³çš„å¤§äººä¸‹æ£‹ï¼Œèµ¢æ£‹æ˜¯ä¸å¯èƒ½èµ¢æ£‹çš„ï¼Œè¿™è¾ˆå­éƒ½ä¸å¯èƒ½èµ¢æ£‹çš„ï¼Œåˆä¸æƒ³è®¤è¾“ï¼Œåªèƒ½å·å·çš„æ‚”æ£‹æ‰èƒ½å‹‰å¼ºç©çš„ä¸‹å»ã€‚&lt;code>æ‚”æ£‹&lt;/code>å°±æ˜¯ä¸€ç§éå¸¸å…¸å‹çš„&lt;code>å›æ»š&lt;/code>æ“ä½œï¼Œæ¯”å¦‚æ£‹å­å¾€å‰èµ°ä¸¤æ­¥ï¼Œ&lt;code>æ‚”æ£‹&lt;/code>å¯¹åº”çš„æ“ä½œå°±æ˜¯å‘åèµ°ä¸¤æ­¥ï¼›æ¯”å¦‚æ£‹å­å¾€å·¦èµ°ä¸€æ­¥ï¼Œ&lt;code>æ‚”æ£‹&lt;/code>å¯¹åº”çš„æ“ä½œå°±æ˜¯å‘å³èµ°ä¸€æ­¥ã€‚æ•°æ®åº“ä¸­çš„å›æ»šè·Ÿ&lt;code>æ‚”æ£‹&lt;/code>å·®ä¸å¤šï¼Œä½ æ’å…¥äº†ä¸€æ¡è®°å½•ï¼Œ&lt;code>å›æ»š&lt;/code>æ“ä½œå¯¹åº”çš„å°±æ˜¯æŠŠè¿™æ¡è®°å½•åˆ é™¤æ‰ï¼›ä½ æ›´æ–°äº†ä¸€æ¡è®°å½•ï¼Œ&lt;code>å›æ»š&lt;/code>æ“ä½œå¯¹åº”çš„å°±æ˜¯æŠŠè¯¥è®°å½•æ›´æ–°ä¸ºæ—§å€¼ï¼›ä½ åˆ é™¤äº†ä¸€æ¡è®°å½•ï¼Œ&lt;code>å›æ»š&lt;/code>æ“ä½œå¯¹åº”çš„è‡ªç„¶å°±æ˜¯æŠŠè¯¥è®°å½•å†æ’è¿›å»ã€‚è¯´çš„è²Œä¼¼å¾ˆç®€å•çš„æ ·å­[æ‰‹åŠ¨å·ç¬‘ğŸ˜]ã€‚&lt;/p>
&lt;p>ä»ä¸Šé¢çš„æè¿°ä¸­æˆ‘ä»¬å·²ç»èƒ½éšçº¦æ„Ÿè§‰åˆ°ï¼Œæ¯å½“æˆ‘ä»¬è¦å¯¹ä¸€æ¡è®°å½•åšæ”¹åŠ¨æ—¶ï¼ˆè¿™é‡Œçš„&lt;code>æ”¹åŠ¨&lt;/code>å¯ä»¥æŒ‡&lt;code>INSERT&lt;/code>ã€&lt;code>DELETE&lt;/code>ã€&lt;code>UPDATE&lt;/code>ï¼‰ï¼Œéƒ½éœ€è¦ç•™ä¸€æ‰‹ â€”â€” &lt;strong>æŠŠå›æ»šæ—¶æ‰€éœ€çš„ä¸œè¥¿éƒ½ç»™è®°ä¸‹æ¥&lt;/strong>ã€‚æ¯”æ–¹è¯´ï¼š - ä½ æ’å…¥ä¸€æ¡è®°å½•æ—¶ï¼Œè‡³å°‘è¦æŠŠè¿™æ¡è®°å½•çš„ä¸»é”®å€¼è®°ä¸‹æ¥ï¼Œä¹‹åå›æ»šçš„æ—¶å€™åªéœ€è¦æŠŠè¿™ä¸ªä¸»é”®å€¼å¯¹åº”çš„è®°å½•åˆ æ‰å°±å¥½äº†ã€‚ - ä½ åˆ é™¤äº†ä¸€æ¡è®°å½•ï¼Œè‡³å°‘è¦æŠŠè¿™æ¡è®°å½•ä¸­çš„å†…å®¹éƒ½è®°ä¸‹æ¥ï¼Œè¿™æ ·ä¹‹åå›æ»šæ—¶å†æŠŠç”±è¿™äº›å†…å®¹ç»„æˆçš„è®°å½•æ’å…¥åˆ°è¡¨ä¸­å°±å¥½äº†ã€‚ - ä½ ä¿®æ”¹äº†ä¸€æ¡è®°å½•ï¼Œè‡³å°‘è¦æŠŠä¿®æ”¹è¿™æ¡è®°å½•å‰çš„æ—§å€¼éƒ½è®°å½•ä¸‹æ¥ï¼Œè¿™æ ·ä¹‹åå›æ»šæ—¶å†æŠŠè¿™æ¡è®°å½•æ›´æ–°ä¸ºæ—§å€¼å°±å¥½äº†ã€‚&lt;/p>
&lt;p>è®¾è®¡æ•°æ®åº“çš„å¤§ä½¬æŠŠè¿™äº›ä¸ºäº†å›æ»šè€Œè®°å½•çš„è¿™äº›ä¸œä¸œç§°ä¹‹ä¸ºæ’¤é”€æ—¥å¿—ï¼Œè‹±æ–‡åä¸º&lt;code>undo log&lt;/code>ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥åœŸæ´‹ç»“åˆï¼Œç§°ä¹‹ä¸º&lt;code>undoæ—¥å¿—&lt;/code>ã€‚è¿™é‡Œéœ€è¦æ³¨æ„çš„ä¸€ç‚¹æ˜¯ï¼Œç”±äºæŸ¥è¯¢æ“ä½œï¼ˆ&lt;code>SELECT&lt;/code>ï¼‰å¹¶ä¸ä¼šä¿®æ”¹ä»»ä½•ç”¨æˆ·è®°å½•ï¼Œæ‰€ä»¥åœ¨æŸ¥è¯¢æ“ä½œæ‰§è¡Œæ—¶ï¼Œå¹¶ä¸éœ€è¦è®°å½•ç›¸åº”çš„&lt;code>undoæ—¥å¿—&lt;/code>ã€‚åœ¨çœŸå®çš„&lt;code>InnoDB&lt;/code>ä¸­ï¼Œ&lt;code>undoæ—¥å¿—&lt;/code>å…¶å®å¹¶ä¸åƒæˆ‘ä»¬ä¸Šé¢æ‰€è¯´çš„é‚£ä¹ˆç®€å•ï¼Œä¸åŒç±»å‹çš„æ“ä½œäº§ç”Ÿçš„&lt;code>undoæ—¥å¿—&lt;/code>çš„æ ¼å¼ä¹Ÿæ˜¯ä¸åŒçš„ï¼Œä¸è¿‡å…ˆæš‚æ—¶æŠŠè¿™äº›å®¹æ˜“è®©äººè„‘å­ç³Šçš„å…·ä½“ç»†èŠ‚æ”¾ä¸€æ”¾ï¼Œæˆ‘ä»¬å…ˆå›è¿‡å¤´æ¥çœ‹çœ‹&lt;code>äº‹åŠ¡id&lt;/code>æ˜¯ä¸ªç¥é©¬ç©æ„å„¿ã€‚&lt;/p>
&lt;p>äº‹åŠ¡id&lt;/p>
&lt;h1 id="ç»™äº‹åŠ¡åˆ†é…idçš„æ—¶æœº">
 ç»™äº‹åŠ¡åˆ†é…idçš„æ—¶æœº
 &lt;a class="anchor" href="#%e7%bb%99%e4%ba%8b%e5%8a%a1%e5%88%86%e9%85%8did%e7%9a%84%e6%97%b6%e6%9c%ba">#&lt;/a>
&lt;/h1>
&lt;p>æˆ‘ä»¬å‰é¢åœ¨ä»‹ç»&lt;code>äº‹åŠ¡ç®€ä»‹&lt;/code>æ—¶è¯´è¿‡ï¼Œä¸€ä¸ªäº‹åŠ¡å¯ä»¥æ˜¯ä¸€ä¸ªåªè¯»äº‹åŠ¡ï¼Œæˆ–è€…æ˜¯ä¸€ä¸ªè¯»å†™äº‹åŠ¡ï¼š&lt;/p>
&lt;ul>
&lt;li>&lt;/li>
&lt;/ul>
&lt;p>æˆ‘ä»¬å¯ä»¥é€šè¿‡&lt;code>START TRANSACTION READ ONLY&lt;/code>è¯­å¥å¼€å¯ä¸€ä¸ªåªè¯»äº‹åŠ¡ã€‚&lt;/p>
&lt;p>åœ¨åªè¯»äº‹åŠ¡ä¸­ä¸å¯ä»¥å¯¹æ™®é€šçš„è¡¨ï¼ˆå…¶ä»–äº‹åŠ¡ä¹Ÿèƒ½è®¿é—®åˆ°çš„è¡¨ï¼‰è¿›è¡Œå¢ã€åˆ ã€æ”¹æ“ä½œï¼Œä½†å¯ä»¥å¯¹ä¸´æ—¶è¡¨åšå¢ã€åˆ ã€æ”¹æ“ä½œã€‚&lt;/p>
&lt;ul>
&lt;li>&lt;/li>
&lt;/ul>
&lt;p>æˆ‘ä»¬å¯ä»¥é€šè¿‡&lt;code>START TRANSACTION READ WRITE&lt;/code>è¯­å¥å¼€å¯ä¸€ä¸ªè¯»å†™äº‹åŠ¡ï¼Œæˆ–è€…ä½¿ç”¨&lt;code>BEGIN&lt;/code>ã€&lt;code>START TRANSACTION&lt;/code>è¯­å¥å¼€å¯çš„äº‹åŠ¡é»˜è®¤ä¹Ÿç®—æ˜¯è¯»å†™äº‹åŠ¡ã€‚&lt;/p>
&lt;p>åœ¨è¯»å†™äº‹åŠ¡ä¸­å¯ä»¥å¯¹è¡¨æ‰§è¡Œå¢åˆ æ”¹æŸ¥æ“ä½œã€‚&lt;/p>
&lt;p>å¦‚æœæŸä¸ªäº‹åŠ¡æ‰§è¡Œè¿‡ç¨‹ä¸­å¯¹æŸä¸ªè¡¨æ‰§è¡Œäº†å¢ã€åˆ ã€æ”¹æ“ä½œï¼Œé‚£ä¹ˆ&lt;code>InnoDB&lt;/code>å­˜å‚¨å¼•æ“å°±ä¼šç»™å®ƒåˆ†é…ä¸€ä¸ªç‹¬ä¸€æ— äºŒçš„&lt;code>äº‹åŠ¡id&lt;/code>ï¼Œåˆ†é…æ–¹å¼å¦‚ä¸‹ï¼š&lt;/p>
&lt;ul>
&lt;li>&lt;/li>
&lt;/ul>
&lt;p>å¯¹äºåªè¯»äº‹åŠ¡æ¥è¯´ï¼Œåªæœ‰åœ¨å®ƒç¬¬ä¸€æ¬¡å¯¹æŸä¸ªç”¨æˆ·åˆ›å»ºçš„ä¸´æ—¶è¡¨æ‰§è¡Œå¢ã€åˆ ã€æ”¹æ“ä½œæ—¶æ‰ä¼šä¸ºè¿™ä¸ªäº‹åŠ¡åˆ†é…ä¸€ä¸ª&lt;code>äº‹åŠ¡id&lt;/code>ï¼Œå¦åˆ™çš„è¯æ˜¯ä¸åˆ†é…&lt;code>äº‹åŠ¡id&lt;/code>çš„ã€‚&lt;/p>
&lt;p>&lt;code>å°è´´å£«ï¼šæˆ‘ä»¬å‰é¢è¯´è¿‡å¯¹æŸä¸ªæŸ¥è¯¢è¯­å¥æ‰§è¡ŒEXPLAINåˆ†æå®ƒçš„æŸ¥è¯¢è®¡åˆ’æ—¶ï¼Œæœ‰æ—¶å€™åœ¨Extraåˆ—ä¼šçœ‹åˆ°Using temporaryçš„æç¤ºï¼Œè¿™ä¸ªè¡¨æ˜åœ¨æ‰§è¡Œè¯¥æŸ¥è¯¢è¯­å¥æ—¶ä¼šç”¨åˆ°å†…éƒ¨ä¸´æ—¶è¡¨ã€‚è¿™ä¸ªæ‰€è°“çš„å†…éƒ¨ä¸´æ—¶è¡¨å’Œæˆ‘ä»¬æ‰‹åŠ¨ç”¨CREATE TEMPORARY TABLEåˆ›å»ºçš„ç”¨æˆ·ä¸´æ—¶è¡¨å¹¶ä¸ä¸€æ ·ï¼Œåœ¨äº‹åŠ¡å›æ»šæ—¶å¹¶ä¸éœ€è¦æŠŠæ‰§è¡ŒSELECTè¯­å¥è¿‡ç¨‹ä¸­ç”¨åˆ°çš„å†…éƒ¨ä¸´æ—¶è¡¨ä¹Ÿå›æ»šï¼Œåœ¨æ‰§è¡ŒSELECTè¯­å¥ç”¨åˆ°å†…éƒ¨ä¸´æ—¶è¡¨æ—¶å¹¶ä¸ä¼šä¸ºå®ƒåˆ†é…äº‹åŠ¡idã€‚&lt;/code> - å¯¹äºè¯»å†™äº‹åŠ¡æ¥è¯´ï¼Œåªæœ‰åœ¨å®ƒç¬¬ä¸€æ¬¡å¯¹æŸä¸ªè¡¨ï¼ˆåŒ…æ‹¬ç”¨æˆ·åˆ›å»ºçš„ä¸´æ—¶è¡¨ï¼‰æ‰§è¡Œå¢ã€åˆ ã€æ”¹æ“ä½œæ—¶æ‰ä¼šä¸ºè¿™ä¸ªäº‹åŠ¡åˆ†é…ä¸€ä¸ª&lt;code>äº‹åŠ¡id&lt;/code>ï¼Œå¦åˆ™çš„è¯ä¹Ÿæ˜¯ä¸åˆ†é…&lt;code>äº‹åŠ¡id&lt;/code>çš„ã€‚&lt;/p>
&lt;p>æœ‰çš„æ—¶å€™è™½ç„¶æˆ‘ä»¬å¼€å¯äº†ä¸€ä¸ªè¯»å†™äº‹åŠ¡ï¼Œä½†æ˜¯åœ¨è¿™ä¸ªäº‹åŠ¡ä¸­å…¨æ˜¯æŸ¥è¯¢è¯­å¥ï¼Œå¹¶æ²¡æœ‰æ‰§è¡Œå¢ã€åˆ ã€æ”¹çš„è¯­å¥ï¼Œé‚£ä¹Ÿå°±æ„å‘³ç€è¿™ä¸ªäº‹åŠ¡å¹¶ä¸ä¼šè¢«åˆ†é…ä¸€ä¸ª&lt;code>äº‹åŠ¡id&lt;/code>ã€‚&lt;/p>
&lt;p>è¯´äº†åŠå¤©ï¼Œ&lt;code>äº‹åŠ¡id&lt;/code>æœ‰ä»€ä¹ˆå­ç”¨ï¼Ÿè¿™ä¸ªå…ˆä¿å¯†ï¼Œåè¾¹ä¼šä¸€æ­¥æ­¥çš„è¯¦ç»†ä»‹ç»ã€‚ç°åœ¨åªè¦çŸ¥é“åªæœ‰åœ¨äº‹åŠ¡å¯¹è¡¨ä¸­çš„è®°å½•åšæ”¹åŠ¨æ—¶æ‰ä¼šä¸ºè¿™ä¸ªäº‹åŠ¡åˆ†é…ä¸€ä¸ªå”¯ä¸€çš„&lt;code>äº‹åŠ¡id&lt;/code>ã€‚ &lt;code>å°è´´å£«ï¼šä¸Šé¢æè¿°çš„äº‹åŠ¡idåˆ†é…ç­–ç•¥æ˜¯é’ˆå¯¹MySQL 5.7æ¥è¯´çš„ï¼Œå‰é¢çš„ç‰ˆæœ¬çš„åˆ†é…æ–¹å¼å¯èƒ½ä¸åŒï½&lt;/code>&lt;/p>
&lt;h1 id="äº‹åŠ¡idæ˜¯æ€ä¹ˆç”Ÿæˆçš„">
 äº‹åŠ¡idæ˜¯æ€ä¹ˆç”Ÿæˆçš„
 &lt;a class="anchor" href="#%e4%ba%8b%e5%8a%a1id%e6%98%af%e6%80%8e%e4%b9%88%e7%94%9f%e6%88%90%e7%9a%84">#&lt;/a>
&lt;/h1>
&lt;p>è¿™ä¸ª&lt;code>äº‹åŠ¡id&lt;/code>æœ¬è´¨ä¸Šå°±æ˜¯ä¸€ä¸ªæ•°å­—ï¼Œå®ƒçš„åˆ†é…ç­–ç•¥å’Œæˆ‘ä»¬å‰é¢æåˆ°çš„å¯¹éšè—åˆ—&lt;code>row_id&lt;/code>ï¼ˆå½“ç”¨æˆ·æ²¡æœ‰ä¸ºè¡¨åˆ›å»ºä¸»é”®å’Œ&lt;code>UNIQUE&lt;/code>é”®æ—¶&lt;code>InnoDB&lt;/code>è‡ªåŠ¨åˆ›å»ºçš„åˆ—ï¼‰çš„åˆ†é…ç­–ç•¥å¤§æŠµç›¸åŒï¼Œå…·ä½“ç­–ç•¥å¦‚ä¸‹ï¼š - æœåŠ¡å™¨ä¼šåœ¨å†…å­˜ä¸­ç»´æŠ¤ä¸€ä¸ªå…¨å±€å˜é‡ï¼Œæ¯å½“éœ€è¦ä¸ºæŸä¸ªäº‹åŠ¡åˆ†é…ä¸€ä¸ª&lt;code>äº‹åŠ¡id&lt;/code>æ—¶ï¼Œå°±ä¼šæŠŠè¯¥å˜é‡çš„å€¼å½“ä½œ&lt;code>äº‹åŠ¡id&lt;/code>åˆ†é…ç»™è¯¥äº‹åŠ¡ï¼Œå¹¶ä¸”æŠŠè¯¥å˜é‡è‡ªå¢1ã€‚ - æ¯å½“è¿™ä¸ªå˜é‡çš„å€¼ä¸º&lt;code>256&lt;/code>çš„å€æ•°æ—¶ï¼Œå°±ä¼šå°†è¯¥å˜é‡çš„å€¼åˆ·æ–°åˆ°ç³»ç»Ÿè¡¨ç©ºé—´çš„é¡µå·ä¸º&lt;code>5&lt;/code>çš„é¡µé¢ä¸­ä¸€ä¸ªç§°ä¹‹ä¸º&lt;code>Max Trx ID&lt;/code>çš„å±æ€§å¤„ï¼Œè¿™ä¸ªå±æ€§å ç”¨&lt;code>8&lt;/code>ä¸ªå­—èŠ‚çš„å­˜å‚¨ç©ºé—´ã€‚ - å½“ç³»ç»Ÿä¸‹ä¸€æ¬¡é‡æ–°å¯åŠ¨æ—¶ï¼Œä¼šå°†ä¸Šé¢æåˆ°çš„&lt;code>Max Trx ID&lt;/code>å±æ€§åŠ è½½åˆ°å†…å­˜ä¸­ï¼Œå°†è¯¥å€¼åŠ ä¸Š256ä¹‹åèµ‹å€¼ç»™æˆ‘ä»¬å‰é¢æåˆ°çš„å…¨å±€å˜é‡ï¼ˆå› ä¸ºåœ¨ä¸Šæ¬¡å…³æœºæ—¶è¯¥å…¨å±€å˜é‡çš„å€¼å¯èƒ½å¤§äº&lt;code>Max Trx ID&lt;/code>å±æ€§å€¼ï¼‰ã€‚&lt;/p></description></item><item><title>ç¬¬23ç« _åæ‚”äº†æ€ä¹ˆåŠ-undoæ—¥å¿—(ä¸‹)</title><link>https://lwmfjc.github.io/zh/docs/technology/MySQL/MySQL%E6%98%AF%E6%80%8E%E6%A0%B7%E8%BF%90%E8%A1%8C%E7%9A%84/%E7%AC%AC23%E7%AB%A0_%E5%90%8E%E6%82%94%E4%BA%86%E6%80%8E%E4%B9%88%E5%8A%9E-undo%E6%97%A5%E5%BF%97%E4%B8%8B/</link><pubDate>Sat, 11 Jan 2025 16:40:18 +0800</pubDate><guid>https://lwmfjc.github.io/zh/docs/technology/MySQL/MySQL%E6%98%AF%E6%80%8E%E6%A0%B7%E8%BF%90%E8%A1%8C%E7%9A%84/%E7%AC%AC23%E7%AB%A0_%E5%90%8E%E6%82%94%E4%BA%86%E6%80%8E%E4%B9%88%E5%8A%9E-undo%E6%97%A5%E5%BF%97%E4%B8%8B/</guid><description>&lt;h1 id="ç¬¬23ç« -åæ‚”äº†æ€ä¹ˆåŠ-undoæ—¥å¿—ä¸‹">
 ç¬¬23ç«  åæ‚”äº†æ€ä¹ˆåŠ-undoæ—¥å¿—ï¼ˆä¸‹ï¼‰
 &lt;a class="anchor" href="#%e7%ac%ac23%e7%ab%a0-%e5%90%8e%e6%82%94%e4%ba%86%e6%80%8e%e4%b9%88%e5%8a%9e-undo%e6%97%a5%e5%bf%97%e4%b8%8b">#&lt;/a>
&lt;/h1>
&lt;p>ä¸Šä¸€ç« æˆ‘ä»¬ä¸»è¦ä»‹ç»äº†ä¸ºä»€ä¹ˆéœ€è¦&lt;code>undoæ—¥å¿—&lt;/code>ï¼Œä»¥åŠ&lt;code>INSERT&lt;/code>ã€&lt;code>DELETE&lt;/code>ã€&lt;code>UPDATE&lt;/code>è¿™äº›ä¼šå¯¹æ•°æ®åšæ”¹åŠ¨çš„è¯­å¥éƒ½ä¼šäº§ç”Ÿä»€ä¹ˆç±»å‹çš„&lt;code>undoæ—¥å¿—&lt;/code>ï¼Œè¿˜æœ‰ä¸åŒç±»å‹çš„&lt;code>undoæ—¥å¿—&lt;/code>çš„å…·ä½“æ ¼å¼æ˜¯ä»€ä¹ˆã€‚æœ¬ç« ä¼šç»§ç»­ä»‹ç»è¿™äº›&lt;code>undoæ—¥å¿—&lt;/code>ä¼šè¢«å…·ä½“å†™åˆ°ä»€ä¹ˆåœ°æ–¹ï¼Œä»¥åŠåœ¨å†™å…¥è¿‡ç¨‹ä¸­éœ€è¦æ³¨æ„çš„ä¸€äº›é—®é¢˜ã€‚&lt;/p>
&lt;p>é€šç”¨é“¾è¡¨ç»“æ„&lt;/p>
&lt;p>åœ¨å†™å…¥&lt;code>undoæ—¥å¿—&lt;/code>çš„è¿‡ç¨‹ä¸­ä¼šä½¿ç”¨åˆ°å¤šä¸ªé“¾è¡¨ï¼Œå¾ˆå¤šé“¾è¡¨éƒ½æœ‰åŒæ ·çš„èŠ‚ç‚¹ç»“æ„ï¼Œå¦‚å›¾æ‰€ç¤ºï¼š&lt;/p>
&lt;p>&lt;img src="img/23-01.png" alt="" />&lt;/p>
&lt;p>åœ¨æŸä¸ªè¡¨ç©ºé—´å†…ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ä¸€ä¸ªé¡µçš„é¡µå·å’Œåœ¨é¡µå†…çš„åç§»é‡æ¥å”¯ä¸€å®šä½ä¸€ä¸ªèŠ‚ç‚¹çš„ä½ç½®ï¼Œè¿™ä¸¤ä¸ªä¿¡æ¯ä¹Ÿå°±ç›¸å½“äºæŒ‡å‘è¿™ä¸ªèŠ‚ç‚¹çš„ä¸€ä¸ªæŒ‡é’ˆã€‚æ‰€ä»¥ï¼š - &lt;code>Pre Node Page Number&lt;/code>å’Œ&lt;code>Pre Node Offset&lt;/code>çš„ç»„åˆå°±æ˜¯æŒ‡å‘å‰ä¸€ä¸ªèŠ‚ç‚¹çš„æŒ‡é’ˆ - &lt;code>Next Node Page Number&lt;/code>å’Œ&lt;code>Next Node Offset&lt;/code>çš„ç»„åˆå°±æ˜¯æŒ‡å‘åä¸€ä¸ªèŠ‚ç‚¹çš„æŒ‡é’ˆã€‚&lt;/p>
&lt;p>æ•´ä¸ª&lt;code>List Node&lt;/code>å ç”¨&lt;code>12&lt;/code>ä¸ªå­—èŠ‚çš„å­˜å‚¨ç©ºé—´ã€‚&lt;/p>
&lt;p>ä¸ºäº†æ›´å¥½çš„ç®¡ç†é“¾è¡¨ï¼Œè®¾è®¡&lt;code>InnoDB&lt;/code>çš„å¤§ä½¬è¿˜æå‡ºäº†ä¸€ä¸ªåŸºèŠ‚ç‚¹çš„ç»“æ„ï¼Œé‡Œè¾¹å­˜å‚¨äº†è¿™ä¸ªé“¾è¡¨çš„&lt;code>å¤´èŠ‚ç‚¹&lt;/code>ã€&lt;code>å°¾èŠ‚ç‚¹&lt;/code>ä»¥åŠé“¾è¡¨é•¿åº¦ä¿¡æ¯ï¼ŒåŸºèŠ‚ç‚¹çš„ç»“æ„ç¤ºæ„å›¾å¦‚ä¸‹ï¼š&lt;/p>
&lt;p>&lt;img src="img/23-02.png" alt="" />&lt;/p>
&lt;p>å…¶ä¸­ï¼š - &lt;code>List Length&lt;/code>è¡¨æ˜è¯¥é“¾è¡¨ä¸€å…±æœ‰å¤šå°‘èŠ‚ç‚¹ã€‚ - &lt;code>First Node Page Number&lt;/code>å’Œ&lt;code>First Node Offset&lt;/code>çš„ç»„åˆå°±æ˜¯æŒ‡å‘é“¾è¡¨å¤´èŠ‚ç‚¹çš„æŒ‡é’ˆã€‚ - &lt;code>Last Node Page Number&lt;/code>å’Œ&lt;code>Last Node Offset&lt;/code>çš„ç»„åˆå°±æ˜¯æŒ‡å‘é“¾è¡¨å°¾èŠ‚ç‚¹çš„æŒ‡é’ˆã€‚&lt;/p>
&lt;p>æ•´ä¸ª&lt;code>List Base Node&lt;/code>å ç”¨&lt;code>16&lt;/code>ä¸ªå­—èŠ‚çš„å­˜å‚¨ç©ºé—´ã€‚&lt;/p>
&lt;p>æ‰€ä»¥ä½¿ç”¨&lt;code>List Base Node&lt;/code>å’Œ&lt;code>List Node&lt;/code>è¿™ä¸¤ä¸ªç»“æ„ç»„æˆçš„é“¾è¡¨çš„ç¤ºæ„å›¾å°±æ˜¯è¿™æ ·ï¼š&lt;/p>
&lt;p>&lt;img src="img/23-03.png" alt="" />&lt;/p>
&lt;p>&lt;code>å°è´´å£«ï¼šä¸Šè¿°é“¾è¡¨ç»“æ„æˆ‘ä»¬åœ¨å‰é¢çš„æ–‡ç« ä¸­é¢‘é¢‘æåˆ°ï¼Œå°¤å…¶æ˜¯åœ¨è¡¨ç©ºé—´é‚£ä¸€ç« é‡ç‚¹æè¿°è¿‡ï¼Œä¸è¿‡æˆ‘ä¸æ•¢å¥¢æ±‚å¤§å®¶éƒ½è®°ä½äº†ï¼Œæ‰€ä»¥åœ¨è¿™é‡Œåˆå¼ºè°ƒä¸€éï¼Œå¸Œæœ›å¤§å®¶ä¸è¦å«Œæˆ‘çƒ¦ï¼Œæˆ‘åªæ˜¯æ€•å¤§å®¶å¿˜äº†å­¦ä¹ åç»­å†…å®¹åƒåŠ›è€Œå·²ï½&lt;/code>&lt;/p>
&lt;p>FIL_PAGE_UNDO_LOGé¡µé¢&lt;/p>
&lt;p>æˆ‘ä»¬å‰é¢ä»‹ç»è¡¨ç©ºé—´çš„æ—¶å€™è¯´è¿‡ï¼Œè¡¨ç©ºé—´å…¶å®æ˜¯ç”±è®¸è®¸å¤šå¤šçš„é¡µé¢æ„æˆçš„ï¼Œé¡µé¢é»˜è®¤å¤§å°ä¸º&lt;code>16KB&lt;/code>ã€‚è¿™äº›é¡µé¢æœ‰ä¸åŒçš„ç±»å‹ï¼Œæ¯”å¦‚ç±»å‹ä¸º&lt;code>FIL_PAGE_INDEX&lt;/code>çš„é¡µé¢ç”¨äºå­˜å‚¨èšç°‡ç´¢å¼•ä»¥åŠäºŒçº§ç´¢å¼•ï¼Œç±»å‹ä¸º&lt;code>FIL_PAGE_TYPE_FSP_HDR&lt;/code>çš„é¡µé¢ç”¨äºå­˜å‚¨è¡¨ç©ºé—´å¤´éƒ¨ä¿¡æ¯çš„ï¼Œè¿˜æœ‰å…¶ä»–å„ç§ç±»å‹çš„é¡µé¢ï¼Œå…¶ä¸­æœ‰ä¸€ç§ç§°ä¹‹ä¸º&lt;code>FIL_PAGE_UNDO_LOG&lt;/code>ç±»å‹çš„é¡µé¢æ˜¯ä¸“é—¨ç”¨æ¥å­˜å‚¨&lt;code>undoæ—¥å¿—&lt;/code>çš„ï¼Œè¿™ç§ç±»å‹çš„é¡µé¢çš„é€šç”¨ç»“æ„å¦‚ä¸‹å›¾æ‰€ç¤ºï¼ˆä»¥é»˜è®¤çš„&lt;code>16KB&lt;/code>å¤§å°ä¸ºä¾‹ï¼‰ï¼š&lt;/p>
&lt;p>&lt;img src="img/23-04.png" alt="" />&lt;/p>
&lt;p>â€œç±»å‹ä¸º&lt;code>FIL_PAGE_UNDO_LOG&lt;/code>çš„é¡µâ€è¿™ç§è¯´æ³•å¤ªç»•å£ï¼Œä»¥åæˆ‘ä»¬å°±ç®€ç§°ä¸º&lt;code>Undoé¡µé¢&lt;/code>äº†ã€‚ä¸Šå›¾ä¸­çš„&lt;code>File Header&lt;/code>å’Œ&lt;code>File Trailer&lt;/code>æ˜¯å„ç§é¡µé¢éƒ½æœ‰çš„é€šç”¨ç»“æ„ï¼Œæˆ‘ä»¬å‰é¢ä»‹ç»è¿‡å¾ˆå¤šéäº†ï¼Œè¿™é‡Œå°±ä¸èµ˜è¿°äº†ï¼ˆå¿˜è®°äº†çš„å¯ä»¥åˆ°è®²è¿°æ•°æ®é¡µç»“æ„æˆ–è€…è¡¨ç©ºé—´çš„ç« èŠ‚ä¸­æŸ¥çœ‹ï¼‰ã€‚&lt;code>Undo Page Header&lt;/code>æ˜¯&lt;code>Undoé¡µé¢&lt;/code>æ‰€ç‰¹æœ‰çš„ï¼Œæˆ‘ä»¬æ¥çœ‹ä¸€ä¸‹å®ƒçš„ç»“æ„ï¼š&lt;/p>
&lt;p>&lt;img src="img/23-05.png" alt="" />&lt;/p>
&lt;p>å…¶ä¸­å„ä¸ªå±æ€§çš„æ„æ€å¦‚ä¸‹ï¼š&lt;/p>
&lt;ul>
&lt;li>&lt;/li>
&lt;/ul>
&lt;p>&lt;code>TRX_UNDO_PAGE_TYPE&lt;/code>ï¼šæœ¬é¡µé¢å‡†å¤‡å­˜å‚¨ä»€ä¹ˆç§ç±»çš„&lt;code>undoæ—¥å¿—&lt;/code>ã€‚&lt;/p></description></item><item><title>ç¬¬21ç« _è¯´è¿‡çš„è¯å°±ä¸€å®šè¦åŠåˆ°-redoæ—¥å¿—(ä¸‹)</title><link>https://lwmfjc.github.io/zh/docs/technology/MySQL/MySQL%E6%98%AF%E6%80%8E%E6%A0%B7%E8%BF%90%E8%A1%8C%E7%9A%84/%E7%AC%AC21%E7%AB%A0_%E8%AF%B4%E8%BF%87%E7%9A%84%E8%AF%9D%E5%B0%B1%E4%B8%80%E5%AE%9A%E8%A6%81%E5%8A%9E%E5%88%B0-redo%E6%97%A5%E5%BF%97%E4%B8%8B/</link><pubDate>Sat, 11 Jan 2025 16:40:17 +0800</pubDate><guid>https://lwmfjc.github.io/zh/docs/technology/MySQL/MySQL%E6%98%AF%E6%80%8E%E6%A0%B7%E8%BF%90%E8%A1%8C%E7%9A%84/%E7%AC%AC21%E7%AB%A0_%E8%AF%B4%E8%BF%87%E7%9A%84%E8%AF%9D%E5%B0%B1%E4%B8%80%E5%AE%9A%E8%A6%81%E5%8A%9E%E5%88%B0-redo%E6%97%A5%E5%BF%97%E4%B8%8B/</guid><description>&lt;h1 id="ç¬¬21ç« -è¯´è¿‡çš„è¯å°±ä¸€å®šè¦åŠåˆ°-redoæ—¥å¿—ä¸‹">
 ç¬¬21ç«  è¯´è¿‡çš„è¯å°±ä¸€å®šè¦åŠåˆ°-redoæ—¥å¿—ï¼ˆä¸‹ï¼‰
 &lt;a class="anchor" href="#%e7%ac%ac21%e7%ab%a0-%e8%af%b4%e8%bf%87%e7%9a%84%e8%af%9d%e5%b0%b1%e4%b8%80%e5%ae%9a%e8%a6%81%e5%8a%9e%e5%88%b0-redo%e6%97%a5%e5%bf%97%e4%b8%8b">#&lt;/a>
&lt;/h1>
&lt;p>redoæ—¥å¿—æ–‡ä»¶&lt;/p>
&lt;h1 id="redoæ—¥å¿—åˆ·ç›˜æ—¶æœº">
 redoæ—¥å¿—åˆ·ç›˜æ—¶æœº
 &lt;a class="anchor" href="#redo%e6%97%a5%e5%bf%97%e5%88%b7%e7%9b%98%e6%97%b6%e6%9c%ba">#&lt;/a>
&lt;/h1>
&lt;p>æˆ‘ä»¬å‰é¢è¯´&lt;code>mtr&lt;/code>è¿è¡Œè¿‡ç¨‹ä¸­äº§ç”Ÿçš„ä¸€ç»„&lt;code>redo&lt;/code>æ—¥å¿—åœ¨&lt;code>mtr&lt;/code>ç»“æŸæ—¶ä¼šè¢«å¤åˆ¶åˆ°&lt;code>log buffer&lt;/code>ä¸­ï¼Œå¯æ˜¯è¿™äº›æ—¥å¿—æ€»åœ¨å†…å­˜é‡Œå‘†ç€ä¹Ÿä¸æ˜¯ä¸ªåŠæ³•ï¼Œåœ¨ä¸€äº›æƒ…å†µä¸‹å®ƒä»¬ä¼šè¢«åˆ·æ–°åˆ°ç£ç›˜é‡Œï¼Œæ¯”å¦‚ï¼š&lt;/p>
&lt;ul>
&lt;li>&lt;/li>
&lt;/ul>
&lt;p>&lt;code>log buffer&lt;/code>ç©ºé—´ä¸è¶³æ—¶&lt;/p>
&lt;p>&lt;code>log buffer&lt;/code>çš„å¤§å°æ˜¯æœ‰é™çš„ï¼ˆé€šè¿‡ç³»ç»Ÿå˜é‡&lt;code>innodb_log_buffer_size&lt;/code>æŒ‡å®šï¼‰ï¼Œå¦‚æœä¸åœçš„å¾€è¿™ä¸ªæœ‰é™å¤§å°çš„&lt;code>log buffer&lt;/code>é‡Œå¡å…¥æ—¥å¿—ï¼Œå¾ˆå¿«å®ƒå°±ä¼šè¢«å¡«æ»¡ã€‚è®¾è®¡&lt;code>InnoDB&lt;/code>çš„å¤§ä½¬è®¤ä¸ºå¦‚æœå½“å‰å†™å…¥&lt;code>log buffer&lt;/code>çš„&lt;code>redo&lt;/code>æ—¥å¿—é‡å·²ç»å æ»¡äº†&lt;code>log buffer&lt;/code>æ€»å®¹é‡çš„å¤§çº¦ä¸€åŠå·¦å³ï¼Œå°±éœ€è¦æŠŠè¿™äº›æ—¥å¿—åˆ·æ–°åˆ°ç£ç›˜ä¸Šã€‚&lt;/p>
&lt;ul>
&lt;li>&lt;/li>
&lt;/ul>
&lt;p>äº‹åŠ¡æäº¤æ—¶&lt;/p>
&lt;p>æˆ‘ä»¬å‰é¢è¯´è¿‡ä¹‹æ‰€ä»¥ä½¿ç”¨&lt;code>redo&lt;/code>æ—¥å¿—ä¸»è¦æ˜¯å› ä¸ºå®ƒå ç”¨çš„ç©ºé—´å°‘ï¼Œè¿˜æ˜¯é¡ºåºå†™ï¼Œåœ¨äº‹åŠ¡æäº¤æ—¶å¯ä»¥ä¸æŠŠä¿®æ”¹è¿‡çš„&lt;code>Buffer Pool&lt;/code>é¡µé¢åˆ·æ–°åˆ°ç£ç›˜ï¼Œä½†æ˜¯ä¸ºäº†ä¿è¯æŒä¹…æ€§ï¼Œå¿…é¡»è¦æŠŠä¿®æ”¹è¿™äº›é¡µé¢å¯¹åº”çš„&lt;code>redo&lt;/code>æ—¥å¿—åˆ·æ–°åˆ°ç£ç›˜ã€‚&lt;/p>
&lt;ul>
&lt;li>&lt;/li>
&lt;/ul>
&lt;p>åå°çº¿ç¨‹ä¸åœçš„åˆ·åˆ·åˆ·&lt;/p>
&lt;p>åå°æœ‰ä¸€ä¸ªçº¿ç¨‹ï¼Œå¤§çº¦æ¯ç§’éƒ½ä¼šåˆ·æ–°ä¸€æ¬¡&lt;code>log buffer&lt;/code>ä¸­çš„&lt;code>redo&lt;/code>æ—¥å¿—åˆ°ç£ç›˜ã€‚&lt;/p>
&lt;ul>
&lt;li>&lt;/li>
&lt;/ul>
&lt;p>æ­£å¸¸å…³é—­æœåŠ¡å™¨æ—¶&lt;/p>
&lt;ul>
&lt;li>åšæ‰€è°“çš„&lt;code>checkpoint&lt;/code>æ—¶ï¼ˆæˆ‘ä»¬ç°åœ¨æ²¡ä»‹ç»è¿‡&lt;code>checkpoint&lt;/code>çš„æ¦‚å¿µï¼Œç¨åä¼šä»”ç»†ä»‹ç»ï¼Œç¨å®‰å‹¿èºï¼‰&lt;/li>
&lt;li>å…¶ä»–çš„ä¸€äº›æƒ…å†µ&amp;hellip;&lt;/li>
&lt;/ul>
&lt;h1 id="redoæ—¥å¿—æ–‡ä»¶ç»„">
 redoæ—¥å¿—æ–‡ä»¶ç»„
 &lt;a class="anchor" href="#redo%e6%97%a5%e5%bf%97%e6%96%87%e4%bb%b6%e7%bb%84">#&lt;/a>
&lt;/h1>
&lt;p>&lt;code>MySQL&lt;/code>çš„æ•°æ®ç›®å½•ï¼ˆä½¿ç”¨&lt;code>SHOW VARIABLES LIKE 'datadir'&lt;/code>æŸ¥çœ‹ï¼‰ä¸‹é»˜è®¤æœ‰ä¸¤ä¸ªåä¸º&lt;code>ib_logfile0&lt;/code>å’Œ&lt;code>ib_logfile1&lt;/code>çš„æ–‡ä»¶ï¼Œ&lt;code>log buffer&lt;/code>ä¸­çš„æ—¥å¿—é»˜è®¤æƒ…å†µä¸‹å°±æ˜¯åˆ·æ–°åˆ°è¿™ä¸¤ä¸ªç£ç›˜æ–‡ä»¶ä¸­ã€‚å¦‚æœæˆ‘ä»¬å¯¹é»˜è®¤çš„&lt;code>redo&lt;/code>æ—¥å¿—æ–‡ä»¶ä¸æ»¡æ„ï¼Œå¯ä»¥é€šè¿‡ä¸‹é¢å‡ ä¸ªå¯åŠ¨å‚æ•°æ¥è°ƒèŠ‚ï¼š&lt;/p>
&lt;ul>
&lt;li>&lt;/li>
&lt;/ul>
&lt;p>&lt;code>innodb_log_group_home_dir&lt;/code>&lt;/p>
&lt;p>è¯¥å‚æ•°æŒ‡å®šäº†&lt;code>redo&lt;/code>æ—¥å¿—æ–‡ä»¶æ‰€åœ¨çš„ç›®å½•ï¼Œé»˜è®¤å€¼å°±æ˜¯å½“å‰çš„æ•°æ®ç›®å½•ã€‚&lt;/p>
&lt;ul>
&lt;li>&lt;/li>
&lt;/ul>
&lt;p>&lt;code>innodb_log_file_size&lt;/code>&lt;/p>
&lt;p>è¯¥å‚æ•°æŒ‡å®šäº†æ¯ä¸ª&lt;code>redo&lt;/code>æ—¥å¿—æ–‡ä»¶çš„å¤§å°ï¼Œåœ¨&lt;code>MySQL 5.7.21&lt;/code>è¿™ä¸ªç‰ˆæœ¬ä¸­çš„é»˜è®¤å€¼ä¸º&lt;code>48MB&lt;/code>ï¼Œ&lt;/p>
&lt;ul>
&lt;li>&lt;/li>
&lt;/ul>
&lt;p>&lt;code>innodb_log_files_in_group&lt;/code>&lt;/p>
&lt;p>è¯¥å‚æ•°æŒ‡å®š&lt;code>redo&lt;/code>æ—¥å¿—æ–‡ä»¶çš„ä¸ªæ•°ï¼Œé»˜è®¤å€¼ä¸º2ï¼Œæœ€å¤§å€¼ä¸º100ã€‚&lt;/p>
&lt;p>ä»ä¸Šé¢çš„æè¿°ä¸­å¯ä»¥çœ‹åˆ°ï¼Œç£ç›˜ä¸Šçš„&lt;code>redo&lt;/code>æ—¥å¿—æ–‡ä»¶ä¸åªä¸€ä¸ªï¼Œè€Œæ˜¯ä»¥ä¸€ä¸ª&lt;code>æ—¥å¿—æ–‡ä»¶ç»„&lt;/code>çš„å½¢å¼å‡ºç°çš„ã€‚è¿™äº›æ–‡ä»¶ä»¥&lt;code>ib_logfile[æ•°å­—]&lt;/code>ï¼ˆ&lt;code>æ•°å­—&lt;/code>å¯ä»¥æ˜¯&lt;code>0&lt;/code>ã€&lt;code>1&lt;/code>ã€&lt;code>2&lt;/code>&amp;hellip;ï¼‰çš„å½¢å¼è¿›è¡Œå‘½åã€‚åœ¨å°†&lt;code>redo&lt;/code>æ—¥å¿—å†™å…¥&lt;code>æ—¥å¿—æ–‡ä»¶ç»„&lt;/code>æ—¶ï¼Œæ˜¯ä»&lt;code>ib_logfile0&lt;/code>å¼€å§‹å†™ï¼Œå¦‚æœ&lt;code>ib_logfile0&lt;/code>å†™æ»¡äº†ï¼Œå°±æ¥ç€&lt;code>ib_logfile1&lt;/code>å†™ï¼ŒåŒç†ï¼Œ&lt;code>ib_logfile1&lt;/code>å†™æ»¡äº†å°±å»å†™&lt;code>ib_logfile2&lt;/code>ï¼Œä¾æ­¤ç±»æ¨ã€‚å¦‚æœå†™åˆ°æœ€åä¸€ä¸ªæ–‡ä»¶è¯¥å’‹åŠï¼Ÿé‚£å°±é‡æ–°è½¬åˆ°&lt;code>ib_logfile0&lt;/code>ç»§ç»­å†™ï¼Œæ‰€ä»¥æ•´ä¸ªè¿‡ç¨‹å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š&lt;/p>
&lt;p>&lt;img src="img/21-01.png" alt="" />&lt;/p>
&lt;p>æ€»å…±çš„&lt;code>redo&lt;/code>æ—¥å¿—æ–‡ä»¶å¤§å°å…¶å®å°±æ˜¯ï¼š&lt;code>innodb_log_file_size Ã— innodb_log_files_in_group&lt;/code>ã€‚ &lt;code>å°è´´å£«ï¼šå¦‚æœé‡‡ç”¨å¾ªç¯ä½¿ç”¨çš„æ–¹å¼å‘redoæ—¥å¿—æ–‡ä»¶ç»„é‡Œå†™æ•°æ®çš„è¯ï¼Œé‚£å²‚ä¸æ˜¯è¦è¿½å°¾ï¼Œä¹Ÿå°±æ˜¯åå†™å…¥çš„redoæ—¥å¿—è¦†ç›–æ‰å‰é¢å†™çš„redoæ—¥å¿—ï¼Ÿå½“ç„¶å¯èƒ½äº†ï¼æ‰€ä»¥è®¾è®¡InnoDBçš„å¤§ä½¬æå‡ºäº†checkpointçš„æ¦‚å¿µï¼Œç¨åæˆ‘ä»¬é‡ç‚¹ä»‹ç»ï½&lt;/code>&lt;/p>
&lt;h1 id="redoæ—¥å¿—æ–‡ä»¶æ ¼å¼">
 redoæ—¥å¿—æ–‡ä»¶æ ¼å¼
 &lt;a class="anchor" href="#redo%e6%97%a5%e5%bf%97%e6%96%87%e4%bb%b6%e6%a0%bc%e5%bc%8f">#&lt;/a>
&lt;/h1>
&lt;p>æˆ‘ä»¬å‰é¢è¯´è¿‡&lt;code>log buffer&lt;/code>æœ¬è´¨ä¸Šæ˜¯ä¸€ç‰‡è¿ç»­çš„å†…å­˜ç©ºé—´ï¼Œè¢«åˆ’åˆ†æˆäº†è‹¥å¹²ä¸ª&lt;code>512&lt;/code>å­—èŠ‚å¤§å°çš„&lt;code>block&lt;/code>ã€‚&lt;strong>å°†log bufferä¸­çš„redoæ—¥å¿—åˆ·æ–°åˆ°ç£ç›˜çš„æœ¬è´¨å°±æ˜¯æŠŠblockçš„é•œåƒå†™å…¥æ—¥å¿—æ–‡ä»¶ä¸­&lt;/strong>ï¼Œæ‰€ä»¥&lt;code>redo&lt;/code>æ—¥å¿—æ–‡ä»¶å…¶å®ä¹Ÿæ˜¯ç”±è‹¥å¹²ä¸ª&lt;code>512&lt;/code>å­—èŠ‚å¤§å°çš„blockç»„æˆã€‚&lt;/p>
&lt;p>&lt;code>redo&lt;/code>æ—¥å¿—æ–‡ä»¶ç»„ä¸­çš„æ¯ä¸ªæ–‡ä»¶å¤§å°éƒ½ä¸€æ ·ï¼Œæ ¼å¼ä¹Ÿä¸€æ ·ï¼Œéƒ½æ˜¯ç”±ä¸¤éƒ¨åˆ†ç»„æˆï¼š&lt;/p>
&lt;ul>
&lt;li>å‰2048ä¸ªå­—èŠ‚ï¼Œä¹Ÿå°±æ˜¯å‰4ä¸ªblockæ˜¯ç”¨æ¥å­˜å‚¨ä¸€äº›ç®¡ç†ä¿¡æ¯çš„ã€‚&lt;/li>
&lt;li>ä»ç¬¬2048å­—èŠ‚å¾€åæ˜¯ç”¨æ¥å­˜å‚¨&lt;code>log buffer&lt;/code>ä¸­çš„blocké•œåƒçš„ã€‚&lt;/li>
&lt;/ul>
&lt;p>æ‰€ä»¥æˆ‘ä»¬å‰é¢æ‰€è¯´çš„&lt;code>å¾ªç¯&lt;/code>ä½¿ç”¨redoæ—¥å¿—æ–‡ä»¶ï¼Œå…¶å®æ˜¯ä»æ¯ä¸ªæ—¥å¿—æ–‡ä»¶çš„ç¬¬2048ä¸ªå­—èŠ‚å¼€å§‹ç®—ï¼Œç”»ä¸ªç¤ºæ„å›¾å°±æ˜¯è¿™æ ·ï¼š&lt;/p>
&lt;p>&lt;img src="img/21-02.png" alt="" />&lt;/p>
&lt;p>æ™®é€šblockçš„æ ¼å¼æˆ‘ä»¬åœ¨ä»‹ç»&lt;code>log buffer&lt;/code>çš„æ—¶å€™éƒ½è¯´è¿‡äº†ï¼Œå°±æ˜¯&lt;code>log block header&lt;/code>ã€&lt;code>log block body&lt;/code>ã€&lt;code>log block trialer&lt;/code>è¿™ä¸‰ä¸ªéƒ¨åˆ†ï¼Œå°±ä¸é‡å¤ä»‹ç»äº†ã€‚è¿™é‡Œéœ€è¦ä»‹ç»ä¸€ä¸‹æ¯ä¸ª&lt;code>redo&lt;/code>æ—¥å¿—æ–‡ä»¶å‰2048ä¸ªå­—èŠ‚ï¼Œä¹Ÿå°±æ˜¯å‰4ä¸ªç‰¹æ®Šblockçš„æ ¼å¼éƒ½æ˜¯å¹²å˜›çš„ï¼ŒåºŸè¯å°‘è¯´ï¼Œå…ˆçœ‹å›¾ï¼š&lt;/p></description></item><item><title>ç¬¬20ç« _è¯´è¿‡çš„è¯å°±ä¸€å®šè¦åŠåˆ°-redoæ—¥å¿—(ä¸Š)</title><link>https://lwmfjc.github.io/zh/docs/technology/MySQL/MySQL%E6%98%AF%E6%80%8E%E6%A0%B7%E8%BF%90%E8%A1%8C%E7%9A%84/%E7%AC%AC20%E7%AB%A0_%E8%AF%B4%E8%BF%87%E7%9A%84%E8%AF%9D%E5%B0%B1%E4%B8%80%E5%AE%9A%E8%A6%81%E5%8A%9E%E5%88%B0-redo%E6%97%A5%E5%BF%97%E4%B8%8A/</link><pubDate>Sat, 11 Jan 2025 16:40:16 +0800</pubDate><guid>https://lwmfjc.github.io/zh/docs/technology/MySQL/MySQL%E6%98%AF%E6%80%8E%E6%A0%B7%E8%BF%90%E8%A1%8C%E7%9A%84/%E7%AC%AC20%E7%AB%A0_%E8%AF%B4%E8%BF%87%E7%9A%84%E8%AF%9D%E5%B0%B1%E4%B8%80%E5%AE%9A%E8%A6%81%E5%8A%9E%E5%88%B0-redo%E6%97%A5%E5%BF%97%E4%B8%8A/</guid><description>&lt;h1 id="ç¬¬20ç« -è¯´è¿‡çš„è¯å°±ä¸€å®šè¦åŠåˆ°-redoæ—¥å¿—ä¸Š">
 ç¬¬20ç«  è¯´è¿‡çš„è¯å°±ä¸€å®šè¦åŠåˆ°-redoæ—¥å¿—ï¼ˆä¸Šï¼‰
 &lt;a class="anchor" href="#%e7%ac%ac20%e7%ab%a0-%e8%af%b4%e8%bf%87%e7%9a%84%e8%af%9d%e5%b0%b1%e4%b8%80%e5%ae%9a%e8%a6%81%e5%8a%9e%e5%88%b0-redo%e6%97%a5%e5%bf%97%e4%b8%8a">#&lt;/a>
&lt;/h1>
&lt;p>äº‹å…ˆè¯´æ˜&lt;/p>
&lt;p>æœ¬æ–‡ä»¥åŠæ¥ä¸‹æ¥çš„å‡ ç¯‡æ–‡ç« å°†ä¼šé¢‘ç¹çš„ä½¿ç”¨åˆ°æˆ‘ä»¬å‰é¢ä»‹ç»çš„&lt;code>InnoDB&lt;/code>è®°å½•è¡Œæ ¼å¼ã€é¡µé¢æ ¼å¼ã€ç´¢å¼•åŸç†ã€è¡¨ç©ºé—´çš„ç»„æˆç­‰å„ç§åŸºç¡€çŸ¥è¯†ï¼Œå¦‚æœå¤§å®¶å¯¹è¿™äº›ä¸œè¥¿ç†è§£çš„ä¸é€å½»ï¼Œé‚£ä¹ˆé˜…è¯»ä¸‹é¢çš„æ–‡å­—å¯èƒ½ä¼šæœ‰äº›åƒåŠ›ï¼Œä¸ºä¿è¯æ‚¨çš„é˜…è¯»ä½“éªŒï¼Œè¯·ç¡®ä¿è‡ªå·±å·²ç»æŒæ¡äº†æˆ‘å‰é¢ä»‹ç»çš„è¿™äº›çŸ¥è¯†ã€‚&lt;/p>
&lt;p>redoæ—¥å¿—æ˜¯ä»€ä¹ˆ&lt;/p>
&lt;p>æˆ‘ä»¬çŸ¥é“&lt;code>InnoDB&lt;/code>å­˜å‚¨å¼•æ“æ˜¯ä»¥é¡µä¸ºå•ä½æ¥ç®¡ç†å­˜å‚¨ç©ºé—´çš„ï¼Œæˆ‘ä»¬è¿›è¡Œçš„å¢åˆ æ”¹æŸ¥æ“ä½œå…¶å®æœ¬è´¨ä¸Šéƒ½æ˜¯åœ¨è®¿é—®é¡µé¢ï¼ˆåŒ…æ‹¬è¯»é¡µé¢ã€å†™é¡µé¢ã€åˆ›å»ºæ–°é¡µé¢ç­‰æ“ä½œï¼‰ã€‚æˆ‘ä»¬å‰é¢ä»‹ç»&lt;code>Buffer Pool&lt;/code>çš„æ—¶å€™è¯´è¿‡ï¼Œåœ¨çœŸæ­£è®¿é—®é¡µé¢ä¹‹å‰ï¼Œéœ€è¦æŠŠåœ¨ç£ç›˜ä¸Šçš„é¡µç¼“å­˜åˆ°å†…å­˜ä¸­çš„&lt;code>Buffer Pool&lt;/code>ä¹‹åæ‰å¯ä»¥è®¿é—®ã€‚ä½†æ˜¯åœ¨ä»‹ç»äº‹åŠ¡çš„æ—¶å€™åˆå¼ºè°ƒè¿‡ä¸€ä¸ªç§°ä¹‹ä¸º&lt;code>æŒä¹…æ€§&lt;/code>çš„ç‰¹æ€§ï¼Œå°±æ˜¯è¯´å¯¹äºä¸€ä¸ªå·²ç»æäº¤çš„äº‹åŠ¡ï¼Œåœ¨äº‹åŠ¡æäº¤åå³ä½¿ç³»ç»Ÿå‘ç”Ÿäº†å´©æºƒï¼Œè¿™ä¸ªäº‹åŠ¡å¯¹æ•°æ®åº“ä¸­æ‰€åšçš„æ›´æ”¹ä¹Ÿä¸èƒ½ä¸¢å¤±ã€‚ä½†æ˜¯å¦‚æœæˆ‘ä»¬åªåœ¨å†…å­˜çš„&lt;code>Buffer Pool&lt;/code>ä¸­ä¿®æ”¹äº†é¡µé¢ï¼Œå‡è®¾åœ¨äº‹åŠ¡æäº¤åçªç„¶å‘ç”Ÿäº†æŸä¸ªæ•…éšœï¼Œå¯¼è‡´å†…å­˜ä¸­çš„æ•°æ®éƒ½å¤±æ•ˆäº†ï¼Œé‚£ä¹ˆè¿™ä¸ªå·²ç»æäº¤äº†çš„äº‹åŠ¡å¯¹æ•°æ®åº“ä¸­æ‰€åšçš„æ›´æ”¹ä¹Ÿå°±è·Ÿç€ä¸¢å¤±äº†ï¼Œè¿™æ˜¯æˆ‘ä»¬æ‰€ä¸èƒ½å¿å—çš„ï¼ˆæƒ³æƒ³ATMæœºå·²ç»æç¤ºç‹—å“¥è½¬è´¦æˆåŠŸï¼Œä½†ä¹‹åç”±äºæœåŠ¡å™¨å‡ºç°æ•…éšœï¼Œé‡å¯ä¹‹åçŒ«çˆ·å‘ç°è‡ªå·±æ²¡æ”¶åˆ°é’±ï¼ŒçŒ«çˆ·å°±è¢«ç æ­»äº†ï¼‰ã€‚é‚£ä¹ˆå¦‚ä½•ä¿è¯è¿™ä¸ª&lt;code>æŒä¹…æ€§&lt;/code>å‘¢ï¼Ÿä¸€ä¸ªå¾ˆç®€å•çš„åšæ³•å°±æ˜¯&lt;strong>åœ¨äº‹åŠ¡æäº¤å®Œæˆä¹‹å‰æŠŠè¯¥äº‹åŠ¡æ‰€ä¿®æ”¹çš„æ‰€æœ‰é¡µé¢éƒ½åˆ·æ–°åˆ°ç£ç›˜&lt;/strong>ï¼Œä½†æ˜¯è¿™ä¸ªç®€å•ç²—æš´çš„åšæ³•æœ‰äº›é—®é¢˜ï¼š&lt;/p>
&lt;ul>
&lt;li>&lt;/li>
&lt;/ul>
&lt;p>åˆ·æ–°ä¸€ä¸ªå®Œæ•´çš„æ•°æ®é¡µå¤ªæµªè´¹äº†&lt;/p>
&lt;p>æœ‰æ—¶å€™æˆ‘ä»¬ä»…ä»…ä¿®æ”¹äº†æŸä¸ªé¡µé¢ä¸­çš„ä¸€ä¸ªå­—èŠ‚ï¼Œä½†æ˜¯æˆ‘ä»¬çŸ¥é“åœ¨&lt;code>InnoDB&lt;/code>ä¸­æ˜¯ä»¥é¡µä¸ºå•ä½æ¥è¿›è¡Œç£ç›˜IOçš„ï¼Œä¹Ÿå°±æ˜¯è¯´æˆ‘ä»¬åœ¨è¯¥äº‹åŠ¡æäº¤æ—¶ä¸å¾—ä¸å°†ä¸€ä¸ªå®Œæ•´çš„é¡µé¢ä»å†…å­˜ä¸­åˆ·æ–°åˆ°ç£ç›˜ï¼Œæˆ‘ä»¬åˆçŸ¥é“ä¸€ä¸ªé¡µé¢é»˜è®¤æ˜¯16KBå¤§å°ï¼Œåªä¿®æ”¹ä¸€ä¸ªå­—èŠ‚å°±è¦åˆ·æ–°16KBçš„æ•°æ®åˆ°ç£ç›˜ä¸Šæ˜¾ç„¶æ˜¯å¤ªæµªè´¹äº†ã€‚&lt;/p>
&lt;ul>
&lt;li>&lt;/li>
&lt;/ul>
&lt;p>éšæœºIOåˆ·èµ·æ¥æ¯”è¾ƒæ…¢&lt;/p>
&lt;p>ä¸€ä¸ªäº‹åŠ¡å¯èƒ½åŒ…å«å¾ˆå¤šè¯­å¥ï¼Œå³ä½¿æ˜¯ä¸€æ¡è¯­å¥ä¹Ÿå¯èƒ½ä¿®æ”¹è®¸å¤šé¡µé¢ï¼Œå€’éœ‰å‚¬çš„æ˜¯è¯¥äº‹åŠ¡ä¿®æ”¹çš„è¿™äº›é¡µé¢å¯èƒ½å¹¶ä¸ç›¸é‚»ï¼Œè¿™å°±æ„å‘³ç€åœ¨å°†æŸä¸ªäº‹åŠ¡ä¿®æ”¹çš„&lt;code>Buffer Pool&lt;/code>ä¸­çš„é¡µé¢åˆ·æ–°åˆ°ç£ç›˜æ—¶ï¼Œéœ€è¦è¿›è¡Œå¾ˆå¤šçš„éšæœºIOï¼ŒéšæœºIOæ¯”é¡ºåºIOè¦æ…¢ï¼Œå°¤å…¶å¯¹äºä¼ ç»Ÿçš„æœºæ¢°ç¡¬ç›˜æ¥è¯´ã€‚&lt;/p>
&lt;p>å’‹åŠå‘¢ï¼Ÿå†æ¬¡å›åˆ°æˆ‘ä»¬çš„åˆå¿ƒï¼š&lt;strong>æˆ‘ä»¬åªæ˜¯æƒ³è®©å·²ç»æäº¤äº†çš„äº‹åŠ¡å¯¹æ•°æ®åº“ä¸­æ•°æ®æ‰€åšçš„ä¿®æ”¹æ°¸ä¹…ç”Ÿæ•ˆï¼Œå³ä½¿åæ¥ç³»ç»Ÿå´©æºƒï¼Œåœ¨é‡å¯åä¹Ÿèƒ½æŠŠè¿™ç§ä¿®æ”¹æ¢å¤å‡ºæ¥&lt;/strong>ã€‚æ‰€ä»¥æˆ‘ä»¬å…¶å®æ²¡æœ‰å¿…è¦åœ¨æ¯æ¬¡äº‹åŠ¡æäº¤æ—¶å°±æŠŠè¯¥äº‹åŠ¡åœ¨å†…å­˜ä¸­ä¿®æ”¹è¿‡çš„å…¨éƒ¨é¡µé¢åˆ·æ–°åˆ°ç£ç›˜ï¼Œåªéœ€è¦&lt;strong>æŠŠä¿®æ”¹äº†å“ªäº›ä¸œè¥¿è®°å½•ä¸€ä¸‹å°±å¥½&lt;/strong>ï¼Œæ¯”æ–¹è¯´æŸä¸ªäº‹åŠ¡å°†ç³»ç»Ÿè¡¨ç©ºé—´ä¸­çš„ç¬¬100å·é¡µé¢ä¸­åç§»é‡ä¸º1000å¤„çš„é‚£ä¸ªå­—èŠ‚çš„å€¼&lt;code>1&lt;/code>æ”¹æˆ&lt;code>2&lt;/code>æˆ‘ä»¬åªéœ€è¦è®°å½•ä¸€ä¸‹ï¼š&lt;/p>
&lt;blockquote>
&lt;p>å°†ç¬¬0å·è¡¨ç©ºé—´çš„100å·é¡µé¢çš„åç§»é‡ä¸º1000å¤„çš„å€¼æ›´æ–°ä¸º&lt;code>2&lt;/code>ã€‚&lt;/p>
&lt;/blockquote>
&lt;p>è¿™æ ·æˆ‘ä»¬åœ¨äº‹åŠ¡æäº¤æ—¶ï¼ŒæŠŠä¸Šè¿°å†…å®¹åˆ·æ–°åˆ°ç£ç›˜ä¸­ï¼Œå³ä½¿ä¹‹åç³»ç»Ÿå´©æºƒäº†ï¼Œé‡å¯ä¹‹ååªè¦æŒ‰ç…§ä¸Šè¿°å†…å®¹æ‰€è®°å½•çš„æ­¥éª¤é‡æ–°æ›´æ–°ä¸€ä¸‹æ•°æ®é¡µï¼Œé‚£ä¹ˆè¯¥äº‹åŠ¡å¯¹æ•°æ®åº“ä¸­æ‰€åšçš„ä¿®æ”¹åˆå¯ä»¥è¢«æ¢å¤å‡ºæ¥ï¼Œä¹Ÿå°±æ„å‘³ç€æ»¡è¶³&lt;code>æŒä¹…æ€§&lt;/code>çš„è¦æ±‚ã€‚å› ä¸ºåœ¨ç³»ç»Ÿå¥”æºƒé‡å¯æ—¶éœ€è¦æŒ‰ç…§ä¸Šè¿°å†…å®¹æ‰€è®°å½•çš„æ­¥éª¤é‡æ–°æ›´æ–°æ•°æ®é¡µï¼Œæ‰€ä»¥ä¸Šè¿°å†…å®¹ä¹Ÿè¢«ç§°ä¹‹ä¸º&lt;code>é‡åšæ—¥å¿—&lt;/code>ï¼Œè‹±æ–‡åä¸º&lt;code>redo log&lt;/code>ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥åœŸæ´‹ç»“åˆï¼Œç§°ä¹‹ä¸º&lt;code>redoæ—¥å¿—&lt;/code>ã€‚ä¸åœ¨äº‹åŠ¡æäº¤æ—¶å°†æ‰€æœ‰ä¿®æ”¹è¿‡çš„å†…å­˜ä¸­çš„é¡µé¢åˆ·æ–°åˆ°ç£ç›˜ä¸­ç›¸æ¯”ï¼Œåªå°†è¯¥äº‹åŠ¡æ‰§è¡Œè¿‡ç¨‹ä¸­äº§ç”Ÿçš„&lt;code>redo&lt;/code>æ—¥å¿—åˆ·æ–°åˆ°ç£ç›˜çš„å¥½å¤„å¦‚ä¸‹ï¼š&lt;/p>
&lt;ul>
&lt;li>&lt;/li>
&lt;/ul>
&lt;p>&lt;code>redo&lt;/code>æ—¥å¿—å ç”¨çš„ç©ºé—´éå¸¸å°&lt;/p>
&lt;p>å­˜å‚¨è¡¨ç©ºé—´IDã€é¡µå·ã€åç§»é‡ä»¥åŠéœ€è¦æ›´æ–°çš„å€¼æ‰€éœ€çš„å­˜å‚¨ç©ºé—´æ˜¯å¾ˆå°çš„ï¼Œå…³äº&lt;code>redo&lt;/code>æ—¥å¿—çš„æ ¼å¼æˆ‘ä»¬ç¨åä¼šè¯¦ç»†ä»‹ç»ï¼Œç°åœ¨åªè¦çŸ¥é“ä¸€æ¡&lt;code>redo&lt;/code>æ—¥å¿—å ç”¨çš„ç©ºé—´ä¸æ˜¯å¾ˆå¤§å°±å¥½äº†ã€‚&lt;/p>
&lt;ul>
&lt;li>&lt;/li>
&lt;/ul>
&lt;p>&lt;code>redo&lt;/code>æ—¥å¿—æ˜¯é¡ºåºå†™å…¥ç£ç›˜çš„&lt;/p>
&lt;p>åœ¨æ‰§è¡Œäº‹åŠ¡çš„è¿‡ç¨‹ä¸­ï¼Œæ¯æ‰§è¡Œä¸€æ¡è¯­å¥ï¼Œå°±å¯èƒ½äº§ç”Ÿè‹¥å¹²æ¡&lt;code>redo&lt;/code>æ—¥å¿—ï¼Œè¿™äº›æ—¥å¿—æ˜¯æŒ‰ç…§äº§ç”Ÿçš„é¡ºåºå†™å…¥ç£ç›˜çš„ï¼Œä¹Ÿå°±æ˜¯ä½¿ç”¨é¡ºåºIOã€‚&lt;/p>
&lt;p>redoæ—¥å¿—æ ¼å¼&lt;/p>
&lt;p>é€šè¿‡ä¸Šé¢çš„å†…å®¹æˆ‘ä»¬çŸ¥é“ï¼Œ&lt;code>redo&lt;/code>æ—¥å¿—æœ¬è´¨ä¸Šåªæ˜¯&lt;strong>è®°å½•äº†ä¸€ä¸‹äº‹åŠ¡å¯¹æ•°æ®åº“åšäº†å“ªäº›ä¿®æ”¹&lt;/strong>ã€‚ è®¾è®¡&lt;code>InnoDB&lt;/code>çš„å¤§ä½¬ä»¬é’ˆå¯¹äº‹åŠ¡å¯¹æ•°æ®åº“çš„ä¸åŒä¿®æ”¹åœºæ™¯å®šä¹‰äº†å¤šç§ç±»å‹çš„&lt;code>redo&lt;/code>æ—¥å¿—ï¼Œä½†æ˜¯ç»å¤§éƒ¨åˆ†ç±»å‹çš„&lt;code>redo&lt;/code>æ—¥å¿—éƒ½æœ‰ä¸‹é¢è¿™ç§é€šç”¨çš„ç»“æ„ï¼š&lt;/p>
&lt;p>&lt;img src="img/20-01.png" alt="" />&lt;/p>
&lt;p>å„ä¸ªéƒ¨åˆ†çš„è¯¦ç»†é‡Šä¹‰å¦‚ä¸‹ï¼š&lt;/p>
&lt;ul>
&lt;li>&lt;/li>
&lt;/ul>
&lt;p>&lt;code>type&lt;/code>ï¼šè¯¥æ¡&lt;code>redo&lt;/code>æ—¥å¿—çš„ç±»å‹ã€‚&lt;/p>
&lt;p>åœ¨&lt;code>MySQL 5.7.21&lt;/code>è¿™ä¸ªç‰ˆæœ¬ä¸­ï¼Œè®¾è®¡&lt;code>InnoDB&lt;/code>çš„å¤§ä½¬ä¸€å…±ä¸º&lt;code>redo&lt;/code>æ—¥å¿—è®¾è®¡äº†53ç§ä¸åŒçš„ç±»å‹ï¼Œç¨åä¼šè¯¦ç»†ä»‹ç»ä¸åŒç±»å‹çš„&lt;code>redo&lt;/code>æ—¥å¿—ã€‚&lt;/p>
&lt;ul>
&lt;li>&lt;/li>
&lt;/ul>
&lt;p>&lt;code>space ID&lt;/code>ï¼šè¡¨ç©ºé—´IDã€‚&lt;/p>
&lt;ul>
&lt;li>&lt;code>page number&lt;/code>ï¼šé¡µå·ã€‚&lt;/li>
&lt;li>&lt;code>data&lt;/code>ï¼šè¯¥æ¡&lt;code>redo&lt;/code>æ—¥å¿—çš„å…·ä½“å†…å®¹ã€‚&lt;/li>
&lt;/ul>
&lt;h1 id="ç®€å•çš„redoæ—¥å¿—ç±»å‹">
 ç®€å•çš„redoæ—¥å¿—ç±»å‹
 &lt;a class="anchor" href="#%e7%ae%80%e5%8d%95%e7%9a%84redo%e6%97%a5%e5%bf%97%e7%b1%bb%e5%9e%8b">#&lt;/a>
&lt;/h1>
&lt;p>æˆ‘ä»¬å‰é¢ä»‹ç»&lt;code>InnoDB&lt;/code>çš„è®°å½•è¡Œæ ¼å¼çš„æ—¶å€™è¯´è¿‡ï¼Œå¦‚æœæˆ‘ä»¬æ²¡æœ‰ä¸ºæŸä¸ªè¡¨æ˜¾å¼çš„å®šä¹‰ä¸»é”®ï¼Œå¹¶ä¸”è¡¨ä¸­ä¹Ÿæ²¡æœ‰å®šä¹‰&lt;code>Unique&lt;/code>é”®ï¼Œé‚£ä¹ˆ&lt;code>InnoDB&lt;/code>ä¼šè‡ªåŠ¨çš„ä¸ºè¡¨æ·»åŠ ä¸€ä¸ªç§°ä¹‹ä¸º&lt;code>row_id&lt;/code>çš„éšè—åˆ—ä½œä¸ºä¸»é”®ã€‚ä¸ºè¿™ä¸ª&lt;code>row_id&lt;/code>éšè—åˆ—èµ‹å€¼çš„æ–¹å¼å¦‚ä¸‹ï¼š - æœåŠ¡å™¨ä¼šåœ¨å†…å­˜ä¸­ç»´æŠ¤ä¸€ä¸ªå…¨å±€å˜é‡ï¼Œæ¯å½“å‘æŸä¸ªåŒ…å«éšè—çš„&lt;code>row_id&lt;/code>åˆ—çš„è¡¨ä¸­æ’å…¥ä¸€æ¡è®°å½•æ—¶ï¼Œå°±ä¼šæŠŠè¯¥å˜é‡çš„å€¼å½“ä½œæ–°è®°å½•çš„&lt;code>row_id&lt;/code>åˆ—çš„å€¼ï¼Œå¹¶ä¸”æŠŠè¯¥å˜é‡è‡ªå¢1ã€‚ - æ¯å½“è¿™ä¸ªå˜é‡çš„å€¼ä¸º256çš„å€æ•°æ—¶ï¼Œå°±ä¼šå°†è¯¥å˜é‡çš„å€¼åˆ·æ–°åˆ°ç³»ç»Ÿè¡¨ç©ºé—´çš„é¡µå·ä¸º&lt;code>7&lt;/code>çš„é¡µé¢ä¸­ä¸€ä¸ªç§°ä¹‹ä¸º&lt;code>Max Row ID&lt;/code>çš„å±æ€§å¤„ï¼ˆæˆ‘ä»¬å‰é¢ä»‹ç»è¡¨ç©ºé—´ç»“æ„æ—¶è¯¦ç»†è¯´è¿‡ï¼‰ã€‚ - å½“ç³»ç»Ÿå¯åŠ¨æ—¶ï¼Œä¼šå°†ä¸Šé¢æåˆ°çš„&lt;code>Max Row ID&lt;/code>å±æ€§åŠ è½½åˆ°å†…å­˜ä¸­ï¼Œå°†è¯¥å€¼åŠ ä¸Š256ä¹‹åèµ‹å€¼ç»™æˆ‘ä»¬å‰é¢æåˆ°çš„å…¨å±€å˜é‡ï¼ˆå› ä¸ºåœ¨ä¸Šæ¬¡å…³æœºæ—¶è¯¥å…¨å±€å˜é‡çš„å€¼å¯èƒ½å¤§äº&lt;code>Max Row ID&lt;/code>å±æ€§å€¼ï¼‰ã€‚&lt;/p>
&lt;p>è¿™ä¸ª&lt;code>Max Row ID&lt;/code>å±æ€§å ç”¨çš„å­˜å‚¨ç©ºé—´æ˜¯8ä¸ªå­—èŠ‚ï¼Œå½“æŸä¸ªäº‹åŠ¡å‘æŸä¸ªåŒ…å«&lt;code>row_id&lt;/code>éšè—åˆ—çš„è¡¨æ’å…¥ä¸€æ¡è®°å½•ï¼Œå¹¶ä¸”ä¸ºè¯¥è®°å½•åˆ†é…çš„&lt;code>row_id&lt;/code>å€¼ä¸º256çš„å€æ•°æ—¶ï¼Œå°±ä¼šå‘ç³»ç»Ÿè¡¨ç©ºé—´é¡µå·ä¸º7çš„é¡µé¢çš„ç›¸åº”åç§»é‡å¤„å†™å…¥8ä¸ªå­—èŠ‚çš„å€¼ã€‚ä½†æ˜¯æˆ‘ä»¬è¦çŸ¥é“ï¼Œè¿™ä¸ªå†™å…¥å®é™…ä¸Šæ˜¯åœ¨&lt;code>Buffer Pool&lt;/code>ä¸­å®Œæˆçš„ï¼Œæˆ‘ä»¬éœ€è¦ä¸ºè¿™ä¸ªé¡µé¢çš„ä¿®æ”¹è®°å½•ä¸€æ¡&lt;code>redo&lt;/code>æ—¥å¿—ï¼Œä»¥ä¾¿åœ¨ç³»ç»Ÿå¥”æºƒåèƒ½å°†å·²ç»æäº¤çš„è¯¥äº‹åŠ¡å¯¹è¯¥é¡µé¢æ‰€åšçš„ä¿®æ”¹æ¢å¤å‡ºæ¥ã€‚è¿™ç§æƒ…å†µä¸‹å¯¹é¡µé¢çš„ä¿®æ”¹æ˜¯æå…¶ç®€å•çš„ï¼Œ&lt;code>redo&lt;/code>æ—¥å¿—ä¸­åªéœ€è¦&lt;strong>è®°å½•ä¸€ä¸‹åœ¨æŸä¸ªé¡µé¢çš„æŸä¸ªåç§»é‡å¤„ä¿®æ”¹äº†å‡ ä¸ªå­—èŠ‚çš„å€¼ï¼Œå…·ä½“è¢«ä¿®æ”¹çš„å†…å®¹æ˜¯ä»€ä¹ˆå°±å¥½äº†&lt;/strong>ï¼Œè®¾è®¡&lt;code>InnoDB&lt;/code>çš„å¤§ä½¬æŠŠè¿™ç§æå…¶ç®€å•çš„&lt;code>redo&lt;/code>æ—¥å¿—ç§°ä¹‹ä¸º&lt;code>ç‰©ç†æ—¥å¿—&lt;/code>ï¼Œå¹¶ä¸”æ ¹æ®åœ¨é¡µé¢ä¸­å†™å…¥æ•°æ®çš„å¤šå°‘åˆ’åˆ†äº†å‡ ç§ä¸åŒçš„&lt;code>redo&lt;/code>æ—¥å¿—ç±»å‹ï¼š - &lt;code>MLOG_1BYTE&lt;/code>ï¼ˆ&lt;code>type&lt;/code>å­—æ®µå¯¹åº”çš„åè¿›åˆ¶æ•°å­—ä¸º&lt;code>1&lt;/code>ï¼‰ï¼šè¡¨ç¤ºåœ¨é¡µé¢çš„æŸä¸ªåç§»é‡å¤„å†™å…¥1ä¸ªå­—èŠ‚çš„&lt;code>redo&lt;/code>æ—¥å¿—ç±»å‹ã€‚ - &lt;code>MLOG_2BYTE&lt;/code>ï¼ˆ&lt;code>type&lt;/code>å­—æ®µå¯¹åº”çš„åè¿›åˆ¶æ•°å­—ä¸º&lt;code>2&lt;/code>ï¼‰ï¼šè¡¨ç¤ºåœ¨é¡µé¢çš„æŸä¸ªåç§»é‡å¤„å†™å…¥2ä¸ªå­—èŠ‚çš„&lt;code>redo&lt;/code>æ—¥å¿—ç±»å‹ã€‚ - &lt;code>MLOG_4BYTE&lt;/code>ï¼ˆ&lt;code>type&lt;/code>å­—æ®µå¯¹åº”çš„åè¿›åˆ¶æ•°å­—ä¸º&lt;code>4&lt;/code>ï¼‰ï¼šè¡¨ç¤ºåœ¨é¡µé¢çš„æŸä¸ªåç§»é‡å¤„å†™å…¥4ä¸ªå­—èŠ‚çš„&lt;code>redo&lt;/code>æ—¥å¿—ç±»å‹ã€‚ - &lt;code>MLOG_8BYTE&lt;/code>ï¼ˆ&lt;code>type&lt;/code>å­—æ®µå¯¹åº”çš„åè¿›åˆ¶æ•°å­—ä¸º&lt;code>8&lt;/code>ï¼‰ï¼šè¡¨ç¤ºåœ¨é¡µé¢çš„æŸä¸ªåç§»é‡å¤„å†™å…¥8ä¸ªå­—èŠ‚çš„&lt;code>redo&lt;/code>æ—¥å¿—ç±»å‹ã€‚ - &lt;code>MLOG_WRITE_STRING&lt;/code>ï¼ˆ&lt;code>type&lt;/code>å­—æ®µå¯¹åº”çš„åè¿›åˆ¶æ•°å­—ä¸º&lt;code>30&lt;/code>ï¼‰ï¼šè¡¨ç¤ºåœ¨é¡µé¢çš„æŸä¸ªåç§»é‡å¤„å†™å…¥ä¸€ä¸²æ•°æ®ã€‚&lt;/p></description></item><item><title>ç¬¬19ç« _ä»çŒ«çˆ·è¢«æ€è¯´èµ·-äº‹åŠ¡ç®€ä»‹</title><link>https://lwmfjc.github.io/zh/docs/technology/MySQL/MySQL%E6%98%AF%E6%80%8E%E6%A0%B7%E8%BF%90%E8%A1%8C%E7%9A%84/%E7%AC%AC19%E7%AB%A0_%E4%BB%8E%E7%8C%AB%E7%88%B7%E8%A2%AB%E6%9D%80%E8%AF%B4%E8%B5%B7-%E4%BA%8B%E5%8A%A1%E7%AE%80%E4%BB%8B/</link><pubDate>Sat, 11 Jan 2025 16:40:15 +0800</pubDate><guid>https://lwmfjc.github.io/zh/docs/technology/MySQL/MySQL%E6%98%AF%E6%80%8E%E6%A0%B7%E8%BF%90%E8%A1%8C%E7%9A%84/%E7%AC%AC19%E7%AB%A0_%E4%BB%8E%E7%8C%AB%E7%88%B7%E8%A2%AB%E6%9D%80%E8%AF%B4%E8%B5%B7-%E4%BA%8B%E5%8A%A1%E7%AE%80%E4%BB%8B/</guid><description>&lt;h1 id="ç¬¬19ç« -ä»çŒ«çˆ·è¢«æ€è¯´èµ·-äº‹åŠ¡ç®€ä»‹">
 ç¬¬19ç«  ä»çŒ«çˆ·è¢«æ€è¯´èµ·-äº‹åŠ¡ç®€ä»‹
 &lt;a class="anchor" href="#%e7%ac%ac19%e7%ab%a0-%e4%bb%8e%e7%8c%ab%e7%88%b7%e8%a2%ab%e6%9d%80%e8%af%b4%e8%b5%b7-%e4%ba%8b%e5%8a%a1%e7%ae%80%e4%bb%8b">#&lt;/a>
&lt;/h1>
&lt;p>äº‹åŠ¡çš„èµ·æº&lt;/p>
&lt;p>å¯¹äºå¤§éƒ¨åˆ†ç¨‹åºå‘˜æ¥è¯´ï¼Œä»–ä»¬çš„ä»»åŠ¡å°±æ˜¯æŠŠç°å®ä¸–ç•Œçš„ä¸šåŠ¡åœºæ™¯æ˜ å°„åˆ°æ•°æ®åº“ä¸–ç•Œã€‚æ¯”å¦‚é“¶è¡Œä¸ºäº†å­˜å‚¨äººä»¬çš„è´¦æˆ·ä¿¡æ¯ä¼šå»ºç«‹ä¸€ä¸ª&lt;code>account&lt;/code>è¡¨ï¼š &lt;code>CREATE TABLE account ( id INT NOT NULL AUTO_INCREMENT COMMENT 'è‡ªå¢id', name VARCHAR(100) COMMENT 'å®¢æˆ·åç§°', balance INT COMMENT 'ä½™é¢', PRIMARY KEY (id) ) Engine=InnoDB CHARSET=utf8;&lt;/code> ç‹—å“¥å’ŒçŒ«çˆ·æ˜¯ä¸€å¯¹å¥½åŸºå‹ï¼Œä»–ä»¬éƒ½åˆ°é“¶è¡Œå¼€ä¸€ä¸ªè´¦æˆ·ï¼Œä»–ä»¬åœ¨ç°å®ä¸–ç•Œä¸­æ‹¥æœ‰çš„èµ„äº§å°±ä¼šä½“ç°åœ¨æ•°æ®åº“ä¸–ç•Œçš„&lt;code>account&lt;/code>è¡¨ä¸­ã€‚æ¯”å¦‚ç°åœ¨ç‹—å“¥æœ‰&lt;code>11&lt;/code>å…ƒï¼ŒçŒ«çˆ·åªæœ‰&lt;code>2&lt;/code>å…ƒï¼Œé‚£ä¹ˆç°å®ä¸­çš„è¿™ä¸ªæƒ…å†µæ˜ å°„åˆ°æ•°æ®åº“çš„&lt;code>account&lt;/code>è¡¨å°±æ˜¯è¿™æ ·ï¼š &lt;code>+----+--------+---------+ | id | name | balance | +----+--------+---------+ | 1 | ç‹—å“¥ | 11 | | 2 | çŒ«çˆ· | 2 | +----+--------+---------+&lt;/code> åœ¨æŸä¸ªç‰¹å®šçš„æ—¶åˆ»ï¼Œç‹—å“¥çŒ«çˆ·è¿™äº›å®¶ä¼™åœ¨é“¶è¡Œæ‰€æ‹¥æœ‰çš„èµ„äº§æ˜¯ä¸€ä¸ªç‰¹å®šçš„å€¼ï¼Œè¿™äº›ç‰¹å®šçš„å€¼ä¹Ÿå¯ä»¥è¢«æè¿°ä¸ºè´¦æˆ·åœ¨è¿™ä¸ªç‰¹å®šçš„æ—¶åˆ»ç°å®ä¸–ç•Œçš„ä¸€ä¸ªçŠ¶æ€ã€‚éšç€æ—¶é—´çš„æµé€ï¼Œç‹—å“¥å’ŒçŒ«çˆ·å¯èƒ½é™†ç»­è¿›è¡Œå‘è´¦æˆ·ä¸­å­˜é’±ã€å–é’±æˆ–è€…å‘åˆ«äººè½¬è´¦ç­‰æ“ä½œï¼Œè¿™æ ·ä»–ä»¬è´¦æˆ·ä¸­çš„ä½™é¢å°±å¯èƒ½å‘ç”Ÿå˜åŠ¨ï¼Œ&lt;strong>æ¯ä¸€ä¸ªæ“ä½œéƒ½ç›¸å½“äºç°å®ä¸–ç•Œä¸­è´¦æˆ·çš„ä¸€æ¬¡çŠ¶æ€è½¬æ¢&lt;/strong>ã€‚æ•°æ®åº“ä¸–ç•Œä½œä¸ºç°å®ä¸–ç•Œçš„ä¸€ä¸ªæ˜ å°„ï¼Œè‡ªç„¶ä¹Ÿè¦è¿›è¡Œç›¸åº”çš„å˜åŠ¨ã€‚ä¸å˜ä¸çŸ¥é“ï¼Œä¸€å˜å“ä¸€è·³ï¼Œç°å®ä¸–ç•Œä¸­ä¸€äº›çœ‹ä¼¼å¾ˆç®€å•çš„çŠ¶æ€è½¬æ¢ï¼Œæ˜ å°„åˆ°æ•°æ®åº“ä¸–ç•Œå´ä¸æ˜¯é‚£ä¹ˆå®¹æ˜“çš„ã€‚æ¯”æ–¹è¯´æœ‰ä¸€æ¬¡çŒ«çˆ·åœ¨èµŒåœºèµŒåšè¾“äº†é’±ï¼Œæ€¥å¿™æ‰“ç”µè¯ç»™ç‹—å“¥è¦å€Ÿ10å—é’±ï¼Œä¸ç„¶é‚£äº›çœ‹åœºå­çš„å°±ä¼šæŠŠè‡ªå·±å‰äº†ã€‚ç°å®ä¸–ç•Œä¸­çš„ç‹—å“¥èµ°å‘äº†ATMæœºï¼Œè¾“å…¥äº†çŒ«çˆ·çš„è´¦å·ä»¥åŠ10å…ƒçš„è½¬è´¦é‡‘é¢ï¼Œç„¶åæŒ‰ä¸‹ç¡®è®¤ï¼Œç‹—å“¥å°±æ‹”å¡èµ°äººäº†ã€‚å¯¹äºæ•°æ®åº“ä¸–ç•Œæ¥è¯´ï¼Œç›¸å½“äºæ‰§è¡Œäº†ä¸‹é¢è¿™ä¸¤æ¡è¯­å¥ï¼š&lt;/p>
&lt;p>&lt;code>UPDATE account SET balance = balance - 10 WHERE id = 1; UPDATE account SET balance = balance + 10 WHERE id = 2;&lt;/code>&lt;/p></description></item><item><title>ç¬¬18ç« _è°ƒèŠ‚ç£ç›˜å’ŒCPUçš„çŸ›ç›¾-InnoDBçš„BufferPool</title><link>https://lwmfjc.github.io/zh/docs/technology/MySQL/MySQL%E6%98%AF%E6%80%8E%E6%A0%B7%E8%BF%90%E8%A1%8C%E7%9A%84/%E7%AC%AC18%E7%AB%A0_%E8%B0%83%E8%8A%82%E7%A3%81%E7%9B%98%E5%92%8CCPU%E7%9A%84%E7%9F%9B%E7%9B%BE-InnoDB%E7%9A%84BufferPool/</link><pubDate>Sat, 11 Jan 2025 16:40:14 +0800</pubDate><guid>https://lwmfjc.github.io/zh/docs/technology/MySQL/MySQL%E6%98%AF%E6%80%8E%E6%A0%B7%E8%BF%90%E8%A1%8C%E7%9A%84/%E7%AC%AC18%E7%AB%A0_%E8%B0%83%E8%8A%82%E7%A3%81%E7%9B%98%E5%92%8CCPU%E7%9A%84%E7%9F%9B%E7%9B%BE-InnoDB%E7%9A%84BufferPool/</guid><description>&lt;h1 id="ç¬¬18ç« -è°ƒèŠ‚ç£ç›˜å’Œcpuçš„çŸ›ç›¾-innodbçš„buffer-pool">
 ç¬¬18ç«  è°ƒèŠ‚ç£ç›˜å’ŒCPUçš„çŸ›ç›¾-InnoDBçš„Buffer Pool
 &lt;a class="anchor" href="#%e7%ac%ac18%e7%ab%a0-%e8%b0%83%e8%8a%82%e7%a3%81%e7%9b%98%e5%92%8ccpu%e7%9a%84%e7%9f%9b%e7%9b%be-innodb%e7%9a%84buffer-pool">#&lt;/a>
&lt;/h1>
&lt;p>ç¼“å­˜çš„é‡è¦æ€§&lt;/p>
&lt;p>é€šè¿‡å‰é¢çš„ä»‹ç»æˆ‘ä»¬çŸ¥é“ï¼Œå¯¹äºä½¿ç”¨&lt;code>InnoDB&lt;/code>ä½œä¸ºå­˜å‚¨å¼•æ“çš„è¡¨æ¥è¯´ï¼Œä¸ç®¡æ˜¯ç”¨äºå­˜å‚¨ç”¨æˆ·æ•°æ®çš„ç´¢å¼•ï¼ˆåŒ…æ‹¬èšç°‡ç´¢å¼•å’ŒäºŒçº§ç´¢å¼•ï¼‰ï¼Œè¿˜æ˜¯å„ç§ç³»ç»Ÿæ•°æ®ï¼Œéƒ½æ˜¯ä»¥&lt;code>é¡µ&lt;/code>çš„å½¢å¼å­˜æ”¾åœ¨&lt;code>è¡¨ç©ºé—´&lt;/code>ä¸­çš„ï¼Œè€Œæ‰€è°“çš„&lt;code>è¡¨ç©ºé—´&lt;/code>åªä¸è¿‡æ˜¯&lt;code>InnoDB&lt;/code>å¯¹æ–‡ä»¶ç³»ç»Ÿä¸Šä¸€ä¸ªæˆ–å‡ ä¸ªå®é™…æ–‡ä»¶çš„æŠ½è±¡ï¼Œä¹Ÿå°±æ˜¯è¯´æˆ‘ä»¬çš„æ•°æ®è¯´åˆ°åº•è¿˜æ˜¯å­˜å‚¨åœ¨ç£ç›˜ä¸Šçš„ã€‚ä½†æ˜¯å„ä½ä¹Ÿéƒ½çŸ¥é“ï¼Œç£ç›˜çš„é€Ÿåº¦æ…¢çš„è·Ÿä¹Œé¾Ÿä¸€æ ·ï¼Œæ€ä¹ˆèƒ½é…å¾—ä¸Šâ€œå¿«å¦‚é£ï¼Œç–¾å¦‚ç”µâ€çš„&lt;code>CPU&lt;/code>å‘¢ï¼Ÿæ‰€ä»¥&lt;code>InnoDB&lt;/code>å­˜å‚¨å¼•æ“åœ¨å¤„ç†å®¢æˆ·ç«¯çš„è¯·æ±‚æ—¶ï¼Œå½“éœ€è¦è®¿é—®æŸä¸ªé¡µçš„æ•°æ®æ—¶ï¼Œå°±ä¼šæŠŠå®Œæ•´çš„é¡µçš„æ•°æ®å…¨éƒ¨åŠ è½½åˆ°å†…å­˜ä¸­ï¼Œä¹Ÿå°±æ˜¯è¯´&lt;strong>å³ä½¿æˆ‘ä»¬åªéœ€è¦è®¿é—®ä¸€ä¸ªé¡µçš„ä¸€æ¡è®°å½•ï¼Œé‚£ä¹Ÿéœ€è¦å…ˆæŠŠæ•´ä¸ªé¡µçš„æ•°æ®åŠ è½½åˆ°å†…å­˜ä¸­&lt;/strong>ã€‚å°†æ•´ä¸ªé¡µåŠ è½½åˆ°å†…å­˜ä¸­åå°±å¯ä»¥è¿›è¡Œè¯»å†™è®¿é—®äº†ï¼Œåœ¨è¿›è¡Œå®Œè¯»å†™è®¿é—®ä¹‹åå¹¶ä¸ç€æ€¥æŠŠè¯¥é¡µå¯¹åº”çš„å†…å­˜ç©ºé—´é‡Šæ”¾æ‰ï¼Œè€Œæ˜¯å°†å…¶&lt;code>ç¼“å­˜&lt;/code>èµ·æ¥ï¼Œè¿™æ ·å°†æ¥æœ‰è¯·æ±‚å†æ¬¡è®¿é—®è¯¥é¡µé¢æ—¶ï¼Œå°±å¯ä»¥çœå»ç£ç›˜&lt;code>IO&lt;/code>çš„å¼€é”€äº†ã€‚&lt;/p>
&lt;p>InnoDBçš„Buffer Pool&lt;/p>
&lt;h1 id="ä»€ä¹ˆæ˜¯ä¸ªbuffer-pool">
 ä»€ä¹ˆæ˜¯ä¸ªBuffer Pool
 &lt;a class="anchor" href="#%e4%bb%80%e4%b9%88%e6%98%af%e4%b8%aabuffer-pool">#&lt;/a>
&lt;/h1>
&lt;p>è®¾è®¡&lt;code>InnoDB&lt;/code>çš„å¤§ä½¬ä¸ºäº†ç¼“å­˜ç£ç›˜ä¸­çš„é¡µï¼Œåœ¨&lt;code>MySQL&lt;/code>æœåŠ¡å™¨å¯åŠ¨çš„æ—¶å€™å°±å‘æ“ä½œç³»ç»Ÿç”³è¯·äº†ä¸€ç‰‡è¿ç»­çš„å†…å­˜ï¼Œä»–ä»¬ç»™è¿™ç‰‡å†…å­˜èµ·äº†ä¸ªåï¼Œå«åš&lt;code>Buffer Pool&lt;/code>ï¼ˆä¸­æ–‡åæ˜¯&lt;code>ç¼“å†²æ± &lt;/code>ï¼‰ã€‚é‚£å®ƒæœ‰å¤šå¤§å‘¢ï¼Ÿè¿™ä¸ªå…¶å®çœ‹æˆ‘ä»¬æœºå™¨çš„é…ç½®ï¼Œå¦‚æœä½ æ˜¯åœŸè±ªï¼Œä½ æœ‰&lt;code>512G&lt;/code>å†…å­˜ï¼Œä½ åˆ†é…ä¸ªå‡ ç™¾Gä½œä¸º&lt;code>Buffer Pool&lt;/code>ä¹Ÿå¯ä»¥å•Šï¼Œå½“ç„¶ä½ è¦æ˜¯æ²¡é‚£ä¹ˆæœ‰é’±ï¼Œè®¾ç½®å°ç‚¹ä¹Ÿè¡Œå‘€ï½ é»˜è®¤æƒ…å†µä¸‹&lt;code>Buffer Pool&lt;/code>åªæœ‰&lt;code>128M&lt;/code>å¤§å°ã€‚å½“ç„¶å¦‚æœä½ å«Œå¼ƒè¿™ä¸ª&lt;code>128M&lt;/code>å¤ªå¤§æˆ–è€…å¤ªå°ï¼Œå¯ä»¥åœ¨å¯åŠ¨æœåŠ¡å™¨çš„æ—¶å€™é…ç½®&lt;code>innodb_buffer_pool_size&lt;/code>å‚æ•°çš„å€¼ï¼Œå®ƒè¡¨ç¤º&lt;code>Buffer Pool&lt;/code>çš„å¤§å°ï¼Œå°±åƒè¿™æ ·ï¼š &lt;code>[server] innodb_buffer_pool_size = 268435456&lt;/code> å…¶ä¸­ï¼Œ&lt;code>268435456&lt;/code>çš„å•ä½æ˜¯å­—èŠ‚ï¼Œä¹Ÿå°±æ˜¯æˆ‘æŒ‡å®š&lt;code>Buffer Pool&lt;/code>çš„å¤§å°ä¸º&lt;code>256M&lt;/code>ã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œ&lt;code>Buffer Pool&lt;/code>ä¹Ÿä¸èƒ½å¤ªå°ï¼Œæœ€å°å€¼ä¸º&lt;code>5M&lt;/code>(å½“å°äºè¯¥å€¼æ—¶ä¼šè‡ªåŠ¨è®¾ç½®æˆ&lt;code>5M&lt;/code>)ã€‚&lt;/p>
&lt;h1 id="buffer-poolå†…éƒ¨ç»„æˆ">
 Buffer Poolå†…éƒ¨ç»„æˆ
 &lt;a class="anchor" href="#buffer-pool%e5%86%85%e9%83%a8%e7%bb%84%e6%88%90">#&lt;/a>
&lt;/h1>
&lt;p>&lt;code>Buffer Pool&lt;/code>ä¸­é»˜è®¤çš„ç¼“å­˜é¡µå¤§å°å’Œåœ¨ç£ç›˜ä¸Šé»˜è®¤çš„é¡µå¤§å°æ˜¯ä¸€æ ·çš„ï¼Œéƒ½æ˜¯&lt;code>16KB&lt;/code>ã€‚ä¸ºäº†æ›´å¥½çš„ç®¡ç†è¿™äº›åœ¨&lt;code>Buffer Pool&lt;/code>ä¸­çš„ç¼“å­˜é¡µï¼Œè®¾è®¡&lt;code>InnoDB&lt;/code>çš„å¤§ä½¬ä¸ºæ¯ä¸€ä¸ªç¼“å­˜é¡µéƒ½åˆ›å»ºäº†ä¸€äº›æ‰€è°“çš„&lt;code>æ§åˆ¶ä¿¡æ¯&lt;/code>ï¼Œè¿™äº›æ§åˆ¶ä¿¡æ¯åŒ…æ‹¬è¯¥é¡µæ‰€å±çš„è¡¨ç©ºé—´ç¼–å·ã€é¡µå·ã€ç¼“å­˜é¡µåœ¨&lt;code>Buffer Pool&lt;/code>ä¸­çš„åœ°å€ã€é“¾è¡¨èŠ‚ç‚¹ä¿¡æ¯ã€ä¸€äº›é”ä¿¡æ¯ä»¥åŠ&lt;code>LSN&lt;/code>ä¿¡æ¯ï¼ˆé”å’Œ&lt;code>LSN&lt;/code>æˆ‘ä»¬ä¹‹åä¼šå…·ä½“ä»‹ç»ï¼Œç°åœ¨å¯ä»¥å…ˆå¿½ç•¥ï¼‰ï¼Œå½“ç„¶è¿˜æœ‰ä¸€äº›åˆ«çš„æ§åˆ¶ä¿¡æ¯ï¼Œæˆ‘ä»¬è¿™å°±ä¸å…¨ä»‹ç»ä¸€éäº†ï¼ŒæŒ‘é‡è¦çš„è¯´å˜›ï½&lt;/p>
&lt;p>æ¯ä¸ªç¼“å­˜é¡µå¯¹åº”çš„æ§åˆ¶ä¿¡æ¯å ç”¨çš„å†…å­˜å¤§å°æ˜¯ç›¸åŒçš„ï¼Œæˆ‘ä»¬å°±æŠŠæ¯ä¸ªé¡µå¯¹åº”çš„æ§åˆ¶ä¿¡æ¯å ç”¨çš„ä¸€å—å†…å­˜ç§°ä¸ºä¸€ä¸ª&lt;code>æ§åˆ¶å—&lt;/code>å§ï¼Œ&lt;strong>æ§åˆ¶å—å’Œç¼“å­˜é¡µæ˜¯ä¸€ä¸€å¯¹åº”çš„ï¼Œå®ƒä»¬éƒ½è¢«å­˜æ”¾åˆ° Buffer Pool ä¸­ï¼Œå…¶ä¸­æ§åˆ¶å—è¢«å­˜æ”¾åˆ° Buffer Pool çš„å‰é¢ï¼Œç¼“å­˜é¡µè¢«å­˜æ”¾åˆ° Buffer Pool åè¾¹&lt;/strong>ï¼Œæ‰€ä»¥æ•´ä¸ª&lt;code>Buffer Pool&lt;/code>å¯¹åº”çš„å†…å­˜ç©ºé—´çœ‹èµ·æ¥å°±æ˜¯è¿™æ ·çš„ï¼š&lt;/p>
&lt;p>&lt;img src="img/18-01.png" alt="" />&lt;/p>
&lt;p>å’¦ï¼Ÿæ§åˆ¶å—å’Œç¼“å­˜é¡µä¹‹é—´çš„é‚£ä¸ª&lt;code>ç¢ç‰‡&lt;/code>æ˜¯ä¸ªä»€ä¹ˆç©æ„å„¿ï¼Ÿä½ æƒ³æƒ³å•Šï¼Œæ¯ä¸€ä¸ªæ§åˆ¶å—éƒ½å¯¹åº”ä¸€ä¸ªç¼“å­˜é¡µï¼Œé‚£åœ¨åˆ†é…è¶³å¤Ÿå¤šçš„æ§åˆ¶å—å’Œç¼“å­˜é¡µåï¼Œå¯èƒ½å‰©ä½™çš„é‚£ç‚¹å„¿ç©ºé—´ä¸å¤Ÿä¸€å¯¹æ§åˆ¶å—å’Œç¼“å­˜é¡µçš„å¤§å°ï¼Œè‡ªç„¶å°±ç”¨ä¸åˆ°å–½ï¼Œè¿™ä¸ªç”¨ä¸åˆ°çš„é‚£ç‚¹å„¿å†…å­˜ç©ºé—´å°±è¢«ç§°ä¸º&lt;code>ç¢ç‰‡&lt;/code>äº†ã€‚å½“ç„¶ï¼Œå¦‚æœä½ æŠŠ&lt;code>Buffer Pool&lt;/code>çš„å¤§å°è®¾ç½®çš„åˆšåˆšå¥½çš„è¯ï¼Œä¹Ÿå¯èƒ½ä¸ä¼šäº§ç”Ÿ&lt;code>ç¢ç‰‡&lt;/code>ï½ &lt;code>å°è´´å£«ï¼šæ¯ä¸ªæ§åˆ¶å—å¤§çº¦å ç”¨ç¼“å­˜é¡µå¤§å°çš„5%ï¼Œåœ¨MySQL5.7.21è¿™ä¸ªç‰ˆæœ¬ä¸­ï¼Œæ¯ä¸ªæ§åˆ¶å—å ç”¨çš„å¤§å°æ˜¯808å­—èŠ‚ã€‚è€Œæˆ‘ä»¬è®¾ç½®çš„innodb_buffer_pool_sizeå¹¶ä¸åŒ…å«è¿™éƒ¨åˆ†æ§åˆ¶å—å ç”¨çš„å†…å­˜ç©ºé—´å¤§å°ï¼Œä¹Ÿå°±æ˜¯è¯´InnoDBåœ¨ä¸ºBuffer Poolå‘æ“ä½œç³»ç»Ÿç”³è¯·è¿ç»­çš„å†…å­˜ç©ºé—´æ—¶ï¼Œè¿™ç‰‡è¿ç»­çš„å†…å­˜ç©ºé—´ä¸€èˆ¬ä¼šæ¯”innodb_buffer_pool_sizeçš„å€¼å¤§5%å·¦å³ã€‚&lt;/code>&lt;/p>
&lt;h1 id="freeé“¾è¡¨çš„ç®¡ç†">
 freeé“¾è¡¨çš„ç®¡ç†
 &lt;a class="anchor" href="#free%e9%93%be%e8%a1%a8%e7%9a%84%e7%ae%a1%e7%90%86">#&lt;/a>
&lt;/h1>
&lt;p>å½“æˆ‘ä»¬æœ€åˆå¯åŠ¨&lt;code>MySQL&lt;/code>æœåŠ¡å™¨çš„æ—¶å€™ï¼Œéœ€è¦å®Œæˆå¯¹&lt;code>Buffer Pool&lt;/code>çš„åˆå§‹åŒ–è¿‡ç¨‹ï¼Œå°±æ˜¯å…ˆå‘æ“ä½œç³»ç»Ÿç”³è¯·&lt;code>Buffer Pool&lt;/code>çš„å†…å­˜ç©ºé—´ï¼Œç„¶åæŠŠå®ƒåˆ’åˆ†æˆè‹¥å¹²å¯¹æ§åˆ¶å—å’Œç¼“å­˜é¡µã€‚ä½†æ˜¯æ­¤æ—¶å¹¶æ²¡æœ‰çœŸå®çš„ç£ç›˜é¡µè¢«ç¼“å­˜åˆ°&lt;code>Buffer Pool&lt;/code>ä¸­ï¼ˆå› ä¸ºè¿˜æ²¡æœ‰ç”¨åˆ°ï¼‰ï¼Œä¹‹åéšç€ç¨‹åºçš„è¿è¡Œï¼Œä¼šä¸æ–­çš„æœ‰ç£ç›˜ä¸Šçš„é¡µè¢«ç¼“å­˜åˆ°&lt;code>Buffer Pool&lt;/code>ä¸­ã€‚é‚£ä¹ˆé—®é¢˜æ¥äº†ï¼Œä»ç£ç›˜ä¸Šè¯»å–ä¸€ä¸ªé¡µåˆ°&lt;code>Buffer Pool&lt;/code>ä¸­çš„æ—¶å€™è¯¥æ”¾åˆ°å“ªä¸ªç¼“å­˜é¡µçš„ä½ç½®å‘¢ï¼Ÿæˆ–è€…è¯´æ€ä¹ˆåŒºåˆ†&lt;code>Buffer Pool&lt;/code>ä¸­å“ªäº›ç¼“å­˜é¡µæ˜¯ç©ºé—²çš„ï¼Œå“ªäº›å·²ç»è¢«ä½¿ç”¨äº†å‘¢ï¼Ÿ&lt;strong>æˆ‘ä»¬æœ€å¥½åœ¨æŸä¸ªåœ°æ–¹è®°å½•ä¸€ä¸‹Buffer Poolä¸­å“ªäº›ç¼“å­˜é¡µæ˜¯å¯ç”¨çš„&lt;/strong>ï¼Œè¿™ä¸ªæ—¶å€™ç¼“å­˜é¡µå¯¹åº”çš„&lt;code>æ§åˆ¶å—&lt;/code>å°±æ´¾ä¸Šå¤§ç”¨åœºäº†ï¼Œæˆ‘ä»¬å¯ä»¥&lt;strong>æŠŠæ‰€æœ‰ç©ºé—²çš„ç¼“å­˜é¡µå¯¹åº”çš„æ§åˆ¶å—ä½œä¸ºä¸€ä¸ªèŠ‚ç‚¹æ”¾åˆ°ä¸€ä¸ªé“¾è¡¨ä¸­&lt;/strong>ï¼Œè¿™ä¸ªé“¾è¡¨ä¹Ÿå¯ä»¥è¢«ç§°ä½œ&lt;code>freeé“¾è¡¨&lt;/code>ï¼ˆæˆ–è€…è¯´ç©ºé—²é“¾è¡¨ï¼‰ã€‚åˆšåˆšå®Œæˆåˆå§‹åŒ–çš„&lt;code>Buffer Pool&lt;/code>ä¸­æ‰€æœ‰çš„ç¼“å­˜é¡µéƒ½æ˜¯ç©ºé—²çš„ï¼Œæ‰€ä»¥æ¯ä¸€ä¸ªç¼“å­˜é¡µå¯¹åº”çš„æ§åˆ¶å—éƒ½ä¼šè¢«åŠ å…¥åˆ°&lt;code>freeé“¾è¡¨&lt;/code>ä¸­ï¼Œå‡è®¾è¯¥&lt;code>Buffer Pool&lt;/code>ä¸­å¯å®¹çº³çš„ç¼“å­˜é¡µæ•°é‡ä¸º&lt;code>n&lt;/code>ï¼Œé‚£å¢åŠ äº†&lt;code>freeé“¾è¡¨&lt;/code>çš„æ•ˆæœå›¾å°±æ˜¯è¿™æ ·çš„ï¼š&lt;/p>
&lt;p>&lt;img src="img/18-02.png" alt="" />&lt;/p>
&lt;p>ä»å›¾ä¸­å¯ä»¥çœ‹å‡ºï¼Œæˆ‘ä»¬ä¸ºäº†ç®¡ç†å¥½è¿™ä¸ª&lt;code>freeé“¾è¡¨&lt;/code>ï¼Œç‰¹æ„ä¸ºè¿™ä¸ªé“¾è¡¨å®šä¹‰äº†ä¸€ä¸ª&lt;code>åŸºèŠ‚ç‚¹&lt;/code>ï¼Œé‡Œè¾¹å„¿åŒ…å«ç€é“¾è¡¨çš„å¤´èŠ‚ç‚¹åœ°å€ï¼Œå°¾èŠ‚ç‚¹åœ°å€ï¼Œä»¥åŠå½“å‰é“¾è¡¨ä¸­èŠ‚ç‚¹çš„æ•°é‡ç­‰ä¿¡æ¯ã€‚è¿™é‡Œéœ€è¦æ³¨æ„çš„æ˜¯ï¼Œé“¾è¡¨çš„åŸºèŠ‚ç‚¹å ç”¨çš„å†…å­˜ç©ºé—´å¹¶ä¸åŒ…å«åœ¨ä¸º&lt;code>Buffer Pool&lt;/code>ç”³è¯·çš„ä¸€å¤§ç‰‡è¿ç»­å†…å­˜ç©ºé—´ä¹‹å†…ï¼Œè€Œæ˜¯å•ç‹¬ç”³è¯·çš„ä¸€å—å†…å­˜ç©ºé—´ã€‚ &lt;code>å°è´´å£«ï¼šé“¾è¡¨åŸºèŠ‚ç‚¹å ç”¨çš„å†…å­˜ç©ºé—´å¹¶ä¸å¤§ï¼Œåœ¨MySQL5.7.21è¿™ä¸ªç‰ˆæœ¬é‡Œï¼Œæ¯ä¸ªåŸºèŠ‚ç‚¹åªå ç”¨40å­—èŠ‚å¤§å°ã€‚åè¾¹æˆ‘ä»¬å³å°†ä»‹ç»è®¸å¤šä¸åŒçš„é“¾è¡¨ï¼Œå®ƒä»¬çš„åŸºèŠ‚ç‚¹å’Œfreeé“¾è¡¨çš„åŸºèŠ‚ç‚¹çš„å†…å­˜åˆ†é…æ–¹å¼æ˜¯ä¸€æ ·ä¸€æ ·çš„ï¼Œéƒ½æ˜¯å•ç‹¬ç”³è¯·çš„ä¸€å—40å­—èŠ‚å¤§å°çš„å†…å­˜ç©ºé—´ï¼Œå¹¶ä¸åŒ…å«åœ¨ä¸ºBuffer Poolç”³è¯·çš„ä¸€å¤§ç‰‡è¿ç»­å†…å­˜ç©ºé—´ä¹‹å†…ã€‚&lt;/code>&lt;/p></description></item><item><title>ç¬¬17ç« _ç¥å…µåˆ©å™¨-optimizer_traceè¡¨çš„ç¥å™¨åŠŸæ•ˆ</title><link>https://lwmfjc.github.io/zh/docs/technology/MySQL/MySQL%E6%98%AF%E6%80%8E%E6%A0%B7%E8%BF%90%E8%A1%8C%E7%9A%84/%E7%AC%AC17%E7%AB%A0_%E7%A5%9E%E5%85%B5%E5%88%A9%E5%99%A8-optimizer_trace%E8%A1%A8%E7%9A%84%E7%A5%9E%E5%99%A8%E5%8A%9F%E6%95%88/</link><pubDate>Sat, 11 Jan 2025 16:40:13 +0800</pubDate><guid>https://lwmfjc.github.io/zh/docs/technology/MySQL/MySQL%E6%98%AF%E6%80%8E%E6%A0%B7%E8%BF%90%E8%A1%8C%E7%9A%84/%E7%AC%AC17%E7%AB%A0_%E7%A5%9E%E5%85%B5%E5%88%A9%E5%99%A8-optimizer_trace%E8%A1%A8%E7%9A%84%E7%A5%9E%E5%99%A8%E5%8A%9F%E6%95%88/</guid><description>&lt;h1 id="ç¬¬17ç« -ç¥å…µåˆ©å™¨-optimizer-traceè¡¨çš„ç¥å™¨åŠŸæ•ˆ">
 ç¬¬17ç«  ç¥å…µåˆ©å™¨-optimizer traceè¡¨çš„ç¥å™¨åŠŸæ•ˆ
 &lt;a class="anchor" href="#%e7%ac%ac17%e7%ab%a0-%e7%a5%9e%e5%85%b5%e5%88%a9%e5%99%a8-optimizer-trace%e8%a1%a8%e7%9a%84%e7%a5%9e%e5%99%a8%e5%8a%9f%e6%95%88">#&lt;/a>
&lt;/h1>
&lt;p>å¯¹äº&lt;code>MySQL 5.6&lt;/code>ä»¥åŠä¹‹å‰çš„ç‰ˆæœ¬æ¥è¯´ï¼ŒæŸ¥è¯¢ä¼˜åŒ–å™¨å°±åƒæ˜¯ä¸€ä¸ªé»‘ç›’å­ä¸€æ ·ï¼Œä½ åªèƒ½é€šè¿‡&lt;code>EXPLAIN&lt;/code>è¯­å¥æŸ¥çœ‹åˆ°æœ€åä¼˜åŒ–å™¨å†³å®šä½¿ç”¨çš„æ‰§è¡Œè®¡åˆ’ï¼Œå´æ— æ³•çŸ¥é“å®ƒä¸ºä»€ä¹ˆåšè¿™ä¸ªå†³ç­–ã€‚è¿™å¯¹äºä¸€éƒ¨åˆ†å–œæ¬¢åˆ¨æ ¹é—®åº•çš„å°ä¼™ä¼´æ¥è¯´ç®€ç›´æ˜¯ç¾éš¾ï¼šâ€œæˆ‘å°±è§‰å¾—ä½¿ç”¨å…¶ä»–çš„æ‰§è¡Œæ–¹æ¡ˆæ¯”&lt;code>EXPLAIN&lt;/code>è¾“å‡ºçš„è¿™ç§æ–¹æ¡ˆå¼ºï¼Œå‡­ä»€ä¹ˆä¼˜åŒ–å™¨åšçš„å†³å®šå’Œæˆ‘æƒ³çš„ä¸ä¸€æ ·å‘¢ï¼Ÿâ€&lt;/p>
&lt;p>åœ¨&lt;code>MySQL 5.6&lt;/code>ä»¥åŠä¹‹åçš„ç‰ˆæœ¬ä¸­ï¼Œè®¾è®¡&lt;code>MySQL&lt;/code>çš„å¤§ä½¬è´´å¿ƒçš„ä¸ºè¿™éƒ¨åˆ†å°ä¼™ä¼´æå‡ºäº†ä¸€ä¸ª&lt;code>optimizer trace&lt;/code>çš„åŠŸèƒ½ï¼Œè¿™ä¸ªåŠŸèƒ½å¯ä»¥è®©æˆ‘ä»¬æ–¹ä¾¿çš„æŸ¥çœ‹ä¼˜åŒ–å™¨ç”Ÿæˆæ‰§è¡Œè®¡åˆ’çš„æ•´ä¸ªè¿‡ç¨‹ï¼Œè¿™ä¸ªåŠŸèƒ½çš„å¼€å¯ä¸å…³é—­ç”±ç³»ç»Ÿå˜é‡&lt;code>optimizer_trace&lt;/code>å†³å®šï¼Œæˆ‘ä»¬çœ‹ä¸€ä¸‹ï¼š &lt;code>mysql&amp;gt; SHOW VARIABLES LIKE 'optimizer_trace'; +-----------------+--------------------------+ | Variable_name | Value | +-----------------+--------------------------+ | optimizer_trace | enabled=off,one_line=off | +-----------------+--------------------------+ 1 row in set (0.02 sec)&lt;/code> å¯ä»¥çœ‹åˆ°&lt;code>enabled&lt;/code>å€¼ä¸º&lt;code>off&lt;/code>ï¼Œè¡¨æ˜è¿™ä¸ªåŠŸèƒ½é»˜è®¤æ˜¯å…³é—­çš„ã€‚ &lt;code>å°è´´å£«ï¼šone_lineçš„å€¼æ˜¯æ§åˆ¶è¾“å‡ºæ ¼å¼çš„ï¼Œå¦‚æœä¸ºoné‚£ä¹ˆæ‰€æœ‰è¾“å‡ºéƒ½å°†åœ¨ä¸€è¡Œä¸­å±•ç¤ºï¼Œä¸é€‚åˆäººé˜…è¯»ï¼Œæ‰€ä»¥æˆ‘ä»¬å°±ä¿æŒå…¶é»˜è®¤å€¼ä¸ºoffå§ã€‚&lt;/code> å¦‚æœæƒ³æ‰“å¼€è¿™ä¸ªåŠŸèƒ½ï¼Œå¿…é¡»é¦–å…ˆæŠŠ&lt;code>enabled&lt;/code>çš„å€¼æ”¹ä¸º&lt;code>on&lt;/code>ï¼Œå°±åƒè¿™æ ·ï¼š &lt;code>mysql&amp;gt; SET optimizer_trace=&amp;quot;enabled=on&amp;quot;; Query OK, 0 rows affected (0.00 sec)&lt;/code> ç„¶åæˆ‘ä»¬å°±å¯ä»¥è¾“å…¥æˆ‘ä»¬æƒ³è¦æŸ¥çœ‹ä¼˜åŒ–è¿‡ç¨‹çš„æŸ¥è¯¢è¯­å¥ï¼Œå½“è¯¥æŸ¥è¯¢è¯­å¥æ‰§è¡Œå®Œæˆåï¼Œå°±å¯ä»¥åˆ°&lt;code>information_schema&lt;/code>æ•°æ®åº“ä¸‹çš„&lt;code>OPTIMIZER_TRACE&lt;/code>è¡¨ä¸­æŸ¥çœ‹å®Œæ•´çš„ä¼˜åŒ–è¿‡ç¨‹ã€‚è¿™ä¸ª&lt;code>OPTIMIZER_TRACE&lt;/code>è¡¨æœ‰4ä¸ªåˆ—ï¼Œåˆ†åˆ«æ˜¯ï¼š - &lt;code>QUERY&lt;/code>ï¼šè¡¨ç¤ºæˆ‘ä»¬çš„æŸ¥è¯¢è¯­å¥ã€‚ - &lt;code>TRACE&lt;/code>ï¼šè¡¨ç¤ºä¼˜åŒ–è¿‡ç¨‹çš„JSONæ ¼å¼æ–‡æœ¬ã€‚ - &lt;code>MISSING_BYTES_BEYOND_MAX_MEM_SIZE&lt;/code>ï¼šç”±äºä¼˜åŒ–è¿‡ç¨‹å¯èƒ½ä¼šè¾“å‡ºå¾ˆå¤šï¼Œå¦‚æœè¶…è¿‡æŸä¸ªé™åˆ¶æ—¶ï¼Œå¤šä½™çš„æ–‡æœ¬å°†ä¸ä¼šè¢«æ˜¾ç¤ºï¼Œè¿™ä¸ªå­—æ®µå±•ç¤ºäº†è¢«å¿½ç•¥çš„æ–‡æœ¬å­—èŠ‚æ•°ã€‚ - &lt;code>INSUFFICIENT_PRIVILEGES&lt;/code>ï¼šè¡¨ç¤ºæ˜¯å¦æ²¡æœ‰æƒé™æŸ¥çœ‹ä¼˜åŒ–è¿‡ç¨‹ï¼Œé»˜è®¤å€¼æ˜¯0ï¼Œåªæœ‰æŸäº›ç‰¹æ®Šæƒ…å†µä¸‹æ‰ä¼šæ˜¯&lt;code>1&lt;/code>ï¼Œæˆ‘ä»¬æš‚æ—¶ä¸å…³å¿ƒè¿™ä¸ªå­—æ®µçš„å€¼ã€‚&lt;/p>
&lt;p>å®Œæ•´çš„ä½¿ç”¨&lt;code>optimizer trace&lt;/code>åŠŸèƒ½çš„æ­¥éª¤æ€»ç»“å¦‚ä¸‹ï¼š ```&lt;/p>
&lt;h1 id="1-æ‰“å¼€optimizer-traceåŠŸèƒ½-é»˜è®¤æƒ…å†µä¸‹å®ƒæ˜¯å…³é—­çš„">
 1. æ‰“å¼€optimizer traceåŠŸèƒ½ (é»˜è®¤æƒ…å†µä¸‹å®ƒæ˜¯å…³é—­çš„):
 &lt;a class="anchor" href="#1-%e6%89%93%e5%bc%80optimizer-trace%e5%8a%9f%e8%83%bd-%e9%bb%98%e8%ae%a4%e6%83%85%e5%86%b5%e4%b8%8b%e5%ae%83%e6%98%af%e5%85%b3%e9%97%ad%e7%9a%84">#&lt;/a>
&lt;/h1>
&lt;p>SET optimizer_trace=&amp;ldquo;enabled=on&amp;rdquo;;&lt;/p>
&lt;h1 id="2-è¿™é‡Œè¾“å…¥ä½ è‡ªå·±çš„æŸ¥è¯¢è¯­å¥">
 2. è¿™é‡Œè¾“å…¥ä½ è‡ªå·±çš„æŸ¥è¯¢è¯­å¥
 &lt;a class="anchor" href="#2-%e8%bf%99%e9%87%8c%e8%be%93%e5%85%a5%e4%bd%a0%e8%87%aa%e5%b7%b1%e7%9a%84%e6%9f%a5%e8%af%a2%e8%af%ad%e5%8f%a5">#&lt;/a>
&lt;/h1>
&lt;p>SELECT &amp;hellip;;&lt;/p></description></item><item><title>ç¬¬16ç« _æŸ¥è¯¢ä¼˜åŒ–çš„ç™¾ç§‘å…¨ä¹¦-Explainè¯¦è§£(ä¸‹)</title><link>https://lwmfjc.github.io/zh/docs/technology/MySQL/MySQL%E6%98%AF%E6%80%8E%E6%A0%B7%E8%BF%90%E8%A1%8C%E7%9A%84/%E7%AC%AC16%E7%AB%A0_%E6%9F%A5%E8%AF%A2%E4%BC%98%E5%8C%96%E7%9A%84%E7%99%BE%E7%A7%91%E5%85%A8%E4%B9%A6-Explain%E8%AF%A6%E8%A7%A3%E4%B8%8B/</link><pubDate>Sat, 11 Jan 2025 16:40:12 +0800</pubDate><guid>https://lwmfjc.github.io/zh/docs/technology/MySQL/MySQL%E6%98%AF%E6%80%8E%E6%A0%B7%E8%BF%90%E8%A1%8C%E7%9A%84/%E7%AC%AC16%E7%AB%A0_%E6%9F%A5%E8%AF%A2%E4%BC%98%E5%8C%96%E7%9A%84%E7%99%BE%E7%A7%91%E5%85%A8%E4%B9%A6-Explain%E8%AF%A6%E8%A7%A3%E4%B8%8B/</guid><description>&lt;h1 id="ç¬¬16ç« -æŸ¥è¯¢ä¼˜åŒ–çš„ç™¾ç§‘å…¨ä¹¦-explainè¯¦è§£ä¸‹">
 ç¬¬16ç«  æŸ¥è¯¢ä¼˜åŒ–çš„ç™¾ç§‘å…¨ä¹¦-Explainè¯¦è§£ï¼ˆä¸‹ï¼‰
 &lt;a class="anchor" href="#%e7%ac%ac16%e7%ab%a0-%e6%9f%a5%e8%af%a2%e4%bc%98%e5%8c%96%e7%9a%84%e7%99%be%e7%a7%91%e5%85%a8%e4%b9%a6-explain%e8%af%a6%e8%a7%a3%e4%b8%8b">#&lt;/a>
&lt;/h1>
&lt;p>æ‰§è¡Œè®¡åˆ’è¾“å‡ºä¸­å„åˆ—è¯¦è§£&lt;/p>
&lt;p>æœ¬ç« ç´§æ¥ç€ä¸Šä¸€èŠ‚çš„å†…å®¹ï¼Œç»§ç»­ä»‹ç»&lt;code>EXPLAIN&lt;/code>è¯­å¥è¾“å‡ºçš„å„ä¸ªåˆ—çš„æ„æ€ã€‚&lt;/p>
&lt;h1 id="extra">
 Extra
 &lt;a class="anchor" href="#extra">#&lt;/a>
&lt;/h1>
&lt;p>é¡¾åæ€ä¹‰ï¼Œ&lt;code>Extra&lt;/code>åˆ—æ˜¯ç”¨æ¥è¯´æ˜ä¸€äº›é¢å¤–ä¿¡æ¯çš„ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡è¿™äº›é¢å¤–ä¿¡æ¯æ¥æ›´å‡†ç¡®çš„ç†è§£&lt;code>MySQL&lt;/code>åˆ°åº•å°†å¦‚ä½•æ‰§è¡Œç»™å®šçš„æŸ¥è¯¢è¯­å¥ã€‚&lt;code>MySQL&lt;/code>æä¾›çš„é¢å¤–ä¿¡æ¯æœ‰å¥½å‡ åä¸ªï¼Œæˆ‘ä»¬å°±ä¸ä¸€ä¸ªä¸€ä¸ªä»‹ç»äº†ï¼ˆéƒ½ä»‹ç»äº†æ„Ÿè§‰æˆ‘ä»¬çš„æ–‡ç« å°±è·Ÿæ–‡æ¡£å·®ä¸å¤šäº†ï½ï¼‰ï¼Œæ‰€ä»¥æˆ‘ä»¬åªæŒ‘ä¸€äº›å¹³æ—¶å¸¸è§çš„æˆ–è€…æ¯”è¾ƒé‡è¦çš„é¢å¤–ä¿¡æ¯ä»‹ç»ç»™å¤§å®¶ã€‚&lt;/p>
&lt;ul>
&lt;li>&lt;/li>
&lt;/ul>
&lt;p>&lt;code>No tables used&lt;/code>&lt;/p>
&lt;p>å½“æŸ¥è¯¢è¯­å¥çš„æ²¡æœ‰&lt;code>FROM&lt;/code>å­å¥æ—¶å°†ä¼šæç¤ºè¯¥é¢å¤–ä¿¡æ¯ï¼Œæ¯”å¦‚ï¼š &lt;code>mysql&amp;gt; EXPLAIN SELECT 1; +----+-------------+-------+------------+------+---------------+------+---------+------+------+----------+----------------+ | id | select_type | table | partitions | type | possible_keys | key | key_len | ref | rows | filtered | Extra | +----+-------------+-------+------------+------+---------------+------+---------+------+------+----------+----------------+ | 1 | SIMPLE | NULL | NULL | NULL | NULL | NULL | NULL | NULL | NULL | NULL | No tables used | +----+-------------+-------+------------+------+---------------+------+---------+------+------+----------+----------------+ 1 row in set, 1 warning (0.00 sec)&lt;/code>&lt;/p></description></item><item><title>ç¬¬15ç« _æŸ¥è¯¢ä¼˜åŒ–çš„ç™¾ç§‘å…¨ä¹¦-Explainè¯¦è§£(ä¸Š)</title><link>https://lwmfjc.github.io/zh/docs/technology/MySQL/MySQL%E6%98%AF%E6%80%8E%E6%A0%B7%E8%BF%90%E8%A1%8C%E7%9A%84/%E7%AC%AC15%E7%AB%A0_%E6%9F%A5%E8%AF%A2%E4%BC%98%E5%8C%96%E7%9A%84%E7%99%BE%E7%A7%91%E5%85%A8%E4%B9%A6-Explain%E8%AF%A6%E8%A7%A3%E4%B8%8A/</link><pubDate>Sat, 11 Jan 2025 16:40:11 +0800</pubDate><guid>https://lwmfjc.github.io/zh/docs/technology/MySQL/MySQL%E6%98%AF%E6%80%8E%E6%A0%B7%E8%BF%90%E8%A1%8C%E7%9A%84/%E7%AC%AC15%E7%AB%A0_%E6%9F%A5%E8%AF%A2%E4%BC%98%E5%8C%96%E7%9A%84%E7%99%BE%E7%A7%91%E5%85%A8%E4%B9%A6-Explain%E8%AF%A6%E8%A7%A3%E4%B8%8A/</guid><description>&lt;h1 id="ç¬¬15ç« -æŸ¥è¯¢ä¼˜åŒ–çš„ç™¾ç§‘å…¨ä¹¦-explainè¯¦è§£ä¸Š">
 ç¬¬15ç«  æŸ¥è¯¢ä¼˜åŒ–çš„ç™¾ç§‘å…¨ä¹¦-Explainè¯¦è§£ï¼ˆä¸Šï¼‰
 &lt;a class="anchor" href="#%e7%ac%ac15%e7%ab%a0-%e6%9f%a5%e8%af%a2%e4%bc%98%e5%8c%96%e7%9a%84%e7%99%be%e7%a7%91%e5%85%a8%e4%b9%a6-explain%e8%af%a6%e8%a7%a3%e4%b8%8a">#&lt;/a>
&lt;/h1>
&lt;p>ä¸€æ¡æŸ¥è¯¢è¯­å¥åœ¨ç»è¿‡&lt;code>MySQL&lt;/code>æŸ¥è¯¢ä¼˜åŒ–å™¨çš„å„ç§åŸºäºæˆæœ¬å’Œè§„åˆ™çš„ä¼˜åŒ–ä¼šåç”Ÿæˆä¸€ä¸ªæ‰€è°“çš„&lt;code>æ‰§è¡Œè®¡åˆ’&lt;/code>ï¼Œè¿™ä¸ªæ‰§è¡Œè®¡åˆ’å±•ç¤ºäº†æ¥ä¸‹æ¥å…·ä½“æ‰§è¡ŒæŸ¥è¯¢çš„æ–¹å¼ï¼Œæ¯”å¦‚å¤šè¡¨è¿æ¥çš„é¡ºåºæ˜¯ä»€ä¹ˆï¼Œå¯¹äºæ¯ä¸ªè¡¨é‡‡ç”¨ä»€ä¹ˆè®¿é—®æ–¹æ³•æ¥å…·ä½“æ‰§è¡ŒæŸ¥è¯¢ç­‰ç­‰ã€‚è®¾è®¡&lt;code>MySQL&lt;/code>çš„å¤§ä½¬è´´å¿ƒçš„ä¸ºæˆ‘ä»¬æä¾›äº†&lt;code>EXPLAIN&lt;/code>è¯­å¥æ¥å¸®åŠ©æˆ‘ä»¬æŸ¥çœ‹æŸä¸ªæŸ¥è¯¢è¯­å¥çš„å…·ä½“æ‰§è¡Œè®¡åˆ’ï¼Œæœ¬ç« çš„å†…å®¹å°±æ˜¯ä¸ºäº†å¸®åŠ©å¤§å®¶çœ‹æ‡‚&lt;code>EXPLAIN&lt;/code>è¯­å¥çš„å„ä¸ªè¾“å‡ºé¡¹éƒ½æ˜¯å¹²å˜›ä½¿çš„ï¼Œä»è€Œå¯ä»¥æœ‰é’ˆå¯¹æ€§çš„æå‡æˆ‘ä»¬æŸ¥è¯¢è¯­å¥çš„æ€§èƒ½ã€‚&lt;/p>
&lt;p>å¦‚æœæˆ‘ä»¬æƒ³çœ‹çœ‹æŸä¸ªæŸ¥è¯¢çš„æ‰§è¡Œè®¡åˆ’çš„è¯ï¼Œå¯ä»¥åœ¨å…·ä½“çš„æŸ¥è¯¢è¯­å¥å‰é¢åŠ ä¸€ä¸ª&lt;code>EXPLAIN&lt;/code>ï¼Œå°±åƒè¿™æ ·ï¼š&lt;/p>
&lt;p>&lt;code>mysql&amp;gt; EXPLAIN SELECT 1; +----+-------------+-------+------------+------+---------------+------+---------+------+------+----------+----------------+ | id | select_type | table | partitions | type | possible_keys | key | key_len | ref | rows | filtered | Extra | +----+-------------+-------+------------+------+---------------+------+---------+------+------+----------+----------------+ | 1 | SIMPLE | NULL | NULL | NULL | NULL | NULL | NULL | NULL | NULL | NULL | No tables used | +----+-------------+-------+------------+------+---------------+------+---------+------+------+----------+----------------+ 1 row in set, 1 warning (0.01 sec)&lt;/code> ç„¶åè¿™è¾“å‡ºçš„ä¸€å¤§å¨ä¸œè¥¿å°±æ˜¯æ‰€è°“çš„&lt;code>æ‰§è¡Œè®¡åˆ’&lt;/code>ï¼Œæˆ‘çš„ä»»åŠ¡å°±æ˜¯å¸¦é¢†å¤§å®¶çœ‹æ‡‚è¿™ä¸€å¤§å¨ä¸œè¥¿é‡Œè¾¹çš„æ¯ä¸ªåˆ—éƒ½æ˜¯å¹²ä»€ä¹ˆç”¨çš„ï¼Œä»¥åŠåœ¨è¿™ä¸ª&lt;code>æ‰§è¡Œè®¡åˆ’&lt;/code>çš„è¾…åŠ©ä¸‹ï¼Œæˆ‘ä»¬åº”è¯¥æ€æ ·æ”¹è¿›è‡ªå·±çš„æŸ¥è¯¢è¯­å¥ä»¥ä½¿æŸ¥è¯¢æ‰§è¡Œèµ·æ¥æ›´é«˜æ•ˆã€‚å…¶å®é™¤äº†ä»¥&lt;code>SELECT&lt;/code>å¼€å¤´çš„æŸ¥è¯¢è¯­å¥ï¼Œå…¶ä½™çš„&lt;code>DELETE&lt;/code>ã€&lt;code>INSERT&lt;/code>ã€&lt;code>REPLACE&lt;/code>ä»¥åŠ&lt;code>UPDATE&lt;/code>è¯­å¥å‰é¢éƒ½å¯ä»¥åŠ ä¸Š&lt;code>EXPLAIN&lt;/code>è¿™ä¸ªè¯å„¿ï¼Œç”¨æ¥æŸ¥çœ‹è¿™äº›è¯­å¥çš„æ‰§è¡Œè®¡åˆ’ï¼Œä¸è¿‡æˆ‘ä»¬è¿™é‡Œå¯¹&lt;code>SELECT&lt;/code>è¯­å¥æ›´æ„Ÿå…´è¶£ï¼Œæ‰€ä»¥åè¾¹åªä¼šä»¥&lt;code>SELECT&lt;/code>è¯­å¥ä¸ºä¾‹æ¥æè¿°&lt;code>EXPLAIN&lt;/code>è¯­å¥çš„ç”¨æ³•ã€‚ä¸ºäº†è®©å¤§å®¶å…ˆæœ‰ä¸€ä¸ªæ„Ÿæ€§çš„è®¤è¯†ï¼Œæˆ‘ä»¬æŠŠ&lt;code>EXPLAIN&lt;/code>è¯­å¥è¾“å‡ºçš„å„ä¸ªåˆ—çš„ä½œç”¨å…ˆå¤§è‡´ç½—åˆ—ä¸€ä¸‹ï¼š
åˆ—å æè¿° &lt;code>id&lt;/code> åœ¨ä¸€ä¸ªå¤§çš„æŸ¥è¯¢è¯­å¥ä¸­æ¯ä¸ª&lt;code>SELECT&lt;/code>å…³é”®å­—éƒ½å¯¹åº”ä¸€ä¸ªå”¯ä¸€çš„&lt;code>id&lt;/code> &lt;code>select_type&lt;/code> &lt;code>SELECT&lt;/code>å…³é”®å­—å¯¹åº”çš„é‚£ä¸ªæŸ¥è¯¢çš„ç±»å‹ &lt;code>table&lt;/code> è¡¨å &lt;code>partitions&lt;/code> åŒ¹é…çš„åˆ†åŒºä¿¡æ¯ &lt;code>type&lt;/code> é’ˆå¯¹å•è¡¨çš„è®¿é—®æ–¹æ³• &lt;code>possible_keys&lt;/code> å¯èƒ½ç”¨åˆ°çš„ç´¢å¼• &lt;code>key&lt;/code> å®é™…ä¸Šä½¿ç”¨çš„ç´¢å¼• &lt;code>key_len&lt;/code> å®é™…ä½¿ç”¨åˆ°çš„ç´¢å¼•é•¿åº¦ &lt;code>ref&lt;/code> å½“ä½¿ç”¨ç´¢å¼•åˆ—ç­‰å€¼æŸ¥è¯¢æ—¶ï¼Œä¸ç´¢å¼•åˆ—è¿›è¡Œç­‰å€¼åŒ¹é…çš„å¯¹è±¡ä¿¡æ¯ &lt;code>rows&lt;/code> é¢„ä¼°çš„éœ€è¦è¯»å–çš„è®°å½•æ¡æ•° &lt;code>filtered&lt;/code> æŸä¸ªè¡¨ç»è¿‡æœç´¢æ¡ä»¶è¿‡æ»¤åå‰©ä½™è®°å½•æ¡æ•°çš„ç™¾åˆ†æ¯” &lt;code>Extra&lt;/code> ä¸€äº›é¢å¤–çš„ä¿¡æ¯ &lt;br>
éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œ&lt;strong>å¤§å®¶å¦‚æœçœ‹ä¸æ‡‚ä¸Šé¢è¾“å‡ºåˆ—å«ä¹‰ï¼Œé‚£æ˜¯æ­£å¸¸çš„ï¼Œåƒä¸‡ä¸è¦çº ç»“ï½&lt;/strong>ã€‚æˆ‘åœ¨è¿™é‡ŒæŠŠå®ƒä»¬éƒ½åˆ—å‡ºæ¥åªæ˜¯ä¸ºäº†æè¿°ä¸€ä¸ªè½®å»“ï¼Œè®©å¤§å®¶æœ‰ä¸€ä¸ªå¤§è‡´çš„å°è±¡ï¼Œä¸‹é¢ä¼šç»†ç»†é“æ¥ï¼Œç­‰ä¼šå„¿è¯´å®Œäº†ä¸ä¿¡ä½ ä¸ä¼šï½ ä¸ºäº†æ•…äº‹çš„é¡ºåˆ©å‘å±•ï¼Œæˆ‘ä»¬è¿˜æ˜¯è¦è¯·å‡ºæˆ‘ä»¬å‰é¢å·²ç»ç”¨äº†néçš„&lt;code>single_table&lt;/code>è¡¨ï¼Œä¸ºäº†é˜²æ­¢å¤§å®¶å¿˜äº†ï¼Œå†æŠŠå®ƒçš„ç»“æ„æè¿°ä¸€éï¼š &lt;code>CREATE TABLE single_table ( id INT NOT NULL AUTO_INCREMENT, key1 VARCHAR(100), key2 INT, key3 VARCHAR(100), key_part1 VARCHAR(100), key_part2 VARCHAR(100), key_part3 VARCHAR(100), common_field VARCHAR(100), PRIMARY KEY (id), KEY idx_key1 (key1), UNIQUE KEY idx_key2 (key2), KEY idx_key3 (key3), KEY idx_key_part(key_part1, key_part2, key_part3) ) Engine=InnoDB CHARSET=utf8;&lt;/code> æˆ‘ä»¬ä»ç„¶å‡è®¾æœ‰ä¸¤ä¸ªå’Œ&lt;code>single_table&lt;/code>è¡¨æ„é€ ä¸€æ¨¡ä¸€æ ·çš„&lt;code>s1&lt;/code>ã€&lt;code>s2&lt;/code>è¡¨ï¼Œè€Œä¸”è¿™ä¸¤ä¸ªè¡¨é‡Œè¾¹å„¿æœ‰10000æ¡è®°å½•ï¼Œé™¤idåˆ—å¤–å…¶ä½™çš„åˆ—éƒ½æ’å…¥éšæœºå€¼ã€‚ä¸ºäº†è®©å¤§å®¶æœ‰æ¯”è¾ƒå¥½çš„é˜…è¯»ä½“éªŒï¼Œæˆ‘ä»¬ä¸‹é¢å¹¶ä¸å‡†å¤‡ä¸¥æ ¼æŒ‰ç…§&lt;code>EXPLAIN&lt;/code>è¾“å‡ºåˆ—çš„é¡ºåºæ¥ä»‹ç»è¿™äº›åˆ—åˆ†åˆ«æ˜¯å¹²å˜›çš„ï¼Œå¤§å®¶æ³¨æ„ä¸€ä¸‹å°±å¥½äº†ã€‚&lt;/p></description></item><item><title>ç¬¬14ç« _ä¸å¥½çœ‹å°±è¦å¤šæ•´å®¹-MySQLåŸºäºè§„åˆ™çš„ä¼˜åŒ–(å†…å«å…³äºå­æŸ¥è¯¢ä¼˜åŒ–äºŒä¸‰äº‹å„¿)</title><link>https://lwmfjc.github.io/zh/docs/technology/MySQL/MySQL%E6%98%AF%E6%80%8E%E6%A0%B7%E8%BF%90%E8%A1%8C%E7%9A%84/%E7%AC%AC14%E7%AB%A0_%E4%B8%8D%E5%A5%BD%E7%9C%8B%E5%B0%B1%E8%A6%81%E5%A4%9A%E6%95%B4%E5%AE%B9-MySQL%E5%9F%BA%E4%BA%8E%E8%A7%84%E5%88%99%E7%9A%84%E4%BC%98%E5%8C%96%E5%86%85%E5%90%AB%E5%85%B3%E4%BA%8E%E5%AD%90%E6%9F%A5%E8%AF%A2%E4%BC%98%E5%8C%96%E4%BA%8C%E4%B8%89%E4%BA%8B%E5%84%BF/</link><pubDate>Sat, 11 Jan 2025 16:40:10 +0800</pubDate><guid>https://lwmfjc.github.io/zh/docs/technology/MySQL/MySQL%E6%98%AF%E6%80%8E%E6%A0%B7%E8%BF%90%E8%A1%8C%E7%9A%84/%E7%AC%AC14%E7%AB%A0_%E4%B8%8D%E5%A5%BD%E7%9C%8B%E5%B0%B1%E8%A6%81%E5%A4%9A%E6%95%B4%E5%AE%B9-MySQL%E5%9F%BA%E4%BA%8E%E8%A7%84%E5%88%99%E7%9A%84%E4%BC%98%E5%8C%96%E5%86%85%E5%90%AB%E5%85%B3%E4%BA%8E%E5%AD%90%E6%9F%A5%E8%AF%A2%E4%BC%98%E5%8C%96%E4%BA%8C%E4%B8%89%E4%BA%8B%E5%84%BF/</guid><description>&lt;h1 id="ç¬¬14ç« -ä¸å¥½çœ‹å°±è¦å¤šæ•´å®¹-mysqlåŸºäºè§„åˆ™çš„ä¼˜åŒ–å†…å«å…³äºå­æŸ¥è¯¢ä¼˜åŒ–äºŒä¸‰äº‹å„¿">
 ç¬¬14ç«  ä¸å¥½çœ‹å°±è¦å¤šæ•´å®¹-MySQLåŸºäºè§„åˆ™çš„ä¼˜åŒ–ï¼ˆå†…å«å…³äºå­æŸ¥è¯¢ä¼˜åŒ–äºŒä¸‰äº‹å„¿ï¼‰
 &lt;a class="anchor" href="#%e7%ac%ac14%e7%ab%a0-%e4%b8%8d%e5%a5%bd%e7%9c%8b%e5%b0%b1%e8%a6%81%e5%a4%9a%e6%95%b4%e5%ae%b9-mysql%e5%9f%ba%e4%ba%8e%e8%a7%84%e5%88%99%e7%9a%84%e4%bc%98%e5%8c%96%e5%86%85%e5%90%ab%e5%85%b3%e4%ba%8e%e5%ad%90%e6%9f%a5%e8%af%a2%e4%bc%98%e5%8c%96%e4%ba%8c%e4%b8%89%e4%ba%8b%e5%84%bf">#&lt;/a>
&lt;/h1>
&lt;p>å¤§å®¶åˆ«å¿˜äº†&lt;code>MySQL&lt;/code>æœ¬è´¨ä¸Šæ˜¯ä¸€ä¸ªè½¯ä»¶ï¼Œè®¾è®¡&lt;code>MySQL&lt;/code>çš„å¤§ä½¬å¹¶ä¸èƒ½è¦æ±‚ä½¿ç”¨è¿™ä¸ªè½¯ä»¶çš„äººä¸ªä¸ªéƒ½æ˜¯æ•°æ®åº“é«˜é«˜æ‰‹ï¼Œå°±åƒæˆ‘å†™è¿™æœ¬ä¹¦çš„æ—¶å€™å¹¶ä¸èƒ½è¦æ±‚å„ä½åœ¨å­¦ä¹‹å‰å°±ä¼šäº†é‡Œè¾¹å„¿çš„çŸ¥è¯†ã€‚ &lt;code>åæ§½ä¸€ä¸‹ï¼šéƒ½ä¼šäº†çš„äººè°è¿˜çœ‹å‘¢ï¼Œéš¾é“æ˜¯ä¸ºäº†ç²¾ç¥ä¸Šå—æ„ŸåŒ–ï¼Ÿ&lt;/code> ä¹Ÿå°±æ˜¯è¯´æˆ‘ä»¬æ— æ³•é¿å…æŸäº›åŒå­¦å†™ä¸€äº›æ‰§è¡Œèµ·æ¥ååˆ†è€—è´¹æ€§èƒ½çš„è¯­å¥ã€‚å³ä½¿æ˜¯è¿™æ ·ï¼Œè®¾è®¡&lt;code>MySQL&lt;/code>çš„å¤§ä½¬è¿˜æ˜¯ä¾æ®ä¸€äº›è§„åˆ™ï¼Œç«­å°½å…¨åŠ›çš„æŠŠè¿™ä¸ªå¾ˆç³Ÿç³•çš„è¯­å¥è½¬æ¢æˆæŸç§å¯ä»¥æ¯”è¾ƒé«˜æ•ˆæ‰§è¡Œçš„å½¢å¼ï¼Œè¿™ä¸ªè¿‡ç¨‹ä¹Ÿå¯ä»¥è¢«ç§°ä½œ&lt;code>æŸ¥è¯¢é‡å†™&lt;/code>ï¼ˆå°±æ˜¯äººå®¶è§‰å¾—ä½ å†™çš„è¯­å¥ä¸å¥½ï¼Œè‡ªå·±å†é‡å†™ä¸€éï¼‰ã€‚æœ¬ç« è¯¦ç»†ä»‹ç»ä¸€ä¸‹ä¸€äº›æ¯”è¾ƒé‡è¦çš„é‡å†™è§„åˆ™ã€‚&lt;/p>
&lt;p>æ¡ä»¶åŒ–ç®€&lt;/p>
&lt;p>æˆ‘ä»¬ç¼–å†™çš„æŸ¥è¯¢è¯­å¥çš„æœç´¢æ¡ä»¶æœ¬è´¨ä¸Šæ˜¯ä¸€ä¸ªè¡¨è¾¾å¼ï¼Œè¿™äº›è¡¨è¾¾å¼å¯èƒ½æ¯”è¾ƒç¹æ‚ï¼Œæˆ–è€…ä¸èƒ½é«˜æ•ˆçš„æ‰§è¡Œï¼Œ&lt;code>MySQL&lt;/code>çš„æŸ¥è¯¢ä¼˜åŒ–å™¨ä¼šä¸ºæˆ‘ä»¬ç®€åŒ–è¿™äº›è¡¨è¾¾å¼ã€‚ä¸ºäº†æ–¹ä¾¿å¤§å®¶ç†è§£ï¼Œæˆ‘ä»¬åè¾¹ä¸¾ä¾‹å­çš„æ—¶å€™éƒ½ä½¿ç”¨è¯¸å¦‚&lt;code>a&lt;/code>ã€&lt;code>b&lt;/code>ã€&lt;code>c&lt;/code>ä¹‹ç±»çš„ç®€å•å­—æ¯ä»£è¡¨æŸä¸ªè¡¨çš„åˆ—åã€‚&lt;/p>
&lt;h1 id="ç§»é™¤ä¸å¿…è¦çš„æ‹¬å·">
 ç§»é™¤ä¸å¿…è¦çš„æ‹¬å·
 &lt;a class="anchor" href="#%e7%a7%bb%e9%99%a4%e4%b8%8d%e5%bf%85%e8%a6%81%e7%9a%84%e6%8b%ac%e5%8f%b7">#&lt;/a>
&lt;/h1>
&lt;p>æœ‰æ—¶å€™è¡¨è¾¾å¼é‡Œæœ‰è®¸å¤šæ— ç”¨çš„æ‹¬å·ï¼Œæ¯”å¦‚è¿™æ ·ï¼š &lt;code>((a = 5 AND b = c) OR ((a &amp;gt; c) AND (c &amp;lt; 5)))&lt;/code> çœ‹ç€å°±å¾ˆçƒ¦ï¼Œä¼˜åŒ–å™¨ä¼šæŠŠé‚£äº›ç”¨ä¸åˆ°çš„æ‹¬å·ç»™å¹²æ‰ï¼Œå°±æ˜¯è¿™æ ·ï¼š &lt;code>(a = 5 and b = c) OR (a &amp;gt; c AND c &amp;lt; 5)&lt;/code>&lt;/p>
&lt;h1 id="å¸¸é‡ä¼ é€’constant_propagation">
 å¸¸é‡ä¼ é€’ï¼ˆconstant_propagationï¼‰
 &lt;a class="anchor" href="#%e5%b8%b8%e9%87%8f%e4%bc%a0%e9%80%92constant_propagation">#&lt;/a>
&lt;/h1>
&lt;p>æœ‰æ—¶å€™æŸä¸ªè¡¨è¾¾å¼æ˜¯æŸä¸ªåˆ—å’ŒæŸä¸ªå¸¸é‡åšç­‰å€¼åŒ¹é…ï¼Œæ¯”å¦‚è¿™æ ·ï¼š &lt;code>a = 5&lt;/code> å½“è¿™ä¸ªè¡¨è¾¾å¼å’Œå…¶ä»–æ¶‰åŠåˆ—&lt;code>a&lt;/code>çš„è¡¨è¾¾å¼ä½¿ç”¨&lt;code>AND&lt;/code>è¿æ¥èµ·æ¥æ—¶ï¼Œå¯ä»¥å°†å…¶ä»–è¡¨è¾¾å¼ä¸­çš„&lt;code>a&lt;/code>çš„å€¼æ›¿æ¢ä¸º&lt;code>5&lt;/code>ï¼Œæ¯”å¦‚è¿™æ ·ï¼š &lt;code>a = 5 AND b &amp;gt; a&lt;/code> å°±å¯ä»¥è¢«è½¬æ¢ä¸ºï¼š &lt;code>a = 5 AND b &amp;gt; 5&lt;/code> &lt;code>å°è´´å£«ï¼šä¸ºä»€ä¹ˆç”¨ORè¿æ¥èµ·æ¥çš„è¡¨è¾¾å¼å°±ä¸èƒ½è¿›è¡Œå¸¸é‡ä¼ é€’å‘¢ï¼Ÿè‡ªå·±æƒ³æƒ³ï½&lt;/code>&lt;/p>
&lt;h1 id="ç­‰å€¼ä¼ é€’equality_propagation">
 ç­‰å€¼ä¼ é€’ï¼ˆequality_propagationï¼‰
 &lt;a class="anchor" href="#%e7%ad%89%e5%80%bc%e4%bc%a0%e9%80%92equality_propagation">#&lt;/a>
&lt;/h1>
&lt;p>æœ‰æ—¶å€™å¤šä¸ªåˆ—ä¹‹é—´å­˜åœ¨ç­‰å€¼åŒ¹é…çš„å…³ç³»ï¼Œæ¯”å¦‚è¿™æ ·ï¼š &lt;code>a = b and b = c and c = 5&lt;/code> è¿™ä¸ªè¡¨è¾¾å¼å¯ä»¥è¢«ç®€åŒ–ä¸ºï¼š &lt;code>a = 5 and b = 5 and c = 5&lt;/code>&lt;/p></description></item><item><title>ç¬¬13ç« _å…µé©¬æœªåŠ¨ç²®è‰å…ˆè¡Œ-InnoDBç»Ÿè®¡æ•°æ®æ˜¯å¦‚ä½•æ”¶é›†çš„</title><link>https://lwmfjc.github.io/zh/docs/technology/MySQL/MySQL%E6%98%AF%E6%80%8E%E6%A0%B7%E8%BF%90%E8%A1%8C%E7%9A%84/%E7%AC%AC13%E7%AB%A0_%E5%85%B5%E9%A9%AC%E6%9C%AA%E5%8A%A8%E7%B2%AE%E8%8D%89%E5%85%88%E8%A1%8C-InnoDB%E7%BB%9F%E8%AE%A1%E6%95%B0%E6%8D%AE%E6%98%AF%E5%A6%82%E4%BD%95%E6%94%B6%E9%9B%86%E7%9A%84/</link><pubDate>Sat, 11 Jan 2025 16:40:09 +0800</pubDate><guid>https://lwmfjc.github.io/zh/docs/technology/MySQL/MySQL%E6%98%AF%E6%80%8E%E6%A0%B7%E8%BF%90%E8%A1%8C%E7%9A%84/%E7%AC%AC13%E7%AB%A0_%E5%85%B5%E9%A9%AC%E6%9C%AA%E5%8A%A8%E7%B2%AE%E8%8D%89%E5%85%88%E8%A1%8C-InnoDB%E7%BB%9F%E8%AE%A1%E6%95%B0%E6%8D%AE%E6%98%AF%E5%A6%82%E4%BD%95%E6%94%B6%E9%9B%86%E7%9A%84/</guid><description>&lt;h1 id="ç¬¬13ç« -å…µé©¬æœªåŠ¨ç²®è‰å…ˆè¡Œ-innodbç»Ÿè®¡æ•°æ®æ˜¯å¦‚ä½•æ”¶é›†çš„">
 ç¬¬13ç«  å…µé©¬æœªåŠ¨ï¼Œç²®è‰å…ˆè¡Œ-InnoDBç»Ÿè®¡æ•°æ®æ˜¯å¦‚ä½•æ”¶é›†çš„
 &lt;a class="anchor" href="#%e7%ac%ac13%e7%ab%a0-%e5%85%b5%e9%a9%ac%e6%9c%aa%e5%8a%a8%e7%b2%ae%e8%8d%89%e5%85%88%e8%a1%8c-innodb%e7%bb%9f%e8%ae%a1%e6%95%b0%e6%8d%ae%e6%98%af%e5%a6%82%e4%bd%95%e6%94%b6%e9%9b%86%e7%9a%84">#&lt;/a>
&lt;/h1>
&lt;p>æˆ‘ä»¬å‰é¢ä»‹ç»æŸ¥è¯¢æˆæœ¬çš„æ—¶å€™ç»å¸¸ç”¨åˆ°ä¸€äº›ç»Ÿè®¡æ•°æ®ï¼Œæ¯”å¦‚é€šè¿‡&lt;code>SHOW TABLE STATUS&lt;/code>å¯ä»¥çœ‹åˆ°å…³äºè¡¨çš„ç»Ÿè®¡æ•°æ®ï¼Œé€šè¿‡&lt;code>SHOW INDEX&lt;/code>å¯ä»¥çœ‹åˆ°å…³äºç´¢å¼•çš„ç»Ÿè®¡æ•°æ®ï¼Œé‚£ä¹ˆè¿™äº›ç»Ÿè®¡æ•°æ®æ˜¯æ€ä¹ˆæ¥çš„å‘¢ï¼Ÿå®ƒä»¬æ˜¯ä»¥ä»€ä¹ˆæ–¹å¼æ”¶é›†çš„å‘¢ï¼Ÿæœ¬ç« å°†èšç„¦äº&lt;code>InnoDB&lt;/code>å­˜å‚¨å¼•æ“çš„ç»Ÿè®¡æ•°æ®æ”¶é›†ç­–ç•¥ï¼Œçœ‹å®Œæœ¬ç« å¤§å®¶å°±ä¼šæ˜ç™½ä¸ºä»€ä¹ˆå‰é¢è€è¯´&lt;code>InnoDB&lt;/code>çš„ç»Ÿè®¡ä¿¡æ¯æ˜¯ä¸ç²¾ç¡®çš„ä¼°è®¡å€¼äº†ï¼ˆè¨€ä¸‹ä¹‹æ„å°±æ˜¯æˆ‘ä»¬ä¸æ‰“ç®—ä»‹ç»&lt;code>MyISAM&lt;/code>å­˜å‚¨å¼•æ“ç»Ÿè®¡æ•°æ®çš„æ”¶é›†å’Œå­˜å‚¨æ–¹å¼ï¼Œæœ‰æƒ³äº†è§£çš„åŒå­¦è‡ªå·±ä¸ªå„¿çœ‹çœ‹æ–‡æ¡£ï¼‰ã€‚&lt;/p>
&lt;p>ä¸¤ç§ä¸åŒçš„ç»Ÿè®¡æ•°æ®å­˜å‚¨æ–¹å¼&lt;/p>
&lt;p>&lt;code>InnoDB&lt;/code>æä¾›äº†ä¸¤ç§å­˜å‚¨ç»Ÿè®¡æ•°æ®çš„æ–¹å¼ï¼š&lt;/p>
&lt;ul>
&lt;li>&lt;/li>
&lt;/ul>
&lt;p>æ°¸ä¹…æ€§çš„ç»Ÿè®¡æ•°æ®&lt;/p>
&lt;p>è¿™ç§ç»Ÿè®¡æ•°æ®å­˜å‚¨åœ¨ç£ç›˜ä¸Šï¼Œä¹Ÿå°±æ˜¯æœåŠ¡å™¨é‡å¯ä¹‹åè¿™äº›ç»Ÿè®¡æ•°æ®è¿˜åœ¨ã€‚&lt;/p>
&lt;ul>
&lt;li>&lt;/li>
&lt;/ul>
&lt;p>éæ°¸ä¹…æ€§çš„ç»Ÿè®¡æ•°æ®&lt;/p>
&lt;p>è¿™ç§ç»Ÿè®¡æ•°æ®å­˜å‚¨åœ¨å†…å­˜ä¸­ï¼Œå½“æœåŠ¡å™¨å…³é—­æ—¶è¿™äº›è¿™äº›ç»Ÿè®¡æ•°æ®å°±éƒ½è¢«æ¸…é™¤æ‰äº†ï¼Œç­‰åˆ°æœåŠ¡å™¨é‡å¯ä¹‹åï¼Œåœ¨æŸäº›é€‚å½“çš„åœºæ™¯ä¸‹æ‰ä¼šé‡æ–°æ”¶é›†è¿™äº›ç»Ÿè®¡æ•°æ®ã€‚&lt;/p>
&lt;p>è®¾è®¡&lt;code>MySQL&lt;/code>çš„å¤§ä½¬ä»¬ç»™æˆ‘ä»¬æä¾›äº†ç³»ç»Ÿå˜é‡&lt;code>innodb_stats_persistent&lt;/code>æ¥æ§åˆ¶åˆ°åº•é‡‡ç”¨å“ªç§æ–¹å¼å»å­˜å‚¨ç»Ÿè®¡æ•°æ®ã€‚åœ¨&lt;code>MySQL 5.6.6&lt;/code>ä¹‹å‰ï¼Œ&lt;code>innodb_stats_persistent&lt;/code>çš„å€¼é»˜è®¤æ˜¯&lt;code>OFF&lt;/code>ï¼Œä¹Ÿå°±æ˜¯è¯´&lt;code>InnoDB&lt;/code>çš„ç»Ÿè®¡æ•°æ®é»˜è®¤æ˜¯å­˜å‚¨åˆ°å†…å­˜çš„ï¼Œä¹‹åçš„ç‰ˆæœ¬ä¸­&lt;code>innodb_stats_persistent&lt;/code>çš„å€¼é»˜è®¤æ˜¯&lt;code>ON&lt;/code>ï¼Œä¹Ÿå°±æ˜¯ç»Ÿè®¡æ•°æ®é»˜è®¤è¢«å­˜å‚¨åˆ°ç£ç›˜ä¸­ã€‚&lt;/p>
&lt;p>ä¸è¿‡&lt;code>InnoDB&lt;/code>é»˜è®¤æ˜¯&lt;strong>ä»¥è¡¨ä¸ºå•ä½æ¥æ”¶é›†å’Œå­˜å‚¨ç»Ÿè®¡æ•°æ®çš„&lt;/strong>ï¼Œä¹Ÿå°±æ˜¯è¯´æˆ‘ä»¬å¯ä»¥æŠŠæŸäº›è¡¨çš„ç»Ÿè®¡æ•°æ®ï¼ˆä»¥åŠè¯¥è¡¨çš„ç´¢å¼•ç»Ÿè®¡æ•°æ®ï¼‰å­˜å‚¨åœ¨ç£ç›˜ä¸Šï¼ŒæŠŠå¦ä¸€äº›è¡¨çš„ç»Ÿè®¡æ•°æ®å­˜å‚¨åœ¨å†…å­˜ä¸­ã€‚æ€ä¹ˆåšåˆ°çš„å‘¢ï¼Ÿæˆ‘ä»¬å¯ä»¥åœ¨åˆ›å»ºå’Œä¿®æ”¹è¡¨çš„æ—¶å€™é€šè¿‡æŒ‡å®š&lt;code>STATS_PERSISTENT&lt;/code>å±æ€§æ¥æŒ‡æ˜è¯¥è¡¨çš„ç»Ÿè®¡æ•°æ®å­˜å‚¨æ–¹å¼ï¼š &lt;code>CREATE TABLE è¡¨å (...) Engine=InnoDB, STATS_PERSISTENT = (1|0); ALTER TABLE è¡¨å Engine=InnoDB, STATS_PERSISTENT = (1|0);&lt;/code> å½“&lt;code>STATS_PERSISTENT=1&lt;/code>æ—¶ï¼Œè¡¨æ˜æˆ‘ä»¬æƒ³æŠŠè¯¥è¡¨çš„ç»Ÿè®¡æ•°æ®æ°¸ä¹…çš„å­˜å‚¨åˆ°ç£ç›˜ä¸Šï¼Œå½“&lt;code>STATS_PERSISTENT=0&lt;/code>æ—¶ï¼Œè¡¨æ˜æˆ‘ä»¬æƒ³æŠŠè¯¥è¡¨çš„ç»Ÿè®¡æ•°æ®ä¸´æ—¶çš„å­˜å‚¨åˆ°å†…å­˜ä¸­ã€‚å¦‚æœæˆ‘ä»¬åœ¨åˆ›å»ºè¡¨æ—¶æœªæŒ‡å®š&lt;code>STATS_PERSISTENT&lt;/code>å±æ€§ï¼Œé‚£é»˜è®¤é‡‡ç”¨ç³»ç»Ÿå˜é‡&lt;code>innodb_stats_persistent&lt;/code>çš„å€¼ä½œä¸ºè¯¥å±æ€§çš„å€¼ã€‚&lt;/p>
&lt;p>åŸºäºç£ç›˜çš„æ°¸ä¹…æ€§ç»Ÿè®¡æ•°æ®&lt;/p>
&lt;p>å½“æˆ‘ä»¬é€‰æ‹©æŠŠæŸä¸ªè¡¨ä»¥åŠè¯¥è¡¨ç´¢å¼•çš„ç»Ÿè®¡æ•°æ®å­˜æ”¾åˆ°ç£ç›˜ä¸Šæ—¶ï¼Œå®é™…ä¸Šæ˜¯æŠŠè¿™äº›ç»Ÿè®¡æ•°æ®å­˜å‚¨åˆ°äº†ä¸¤ä¸ªè¡¨é‡Œï¼š&lt;/p>
&lt;p>&lt;code>mysql&amp;gt; SHOW TABLES FROM mysql LIKE 'innodb%'; +---------------------------+ | Tables_in_mysql (innodb%) | +---------------------------+ | innodb_index_stats | | innodb_table_stats | +---------------------------+ 2 rows in set (0.01 sec)&lt;/code> å¯ä»¥çœ‹åˆ°ï¼Œè¿™ä¸¤ä¸ªè¡¨éƒ½ä½äº&lt;code>mysql&lt;/code>ç³»ç»Ÿæ•°æ®åº“ä¸‹é¢ï¼Œå…¶ä¸­ï¼š - &lt;code>innodb_table_stats&lt;/code>å­˜å‚¨äº†å…³äºè¡¨çš„ç»Ÿè®¡æ•°æ®ï¼Œæ¯ä¸€æ¡è®°å½•å¯¹åº”ç€ä¸€ä¸ªè¡¨çš„ç»Ÿè®¡æ•°æ®ã€‚ - &lt;code>innodb_index_stats&lt;/code>å­˜å‚¨äº†å…³äºç´¢å¼•çš„ç»Ÿè®¡æ•°æ®ï¼Œæ¯ä¸€æ¡è®°å½•å¯¹åº”ç€ä¸€ä¸ªç´¢å¼•çš„ä¸€ä¸ªç»Ÿè®¡é¡¹çš„ç»Ÿè®¡æ•°æ®ã€‚&lt;/p>
&lt;p>æˆ‘ä»¬ä¸‹é¢çš„ä»»åŠ¡å°±æ˜¯çœ‹ä¸€ä¸‹è¿™ä¸¤ä¸ªè¡¨é‡Œè¾¹éƒ½æœ‰ä»€ä¹ˆä»¥åŠè¡¨é‡Œçš„æ•°æ®æ˜¯å¦‚ä½•ç”Ÿæˆçš„ã€‚&lt;/p>
&lt;h1 id="innodb_table_stats">
 innodb_table_stats
 &lt;a class="anchor" href="#innodb_table_stats">#&lt;/a>
&lt;/h1>
&lt;p>ç›´æ¥çœ‹ä¸€ä¸‹è¿™ä¸ª&lt;code>innodb_table_stats&lt;/code>è¡¨ä¸­çš„å„ä¸ªåˆ—éƒ½æ˜¯å¹²å˜›çš„ï¼š
å­—æ®µå æè¿° &lt;code>database_name&lt;/code> æ•°æ®åº“å &lt;code>table_name&lt;/code> è¡¨å &lt;code>last_update&lt;/code> æœ¬æ¡è®°å½•æœ€åæ›´æ–°æ—¶é—´ &lt;code>n_rows&lt;/code> è¡¨ä¸­è®°å½•çš„æ¡æ•° &lt;code>clustered_index_size&lt;/code> è¡¨çš„èšç°‡ç´¢å¼•å ç”¨çš„é¡µé¢æ•°é‡ &lt;code>sum_of_other_index_sizes&lt;/code> è¡¨çš„å…¶ä»–ç´¢å¼•å ç”¨çš„é¡µé¢æ•°é‡ &lt;br>
æ³¨æ„è¿™ä¸ªè¡¨çš„ä¸»é”®æ˜¯&lt;code>(database_name,table_name)&lt;/code>ï¼Œä¹Ÿå°±æ˜¯&lt;strong>innodb_table_statsè¡¨çš„æ¯æ¡è®°å½•ä»£è¡¨ç€ä¸€ä¸ªè¡¨çš„ç»Ÿè®¡ä¿¡æ¯&lt;/strong>ã€‚æˆ‘ä»¬ç›´æ¥çœ‹ä¸€ä¸‹è¿™ä¸ªè¡¨é‡Œçš„å†…å®¹ï¼š &lt;code>mysql&amp;gt; SELECT * FROM mysql.innodb_table_stats; +---------------+---------------+---------------------+--------+----------------------+--------------------------+ | database_name | table_name | last_update | n_rows | clustered_index_size | sum_of_other_index_sizes | +---------------+---------------+---------------------+--------+----------------------+--------------------------+ | mysql | gtid_executed | 2018-07-10 23:51:36 | 0 | 1 | 0 | | sys | sys_config | 2018-07-10 23:51:38 | 5 | 1 | 0 | | xiaohaizi | single_table | 2018-12-10 17:03:13 | 9693 | 97 | 175 | +---------------+---------------+---------------------+--------+----------------------+--------------------------+ 3 rows in set (0.01 sec)&lt;/code> å¯ä»¥çœ‹åˆ°æˆ‘ä»¬ç†Ÿæ‚‰çš„&lt;code>single_table&lt;/code>è¡¨çš„ç»Ÿè®¡ä¿¡æ¯å°±å¯¹åº”ç€&lt;code>mysql.innodb_table_stats&lt;/code>çš„ç¬¬ä¸‰æ¡è®°å½•ã€‚å‡ ä¸ªé‡è¦ç»Ÿè®¡ä¿¡æ¯é¡¹çš„å€¼å¦‚ä¸‹ï¼š - &lt;code>n_rows&lt;/code>çš„å€¼æ˜¯&lt;code>9693&lt;/code>ï¼Œè¡¨æ˜&lt;code>single_table&lt;/code>è¡¨ä¸­å¤§çº¦æœ‰&lt;code>9693&lt;/code>æ¡è®°å½•ï¼Œæ³¨æ„è¿™ä¸ªæ•°æ®æ˜¯ä¼°è®¡å€¼ã€‚ - &lt;code>clustered_index_size&lt;/code>çš„å€¼æ˜¯&lt;code>97&lt;/code>ï¼Œè¡¨æ˜&lt;code>single_table&lt;/code>è¡¨çš„èšç°‡ç´¢å¼•å ç”¨97ä¸ªé¡µé¢ï¼Œè¿™ä¸ªå€¼æ˜¯ä¹Ÿæ˜¯ä¸€ä¸ªä¼°è®¡å€¼ã€‚ - &lt;code>sum_of_other_index_sizes&lt;/code>çš„å€¼æ˜¯&lt;code>175&lt;/code>ï¼Œè¡¨æ˜&lt;code>single_table&lt;/code>è¡¨çš„å…¶ä»–ç´¢å¼•ä¸€å…±å ç”¨175ä¸ªé¡µé¢ï¼Œè¿™ä¸ªå€¼æ˜¯ä¹Ÿæ˜¯ä¸€ä¸ªä¼°è®¡å€¼ã€‚&lt;/p></description></item><item><title>ç¬¬12ç« _è°æœ€ä¾¿å®œå°±é€‰è°-MySQLåŸºäºæˆæœ¬çš„ä¼˜åŒ–</title><link>https://lwmfjc.github.io/zh/docs/technology/MySQL/MySQL%E6%98%AF%E6%80%8E%E6%A0%B7%E8%BF%90%E8%A1%8C%E7%9A%84/%E7%AC%AC12%E7%AB%A0_%E8%B0%81%E6%9C%80%E4%BE%BF%E5%AE%9C%E5%B0%B1%E9%80%89%E8%B0%81-MySQL%E5%9F%BA%E4%BA%8E%E6%88%90%E6%9C%AC%E7%9A%84%E4%BC%98%E5%8C%96/</link><pubDate>Sat, 11 Jan 2025 16:40:08 +0800</pubDate><guid>https://lwmfjc.github.io/zh/docs/technology/MySQL/MySQL%E6%98%AF%E6%80%8E%E6%A0%B7%E8%BF%90%E8%A1%8C%E7%9A%84/%E7%AC%AC12%E7%AB%A0_%E8%B0%81%E6%9C%80%E4%BE%BF%E5%AE%9C%E5%B0%B1%E9%80%89%E8%B0%81-MySQL%E5%9F%BA%E4%BA%8E%E6%88%90%E6%9C%AC%E7%9A%84%E4%BC%98%E5%8C%96/</guid><description>&lt;h1 id="ç¬¬12ç« -è°æœ€ä¾¿å®œå°±é€‰è°-mysqlåŸºäºæˆæœ¬çš„ä¼˜åŒ–">
 ç¬¬12ç«  è°æœ€ä¾¿å®œå°±é€‰è°-MySQLåŸºäºæˆæœ¬çš„ä¼˜åŒ–
 &lt;a class="anchor" href="#%e7%ac%ac12%e7%ab%a0-%e8%b0%81%e6%9c%80%e4%be%bf%e5%ae%9c%e5%b0%b1%e9%80%89%e8%b0%81-mysql%e5%9f%ba%e4%ba%8e%e6%88%90%e6%9c%ac%e7%9a%84%e4%bc%98%e5%8c%96">#&lt;/a>
&lt;/h1>
&lt;p>ä»€ä¹ˆæ˜¯æˆæœ¬&lt;/p>
&lt;p>æˆ‘ä»¬ä¹‹å‰è€è¯´&lt;code>MySQL&lt;/code>æ‰§è¡Œä¸€ä¸ªæŸ¥è¯¢å¯ä»¥æœ‰ä¸åŒçš„æ‰§è¡Œæ–¹æ¡ˆï¼Œå®ƒä¼šé€‰æ‹©å…¶ä¸­æˆæœ¬æœ€ä½ï¼Œæˆ–è€…è¯´ä»£ä»·æœ€ä½çš„é‚£ç§æ–¹æ¡ˆå»çœŸæ­£çš„æ‰§è¡ŒæŸ¥è¯¢ã€‚ä¸è¿‡æˆ‘ä»¬ä¹‹å‰å¯¹&lt;code>æˆæœ¬&lt;/code>çš„æè¿°æ˜¯éå¸¸æ¨¡ç³Šçš„ï¼Œå…¶å®åœ¨&lt;code>MySQL&lt;/code>ä¸­ä¸€æ¡æŸ¥è¯¢è¯­å¥çš„æ‰§è¡Œæˆæœ¬æ˜¯ç”±ä¸‹é¢è¿™ä¸¤ä¸ªæ–¹é¢ç»„æˆçš„ï¼š&lt;/p>
&lt;ul>
&lt;li>&lt;/li>
&lt;/ul>
&lt;p>&lt;code>I/O&lt;/code>æˆæœ¬&lt;/p>
&lt;p>æˆ‘ä»¬çš„è¡¨ç»å¸¸ä½¿ç”¨çš„&lt;code>MyISAM&lt;/code>ã€&lt;code>InnoDB&lt;/code>å­˜å‚¨å¼•æ“éƒ½æ˜¯å°†æ•°æ®å’Œç´¢å¼•éƒ½å­˜å‚¨åˆ°ç£ç›˜ä¸Šçš„ï¼Œå½“æˆ‘ä»¬æƒ³æŸ¥è¯¢è¡¨ä¸­çš„è®°å½•æ—¶ï¼Œéœ€è¦å…ˆæŠŠæ•°æ®æˆ–è€…ç´¢å¼•åŠ è½½åˆ°å†…å­˜ä¸­ç„¶åå†æ“ä½œã€‚è¿™ä¸ªä»ç£ç›˜åˆ°å†…å­˜è¿™ä¸ªåŠ è½½çš„è¿‡ç¨‹æŸè€—çš„æ—¶é—´ç§°ä¹‹ä¸º&lt;code>I/O&lt;/code>æˆæœ¬ã€‚&lt;/p>
&lt;ul>
&lt;li>&lt;/li>
&lt;/ul>
&lt;p>&lt;code>CPU&lt;/code>æˆæœ¬&lt;/p>
&lt;p>è¯»å–ä»¥åŠæ£€æµ‹è®°å½•æ˜¯å¦æ»¡è¶³å¯¹åº”çš„æœç´¢æ¡ä»¶ã€å¯¹ç»“æœé›†è¿›è¡Œæ’åºç­‰è¿™äº›æ“ä½œæŸè€—çš„æ—¶é—´ç§°ä¹‹ä¸º&lt;code>CPU&lt;/code>æˆæœ¬ã€‚&lt;/p>
&lt;p>å¯¹äº&lt;code>InnoDB&lt;/code>å­˜å‚¨å¼•æ“æ¥è¯´ï¼Œé¡µæ˜¯ç£ç›˜å’Œå†…å­˜ä¹‹é—´äº¤äº’çš„åŸºæœ¬å•ä½ï¼Œè®¾è®¡&lt;code>MySQL&lt;/code>çš„å¤§ä½¬è§„å®šè¯»å–ä¸€ä¸ªé¡µé¢èŠ±è´¹çš„æˆæœ¬é»˜è®¤æ˜¯&lt;code>1.0&lt;/code>ï¼Œè¯»å–ä»¥åŠæ£€æµ‹ä¸€æ¡è®°å½•æ˜¯å¦ç¬¦åˆæœç´¢æ¡ä»¶çš„æˆæœ¬é»˜è®¤æ˜¯&lt;code>0.2&lt;/code>ã€‚&lt;code>1.0&lt;/code>ã€&lt;code>0.2&lt;/code>è¿™äº›æ•°å­—ç§°ä¹‹ä¸º&lt;code>æˆæœ¬å¸¸æ•°&lt;/code>ï¼Œè¿™ä¸¤ä¸ªæˆæœ¬å¸¸æ•°æˆ‘ä»¬æœ€å¸¸ç”¨åˆ°ï¼Œå…¶ä½™çš„æˆæœ¬å¸¸æ•°æˆ‘ä»¬åè¾¹å†è¯´ã€‚ &lt;code>å°è´´å£«ï¼šéœ€è¦æ³¨æ„çš„æ˜¯ï¼Œä¸ç®¡è¯»å–è®°å½•æ—¶éœ€ä¸éœ€è¦æ£€æµ‹æ˜¯å¦æ»¡è¶³æœç´¢æ¡ä»¶ï¼Œå…¶æˆæœ¬éƒ½ç®—æ˜¯0.2ã€‚&lt;/code>&lt;/p>
&lt;p>å•è¡¨æŸ¥è¯¢çš„æˆæœ¬&lt;/p>
&lt;h1 id="å‡†å¤‡å·¥ä½œ">
 å‡†å¤‡å·¥ä½œ
 &lt;a class="anchor" href="#%e5%87%86%e5%a4%87%e5%b7%a5%e4%bd%9c">#&lt;/a>
&lt;/h1>
&lt;p>ä¸ºäº†æ•…äº‹çš„é¡ºåˆ©å‘å±•ï¼Œæˆ‘ä»¬è¿˜å¾—æŠŠä¹‹å‰ç”¨åˆ°çš„&lt;code>single_table&lt;/code>è¡¨æ¬æ¥ï¼Œæ€•å¤§å®¶å¿˜äº†è¿™ä¸ªè¡¨é•¿ä»€ä¹ˆæ ·ï¼Œå†ç»™å¤§å®¶æŠ„ä¸€éï¼š &lt;code>CREATE TABLE single_table ( id INT NOT NULL AUTO_INCREMENT, key1 VARCHAR(100), key2 INT, key3 VARCHAR(100), key_part1 VARCHAR(100), key_part2 VARCHAR(100), key_part3 VARCHAR(100), common_field VARCHAR(100), PRIMARY KEY (id), KEY idx_key1 (key1), UNIQUE KEY idx_key2 (key2), KEY idx_key3 (key3), KEY idx_key_part(key_part1, key_part2, key_part3) ) Engine=InnoDB CHARSET=utf8;&lt;/code> è¿˜æ˜¯å‡è®¾è¿™ä¸ªè¡¨é‡Œè¾¹å„¿æœ‰10000æ¡è®°å½•ï¼Œé™¤&lt;code>id&lt;/code>åˆ—å¤–å…¶ä½™çš„åˆ—éƒ½æ’å…¥éšæœºå€¼ã€‚ä¸‹é¢æ­£å¼å¼€å§‹æˆ‘ä»¬çš„è¡¨æ¼”ã€‚&lt;/p>
&lt;h1 id="åŸºäºæˆæœ¬çš„ä¼˜åŒ–æ­¥éª¤">
 åŸºäºæˆæœ¬çš„ä¼˜åŒ–æ­¥éª¤
 &lt;a class="anchor" href="#%e5%9f%ba%e4%ba%8e%e6%88%90%e6%9c%ac%e7%9a%84%e4%bc%98%e5%8c%96%e6%ad%a5%e9%aa%a4">#&lt;/a>
&lt;/h1>
&lt;p>åœ¨ä¸€æ¡å•è¡¨æŸ¥è¯¢è¯­å¥çœŸæ­£æ‰§è¡Œä¹‹å‰ï¼Œ&lt;code>MySQL&lt;/code>çš„æŸ¥è¯¢ä¼˜åŒ–å™¨ä¼šæ‰¾å‡ºæ‰§è¡Œè¯¥è¯­å¥æ‰€æœ‰å¯èƒ½ä½¿ç”¨çš„æ–¹æ¡ˆï¼Œå¯¹æ¯”ä¹‹åæ‰¾å‡ºæˆæœ¬æœ€ä½çš„æ–¹æ¡ˆï¼Œè¿™ä¸ªæˆæœ¬æœ€ä½çš„æ–¹æ¡ˆå°±æ˜¯æ‰€è°“çš„&lt;code>æ‰§è¡Œè®¡åˆ’&lt;/code>ï¼Œä¹‹åæ‰ä¼šè°ƒç”¨å­˜å‚¨å¼•æ“æä¾›çš„æ¥å£çœŸæ­£çš„æ‰§è¡ŒæŸ¥è¯¢ï¼Œè¿™ä¸ªè¿‡ç¨‹æ€»ç»“ä¸€ä¸‹å°±æ˜¯è¿™æ ·ï¼š 1. æ ¹æ®æœç´¢æ¡ä»¶ï¼Œæ‰¾å‡ºæ‰€æœ‰å¯èƒ½ä½¿ç”¨çš„ç´¢å¼• 2. è®¡ç®—å…¨è¡¨æ‰«æçš„ä»£ä»· 3. è®¡ç®—ä½¿ç”¨ä¸åŒç´¢å¼•æ‰§è¡ŒæŸ¥è¯¢çš„ä»£ä»· 4. å¯¹æ¯”å„ç§æ‰§è¡Œæ–¹æ¡ˆçš„ä»£ä»·ï¼Œæ‰¾å‡ºæˆæœ¬æœ€ä½çš„é‚£ä¸€ä¸ª&lt;/p></description></item><item><title>ç¬¬11ç« _ä¸¤ä¸ªè¡¨çš„äº²å¯†æ¥è§¦-è¿æ¥çš„åŸç†</title><link>https://lwmfjc.github.io/zh/docs/technology/MySQL/MySQL%E6%98%AF%E6%80%8E%E6%A0%B7%E8%BF%90%E8%A1%8C%E7%9A%84/%E7%AC%AC11%E7%AB%A0_%E4%B8%A4%E4%B8%AA%E8%A1%A8%E7%9A%84%E4%BA%B2%E5%AF%86%E6%8E%A5%E8%A7%A6-%E8%BF%9E%E6%8E%A5%E7%9A%84%E5%8E%9F%E7%90%86/</link><pubDate>Sat, 11 Jan 2025 16:40:07 +0800</pubDate><guid>https://lwmfjc.github.io/zh/docs/technology/MySQL/MySQL%E6%98%AF%E6%80%8E%E6%A0%B7%E8%BF%90%E8%A1%8C%E7%9A%84/%E7%AC%AC11%E7%AB%A0_%E4%B8%A4%E4%B8%AA%E8%A1%A8%E7%9A%84%E4%BA%B2%E5%AF%86%E6%8E%A5%E8%A7%A6-%E8%BF%9E%E6%8E%A5%E7%9A%84%E5%8E%9F%E7%90%86/</guid><description>&lt;h1 id="ç¬¬11ç« -ä¸¤ä¸ªè¡¨çš„äº²å¯†æ¥è§¦-è¿æ¥çš„åŸç†">
 ç¬¬11ç«  ä¸¤ä¸ªè¡¨çš„äº²å¯†æ¥è§¦-è¿æ¥çš„åŸç†
 &lt;a class="anchor" href="#%e7%ac%ac11%e7%ab%a0-%e4%b8%a4%e4%b8%aa%e8%a1%a8%e7%9a%84%e4%ba%b2%e5%af%86%e6%8e%a5%e8%a7%a6-%e8%bf%9e%e6%8e%a5%e7%9a%84%e5%8e%9f%e7%90%86">#&lt;/a>
&lt;/h1>
&lt;p>ææ•°æ®åº“ä¸€ä¸ªé¿ä¸å¼€çš„æ¦‚å¿µå°±æ˜¯&lt;code>Join&lt;/code>ï¼Œç¿»è¯‘æˆä¸­æ–‡å°±æ˜¯&lt;code>è¿æ¥&lt;/code>ã€‚ç›¸ä¿¡å¾ˆå¤šå°ä¼™ä¼´åœ¨åˆå­¦è¿æ¥çš„æ—¶å€™æœ‰äº›ä¸€è„¸æ‡µé€¼ï¼Œç†è§£äº†è¿æ¥çš„è¯­ä¹‰ä¹‹ååˆå¯èƒ½ä¸æ˜ç™½å„ä¸ªè¡¨ä¸­çš„è®°å½•åˆ°åº•æ˜¯æ€ä¹ˆè¿èµ·æ¥çš„ï¼Œä»¥è‡³äºåœ¨ä½¿ç”¨çš„æ—¶å€™å¸¸å¸¸é™·å…¥ä¸‹é¢ä¸¤ç§è¯¯åŒºï¼š - è¯¯åŒºä¸€ï¼šä¸šåŠ¡è‡³ä¸Šï¼Œç®¡ä»–ä¸‰ä¸ƒäºŒåä¸€ï¼Œå†å¤æ‚çš„æŸ¥è¯¢ä¹Ÿç”¨åœ¨ä¸€ä¸ªè¿æ¥è¯­å¥ä¸­æå®šã€‚ - è¯¯åŒºäºŒï¼šæ•¬è€Œè¿œä¹‹ï¼Œä¸Šæ¬¡ DBA é‚£ç»™æŠ¥è¿‡æ¥çš„æ…¢æŸ¥è¯¢å°±æ˜¯å› ä¸ºä½¿ç”¨äº†è¿æ¥å¯¼è‡´çš„ï¼Œä»¥åå†ä¹Ÿä¸æ•¢ç”¨äº†ã€‚&lt;/p>
&lt;p>æ‰€ä»¥æœ¬ç« å°±æ¥æ‰’ä¸€æ‰’è¿æ¥çš„åŸç†ã€‚è€ƒè™‘åˆ°ä¸€éƒ¨åˆ†å°ä¼™ä¼´å¯èƒ½å¿˜äº†è¿æ¥æ˜¯ä»€ä¹ˆæˆ–è€…å‹æ ¹å„¿å°±ä¸çŸ¥é“ï¼Œä¸ºäº†èŠ‚çœä»–ä»¬ç™¾åº¦æˆ–è€…çœ‹å…¶ä»–ä¹¦çš„å®è´µæ—¶é—´ä»¥åŠä¸ºäº†æˆ‘çš„ä¹¦å‡‘å­—æ•°ï¼Œæˆ‘ä»¬å…ˆæ¥ä»‹ç»ä¸€ä¸‹ MySQL ä¸­æ”¯æŒçš„ä¸€äº›è¿æ¥è¯­æ³•ã€‚&lt;/p>
&lt;p>è¿æ¥ç®€ä»‹&lt;/p>
&lt;h1 id="è¿æ¥çš„æœ¬è´¨">
 è¿æ¥çš„æœ¬è´¨
 &lt;a class="anchor" href="#%e8%bf%9e%e6%8e%a5%e7%9a%84%e6%9c%ac%e8%b4%a8">#&lt;/a>
&lt;/h1>
&lt;p>ä¸ºäº†æ•…äº‹çš„é¡ºåˆ©å‘å±•ï¼Œæˆ‘ä»¬å…ˆå»ºç«‹ä¸¤ä¸ªç®€å•çš„è¡¨å¹¶ç»™å®ƒä»¬å¡«å……ä¸€ç‚¹æ•°æ®ï¼š&lt;/p>
&lt;pre tabindex="0">&lt;code class="language-mysql>" data-lang="mysql>">
mysql&amp;gt; CREATE TABLE t2 (m2 int, n2 char\(1)\); Query OK, 0 rows affected (0.02 sec)

mysql&amp;gt; INSERT INTO t1 VALUES(1, &amp;#39;a&amp;#39;), (2, &amp;#39;b&amp;#39;), (3, &amp;#39;c&amp;#39;); Query OK, 3 rows affected (0.00 sec) Records: 3 Duplicates: 0 Warnings: 0

mysql&amp;gt; INSERT INTO t2 VALUES(2, &amp;#39;b&amp;#39;), (3, &amp;#39;c&amp;#39;), (4, &amp;#39;d&amp;#39;); Query OK, 3 rows affected (0.00 sec) Records: 3 Duplicates: 0 Warnings: 0
&lt;/code>&lt;/pre>&lt;p>&lt;code>æˆ‘ä»¬æˆåŠŸå»ºç«‹äº†&lt;/code>t1&lt;code>ã€&lt;/code>t2&lt;code>ä¸¤ä¸ªè¡¨ï¼Œè¿™ä¸¤ä¸ªè¡¨éƒ½æœ‰ä¸¤ä¸ªåˆ—ï¼Œä¸€ä¸ªæ˜¯&lt;/code>INT&lt;code>ç±»å‹çš„ï¼Œä¸€ä¸ªæ˜¯&lt;/code>CHAR(1)`ç±»å‹çš„ï¼Œå¡«å……å¥½æ•°æ®çš„ä¸¤ä¸ªè¡¨é•¿è¿™æ ·ï¼š&lt;/p></description></item><item><title>ç¬¬10ç« _æ¡æ¡å¤§è·¯é€šç½—é©¬-å•è¡¨è®¿é—®æ–¹æ³•</title><link>https://lwmfjc.github.io/zh/docs/technology/MySQL/MySQL%E6%98%AF%E6%80%8E%E6%A0%B7%E8%BF%90%E8%A1%8C%E7%9A%84/%E7%AC%AC10%E7%AB%A0_%E6%9D%A1%E6%9D%A1%E5%A4%A7%E8%B7%AF%E9%80%9A%E7%BD%97%E9%A9%AC-%E5%8D%95%E8%A1%A8%E8%AE%BF%E9%97%AE%E6%96%B9%E6%B3%95/</link><pubDate>Sat, 11 Jan 2025 16:40:06 +0800</pubDate><guid>https://lwmfjc.github.io/zh/docs/technology/MySQL/MySQL%E6%98%AF%E6%80%8E%E6%A0%B7%E8%BF%90%E8%A1%8C%E7%9A%84/%E7%AC%AC10%E7%AB%A0_%E6%9D%A1%E6%9D%A1%E5%A4%A7%E8%B7%AF%E9%80%9A%E7%BD%97%E9%A9%AC-%E5%8D%95%E8%A1%A8%E8%AE%BF%E9%97%AE%E6%96%B9%E6%B3%95/</guid><description>&lt;h1 id="ç¬¬10ç« -æ¡æ¡å¤§è·¯é€šç½—é©¬-å•è¡¨è®¿é—®æ–¹æ³•">
 ç¬¬10ç«  æ¡æ¡å¤§è·¯é€šç½—é©¬-å•è¡¨è®¿é—®æ–¹æ³•
 &lt;a class="anchor" href="#%e7%ac%ac10%e7%ab%a0-%e6%9d%a1%e6%9d%a1%e5%a4%a7%e8%b7%af%e9%80%9a%e7%bd%97%e9%a9%ac-%e5%8d%95%e8%a1%a8%e8%ae%bf%e9%97%ae%e6%96%b9%e6%b3%95">#&lt;/a>
&lt;/h1>
&lt;p>å¯¹äºæˆ‘ä»¬è¿™äº›&lt;code>MySQL&lt;/code>çš„ä½¿ç”¨è€…æ¥è¯´ï¼Œ&lt;code>MySQL&lt;/code>å…¶å®å°±æ˜¯ä¸€ä¸ªè½¯ä»¶ï¼Œå¹³æ—¶ç”¨çš„æœ€å¤šçš„å°±æ˜¯æŸ¥è¯¢åŠŸèƒ½ã€‚DBAæ—¶ä¸æ—¶ä¸¢è¿‡æ¥ä¸€äº›æ…¢æŸ¥è¯¢è¯­å¥è®©ä¼˜åŒ–ï¼Œæˆ‘ä»¬å¦‚æœè¿æŸ¥è¯¢æ˜¯æ€ä¹ˆæ‰§è¡Œçš„éƒ½ä¸æ¸…æ¥šè¿˜ä¼˜åŒ–ä¸ªæ¯›çº¿ï¼Œæ‰€ä»¥æ˜¯æ—¶å€™æŒæ¡çœŸæ­£çš„æŠ€æœ¯äº†ã€‚æˆ‘ä»¬åœ¨ç¬¬ä¸€ç« çš„æ—¶å€™å°±æ›¾è¯´è¿‡ï¼Œ&lt;code>MySQL Server&lt;/code>æœ‰ä¸€ä¸ªç§°ä¸º&lt;code>æŸ¥è¯¢ä¼˜åŒ–å™¨&lt;/code>çš„æ¨¡å—ï¼Œä¸€æ¡æŸ¥è¯¢è¯­å¥è¿›è¡Œè¯­æ³•è§£æä¹‹åå°±ä¼šè¢«äº¤ç»™æŸ¥è¯¢ä¼˜åŒ–å™¨æ¥è¿›è¡Œä¼˜åŒ–ï¼Œä¼˜åŒ–çš„ç»“æœå°±æ˜¯ç”Ÿæˆä¸€ä¸ªæ‰€è°“çš„&lt;code>æ‰§è¡Œè®¡åˆ’&lt;/code>ï¼Œè¿™ä¸ªæ‰§è¡Œè®¡åˆ’è¡¨æ˜äº†åº”è¯¥ä½¿ç”¨å“ªäº›ç´¢å¼•è¿›è¡ŒæŸ¥è¯¢ï¼Œè¡¨ä¹‹é—´çš„è¿æ¥é¡ºåºæ˜¯ä»€ä¹ˆæ ·çš„ï¼Œæœ€åä¼šæŒ‰ç…§æ‰§è¡Œè®¡åˆ’ä¸­çš„æ­¥éª¤è°ƒç”¨å­˜å‚¨å¼•æ“æä¾›çš„æ–¹æ³•æ¥çœŸæ­£çš„æ‰§è¡ŒæŸ¥è¯¢ï¼Œå¹¶å°†æŸ¥è¯¢ç»“æœè¿”å›ç»™ç”¨æˆ·ã€‚ä¸è¿‡æŸ¥è¯¢ä¼˜åŒ–è¿™ä¸ªä¸»é¢˜æœ‰ç‚¹å„¿å¤§ï¼Œåœ¨å­¦ä¼šè·‘ä¹‹å‰è¿˜å¾—å…ˆå­¦ä¼šèµ°ï¼Œæ‰€ä»¥æœ¬ç« å…ˆæ¥çœ‹çœ‹&lt;code>MySQL&lt;/code>æ€ä¹ˆæ‰§è¡Œå•è¡¨æŸ¥è¯¢ï¼ˆå°±æ˜¯&lt;code>FROM&lt;/code>å­å¥åè¾¹åªæœ‰ä¸€ä¸ªè¡¨ï¼Œæœ€ç®€å•çš„é‚£ç§æŸ¥è¯¢ï½ï¼‰ã€‚ä¸è¿‡éœ€è¦å¼ºè°ƒçš„ä¸€ç‚¹æ˜¯ï¼Œåœ¨å­¦ä¹ æœ¬ç« å‰åŠ¡å¿…çœ‹è¿‡å‰é¢å…³äºè®°å½•ç»“æ„ã€æ•°æ®é¡µç»“æ„ä»¥åŠç´¢å¼•çš„éƒ¨åˆ†ï¼Œå¦‚æœä½ ä¸èƒ½ä¿è¯è¿™äº›ä¸œè¥¿å·²ç»å®Œå…¨æŒæ¡ï¼Œé‚£ä¹ˆæœ¬ç« ä¸é€‚åˆä½ ã€‚&lt;/p>
&lt;p>ä¸ºäº†æ•…äº‹çš„é¡ºåˆ©å‘å±•ï¼Œæˆ‘ä»¬å…ˆå¾—æœ‰ä¸ªè¡¨ï¼š &lt;code>CREATE TABLE single_table ( id INT NOT NULL AUTO_INCREMENT, key1 VARCHAR(100), key2 INT, key3 VARCHAR(100), key_part1 VARCHAR(100), key_part2 VARCHAR(100), key_part3 VARCHAR(100), common_field VARCHAR(100), PRIMARY KEY (id), KEY idx_key1 (key1), UNIQUE KEY idx_key2 (key2), KEY idx_key3 (key3), KEY idx_key_part(key_part1, key_part2, key_part3) ) Engine=InnoDB CHARSET=utf8;&lt;/code> æˆ‘ä»¬ä¸ºè¿™ä¸ª&lt;code>single_table&lt;/code>è¡¨å»ºç«‹äº†1ä¸ªèšç°‡ç´¢å¼•å’Œ4ä¸ªäºŒçº§ç´¢å¼•ï¼Œåˆ†åˆ«æ˜¯ï¼š&lt;/p>
&lt;ul>
&lt;li>&lt;/li>
&lt;/ul>
&lt;p>ä¸º&lt;code>id&lt;/code>åˆ—å»ºç«‹çš„èšç°‡ç´¢å¼•ã€‚&lt;/p>
&lt;ul>
&lt;li>&lt;/li>
&lt;/ul>
&lt;p>ä¸º&lt;code>key1&lt;/code>åˆ—å»ºç«‹çš„&lt;code>idx_key1&lt;/code>äºŒçº§ç´¢å¼•ã€‚&lt;/p>
&lt;ul>
&lt;li>&lt;/li>
&lt;/ul>
&lt;p>ä¸º&lt;code>key2&lt;/code>åˆ—å»ºç«‹çš„&lt;code>idx_key2&lt;/code>äºŒçº§ç´¢å¼•ï¼Œè€Œä¸”è¯¥ç´¢å¼•æ˜¯å”¯ä¸€äºŒçº§ç´¢å¼•ã€‚&lt;/p>
&lt;ul>
&lt;li>&lt;/li>
&lt;/ul>
&lt;p>ä¸º&lt;code>key3&lt;/code>åˆ—å»ºç«‹çš„&lt;code>idx_key3&lt;/code>äºŒçº§ç´¢å¼•ã€‚&lt;/p>
&lt;ul>
&lt;li>&lt;/li>
&lt;/ul>
&lt;p>ä¸º&lt;code>key_part1&lt;/code>ã€&lt;code>key_part2&lt;/code>ã€&lt;code>key_part3&lt;/code>åˆ—å»ºç«‹çš„&lt;code>idx_key_part&lt;/code>äºŒçº§ç´¢å¼•ï¼Œè¿™ä¹Ÿæ˜¯ä¸€ä¸ªè”åˆç´¢å¼•ã€‚&lt;/p>
&lt;p>ç„¶åæˆ‘ä»¬éœ€è¦ä¸ºè¿™ä¸ªè¡¨æ’å…¥10000è¡Œè®°å½•ï¼Œé™¤&lt;code>id&lt;/code>åˆ—å¤–å…¶ä½™çš„åˆ—éƒ½æ’å…¥éšæœºå€¼å°±å¥½äº†ï¼Œå…·ä½“çš„æ’å…¥è¯­å¥æˆ‘å°±ä¸å†™äº†ï¼Œè‡ªå·±å†™ä¸ªç¨‹åºæ’å…¥å§ï¼ˆidåˆ—æ˜¯è‡ªå¢ä¸»é”®åˆ—ï¼Œä¸éœ€è¦æˆ‘ä»¬æ‰‹åŠ¨æ’å…¥ï¼‰ã€‚&lt;/p>
&lt;p>è®¿é—®æ–¹æ³•ï¼ˆaccess methodï¼‰çš„æ¦‚å¿µ&lt;/p>
&lt;p>æƒ³å¿…å„ä½éƒ½ç”¨è¿‡é«˜å¾·åœ°å›¾æ¥æŸ¥æ‰¾åˆ°æŸä¸ªåœ°æ–¹çš„è·¯çº¿å§ï¼ˆæ­¤å¤„æ²¡æœ‰ä¸ºé«˜å¾·åœ°å›¾æ‰“å¹¿å‘Šçš„æ„æ€ï¼Œä»–ä»¬æ²¡ç»™æˆ‘é’±ï¼Œå¤§å®¶ç”¨ç™¾åº¦åœ°å›¾ä¹Ÿå¯ä»¥å•Šï¼‰ï¼Œå¦‚æœæˆ‘ä»¬æœè¥¿å®‰é’Ÿæ¥¼åˆ°å¤§é›å¡”ä¹‹é—´çš„è·¯çº¿çš„è¯ï¼Œåœ°å›¾è½¯ä»¶ä¼šç»™å‡ºnç§è·¯çº¿ä¾›æˆ‘ä»¬é€‰æ‹©ï¼Œå¦‚æœæˆ‘ä»¬å®åœ¨é—²çš„æ²¡äº‹å„¿å¹²å¹¶ä¸”è¶³å¤Ÿæœ‰é’±çš„è¯ï¼Œè¿˜å¯ä»¥ç”¨å—è¾•åŒ—è¾™çš„æ–¹å¼ç»•åœ°çƒä¸€åœˆåˆ°è¾¾ç›®çš„åœ°ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œä¸è®ºé‡‡ç”¨å“ªä¸€ç§æ–¹å¼ï¼Œæˆ‘ä»¬æœ€ç»ˆçš„ç›®æ ‡å°±æ˜¯åˆ°è¾¾å¤§é›å¡”è¿™ä¸ªåœ°æ–¹ã€‚å›åˆ°&lt;code>MySQL&lt;/code>ä¸­æ¥ï¼Œæˆ‘ä»¬å¹³æ—¶æ‰€å†™çš„é‚£äº›æŸ¥è¯¢è¯­å¥æœ¬è´¨ä¸Šåªæ˜¯ä¸€ç§å£°æ˜å¼çš„è¯­æ³•ï¼Œåªæ˜¯å‘Šè¯‰&lt;code>MySQL&lt;/code>æˆ‘ä»¬è¦è·å–çš„æ•°æ®ç¬¦åˆå“ªäº›è§„åˆ™ï¼Œè‡³äº&lt;code>MySQL&lt;/code>èƒŒåœ°é‡Œæ˜¯æ€ä¹ˆæŠŠæŸ¥è¯¢ç»“æœæå‡ºæ¥çš„é‚£æ˜¯&lt;code>MySQL&lt;/code>è‡ªå·±çš„äº‹å„¿ã€‚å¯¹äºå•ä¸ªè¡¨çš„æŸ¥è¯¢æ¥è¯´ï¼Œè®¾è®¡MySQLçš„å¤§ä½¬æŠŠæŸ¥è¯¢çš„æ‰§è¡Œæ–¹å¼å¤§è‡´åˆ†ä¸ºä¸‹é¢ä¸¤ç§ï¼š&lt;/p>
&lt;ul>
&lt;li>&lt;/li>
&lt;/ul>
&lt;p>ä½¿ç”¨å…¨è¡¨æ‰«æè¿›è¡ŒæŸ¥è¯¢&lt;/p>
&lt;p>è¿™ç§æ‰§è¡Œæ–¹å¼å¾ˆå¥½ç†è§£ï¼Œå°±æ˜¯æŠŠè¡¨çš„æ¯ä¸€è¡Œè®°å½•éƒ½æ‰«ä¸€éå˜›ï¼ŒæŠŠç¬¦åˆæœç´¢æ¡ä»¶çš„è®°å½•åŠ å…¥åˆ°ç»“æœé›†å°±å®Œäº†ã€‚ä¸ç®¡æ˜¯ä»€ä¹ˆæŸ¥è¯¢éƒ½å¯ä»¥ä½¿ç”¨è¿™ç§æ–¹å¼æ‰§è¡Œï¼Œå½“ç„¶ï¼Œè¿™ç§ä¹Ÿæ˜¯æœ€ç¬¨çš„æ‰§è¡Œæ–¹å¼ã€‚&lt;/p>
&lt;ul>
&lt;li>&lt;/li>
&lt;/ul>
&lt;p>ä½¿ç”¨ç´¢å¼•è¿›è¡ŒæŸ¥è¯¢&lt;/p></description></item><item><title>ç¬¬9ç« _å­˜æ”¾é¡µçš„å¤§æ± å­-InnoDBçš„è¡¨ç©ºé—´</title><link>https://lwmfjc.github.io/zh/docs/technology/MySQL/MySQL%E6%98%AF%E6%80%8E%E6%A0%B7%E8%BF%90%E8%A1%8C%E7%9A%84/%E7%AC%AC9%E7%AB%A0_%E5%AD%98%E6%94%BE%E9%A1%B5%E7%9A%84%E5%A4%A7%E6%B1%A0%E5%AD%90-InnoDB%E7%9A%84%E8%A1%A8%E7%A9%BA%E9%97%B4/</link><pubDate>Sat, 11 Jan 2025 16:40:05 +0800</pubDate><guid>https://lwmfjc.github.io/zh/docs/technology/MySQL/MySQL%E6%98%AF%E6%80%8E%E6%A0%B7%E8%BF%90%E8%A1%8C%E7%9A%84/%E7%AC%AC9%E7%AB%A0_%E5%AD%98%E6%94%BE%E9%A1%B5%E7%9A%84%E5%A4%A7%E6%B1%A0%E5%AD%90-InnoDB%E7%9A%84%E8%A1%A8%E7%A9%BA%E9%97%B4/</guid><description>&lt;h1 id="ç¬¬9ç« -å­˜æ”¾é¡µçš„å¤§æ± å­-innodbçš„è¡¨ç©ºé—´">
 ç¬¬9ç«  å­˜æ”¾é¡µçš„å¤§æ± å­-InnoDBçš„è¡¨ç©ºé—´
 &lt;a class="anchor" href="#%e7%ac%ac9%e7%ab%a0-%e5%ad%98%e6%94%be%e9%a1%b5%e7%9a%84%e5%a4%a7%e6%b1%a0%e5%ad%90-innodb%e7%9a%84%e8%a1%a8%e7%a9%ba%e9%97%b4">#&lt;/a>
&lt;/h1>
&lt;p>é€šè¿‡å‰é¢å„¿çš„å†…å®¹å¤§å®¶çŸ¥é“ï¼Œ&lt;code>è¡¨ç©ºé—´&lt;/code>æ˜¯ä¸€ä¸ªæŠ½è±¡çš„æ¦‚å¿µï¼Œå¯¹äºç³»ç»Ÿè¡¨ç©ºé—´æ¥è¯´ï¼Œå¯¹åº”ç€æ–‡ä»¶ç³»ç»Ÿä¸­ä¸€ä¸ªæˆ–å¤šä¸ªå®é™…æ–‡ä»¶ï¼›å¯¹äºæ¯ä¸ªç‹¬ç«‹è¡¨ç©ºé—´æ¥è¯´ï¼Œå¯¹åº”ç€æ–‡ä»¶ç³»ç»Ÿä¸­ä¸€ä¸ªåä¸º&lt;code>è¡¨å.ibd&lt;/code>çš„å®é™…æ–‡ä»¶ã€‚å¤§å®¶å¯ä»¥æŠŠè¡¨ç©ºé—´æƒ³è±¡æˆè¢«åˆ‡åˆ†ä¸ºè®¸è®¸å¤šå¤šä¸ª&lt;code>é¡µ&lt;/code>çš„æ± å­ï¼Œå½“æˆ‘ä»¬æƒ³ä¸ºæŸä¸ªè¡¨æ’å…¥ä¸€æ¡è®°å½•çš„æ—¶å€™ï¼Œå°±ä»æ± å­ä¸­æå‡ºä¸€ä¸ªå¯¹åº”çš„é¡µæ¥æŠŠæ•°æ®å†™è¿›å»ã€‚æœ¬ç« å†…å®¹ä¼šæ·±å…¥åˆ°è¡¨ç©ºé—´çš„å„ä¸ªç»†èŠ‚ä¸­ï¼Œå¸¦é¢†å¤§å®¶åœ¨&lt;code>InnoDB&lt;/code>å­˜å‚¨ç»“æ„çš„æ± å­ä¸­ç•…æ¸¸ã€‚ç”±äºæœ¬ç« ä¸­å°†ä¼šæ¶‰åŠæ¯”è¾ƒå¤šçš„æ¦‚å¿µï¼Œè™½ç„¶è¿™äº›æ¦‚å¿µéƒ½ä¸éš¾ï¼Œä½†æ˜¯å´ç›¸äº’ä¾èµ–ï¼Œæ‰€ä»¥å¥‰åŠå¤§å®¶åœ¨çœ‹çš„æ—¶å€™ï¼š&lt;/p>
&lt;ul>
&lt;li>&lt;/li>
&lt;/ul>
&lt;p>&lt;strong>ä¸è¦è·³ç€çœ‹ï¼&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>&lt;/li>
&lt;/ul>
&lt;p>&lt;strong>ä¸è¦è·³ç€çœ‹ï¼&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>&lt;/li>
&lt;/ul>
&lt;p>&lt;strong>ä¸è¦è·³ç€çœ‹ï¼&lt;/strong>&lt;/p>
&lt;p>å›å¿†ä¸€äº›æ—§çŸ¥è¯†&lt;/p>
&lt;h1 id="é¡µç±»å‹">
 é¡µç±»å‹
 &lt;a class="anchor" href="#%e9%a1%b5%e7%b1%bb%e5%9e%8b">#&lt;/a>
&lt;/h1>
&lt;p>å†ä¸€æ¬¡å¼ºè°ƒï¼ŒInnoDBæ˜¯ä»¥é¡µä¸ºå•ä½ç®¡ç†å­˜å‚¨ç©ºé—´çš„ï¼Œæˆ‘ä»¬çš„èšç°‡ç´¢å¼•ï¼ˆä¹Ÿå°±æ˜¯å®Œæ•´çš„è¡¨æ•°æ®ï¼‰å’Œå…¶ä»–çš„äºŒçº§ç´¢å¼•éƒ½æ˜¯ä»¥&lt;code>B+&lt;/code>æ ‘çš„å½¢å¼ä¿å­˜åˆ°è¡¨ç©ºé—´çš„ï¼Œè€Œ&lt;code>B+&lt;/code>æ ‘çš„èŠ‚ç‚¹å°±æ˜¯æ•°æ®é¡µã€‚æˆ‘ä»¬å‰é¢è¯´è¿‡ï¼Œè¿™ä¸ªæ•°æ®é¡µçš„ç±»å‹åå…¶å®æ˜¯ï¼š&lt;code>FIL_PAGE_INDEX&lt;/code>ï¼Œé™¤äº†è¿™ç§å­˜æ”¾ç´¢å¼•æ•°æ®çš„é¡µç±»å‹ä¹‹å¤–ï¼ŒInnoDBä¹Ÿä¸ºäº†ä¸åŒçš„ç›®çš„è®¾è®¡äº†è‹¥å¹²ç§ä¸åŒç±»å‹çš„é¡µï¼Œä¸ºäº†å”¤é†’å¤§å®¶çš„è®°å¿†ï¼Œæˆ‘ä»¬å†ä¸€æ¬¡æŠŠå„ç§å¸¸ç”¨çš„é¡µç±»å‹æå‡ºæ¥ï¼š
ç±»å‹åç§° åå…­è¿›åˆ¶ æè¿° &lt;code>FIL_PAGE_TYPE_ALLOCATED&lt;/code> 0x0000 æœ€æ–°åˆ†é…ï¼Œè¿˜æ²¡ä½¿ç”¨ &lt;code>FIL_PAGE_UNDO_LOG&lt;/code> 0x0002 Undoæ—¥å¿—é¡µ &lt;code>FIL_PAGE_INODE&lt;/code> 0x0003 æ®µä¿¡æ¯èŠ‚ç‚¹ &lt;code>FIL_PAGE_IBUF_FREE_LIST&lt;/code> 0x0004 Insert Bufferç©ºé—²åˆ—è¡¨ &lt;code>FIL_PAGE_IBUF_BITMAP&lt;/code> 0x0005 Insert Bufferä½å›¾ &lt;code>FIL_PAGE_TYPE_SYS&lt;/code> 0x0006 ç³»ç»Ÿé¡µ &lt;code>FIL_PAGE_TYPE_TRX_SYS&lt;/code> 0x0007 äº‹åŠ¡ç³»ç»Ÿæ•°æ® &lt;code>FIL_PAGE_TYPE_FSP_HDR&lt;/code> 0x0008 è¡¨ç©ºé—´å¤´éƒ¨ä¿¡æ¯ &lt;code>FIL_PAGE_TYPE_XDES&lt;/code> 0x0009 æ‰©å±•æè¿°é¡µ &lt;code>FIL_PAGE_TYPE_BLOB&lt;/code> 0x000A BLOBé¡µ &lt;code>FIL_PAGE_INDEX&lt;/code> 0x45BF ç´¢å¼•é¡µï¼Œä¹Ÿå°±æ˜¯æˆ‘ä»¬æ‰€è¯´çš„&lt;code>æ•°æ®é¡µ&lt;/code> &lt;br>
å› ä¸ºé¡µç±»å‹å‰é¢éƒ½æœ‰ä¸ª&lt;code>FIL_PAGE&lt;/code>æˆ–è€…&lt;code>FIL_PAGE_TYPE&lt;/code>çš„å‰ç¼€ï¼Œä¸ºç®€ä¾¿èµ·è§æˆ‘ä»¬åè¾¹ä»‹ç»é¡µç±»å‹çš„æ—¶å€™å°±æŠŠè¿™äº›å‰ç¼€çœç•¥æ‰äº†ï¼Œæ¯”æ–¹è¯´&lt;code>FIL_PAGE_TYPE_ALLOCATED&lt;/code>ç±»å‹ç§°ä¸º&lt;code>ALLOCATED&lt;/code>ç±»å‹ï¼Œ&lt;code>FIL_PAGE_INDEX&lt;/code>ç±»å‹ç§°ä¸º&lt;code>INDEX&lt;/code>ç±»å‹ã€‚&lt;/p>
&lt;h1 id="é¡µé€šç”¨éƒ¨åˆ†">
 é¡µé€šç”¨éƒ¨åˆ†
 &lt;a class="anchor" href="#%e9%a1%b5%e9%80%9a%e7%94%a8%e9%83%a8%e5%88%86">#&lt;/a>
&lt;/h1>
&lt;p>æˆ‘ä»¬å‰é¢è¯´è¿‡æ•°æ®é¡µï¼Œä¹Ÿå°±æ˜¯&lt;code>INDEX&lt;/code>ç±»å‹çš„é¡µç”±7ä¸ªéƒ¨åˆ†ç»„æˆï¼Œå…¶ä¸­çš„ä¸¤ä¸ªéƒ¨åˆ†æ˜¯æ‰€æœ‰ç±»å‹çš„é¡µéƒ½é€šç”¨çš„ã€‚å½“ç„¶æˆ‘ä¸èƒ½å¯„å¸Œæœ›äºä½ æŠŠæˆ‘è¯´çš„è¯éƒ½è®°ä½ï¼Œæ‰€ä»¥åœ¨è¿™é‡Œé‡æ–°å¼ºè°ƒä¸€éï¼Œä»»ä½•ç±»å‹çš„é¡µéƒ½æœ‰ä¸‹é¢è¿™ç§é€šç”¨çš„ç»“æ„ï¼š&lt;/p>
&lt;p>&lt;img src="img/09-01.png" alt="" />&lt;/p>
&lt;p>ä»ä¸Šå›¾ä¸­å¯ä»¥çœ‹å‡ºï¼Œä»»ä½•ç±»å‹çš„é¡µéƒ½ä¼šåŒ…å«è¿™ä¸¤ä¸ªéƒ¨åˆ†ï¼š&lt;/p>
&lt;ul>
&lt;li>&lt;/li>
&lt;/ul>
&lt;p>&lt;code>File Header&lt;/code>ï¼šè®°å½•é¡µçš„ä¸€äº›é€šç”¨ä¿¡æ¯&lt;/p>
&lt;ul>
&lt;li>&lt;/li>
&lt;/ul>
&lt;p>&lt;code>File Trailer&lt;/code>ï¼šæ ¡éªŒé¡µæ˜¯å¦å®Œæ•´ï¼Œä¿è¯ä»å†…å­˜åˆ°ç£ç›˜åˆ·æ–°æ—¶å†…å®¹çš„ä¸€è‡´æ€§ã€‚&lt;/p>
&lt;p>å¯¹äº&lt;code>File Trailer&lt;/code>æˆ‘ä»¬ä¸å†åšè¿‡å¤šå¼ºè°ƒï¼Œå…¨éƒ¨å¿˜è®°äº†çš„è¯å¯ä»¥åˆ°å°†æ•°æ®é¡µçš„é‚£ä¸€ç« å›é¡¾ä¸€ä¸‹ã€‚æˆ‘ä»¬è¿™é‡Œå†å¼ºè°ƒä¸€é&lt;code>File Header&lt;/code>çš„å„ä¸ªç»„æˆéƒ¨åˆ†ï¼š
åç§° å ç”¨ç©ºé—´å¤§å° æè¿° &lt;code>FIL_PAGE_SPACE_OR_CHKSUM&lt;/code> &lt;code>4&lt;/code>å­—èŠ‚ é¡µçš„æ ¡éªŒå’Œï¼ˆchecksumå€¼ï¼‰ &lt;code>FIL_PAGE_OFFSET&lt;/code> &lt;code>4&lt;/code>å­—èŠ‚ é¡µå· &lt;code>FIL_PAGE_PREV&lt;/code> &lt;code>4&lt;/code>å­—èŠ‚ ä¸Šä¸€ä¸ªé¡µçš„é¡µå· &lt;code>FIL_PAGE_NEXT&lt;/code> &lt;code>4&lt;/code>å­—èŠ‚ ä¸‹ä¸€ä¸ªé¡µçš„é¡µå· &lt;code>FIL_PAGE_LSN&lt;/code> &lt;code>8&lt;/code>å­—èŠ‚ é¡µè¢«æœ€åä¿®æ”¹æ—¶å¯¹åº”çš„æ—¥å¿—åºåˆ—ä½ç½®ï¼ˆè‹±æ–‡åæ˜¯ï¼šLog Sequence Numberï¼‰ &lt;code>FIL_PAGE_TYPE&lt;/code> &lt;code>2&lt;/code>å­—èŠ‚ è¯¥é¡µçš„ç±»å‹ &lt;code>FIL_PAGE_FILE_FLUSH_LSN&lt;/code> &lt;code>8&lt;/code>å­—èŠ‚ ä»…åœ¨ç³»ç»Ÿè¡¨ç©ºé—´çš„ä¸€ä¸ªé¡µä¸­å®šä¹‰ï¼Œä»£è¡¨æ–‡ä»¶è‡³å°‘è¢«åˆ·æ–°åˆ°äº†å¯¹åº”çš„LSNå€¼ &lt;code>FIL_PAGE_ARCH_LOG_NO_OR_SPACE_ID&lt;/code> &lt;code>4&lt;/code>å­—èŠ‚ é¡µå±äºå“ªä¸ªè¡¨ç©ºé—´ &lt;br>
ç°åœ¨é™¤äº†åç§°é‡Œè¾¹å„¿å¸¦æœ‰&lt;code>LSN&lt;/code>çš„ä¸¤ä¸ªå­—æ®µå¤§å®¶å¯èƒ½çœ‹ä¸æ‡‚ä»¥å¤–ï¼Œå…¶ä»–çš„å­—æ®µè‚¯å®šéƒ½æ˜¯å€å„¿ç†Ÿäº†ï¼Œä¸è¿‡æˆ‘ä»¬ä»è¦å¼ºè°ƒè¿™ä¹ˆå‡ ç‚¹ï¼š&lt;/p></description></item><item><title>ç¬¬8ç« _æ•°æ®çš„å®¶-MySQLçš„æ•°æ®ç›®å½•</title><link>https://lwmfjc.github.io/zh/docs/technology/MySQL/MySQL%E6%98%AF%E6%80%8E%E6%A0%B7%E8%BF%90%E8%A1%8C%E7%9A%84/%E7%AC%AC8%E7%AB%A0_%E6%95%B0%E6%8D%AE%E7%9A%84%E5%AE%B6-MySQL%E7%9A%84%E6%95%B0%E6%8D%AE%E7%9B%AE%E5%BD%95/</link><pubDate>Sat, 11 Jan 2025 16:40:04 +0800</pubDate><guid>https://lwmfjc.github.io/zh/docs/technology/MySQL/MySQL%E6%98%AF%E6%80%8E%E6%A0%B7%E8%BF%90%E8%A1%8C%E7%9A%84/%E7%AC%AC8%E7%AB%A0_%E6%95%B0%E6%8D%AE%E7%9A%84%E5%AE%B6-MySQL%E7%9A%84%E6%95%B0%E6%8D%AE%E7%9B%AE%E5%BD%95/</guid><description>&lt;h1 id="ç¬¬8ç« -æ•°æ®çš„å®¶-mysqlçš„æ•°æ®ç›®å½•">
 ç¬¬8ç«  æ•°æ®çš„å®¶-MySQLçš„æ•°æ®ç›®å½•
 &lt;a class="anchor" href="#%e7%ac%ac8%e7%ab%a0-%e6%95%b0%e6%8d%ae%e7%9a%84%e5%ae%b6-mysql%e7%9a%84%e6%95%b0%e6%8d%ae%e7%9b%ae%e5%bd%95">#&lt;/a>
&lt;/h1>
&lt;p>æ•°æ®åº“å’Œæ–‡ä»¶ç³»ç»Ÿçš„å…³ç³»&lt;/p>
&lt;p>æˆ‘ä»¬çŸ¥é“åƒ&lt;code>InnoDB&lt;/code>ã€&lt;code>MyISAM&lt;/code>è¿™æ ·çš„å­˜å‚¨å¼•æ“éƒ½æ˜¯æŠŠè¡¨å­˜å‚¨åœ¨ç£ç›˜ä¸Šçš„ï¼Œè€Œæ“ä½œç³»ç»Ÿç”¨æ¥ç®¡ç†ç£ç›˜çš„é‚£ä¸ªä¸œä¸œåˆè¢«ç§°ä¸º&lt;code>æ–‡ä»¶ç³»ç»Ÿ&lt;/code>ï¼Œæ‰€ä»¥ç”¨ä¸“ä¸šä¸€ç‚¹çš„è¯æ¥è¡¨è¿°å°±æ˜¯ï¼š&lt;strong>åƒ &lt;em>&lt;strong>InnoDB&lt;/strong>&lt;/em> ã€ &lt;em>&lt;strong>MyISAM&lt;/strong>&lt;/em> è¿™æ ·çš„å­˜å‚¨å¼•æ“éƒ½æ˜¯æŠŠè¡¨å­˜å‚¨åœ¨æ–‡ä»¶ç³»ç»Ÿä¸Šçš„&lt;/strong>ã€‚å½“æˆ‘ä»¬æƒ³è¯»å–æ•°æ®çš„æ—¶å€™ï¼Œè¿™äº›å­˜å‚¨å¼•æ“ä¼šä»æ–‡ä»¶ç³»ç»Ÿä¸­æŠŠæ•°æ®è¯»å‡ºæ¥è¿”å›ç»™æˆ‘ä»¬ï¼Œå½“æˆ‘ä»¬æƒ³å†™å…¥æ•°æ®çš„æ—¶å€™ï¼Œè¿™äº›å­˜å‚¨å¼•æ“ä¼šæŠŠè¿™äº›æ•°æ®åˆå†™å›æ–‡ä»¶ç³»ç»Ÿã€‚æœ¬ç« å°±æ˜¯è¦ä»‹ç»ä¸€ä¸‹&lt;code>InnoDB&lt;/code>å’Œ&lt;code>MyISAM&lt;/code>è¿™ä¸¤ä¸ªå­˜å‚¨å¼•æ“çš„æ•°æ®å¦‚ä½•åœ¨æ–‡ä»¶ç³»ç»Ÿä¸­å­˜å‚¨çš„ã€‚&lt;/p>
&lt;p>MySQLæ•°æ®ç›®å½•&lt;/p>
&lt;p>MySQLæœåŠ¡å™¨ç¨‹åºåœ¨å¯åŠ¨æ—¶ä¼šåˆ°æ–‡ä»¶ç³»ç»Ÿçš„æŸä¸ªç›®å½•ä¸‹åŠ è½½ä¸€äº›æ–‡ä»¶ï¼Œä¹‹ååœ¨è¿è¡Œè¿‡ç¨‹ä¸­äº§ç”Ÿçš„æ•°æ®ä¹Ÿéƒ½ä¼šå­˜å‚¨åˆ°è¿™ä¸ªç›®å½•ä¸‹çš„æŸäº›æ–‡ä»¶ä¸­ï¼Œè¿™ä¸ªç›®å½•å°±ç§°ä¸º&lt;code>æ•°æ®ç›®å½•&lt;/code>ï¼Œæˆ‘ä»¬ä¸‹é¢å°±è¦è¯¦ç»†å” å” è¿™ä¸ªç›®å½•ä¸‹å…·ä½“éƒ½æœ‰å“ªäº›é‡è¦çš„ä¸œè¥¿ã€‚&lt;/p>
&lt;h1 id="æ•°æ®ç›®å½•å’Œå®‰è£…ç›®å½•çš„åŒºåˆ«">
 æ•°æ®ç›®å½•å’Œå®‰è£…ç›®å½•çš„åŒºåˆ«
 &lt;a class="anchor" href="#%e6%95%b0%e6%8d%ae%e7%9b%ae%e5%bd%95%e5%92%8c%e5%ae%89%e8%a3%85%e7%9b%ae%e5%bd%95%e7%9a%84%e5%8c%ba%e5%88%ab">#&lt;/a>
&lt;/h1>
&lt;p>æˆ‘ä»¬ä¹‹å‰åªæ¥è§¦è¿‡&lt;code>MySQL&lt;/code>çš„å®‰è£…ç›®å½•ï¼ˆåœ¨å®‰è£…&lt;code>MySQL&lt;/code>çš„æ—¶å€™æˆ‘ä»¬å¯ä»¥è‡ªå·±æŒ‡å®šï¼‰ï¼Œæˆ‘ä»¬é‡ç‚¹å¼ºè°ƒè¿‡è¿™ä¸ª&lt;code>å®‰è£…ç›®å½•&lt;/code>ä¸‹éå¸¸é‡è¦çš„&lt;code>bin&lt;/code>ç›®å½•ï¼Œå®ƒé‡Œè¾¹å­˜å‚¨äº†è®¸å¤šå…³äºæ§åˆ¶å®¢æˆ·ç«¯ç¨‹åºå’ŒæœåŠ¡å™¨ç¨‹åºçš„å‘½ä»¤ï¼ˆè®¸å¤šå¯æ‰§è¡Œæ–‡ä»¶ï¼Œæ¯”å¦‚&lt;code>mysql&lt;/code>ï¼Œ&lt;code>mysqld&lt;/code>ï¼Œ&lt;code>mysqld_safe&lt;/code>ç­‰ç­‰ç­‰ç­‰å¥½å‡ åä¸ªï¼‰ã€‚è€Œ&lt;code>æ•°æ®ç›®å½•&lt;/code>æ˜¯ç”¨æ¥å­˜å‚¨&lt;code>MySQL&lt;/code>åœ¨è¿è¡Œè¿‡ç¨‹ä¸­äº§ç”Ÿçš„æ•°æ®ï¼Œä¸€å®šè¦å’Œæœ¬ç« è¦è®¨è®ºçš„&lt;code>å®‰è£…ç›®å½•&lt;/code>åŒºåˆ«å¼€ï¼&lt;strong>ä¸€å®šè¦åŒºåˆ†å¼€&lt;/strong>ï¼&lt;strong>ä¸€å®šè¦åŒºåˆ†å¼€&lt;/strong>ï¼&lt;strong>ä¸€å®šè¦åŒºåˆ†å¼€&lt;/strong>ï¼&lt;/p>
&lt;h1 id="å¦‚ä½•ç¡®å®šmysqlä¸­çš„æ•°æ®ç›®å½•">
 å¦‚ä½•ç¡®å®šMySQLä¸­çš„æ•°æ®ç›®å½•
 &lt;a class="anchor" href="#%e5%a6%82%e4%bd%95%e7%a1%ae%e5%ae%9amysql%e4%b8%ad%e7%9a%84%e6%95%b0%e6%8d%ae%e7%9b%ae%e5%bd%95">#&lt;/a>
&lt;/h1>
&lt;p>é‚£è¯´äº†åŠå¤©ï¼Œåˆ°åº•&lt;code>MySQL&lt;/code>æŠŠæ•°æ®éƒ½å­˜åˆ°å“ªä¸ªè·¯å¾„ä¸‹å‘¢ï¼Ÿå…¶å®&lt;code>æ•°æ®ç›®å½•&lt;/code>å¯¹åº”ç€ä¸€ä¸ªç³»ç»Ÿå˜é‡&lt;code>datadir&lt;/code>ï¼Œæˆ‘ä»¬åœ¨ä½¿ç”¨å®¢æˆ·ç«¯ä¸æœåŠ¡å™¨å»ºç«‹è¿æ¥ä¹‹åæŸ¥çœ‹è¿™ä¸ªç³»ç»Ÿå˜é‡çš„å€¼å°±å¯ä»¥äº†ï¼š &lt;code>mysql&amp;gt; SHOW VARIABLES LIKE 'datadir'; +---------------+-----------------------+ | Variable_name | Value | +---------------+-----------------------+ | datadir | /usr/local/var/mysql/ | +---------------+-----------------------+ 1 row in set (0.00 sec)&lt;/code> ä»ç»“æœä¸­å¯ä»¥çœ‹å‡ºï¼Œ&lt;strong>åœ¨æˆ‘çš„è®¡ç®—æœºä¸Š&lt;/strong>&lt;code>MySQL&lt;/code>çš„æ•°æ®ç›®å½•å°±æ˜¯&lt;code>/usr/local/var/mysql/&lt;/code>ï¼Œä½ ç”¨ä½ çš„è®¡ç®—æœºè¯•è¯•å‘—ï½&lt;/p>
&lt;p>æ•°æ®ç›®å½•çš„ç»“æ„&lt;/p>
&lt;p>&lt;code>MySQL&lt;/code>åœ¨è¿è¡Œè¿‡ç¨‹ä¸­éƒ½ä¼šäº§ç”Ÿå“ªäº›æ•°æ®å‘¢ï¼Ÿå½“ç„¶ä¼šåŒ…å«æˆ‘ä»¬åˆ›å»ºçš„æ•°æ®åº“ã€è¡¨ã€è§†å›¾å’Œè§¦å‘å™¨ç­‰ç­‰çš„ç”¨æˆ·æ•°æ®ï¼Œé™¤äº†è¿™äº›ç”¨æˆ·æ•°æ®ï¼Œä¸ºäº†ç¨‹åºæ›´å¥½çš„è¿è¡Œï¼Œ&lt;code>MySQL&lt;/code>ä¹Ÿä¼šåˆ›å»ºä¸€äº›å…¶ä»–çš„é¢å¤–æ•°æ®ï¼Œæˆ‘ä»¬æ¥ä¸‹æ¥ç»†ç»†çš„å“å‘³ä¸€ä¸‹è¿™ä¸ª&lt;code>æ•°æ®ç›®å½•&lt;/code>ä¸‹çš„å†…å®¹ã€‚&lt;/p>
&lt;h1 id="æ•°æ®åº“åœ¨æ–‡ä»¶ç³»ç»Ÿä¸­çš„è¡¨ç¤º">
 æ•°æ®åº“åœ¨æ–‡ä»¶ç³»ç»Ÿä¸­çš„è¡¨ç¤º
 &lt;a class="anchor" href="#%e6%95%b0%e6%8d%ae%e5%ba%93%e5%9c%a8%e6%96%87%e4%bb%b6%e7%b3%bb%e7%bb%9f%e4%b8%ad%e7%9a%84%e8%a1%a8%e7%a4%ba">#&lt;/a>
&lt;/h1>
&lt;p>æ¯å½“æˆ‘ä»¬ä½¿ç”¨&lt;code>CREATE DATABASE æ•°æ®åº“å&lt;/code>è¯­å¥åˆ›å»ºä¸€ä¸ªæ•°æ®åº“çš„æ—¶å€™ï¼Œåœ¨æ–‡ä»¶ç³»ç»Ÿä¸Šå®é™…å‘ç”Ÿäº†ä»€ä¹ˆå‘¢ï¼Ÿå…¶å®å¾ˆç®€å•ï¼Œ&lt;strong>æ¯ä¸ªæ•°æ®åº“éƒ½å¯¹åº”æ•°æ®ç›®å½•ä¸‹çš„ä¸€ä¸ªå­ç›®å½•ï¼Œæˆ–è€…è¯´å¯¹åº”ä¸€ä¸ªæ–‡ä»¶å¤¹&lt;/strong>ï¼Œæˆ‘ä»¬æ¯å½“æˆ‘ä»¬æ–°å»ºä¸€ä¸ªæ•°æ®åº“æ—¶ï¼Œ&lt;code>MySQL&lt;/code>ä¼šå¸®æˆ‘ä»¬åšè¿™ä¸¤ä»¶äº‹å„¿ï¼š&lt;/p>
&lt;ol>
&lt;li>&lt;/li>
&lt;/ol>
&lt;p>åœ¨&lt;code>æ•°æ®ç›®å½•&lt;/code>ä¸‹åˆ›å»ºä¸€ä¸ªå’Œæ•°æ®åº“ååŒåçš„å­ç›®å½•ï¼ˆæˆ–è€…è¯´æ˜¯æ–‡ä»¶å¤¹ï¼‰ã€‚&lt;/p>
&lt;ol start="2">
&lt;li>&lt;/li>
&lt;/ol>
&lt;p>åœ¨è¯¥ä¸æ•°æ®åº“ååŒåçš„å­ç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ªåä¸º&lt;code>db.opt&lt;/code>çš„æ–‡ä»¶ï¼Œè¿™ä¸ªæ–‡ä»¶ä¸­åŒ…å«äº†è¯¥æ•°æ®åº“çš„å„ç§å±æ€§ï¼Œæ¯”æ–¹è¯´è¯¥æ•°æ®åº“çš„å­—ç¬¦é›†å’Œæ¯”è¾ƒè§„åˆ™æ˜¯ä»€ä¹ˆã€‚&lt;/p>
&lt;p>æ¯”æ–¹è¯´æˆ‘ä»¬æŸ¥çœ‹ä¸€ä¸‹&lt;strong>åœ¨æˆ‘çš„è®¡ç®—æœºä¸Š&lt;/strong>å½“å‰æœ‰å“ªäº›æ•°æ®åº“ï¼š &lt;code>mysql&amp;gt; SHOW DATABASES; +--------------------+ | Database | +--------------------+ | information_schema | | charset_demo_db | | dahaizi | | mysql | | performance_schema | | sys | | xiaohaizi | +--------------------+ 7 rows in set (0.00 sec)&lt;/code> å¯ä»¥çœ‹åˆ°åœ¨æˆ‘çš„è®¡ç®—æœºä¸Šå½“å‰æœ‰7ä¸ªæ•°æ®åº“ï¼Œå…¶ä¸­&lt;code>charset_demo_db&lt;/code>ã€&lt;code>dahaizi&lt;/code>å’Œ&lt;code>xiaohaizi&lt;/code>æ•°æ®åº“æ˜¯æˆ‘ä»¬è‡ªå®šä¹‰çš„ï¼Œå…¶ä½™4ä¸ªæ•°æ®åº“æ˜¯å±äºMySQLè‡ªå¸¦çš„ç³»ç»Ÿæ•°æ®åº“ã€‚æˆ‘ä»¬å†çœ‹ä¸€ä¸‹&lt;strong>æˆ‘çš„è®¡ç®—æœºä¸Š&lt;/strong>çš„&lt;code>æ•°æ®ç›®å½•&lt;/code>ä¸‹çš„å†…å®¹ï¼š ``` . â”œâ”€â”€ auto.cnf â”œâ”€â”€ ca-key.pem â”œâ”€â”€ ca.pem â”œâ”€â”€ charset_demo_db â”œâ”€â”€ client-cert.pem â”œâ”€â”€ client-key.pem â”œâ”€â”€ dahaizi â”œâ”€â”€ ib_buffer_pool â”œâ”€â”€ ib_logfile0 â”œâ”€â”€ ib_logfile1 â”œâ”€â”€ ibdata1 â”œâ”€â”€ ibtmp1 â”œâ”€â”€ mysql â”œâ”€â”€ performance_schema â”œâ”€â”€ private_key.pem â”œâ”€â”€ public_key.pem â”œâ”€â”€ server-cert.pem â”œâ”€â”€ server-key.pem â”œâ”€â”€ sys â”œâ”€â”€ xiaohaizideMacBook-Pro.local.err â”œâ”€â”€ xiaohaizideMacBook-Pro.local.pid â””â”€â”€ xiaohaizi&lt;/p></description></item><item><title>ç¬¬7ç« _å¥½ä¸œè¥¿ä¹Ÿå¾—å…ˆå­¦ä¼šæ€ä¹ˆç”¨-B+æ ‘ç´¢å¼•çš„ä½¿ç”¨</title><link>https://lwmfjc.github.io/zh/docs/technology/MySQL/MySQL%E6%98%AF%E6%80%8E%E6%A0%B7%E8%BF%90%E8%A1%8C%E7%9A%84/%E7%AC%AC7%E7%AB%A0_%E5%A5%BD%E4%B8%9C%E8%A5%BF%E4%B9%9F%E5%BE%97%E5%85%88%E5%AD%A6%E4%BC%9A%E6%80%8E%E4%B9%88%E7%94%A8-B+%E6%A0%91%E7%B4%A2%E5%BC%95%E7%9A%84%E4%BD%BF%E7%94%A8/</link><pubDate>Sat, 11 Jan 2025 16:40:03 +0800</pubDate><guid>https://lwmfjc.github.io/zh/docs/technology/MySQL/MySQL%E6%98%AF%E6%80%8E%E6%A0%B7%E8%BF%90%E8%A1%8C%E7%9A%84/%E7%AC%AC7%E7%AB%A0_%E5%A5%BD%E4%B8%9C%E8%A5%BF%E4%B9%9F%E5%BE%97%E5%85%88%E5%AD%A6%E4%BC%9A%E6%80%8E%E4%B9%88%E7%94%A8-B+%E6%A0%91%E7%B4%A2%E5%BC%95%E7%9A%84%E4%BD%BF%E7%94%A8/</guid><description>&lt;h1 id="ç¬¬7ç« -å¥½ä¸œè¥¿ä¹Ÿå¾—å…ˆå­¦ä¼šæ€ä¹ˆç”¨-bæ ‘ç´¢å¼•çš„ä½¿ç”¨">
 ç¬¬7ç«  å¥½ä¸œè¥¿ä¹Ÿå¾—å…ˆå­¦ä¼šæ€ä¹ˆç”¨-B+æ ‘ç´¢å¼•çš„ä½¿ç”¨
 &lt;a class="anchor" href="#%e7%ac%ac7%e7%ab%a0-%e5%a5%bd%e4%b8%9c%e8%a5%bf%e4%b9%9f%e5%be%97%e5%85%88%e5%ad%a6%e4%bc%9a%e6%80%8e%e4%b9%88%e7%94%a8-b%e6%a0%91%e7%b4%a2%e5%bc%95%e7%9a%84%e4%bd%bf%e7%94%a8">#&lt;/a>
&lt;/h1>
&lt;p>æˆ‘ä»¬å‰é¢è¯¦ç»†ã€è¯¦ç»†åˆè¯¦ç»†çš„ä»‹ç»äº†&lt;code>InnoDB&lt;/code>å­˜å‚¨å¼•æ“çš„&lt;code>B+&lt;/code>æ ‘ç´¢å¼•ï¼Œæˆ‘ä»¬å¿…é¡»ç†Ÿæ‚‰ä¸‹é¢è¿™äº›ç»“è®ºï¼š&lt;/p>
&lt;ul>
&lt;li>&lt;/li>
&lt;/ul>
&lt;p>æ¯ä¸ªç´¢å¼•éƒ½å¯¹åº”ä¸€æ£µ&lt;code>B+&lt;/code>æ ‘ï¼Œ&lt;code>B+&lt;/code>æ ‘åˆ†ä¸ºå¥½å¤šå±‚ï¼Œæœ€ä¸‹é¢ä¸€å±‚æ˜¯å¶å­èŠ‚ç‚¹ï¼Œå…¶ä½™çš„æ˜¯å†…èŠ‚ç‚¹ã€‚æ‰€æœ‰&lt;code>ç”¨æˆ·è®°å½•&lt;/code>éƒ½å­˜å‚¨åœ¨&lt;code>B+&lt;/code>æ ‘çš„å¶å­èŠ‚ç‚¹ï¼Œæ‰€æœ‰&lt;code>ç›®å½•é¡¹è®°å½•&lt;/code>éƒ½å­˜å‚¨åœ¨å†…èŠ‚ç‚¹ã€‚&lt;/p>
&lt;ul>
&lt;li>&lt;/li>
&lt;/ul>
&lt;p>&lt;code>InnoDB&lt;/code>å­˜å‚¨å¼•æ“ä¼šè‡ªåŠ¨ä¸ºä¸»é”®ï¼ˆå¦‚æœæ²¡æœ‰å®ƒä¼šè‡ªåŠ¨å¸®æˆ‘ä»¬æ·»åŠ ï¼‰å»ºç«‹&lt;code>èšç°‡ç´¢å¼•&lt;/code>ï¼Œèšç°‡ç´¢å¼•çš„å¶å­èŠ‚ç‚¹åŒ…å«å®Œæ•´çš„ç”¨æˆ·è®°å½•ã€‚&lt;/p>
&lt;ul>
&lt;li>&lt;/li>
&lt;/ul>
&lt;p>æˆ‘ä»¬å¯ä»¥ä¸ºè‡ªå·±æ„Ÿå…´è¶£çš„åˆ—å»ºç«‹&lt;code>äºŒçº§ç´¢å¼•&lt;/code>ï¼Œ&lt;code>äºŒçº§ç´¢å¼•&lt;/code>çš„å¶å­èŠ‚ç‚¹åŒ…å«çš„ç”¨æˆ·è®°å½•ç”±&lt;code>ç´¢å¼•åˆ— + ä¸»é”®&lt;/code>ç»„æˆï¼Œæ‰€ä»¥å¦‚æœæƒ³é€šè¿‡&lt;code>äºŒçº§ç´¢å¼•&lt;/code>æ¥æŸ¥æ‰¾å®Œæ•´çš„ç”¨æˆ·è®°å½•çš„è¯ï¼Œéœ€è¦é€šè¿‡&lt;code>å›è¡¨&lt;/code>æ“ä½œï¼Œä¹Ÿå°±æ˜¯åœ¨é€šè¿‡&lt;code>äºŒçº§ç´¢å¼•&lt;/code>æ‰¾åˆ°ä¸»é”®å€¼ä¹‹åå†åˆ°&lt;code>èšç°‡ç´¢å¼•&lt;/code>ä¸­æŸ¥æ‰¾å®Œæ•´çš„ç”¨æˆ·è®°å½•ã€‚&lt;/p>
&lt;ul>
&lt;li>&lt;/li>
&lt;/ul>
&lt;p>&lt;code>B+&lt;/code>æ ‘ä¸­æ¯å±‚èŠ‚ç‚¹éƒ½æ˜¯æŒ‰ç…§ç´¢å¼•åˆ—å€¼ä»å°åˆ°å¤§çš„é¡ºåºæ’åºè€Œç»„æˆäº†åŒå‘é“¾è¡¨ï¼Œè€Œä¸”æ¯ä¸ªé¡µå†…çš„è®°å½•ï¼ˆä¸è®ºæ˜¯ç”¨æˆ·è®°å½•è¿˜æ˜¯ç›®å½•é¡¹è®°å½•ï¼‰éƒ½æ˜¯æŒ‰ç…§ç´¢å¼•åˆ—çš„å€¼ä»å°åˆ°å¤§çš„é¡ºåºè€Œå½¢æˆäº†ä¸€ä¸ªå•é“¾è¡¨ã€‚å¦‚æœæ˜¯&lt;code>è”åˆç´¢å¼•&lt;/code>çš„è¯ï¼Œåˆ™é¡µé¢å’Œè®°å½•å…ˆæŒ‰ç…§&lt;code>è”åˆç´¢å¼•&lt;/code>å‰é¢çš„åˆ—æ’åºï¼Œå¦‚æœè¯¥åˆ—å€¼ç›¸åŒï¼Œå†æŒ‰ç…§&lt;code>è”åˆç´¢å¼•&lt;/code>åè¾¹çš„åˆ—æ’åºã€‚&lt;/p>
&lt;ul>
&lt;li>&lt;/li>
&lt;/ul>
&lt;p>é€šè¿‡ç´¢å¼•æŸ¥æ‰¾è®°å½•æ˜¯ä»&lt;code>B+&lt;/code>æ ‘çš„æ ¹èŠ‚ç‚¹å¼€å§‹ï¼Œä¸€å±‚ä¸€å±‚å‘ä¸‹æœç´¢ã€‚ç”±äºæ¯ä¸ªé¡µé¢éƒ½æŒ‰ç…§ç´¢å¼•åˆ—çš„å€¼å»ºç«‹äº†&lt;code>Page Directory&lt;/code>ï¼ˆé¡µç›®å½•ï¼‰ï¼Œæ‰€ä»¥åœ¨è¿™äº›é¡µé¢ä¸­çš„æŸ¥æ‰¾éå¸¸å¿«ã€‚&lt;/p>
&lt;p>å¦‚æœä½ è¯»ä¸Šé¢çš„å‡ ç‚¹ç»“è®ºæœ‰äº›ä»»ä½•ä¸€ç‚¹ç‚¹ç–‘æƒ‘çš„è¯ï¼Œé‚£ä¸‹é¢çš„å†…å®¹ä¸é€‚åˆä½ ï¼Œå›è¿‡å¤´å…ˆå»çœ‹å‰é¢çš„å†…å®¹å»ã€‚&lt;/p>
&lt;p>ç´¢å¼•çš„ä»£ä»·&lt;/p>
&lt;p>åœ¨ç†Ÿæ‚‰äº†&lt;code>B+&lt;/code>æ ‘ç´¢å¼•åŸç†ä¹‹åï¼Œæœ¬ç¯‡æ–‡ç« çš„ä¸»é¢˜æ˜¯ä»‹ç»å¦‚ä½•æ›´å¥½çš„ä½¿ç”¨ç´¢å¼•ï¼Œè™½ç„¶ç´¢å¼•æ˜¯ä¸ªå¥½ä¸œè¥¿ï¼Œå¯ä¸èƒ½ä¹±å»ºï¼Œåœ¨ä»‹ç»å¦‚ä½•æ›´å¥½çš„ä½¿ç”¨ç´¢å¼•ä¹‹å‰å…ˆè¦äº†è§£ä¸€ä¸‹ä½¿ç”¨è¿™ç©æ„å„¿çš„ä»£ä»·ï¼Œå®ƒåœ¨ç©ºé—´å’Œæ—¶é—´ä¸Šéƒ½ä¼šæ‹–åè…¿ï¼š&lt;/p>
&lt;ul>
&lt;li>&lt;/li>
&lt;/ul>
&lt;p>ç©ºé—´ä¸Šçš„ä»£ä»·&lt;/p>
&lt;p>è¿™ä¸ªæ˜¯æ˜¾è€Œæ˜“è§çš„ï¼Œæ¯å»ºç«‹ä¸€ä¸ªç´¢å¼•éƒ½è¦ä¸ºå®ƒå»ºç«‹ä¸€æ£µ&lt;code>B+&lt;/code>æ ‘ï¼Œæ¯ä¸€æ£µ&lt;code>B+&lt;/code>æ ‘çš„æ¯ä¸€ä¸ªèŠ‚ç‚¹éƒ½æ˜¯ä¸€ä¸ªæ•°æ®é¡µï¼Œä¸€ä¸ªé¡µé»˜è®¤ä¼šå ç”¨&lt;code>16KB&lt;/code>çš„å­˜å‚¨ç©ºé—´ï¼Œä¸€æ£µå¾ˆå¤§çš„&lt;code>B+&lt;/code>æ ‘ç”±è®¸å¤šæ•°æ®é¡µç»„æˆï¼Œé‚£å¯æ˜¯å¾ˆå¤§çš„ä¸€ç‰‡å­˜å‚¨ç©ºé—´å‘¢ã€‚&lt;/p>
&lt;ul>
&lt;li>&lt;/li>
&lt;/ul>
&lt;p>æ—¶é—´ä¸Šçš„ä»£ä»·&lt;/p>
&lt;p>æ¯æ¬¡å¯¹è¡¨ä¸­çš„æ•°æ®è¿›è¡Œå¢ã€åˆ ã€æ”¹æ“ä½œæ—¶ï¼Œéƒ½éœ€è¦å»ä¿®æ”¹å„ä¸ª&lt;code>B+&lt;/code>æ ‘ç´¢å¼•ã€‚è€Œä¸”æˆ‘ä»¬è®²è¿‡ï¼Œ&lt;code>B+&lt;/code>æ ‘æ¯å±‚èŠ‚ç‚¹éƒ½æ˜¯æŒ‰ç…§ç´¢å¼•åˆ—çš„å€¼ä»å°åˆ°å¤§çš„é¡ºåºæ’åºè€Œç»„æˆäº†åŒå‘é“¾è¡¨ã€‚ä¸è®ºæ˜¯å¶å­èŠ‚ç‚¹ä¸­çš„è®°å½•ï¼Œè¿˜æ˜¯å†…èŠ‚ç‚¹ä¸­çš„è®°å½•ï¼ˆä¹Ÿå°±æ˜¯ä¸è®ºæ˜¯ç”¨æˆ·è®°å½•è¿˜æ˜¯ç›®å½•é¡¹è®°å½•ï¼‰éƒ½æ˜¯æŒ‰ç…§ç´¢å¼•åˆ—çš„å€¼ä»å°åˆ°å¤§çš„é¡ºåºè€Œå½¢æˆäº†ä¸€ä¸ªå•å‘é“¾è¡¨ã€‚è€Œå¢ã€åˆ ã€æ”¹æ“ä½œå¯èƒ½ä¼šå¯¹èŠ‚ç‚¹å’Œè®°å½•çš„æ’åºé€ æˆç ´åï¼Œæ‰€ä»¥å­˜å‚¨å¼•æ“éœ€è¦é¢å¤–çš„æ—¶é—´è¿›è¡Œä¸€äº›è®°å½•ç§»ä½ï¼Œé¡µé¢åˆ†è£‚ã€é¡µé¢å›æ”¶ä»€ä¹ˆçš„æ“ä½œæ¥ç»´æŠ¤å¥½èŠ‚ç‚¹å’Œè®°å½•çš„æ’åºã€‚å¦‚æœæˆ‘ä»¬å»ºäº†è®¸å¤šç´¢å¼•ï¼Œæ¯ä¸ªç´¢å¼•å¯¹åº”çš„&lt;code>B+&lt;/code>æ ‘éƒ½è¦è¿›è¡Œç›¸å…³çš„ç»´æŠ¤æ“ä½œï¼Œè¿™è¿˜èƒ½ä¸ç»™æ€§èƒ½æ‹–åè…¿ä¹ˆï¼Ÿ&lt;/p>
&lt;p>æ‰€ä»¥è¯´ï¼Œä¸€ä¸ªè¡¨ä¸Šç´¢å¼•å»ºçš„è¶Šå¤šï¼Œå°±ä¼šå ç”¨è¶Šå¤šçš„å­˜å‚¨ç©ºé—´ï¼Œåœ¨å¢åˆ æ”¹è®°å½•çš„æ—¶å€™æ€§èƒ½å°±è¶Šå·®ã€‚ä¸ºäº†èƒ½å»ºç«‹åˆå¥½åˆå°‘çš„ç´¢å¼•ï¼Œæˆ‘ä»¬å…ˆå¾—å­¦å­¦è¿™äº›ç´¢å¼•åœ¨å“ªäº›æ¡ä»¶ä¸‹èµ·ä½œç”¨çš„ã€‚&lt;/p>
&lt;p>B+æ ‘ç´¢å¼•é€‚ç”¨çš„æ¡ä»¶&lt;/p>
&lt;p>ä¸‹é¢æˆ‘ä»¬å°†ä»‹ç»è®¸å¤šç§è®©&lt;code>B+&lt;/code>æ ‘ç´¢å¼•å‘æŒ¥æœ€å¤§æ•ˆèƒ½çš„æŠ€å·§å’Œæ³¨æ„äº‹é¡¹ï¼Œä¸è¿‡å¤§å®¶è¦æ¸…æ¥šï¼Œæ‰€æœ‰çš„æŠ€å·§éƒ½æ˜¯æºè‡ªä½ å¯¹&lt;code>B+&lt;/code>æ ‘ç´¢å¼•æœ¬è´¨çš„ç†è§£ï¼Œæ‰€ä»¥å¦‚æœä½ è¿˜ä¸èƒ½ä¿è¯å¯¹&lt;code>B+&lt;/code>æ ‘ç´¢å¼•å……åˆ†çš„ç†è§£ï¼Œé‚£ä¹ˆå†æ¬¡å»ºè®®å›è¿‡å¤´æŠŠå‰é¢çš„å†…å®¹çœ‹å®Œäº†å†æ¥ï¼Œè¦ä¸ç„¶è¯»æ–‡ç« å¯¹ä½ æ¥è¯´æ˜¯ä¸€ç§æŠ˜ç£¨ã€‚é¦–å…ˆï¼Œ&lt;code>B+&lt;/code>æ ‘ç´¢å¼•å¹¶ä¸æ˜¯ä¸‡èƒ½çš„ï¼Œå¹¶ä¸æ˜¯æ‰€æœ‰çš„æŸ¥è¯¢è¯­å¥éƒ½èƒ½ç”¨åˆ°æˆ‘ä»¬å»ºç«‹çš„ç´¢å¼•ã€‚ä¸‹é¢ä»‹ç»å‡ ä¸ªæˆ‘ä»¬å¯èƒ½ä½¿ç”¨&lt;code>B+&lt;/code>æ ‘ç´¢å¼•æ¥è¿›è¡ŒæŸ¥è¯¢çš„æƒ…å†µã€‚ä¸ºäº†æ•…äº‹çš„é¡ºåˆ©å‘å±•ï¼Œæˆ‘ä»¬éœ€è¦å…ˆåˆ›å»ºä¸€ä¸ªè¡¨ï¼Œè¿™ä¸ªè¡¨æ˜¯ç”¨æ¥å­˜å‚¨äººçš„ä¸€äº›åŸºæœ¬ä¿¡æ¯çš„ï¼š &lt;code>CREATE TABLE person_info( id INT NOT NULL auto_increment, name VARCHAR(100) NOT NULL, birthday DATE NOT NULL, phone_number CHAR(11) NOT NULL, country varchar(100) NOT NULL, PRIMARY KEY (id), KEY idx_name_birthday_phone_number (name, birthday, phone_number) );&lt;/code> å¯¹äºè¿™ä¸ª&lt;code>person_info&lt;/code>è¡¨æˆ‘ä»¬éœ€è¦æ³¨æ„ä¸¤ç‚¹ï¼š&lt;/p>
&lt;ul>
&lt;li>&lt;/li>
&lt;/ul>
&lt;p>è¡¨ä¸­çš„ä¸»é”®æ˜¯&lt;code>id&lt;/code>åˆ—ï¼Œå®ƒå­˜å‚¨ä¸€ä¸ªè‡ªåŠ¨é€’å¢çš„æ•´æ•°ã€‚æ‰€ä»¥&lt;code>InnoDB&lt;/code>å­˜å‚¨å¼•æ“ä¼šè‡ªåŠ¨ä¸º&lt;code>id&lt;/code>åˆ—å»ºç«‹èšç°‡ç´¢å¼•ã€‚&lt;/p>
&lt;ul>
&lt;li>&lt;/li>
&lt;/ul>
&lt;p>æˆ‘ä»¬é¢å¤–å®šä¹‰äº†ä¸€ä¸ªäºŒçº§ç´¢å¼•&lt;code>idx_name_birthday_phone_number&lt;/code>ï¼Œå®ƒæ˜¯ç”±3ä¸ªåˆ—ç»„æˆçš„è”åˆç´¢å¼•ã€‚æ‰€ä»¥åœ¨è¿™ä¸ªç´¢å¼•å¯¹åº”çš„&lt;code>B+&lt;/code>æ ‘çš„å¶å­èŠ‚ç‚¹å¤„å­˜å‚¨çš„ç”¨æˆ·è®°å½•åªä¿ç•™&lt;code>name&lt;/code>ã€&lt;code>birthday&lt;/code>ã€&lt;code>phone_number&lt;/code>è¿™ä¸‰ä¸ªåˆ—çš„å€¼ä»¥åŠä¸»é”®&lt;code>id&lt;/code>çš„å€¼ï¼Œå¹¶ä¸ä¼šä¿å­˜&lt;code>country&lt;/code>åˆ—çš„å€¼ã€‚&lt;/p>
&lt;p>ä»è¿™ä¸¤ç‚¹æ³¨æ„ä¸­æˆ‘ä»¬å¯ä»¥å†æ¬¡çœ‹åˆ°ï¼Œä¸€ä¸ªè¡¨ä¸­æœ‰å¤šå°‘ç´¢å¼•å°±ä¼šå»ºç«‹å¤šå°‘æ£µ&lt;code>B+&lt;/code>æ ‘ï¼Œ&lt;code>person_info&lt;/code>è¡¨ä¼šä¸ºèšç°‡ç´¢å¼•å’Œ&lt;code>idx_name_birthday_phone_number&lt;/code>ç´¢å¼•å»ºç«‹2æ£µ&lt;code>B+&lt;/code>æ ‘ã€‚ä¸‹é¢æˆ‘ä»¬ç”»ä¸€ä¸‹ç´¢å¼•&lt;code>idx_name_birthday_phone_number&lt;/code>çš„ç¤ºæ„å›¾ï¼Œä¸è¿‡æ—¢ç„¶æˆ‘ä»¬å·²ç»æŒæ¡äº†&lt;code>InnoDB&lt;/code>çš„&lt;code>B+&lt;/code>æ ‘ç´¢å¼•åŸç†ï¼Œé‚£æˆ‘ä»¬åœ¨ç”»å›¾çš„æ—¶å€™ä¸ºäº†è®©å›¾æ›´åŠ æ¸…æ™°ï¼Œæ‰€ä»¥åœ¨çœç•¥ä¸€äº›ä¸å¿…è¦çš„éƒ¨åˆ†ï¼Œæ¯”å¦‚è®°å½•çš„é¢å¤–ä¿¡æ¯ï¼Œå„é¡µé¢çš„é¡µå·ç­‰ç­‰ï¼Œå…¶ä¸­å†…èŠ‚ç‚¹ä¸­ç›®å½•é¡¹è®°å½•çš„é¡µå·ä¿¡æ¯æˆ‘ä»¬ç”¨ç®­å¤´æ¥ä»£æ›¿ï¼Œåœ¨è®°å½•ç»“æ„ä¸­åªä¿ç•™&lt;code>name&lt;/code>ã€&lt;code>birthday&lt;/code>ã€&lt;code>phone_number&lt;/code>ã€&lt;code>id&lt;/code>è¿™å››ä¸ªåˆ—çš„çœŸå®æ•°æ®å€¼ï¼Œæ‰€ä»¥ç¤ºæ„å›¾å°±é•¿è¿™æ ·ï¼ˆç•™å¿ƒçš„åŒå­¦çœ‹å‡ºæ¥äº†ï¼Œè¿™å…¶å®å’Œã€Šé«˜æ€§èƒ½MySQLã€‹é‡Œä¸¾çš„ä¾‹å­çš„å›¾å·®ä¸å¤šï¼Œæˆ‘è§‰å¾—è¿™ä¸ªä¾‹å­ç‰¹åˆ«å¥½ï¼Œæ‰€ä»¥å°±å€Ÿé‰´äº†ä¸€ä¸‹ï¼‰ï¼š&lt;/p>
&lt;p>&lt;img src="img/07-01.png" alt="" />&lt;/p></description></item><item><title>ç¬¬6ç« _å¿«é€ŸæŸ¥è¯¢çš„ç§˜ç±-B+æ ‘ç´¢å¼•</title><link>https://lwmfjc.github.io/zh/docs/technology/MySQL/MySQL%E6%98%AF%E6%80%8E%E6%A0%B7%E8%BF%90%E8%A1%8C%E7%9A%84/%E7%AC%AC6%E7%AB%A0_%E5%BF%AB%E9%80%9F%E6%9F%A5%E8%AF%A2%E7%9A%84%E7%A7%98%E7%B1%8D-B+%E6%A0%91%E7%B4%A2%E5%BC%95/</link><pubDate>Sat, 11 Jan 2025 16:40:02 +0800</pubDate><guid>https://lwmfjc.github.io/zh/docs/technology/MySQL/MySQL%E6%98%AF%E6%80%8E%E6%A0%B7%E8%BF%90%E8%A1%8C%E7%9A%84/%E7%AC%AC6%E7%AB%A0_%E5%BF%AB%E9%80%9F%E6%9F%A5%E8%AF%A2%E7%9A%84%E7%A7%98%E7%B1%8D-B+%E6%A0%91%E7%B4%A2%E5%BC%95/</guid><description>&lt;h1 id="ç¬¬6ç« -å¿«é€ŸæŸ¥è¯¢çš„ç§˜ç±-bæ ‘ç´¢å¼•">
 ç¬¬6ç«  å¿«é€ŸæŸ¥è¯¢çš„ç§˜ç±-B+æ ‘ç´¢å¼•
 &lt;a class="anchor" href="#%e7%ac%ac6%e7%ab%a0-%e5%bf%ab%e9%80%9f%e6%9f%a5%e8%af%a2%e7%9a%84%e7%a7%98%e7%b1%8d-b%e6%a0%91%e7%b4%a2%e5%bc%95">#&lt;/a>
&lt;/h1>
&lt;p>å‰é¢æˆ‘ä»¬è¯¦ç»†ä»‹ç»äº†&lt;code>InnoDB&lt;/code>æ•°æ®é¡µçš„7ä¸ªç»„æˆéƒ¨åˆ†ï¼ŒçŸ¥é“äº†å„ä¸ªæ•°æ®é¡µå¯ä»¥ç»„æˆä¸€ä¸ª&lt;code>åŒå‘é“¾è¡¨&lt;/code>ï¼Œè€Œæ¯ä¸ªæ•°æ®é¡µä¸­çš„è®°å½•ä¼šæŒ‰ç…§ä¸»é”®å€¼ä»å°åˆ°å¤§çš„é¡ºåºç»„æˆä¸€ä¸ª&lt;code>å•å‘é“¾è¡¨&lt;/code>ï¼Œæ¯ä¸ªæ•°æ®é¡µéƒ½ä¼šä¸ºå­˜å‚¨åœ¨å®ƒé‡Œè¾¹å„¿çš„è®°å½•ç”Ÿæˆä¸€ä¸ª&lt;code>é¡µç›®å½•&lt;/code>ï¼Œåœ¨é€šè¿‡ä¸»é”®æŸ¥æ‰¾æŸæ¡è®°å½•çš„æ—¶å€™å¯ä»¥åœ¨&lt;code>é¡µç›®å½•&lt;/code>ä¸­ä½¿ç”¨äºŒåˆ†æ³•å¿«é€Ÿå®šä½åˆ°å¯¹åº”çš„æ§½ï¼Œç„¶åå†éå†è¯¥æ§½å¯¹åº”åˆ†ç»„ä¸­çš„è®°å½•å³å¯å¿«é€Ÿæ‰¾åˆ°æŒ‡å®šçš„è®°å½•ï¼ˆå¦‚æœä½ å¯¹è¿™æ®µè¯æœ‰ä¸€ä¸ç‚¹å„¿ç–‘æƒ‘ï¼Œé‚£ä¹ˆæ¥ä¸‹æ¥çš„éƒ¨åˆ†ä¸é€‚åˆä½ ï¼Œè¿”å›å»çœ‹ä¸€ä¸‹æ•°æ®é¡µç»“æ„å§ï¼‰ã€‚é¡µå’Œè®°å½•çš„å…³ç³»ç¤ºæ„å›¾å¦‚ä¸‹ï¼š&lt;/p>
&lt;p>&lt;img src="img/06-01.png" alt="" />&lt;/p>
&lt;p>å…¶ä¸­é¡µaã€é¡µbã€é¡µc &amp;hellip; é¡µn è¿™äº›é¡µå¯ä»¥ä¸åœ¨ç‰©ç†ç»“æ„ä¸Šç›¸è¿ï¼Œåªè¦é€šè¿‡åŒå‘é“¾è¡¨ç›¸å…³è”å³å¯ã€‚&lt;/p>
&lt;p>æ²¡æœ‰ç´¢å¼•çš„æŸ¥æ‰¾&lt;/p>
&lt;p>æœ¬é›†çš„ä¸»é¢˜æ˜¯&lt;code>ç´¢å¼•&lt;/code>ï¼Œåœ¨æ­£å¼ä»‹ç»&lt;code>ç´¢å¼•&lt;/code>ä¹‹å‰ï¼Œæˆ‘ä»¬éœ€è¦äº†è§£ä¸€ä¸‹æ²¡æœ‰ç´¢å¼•çš„æ—¶å€™æ˜¯æ€ä¹ˆæŸ¥æ‰¾è®°å½•çš„ã€‚ä¸ºäº†æ–¹ä¾¿å¤§å®¶ç†è§£ï¼Œæˆ‘ä»¬ä¸‹é¢å…ˆåªä»‹ç»æœç´¢æ¡ä»¶ä¸ºå¯¹æŸä¸ªåˆ—ç²¾ç¡®åŒ¹é…çš„æƒ…å†µï¼Œæ‰€è°“ç²¾ç¡®åŒ¹é…ï¼Œå°±æ˜¯æœç´¢æ¡ä»¶ä¸­ç”¨ç­‰äº&lt;code>=&lt;/code>è¿æ¥èµ·çš„è¡¨è¾¾å¼ï¼Œæ¯”å¦‚è¿™æ ·ï¼š &lt;code>SELECT [åˆ—ååˆ—è¡¨] FROM è¡¨å WHERE åˆ—å = xxx;&lt;/code>&lt;/p>
&lt;h1 id="åœ¨ä¸€ä¸ªé¡µä¸­çš„æŸ¥æ‰¾">
 åœ¨ä¸€ä¸ªé¡µä¸­çš„æŸ¥æ‰¾
 &lt;a class="anchor" href="#%e5%9c%a8%e4%b8%80%e4%b8%aa%e9%a1%b5%e4%b8%ad%e7%9a%84%e6%9f%a5%e6%89%be">#&lt;/a>
&lt;/h1>
&lt;p>å‡è®¾ç›®å‰è¡¨ä¸­çš„è®°å½•æ¯”è¾ƒå°‘ï¼Œæ‰€æœ‰çš„è®°å½•éƒ½å¯ä»¥è¢«å­˜æ”¾åˆ°ä¸€ä¸ªé¡µä¸­ï¼Œåœ¨æŸ¥æ‰¾è®°å½•çš„æ—¶å€™å¯ä»¥æ ¹æ®æœç´¢æ¡ä»¶çš„ä¸åŒåˆ†ä¸ºä¸¤ç§æƒ…å†µï¼š&lt;/p>
&lt;ul>
&lt;li>&lt;/li>
&lt;/ul>
&lt;p>ä»¥ä¸»é”®ä¸ºæœç´¢æ¡ä»¶&lt;/p>
&lt;p>è¿™ä¸ªæŸ¥æ‰¾è¿‡ç¨‹æˆ‘ä»¬å·²ç»å¾ˆç†Ÿæ‚‰äº†ï¼Œå¯ä»¥åœ¨&lt;code>é¡µç›®å½•&lt;/code>ä¸­ä½¿ç”¨äºŒåˆ†æ³•å¿«é€Ÿå®šä½åˆ°å¯¹åº”çš„æ§½ï¼Œç„¶åå†éå†è¯¥æ§½å¯¹åº”åˆ†ç»„ä¸­çš„è®°å½•å³å¯å¿«é€Ÿæ‰¾åˆ°æŒ‡å®šçš„è®°å½•ã€‚&lt;/p>
&lt;ul>
&lt;li>&lt;/li>
&lt;/ul>
&lt;p>ä»¥å…¶ä»–åˆ—ä½œä¸ºæœç´¢æ¡ä»¶&lt;/p>
&lt;p>å¯¹éä¸»é”®åˆ—çš„æŸ¥æ‰¾çš„è¿‡ç¨‹å¯å°±ä¸è¿™ä¹ˆå¹¸è¿äº†ï¼Œå› ä¸ºåœ¨æ•°æ®é¡µä¸­å¹¶æ²¡æœ‰å¯¹éä¸»é”®åˆ—å»ºç«‹æ‰€è°“çš„&lt;code>é¡µç›®å½•&lt;/code>ï¼Œæ‰€ä»¥æˆ‘ä»¬æ— æ³•é€šè¿‡äºŒåˆ†æ³•å¿«é€Ÿå®šä½ç›¸åº”çš„&lt;code>æ§½&lt;/code>ã€‚è¿™ç§æƒ…å†µä¸‹åªèƒ½ä»&lt;code>æœ€å°è®°å½•&lt;/code>å¼€å§‹ä¾æ¬¡éå†å•é“¾è¡¨ä¸­çš„æ¯æ¡è®°å½•ï¼Œç„¶åå¯¹æ¯”æ¯æ¡è®°å½•æ˜¯ä¸æ˜¯ç¬¦åˆæœç´¢æ¡ä»¶ã€‚å¾ˆæ˜¾ç„¶ï¼Œè¿™ç§æŸ¥æ‰¾çš„æ•ˆç‡æ˜¯éå¸¸ä½çš„ã€‚&lt;/p>
&lt;h1 id="åœ¨å¾ˆå¤šé¡µä¸­æŸ¥æ‰¾">
 åœ¨å¾ˆå¤šé¡µä¸­æŸ¥æ‰¾
 &lt;a class="anchor" href="#%e5%9c%a8%e5%be%88%e5%a4%9a%e9%a1%b5%e4%b8%ad%e6%9f%a5%e6%89%be">#&lt;/a>
&lt;/h1>
&lt;p>å¤§éƒ¨åˆ†æƒ…å†µä¸‹æˆ‘ä»¬è¡¨ä¸­å­˜æ”¾çš„è®°å½•éƒ½æ˜¯éå¸¸å¤šçš„ï¼Œéœ€è¦å¥½å¤šçš„æ•°æ®é¡µæ¥å­˜å‚¨è¿™äº›è®°å½•ã€‚åœ¨å¾ˆå¤šé¡µä¸­æŸ¥æ‰¾è®°å½•çš„è¯å¯ä»¥åˆ†ä¸ºä¸¤ä¸ªæ­¥éª¤ï¼š&lt;/p>
&lt;ol>
&lt;li>å®šä½åˆ°è®°å½•æ‰€åœ¨çš„é¡µã€‚&lt;/li>
&lt;li>ä»æ‰€åœ¨çš„é¡µå†…ä¸­æŸ¥æ‰¾ç›¸åº”çš„è®°å½•ã€‚&lt;/li>
&lt;/ol>
&lt;p>åœ¨æ²¡æœ‰ç´¢å¼•çš„æƒ…å†µä¸‹ï¼Œä¸è®ºæ˜¯æ ¹æ®ä¸»é”®åˆ—æˆ–è€…å…¶ä»–åˆ—çš„å€¼è¿›è¡ŒæŸ¥æ‰¾ï¼Œ&lt;strong>ç”±äºæˆ‘ä»¬å¹¶ä¸èƒ½å¿«é€Ÿçš„å®šä½åˆ°è®°å½•æ‰€åœ¨çš„é¡µï¼Œæ‰€ä»¥åªèƒ½ä»ç¬¬ä¸€ä¸ªé¡µæ²¿ç€åŒå‘é“¾è¡¨ä¸€ç›´å¾€ä¸‹æ‰¾ï¼Œåœ¨æ¯ä¸€ä¸ªé¡µä¸­æ ¹æ®æˆ‘ä»¬åˆšåˆšä»‹ç»è¿‡çš„æŸ¥æ‰¾æ–¹å¼å»æŸ¥æ‰¾æŒ‡å®šçš„è®°å½•&lt;/strong>ã€‚å› ä¸ºè¦éå†æ‰€æœ‰çš„æ•°æ®é¡µï¼Œæ‰€ä»¥è¿™ç§æ–¹å¼æ˜¾ç„¶æ˜¯è¶…çº§è€—æ—¶çš„ï¼Œå¦‚æœä¸€ä¸ªè¡¨æœ‰ä¸€äº¿æ¡è®°å½•ï¼Œä½¿ç”¨è¿™ç§æ–¹å¼å»æŸ¥æ‰¾è®°å½•é‚£è¦ç­‰åˆ°çŒ´å¹´é©¬æœˆæ‰èƒ½ç­‰åˆ°æŸ¥æ‰¾ç»“æœã€‚æ‰€ä»¥ç¥–å›½å’Œäººæ°‘éƒ½åœ¨æœŸç›¼ä¸€ç§èƒ½é«˜æ•ˆå®Œæˆæœç´¢çš„æ–¹æ³•ï¼Œ&lt;code>ç´¢å¼•&lt;/code>åŒå¿—å°±è¦äº®ç›¸ç™»å°äº†ã€‚&lt;/p>
&lt;p>ç´¢å¼•&lt;/p>
&lt;p>ä¸ºäº†æ•…äº‹çš„é¡ºåˆ©å‘å±•ï¼Œæˆ‘ä»¬å…ˆå»ºä¸€ä¸ªè¡¨ï¼š &lt;code>mysql&amp;gt; CREATE TABLE index_demo( -&amp;gt; c1 INT, -&amp;gt; c2 INT, -&amp;gt; c3 CHAR(1), -&amp;gt; PRIMARY KEY(c1) -&amp;gt; ) ROW_FORMAT = Compact; Query OK, 0 rows affected (0.03 sec)&lt;/code> è¿™ä¸ªæ–°å»ºçš„&lt;code>index_demo&lt;/code>è¡¨ä¸­æœ‰2ä¸ª&lt;code>INT&lt;/code>ç±»å‹çš„åˆ—ï¼Œ1ä¸ª&lt;code>CHAR(1)&lt;/code>ç±»å‹çš„åˆ—ï¼Œè€Œä¸”æˆ‘ä»¬è§„å®šäº†&lt;code>c1&lt;/code>åˆ—ä¸ºä¸»é”®ï¼Œè¿™ä¸ªè¡¨ä½¿ç”¨&lt;code>Compact&lt;/code>è¡Œæ ¼å¼æ¥å®é™…å­˜å‚¨è®°å½•çš„ã€‚ä¸ºäº†æˆ‘ä»¬ç†è§£ä¸Šçš„æ–¹ä¾¿ï¼Œæˆ‘ä»¬ç®€åŒ–äº†ä¸€ä¸‹&lt;code>index_demo&lt;/code>è¡¨çš„è¡Œæ ¼å¼ç¤ºæ„å›¾ï¼š&lt;/p>
&lt;p>&lt;img src="img/06-02.png" alt="" />&lt;/p></description></item><item><title>ç¬¬5ç« _ç››æ”¾è®°å½•çš„å¤§ç›’å­-InnoDBæ•°æ®é¡µç»“æ„</title><link>https://lwmfjc.github.io/zh/docs/technology/MySQL/MySQL%E6%98%AF%E6%80%8E%E6%A0%B7%E8%BF%90%E8%A1%8C%E7%9A%84/%E7%AC%AC5%E7%AB%A0-%E7%9B%9B%E6%94%BE%E8%AE%B0%E5%BD%95%E7%9A%84%E5%A4%A7%E7%9B%92%E5%AD%90-InnoDB%E6%95%B0%E6%8D%AE%E9%A1%B5%E7%BB%93%E6%9E%84/</link><pubDate>Sat, 11 Jan 2025 16:40:01 +0800</pubDate><guid>https://lwmfjc.github.io/zh/docs/technology/MySQL/MySQL%E6%98%AF%E6%80%8E%E6%A0%B7%E8%BF%90%E8%A1%8C%E7%9A%84/%E7%AC%AC5%E7%AB%A0-%E7%9B%9B%E6%94%BE%E8%AE%B0%E5%BD%95%E7%9A%84%E5%A4%A7%E7%9B%92%E5%AD%90-InnoDB%E6%95%B0%E6%8D%AE%E9%A1%B5%E7%BB%93%E6%9E%84/</guid><description>&lt;h1 id="ç¬¬5ç« -ç››æ”¾è®°å½•çš„å¤§ç›’å­-innodbæ•°æ®é¡µç»“æ„">
 ç¬¬5ç«  ç››æ”¾è®°å½•çš„å¤§ç›’å­-InnoDBæ•°æ®é¡µç»“æ„
 &lt;a class="anchor" href="#%e7%ac%ac5%e7%ab%a0-%e7%9b%9b%e6%94%be%e8%ae%b0%e5%bd%95%e7%9a%84%e5%a4%a7%e7%9b%92%e5%ad%90-innodb%e6%95%b0%e6%8d%ae%e9%a1%b5%e7%bb%93%e6%9e%84">#&lt;/a>
&lt;/h1>
&lt;p>ä¸åŒç±»å‹çš„é¡µç®€ä»‹&lt;/p>
&lt;p>å‰é¢æˆ‘ä»¬ç®€å•æäº†ä¸€ä¸‹&lt;code>é¡µ&lt;/code>çš„æ¦‚å¿µï¼Œå®ƒæ˜¯&lt;code>InnoDB&lt;/code>ç®¡ç†å­˜å‚¨ç©ºé—´çš„åŸºæœ¬å•ä½ï¼Œä¸€ä¸ªé¡µçš„å¤§å°ä¸€èˆ¬æ˜¯&lt;code>16KB&lt;/code>ã€‚&lt;code>InnoDB&lt;/code>ä¸ºäº†ä¸åŒçš„ç›®çš„è€Œè®¾è®¡äº†è®¸å¤šç§ä¸åŒç±»å‹çš„&lt;code>é¡µ&lt;/code>ï¼Œæ¯”å¦‚å­˜æ”¾è¡¨ç©ºé—´å¤´éƒ¨ä¿¡æ¯çš„é¡µï¼Œå­˜æ”¾&lt;code>Insert Buffer&lt;/code>ä¿¡æ¯çš„é¡µï¼Œå­˜æ”¾&lt;code>INODE&lt;/code>ä¿¡æ¯çš„é¡µï¼Œå­˜æ”¾&lt;code>undo&lt;/code>æ—¥å¿—ä¿¡æ¯çš„é¡µç­‰ç­‰ç­‰ç­‰ã€‚å½“ç„¶äº†ï¼Œå¦‚æœæˆ‘è¯´çš„è¿™äº›åè¯ä½ ä¸€ä¸ªéƒ½æ²¡æœ‰å¬è¿‡ï¼Œå°±å½“æˆ‘æ”¾äº†ä¸ªå±å§ï½ ä¸è¿‡è¿™æ²¡æœ‰ä¸€æ¯›é’±å…³ç³»ï¼Œæˆ‘ä»¬ä»Šå„¿ä¸ªä¹Ÿä¸å‡†å¤‡è¯´è¿™äº›ç±»å‹çš„é¡µï¼Œæˆ‘ä»¬èšç„¦çš„æ˜¯é‚£äº›å­˜æ”¾æˆ‘ä»¬è¡¨ä¸­è®°å½•çš„é‚£ç§ç±»å‹çš„é¡µï¼Œå®˜æ–¹ç§°è¿™ç§å­˜æ”¾è®°å½•çš„é¡µä¸ºç´¢å¼•ï¼ˆ&lt;code>INDEX&lt;/code>ï¼‰é¡µï¼Œé‰´äºæˆ‘ä»¬è¿˜æ²¡æœ‰äº†è§£è¿‡ç´¢å¼•æ˜¯ä¸ªä»€ä¹ˆä¸œè¥¿ï¼Œè€Œè¿™äº›è¡¨ä¸­çš„è®°å½•å°±æ˜¯æˆ‘ä»¬æ—¥å¸¸å£ä¸­æ‰€ç§°çš„&lt;code>æ•°æ®&lt;/code>ï¼Œæ‰€ä»¥ç›®å‰è¿˜æ˜¯å«è¿™ç§å­˜æ”¾è®°å½•çš„é¡µä¸º&lt;code>æ•°æ®é¡µ&lt;/code>å§ã€‚&lt;/p>
&lt;p>æ•°æ®é¡µç»“æ„çš„å¿«é€Ÿæµè§ˆ&lt;/p>
&lt;p>æ•°æ®é¡µä»£è¡¨çš„è¿™å—&lt;code>16KB&lt;/code>å¤§å°çš„å­˜å‚¨ç©ºé—´å¯ä»¥è¢«åˆ’åˆ†ä¸ºå¤šä¸ªéƒ¨åˆ†ï¼Œä¸åŒéƒ¨åˆ†æœ‰ä¸åŒçš„åŠŸèƒ½ï¼Œå„ä¸ªéƒ¨åˆ†å¦‚å›¾æ‰€ç¤ºï¼š&lt;/p>
&lt;p>&lt;img src="img/05-01.png" alt="" />&lt;/p>
&lt;p>ä»å›¾ä¸­å¯ä»¥çœ‹å‡ºï¼Œä¸€ä¸ª&lt;code>InnoDB&lt;/code>æ•°æ®é¡µçš„å­˜å‚¨ç©ºé—´å¤§è‡´è¢«åˆ’åˆ†æˆäº†&lt;code>7&lt;/code>ä¸ªéƒ¨åˆ†ï¼Œæœ‰çš„éƒ¨åˆ†å ç”¨çš„å­—èŠ‚æ•°æ˜¯ç¡®å®šçš„ï¼Œæœ‰çš„éƒ¨åˆ†å ç”¨çš„å­—èŠ‚æ•°æ˜¯ä¸ç¡®å®šçš„ã€‚ä¸‹é¢æˆ‘ä»¬ç”¨è¡¨æ ¼çš„æ–¹å¼æ¥å¤§è‡´æè¿°ä¸€ä¸‹è¿™7ä¸ªéƒ¨åˆ†éƒ½å­˜å‚¨ä¸€äº›ä»€ä¹ˆå†…å®¹ï¼ˆå¿«é€Ÿçš„ç…ä¸€çœ¼å°±è¡Œäº†ï¼Œåè¾¹ä¼šè¯¦ç»†ä»‹ç»çš„ï¼‰ï¼š
åç§° ä¸­æ–‡å å ç”¨ç©ºé—´å¤§å° ç®€å•æè¿° &lt;code>File Header&lt;/code> æ–‡ä»¶å¤´éƒ¨ &lt;code>38&lt;/code>å­—èŠ‚ é¡µçš„ä¸€äº›é€šç”¨ä¿¡æ¯ &lt;code>Page Header&lt;/code> é¡µé¢å¤´éƒ¨ &lt;code>56&lt;/code>å­—èŠ‚ æ•°æ®é¡µä¸“æœ‰çš„ä¸€äº›ä¿¡æ¯ &lt;code>Infimum + Supremum&lt;/code> æœ€å°è®°å½•å’Œæœ€å¤§è®°å½• &lt;code>26&lt;/code>å­—èŠ‚ ä¸¤ä¸ªè™šæ‹Ÿçš„è¡Œè®°å½• &lt;code>User Records&lt;/code> ç”¨æˆ·è®°å½• ä¸ç¡®å®š å®é™…å­˜å‚¨çš„è¡Œè®°å½•å†…å®¹ &lt;code>Free Space&lt;/code> ç©ºé—²ç©ºé—´ ä¸ç¡®å®š é¡µä¸­å°šæœªä½¿ç”¨çš„ç©ºé—´ &lt;code>Page Directory&lt;/code> é¡µé¢ç›®å½• ä¸ç¡®å®š é¡µä¸­çš„æŸäº›è®°å½•çš„ç›¸å¯¹ä½ç½® &lt;code>File Trailer&lt;/code> æ–‡ä»¶å°¾éƒ¨ &lt;code>8&lt;/code>å­—èŠ‚ æ ¡éªŒé¡µæ˜¯å¦å®Œæ•´ &lt;br>
&lt;code>å°è´´å£«ï¼šæˆ‘ä»¬æ¥ä¸‹æ¥å¹¶ä¸æ‰“ç®—æŒ‰ç…§é¡µä¸­å„ä¸ªéƒ¨åˆ†çš„å‡ºç°é¡ºåºæ¥ä¾æ¬¡ä»‹ç»å®ƒä»¬ï¼Œå› ä¸ºå„ä¸ªéƒ¨åˆ†ä¸­ä¼šå‡ºç°å¾ˆå¤šå¤§å®¶ç›®å‰ä¸ç†è§£çš„æ¦‚å¿µï¼Œè¿™ä¼šæ‰“å‡»å„ä½è¯»æ–‡ç« çš„ä¿¡å¿ƒä¸å…´è¶£ï¼Œå¸Œæœ›å„ä½èƒ½æ¥å—è¿™ç§æ‹æ‘„æ‰‹æ³•ï½&lt;/code>&lt;/p>
&lt;p>è®°å½•åœ¨é¡µä¸­çš„å­˜å‚¨&lt;/p>
&lt;p>åœ¨é¡µçš„7ä¸ªç»„æˆéƒ¨åˆ†ä¸­ï¼Œæˆ‘ä»¬è‡ªå·±å­˜å‚¨çš„è®°å½•ä¼šæŒ‰ç…§æˆ‘ä»¬æŒ‡å®šçš„&lt;code>è¡Œæ ¼å¼&lt;/code>å­˜å‚¨åˆ°&lt;code>User Records&lt;/code>éƒ¨åˆ†ã€‚ä½†æ˜¯åœ¨ä¸€å¼€å§‹ç”Ÿæˆé¡µçš„æ—¶å€™ï¼Œå…¶å®å¹¶æ²¡æœ‰&lt;code>User Records&lt;/code>è¿™ä¸ªéƒ¨åˆ†ï¼Œæ¯å½“æˆ‘ä»¬æ’å…¥ä¸€æ¡è®°å½•ï¼Œéƒ½ä¼šä»&lt;code>Free Space&lt;/code>éƒ¨åˆ†ï¼Œä¹Ÿå°±æ˜¯å°šæœªä½¿ç”¨çš„å­˜å‚¨ç©ºé—´ä¸­ç”³è¯·ä¸€ä¸ªè®°å½•å¤§å°çš„ç©ºé—´åˆ’åˆ†åˆ°&lt;code>User Records&lt;/code>éƒ¨åˆ†ï¼Œå½“&lt;code>Free Space&lt;/code>éƒ¨åˆ†çš„ç©ºé—´å…¨éƒ¨è¢«&lt;code>User Records&lt;/code>éƒ¨åˆ†æ›¿ä»£æ‰ä¹‹åï¼Œä¹Ÿå°±æ„å‘³ç€è¿™ä¸ªé¡µä½¿ç”¨å®Œäº†ï¼Œå¦‚æœè¿˜æœ‰æ–°çš„è®°å½•æ’å…¥çš„è¯ï¼Œå°±éœ€è¦å»ç”³è¯·æ–°çš„é¡µäº†ï¼Œè¿™ä¸ªè¿‡ç¨‹çš„å›¾ç¤ºå¦‚ä¸‹ï¼š&lt;/p>
&lt;p>&lt;img src="img/05-02.png" alt="" />&lt;/p>
&lt;p>ä¸ºäº†æ›´å¥½çš„ç®¡ç†åœ¨&lt;code>User Records&lt;/code>ä¸­çš„è¿™äº›è®°å½•ï¼Œ&lt;code>InnoDB&lt;/code>å¯è´¹äº†ä¸€ç•ªåŠ›æ°”å‘¢ï¼Œåœ¨å“ªè´¹åŠ›æ°”äº†å‘¢ï¼Ÿä¸å°±æ˜¯æŠŠè®°å½•æŒ‰ç…§æŒ‡å®šçš„è¡Œæ ¼å¼ä¸€æ¡ä¸€æ¡æ‘†åœ¨&lt;code>User Records&lt;/code>éƒ¨åˆ†ä¹ˆï¼Ÿå…¶å®è¿™è¯è¿˜å¾—ä»è®°å½•è¡Œæ ¼å¼çš„&lt;code>è®°å½•å¤´ä¿¡æ¯&lt;/code>ä¸­è¯´èµ·ã€‚&lt;/p>
&lt;h1 id="è®°å½•å¤´ä¿¡æ¯çš„ç§˜å¯†">
 è®°å½•å¤´ä¿¡æ¯çš„ç§˜å¯†
 &lt;a class="anchor" href="#%e8%ae%b0%e5%bd%95%e5%a4%b4%e4%bf%a1%e6%81%af%e7%9a%84%e7%a7%98%e5%af%86">#&lt;/a>
&lt;/h1>
&lt;p>ä¸ºäº†æ•…äº‹çš„é¡ºåˆ©å‘å±•ï¼Œæˆ‘ä»¬å…ˆåˆ›å»ºä¸€ä¸ªè¡¨ï¼š &lt;code>mysql&amp;gt; CREATE TABLE page_demo( -&amp;gt; c1 INT, -&amp;gt; c2 INT, -&amp;gt; c3 VARCHAR(10000), -&amp;gt; PRIMARY KEY (c1) -&amp;gt; ) CHARSET=ascii ROW_FORMAT=Compact; Query OK, 0 rows affected (0.03 sec)&lt;/code> è¿™ä¸ªæ–°åˆ›å»ºçš„&lt;code>page_demo&lt;/code>è¡¨æœ‰3ä¸ªåˆ—ï¼Œå…¶ä¸­&lt;code>c1&lt;/code>å’Œ&lt;code>c2&lt;/code>åˆ—æ˜¯ç”¨æ¥å­˜å‚¨æ•´æ•°çš„ï¼Œ&lt;code>c3&lt;/code>åˆ—æ˜¯ç”¨æ¥å­˜å‚¨å­—ç¬¦ä¸²çš„ã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œ&lt;strong>æˆ‘ä»¬æŠŠ &lt;em>&lt;strong>c1&lt;/strong>&lt;/em> åˆ—æŒ‡å®šä¸ºä¸»é”®ï¼Œæ‰€ä»¥åœ¨å…·ä½“çš„è¡Œæ ¼å¼ä¸­InnoDBå°±æ²¡å¿…è¦ä¸ºæˆ‘ä»¬å»åˆ›å»ºé‚£ä¸ªæ‰€è°“çš„ &lt;em>&lt;strong>row_id&lt;/strong>&lt;/em> éšè—åˆ—äº†&lt;/strong>ã€‚è€Œä¸”æˆ‘ä»¬ä¸ºè¿™ä¸ªè¡¨æŒ‡å®šäº†&lt;code>ascii&lt;/code>å­—ç¬¦é›†ä»¥åŠ&lt;code>Compact&lt;/code>çš„è¡Œæ ¼å¼ã€‚æ‰€ä»¥è¿™ä¸ªè¡¨ä¸­è®°å½•çš„è¡Œæ ¼å¼ç¤ºæ„å›¾å°±æ˜¯è¿™æ ·çš„ï¼š&lt;/p></description></item><item><title>ç¬¬4ç« _ä»ä¸€æ¡è®°å½•è¯´èµ·-InnoDBè®°å½•ç»“æ„</title><link>https://lwmfjc.github.io/zh/docs/technology/MySQL/MySQL%E6%98%AF%E6%80%8E%E6%A0%B7%E8%BF%90%E8%A1%8C%E7%9A%84/%E7%AC%AC4%E7%AB%A0_%E4%BB%8E%E4%B8%80%E6%9D%A1%E8%AE%B0%E5%BD%95%E8%AF%B4%E8%B5%B7-InnoDB%E8%AE%B0%E5%BD%95%E7%BB%93%E6%9E%84/</link><pubDate>Sat, 11 Jan 2025 16:40:00 +0800</pubDate><guid>https://lwmfjc.github.io/zh/docs/technology/MySQL/MySQL%E6%98%AF%E6%80%8E%E6%A0%B7%E8%BF%90%E8%A1%8C%E7%9A%84/%E7%AC%AC4%E7%AB%A0_%E4%BB%8E%E4%B8%80%E6%9D%A1%E8%AE%B0%E5%BD%95%E8%AF%B4%E8%B5%B7-InnoDB%E8%AE%B0%E5%BD%95%E7%BB%93%E6%9E%84/</guid><description>&lt;h1 id="ç¬¬4ç« -ä»ä¸€æ¡è®°å½•è¯´èµ·-innodbè®°å½•ç»“æ„">
 ç¬¬4ç«  ä»ä¸€æ¡è®°å½•è¯´èµ·-InnoDBè®°å½•ç»“æ„
 &lt;a class="anchor" href="#%e7%ac%ac4%e7%ab%a0-%e4%bb%8e%e4%b8%80%e6%9d%a1%e8%ae%b0%e5%bd%95%e8%af%b4%e8%b5%b7-innodb%e8%ae%b0%e5%bd%95%e7%bb%93%e6%9e%84">#&lt;/a>
&lt;/h1>
&lt;p>å‡†å¤‡å·¥ä½œ&lt;/p>
&lt;p>åˆ°ç°åœ¨ä¸ºæ­¢ï¼Œ&lt;code>MySQL&lt;/code>å¯¹äºæˆ‘ä»¬æ¥è¯´è¿˜æ˜¯ä¸€ä¸ªé»‘ç›’ï¼Œæˆ‘ä»¬åªè´Ÿè´£ä½¿ç”¨å®¢æˆ·ç«¯å‘é€è¯·æ±‚å¹¶ç­‰å¾…æœåŠ¡å™¨è¿”å›ç»“æœï¼Œè¡¨ä¸­çš„æ•°æ®åˆ°åº•å­˜åˆ°äº†å“ªé‡Œï¼Ÿä»¥ä»€ä¹ˆæ ¼å¼å­˜æ”¾çš„ï¼Ÿ&lt;code>MySQL&lt;/code>æ˜¯ä»¥ä»€ä¹ˆæ–¹å¼æ¥è®¿é—®çš„è¿™äº›æ•°æ®ï¼Ÿè¿™äº›é—®é¢˜æˆ‘ä»¬ç»Ÿç»Ÿä¸çŸ¥é“ï¼Œå¯¹äºæœªçŸ¥é¢†åŸŸçš„æ¢ç´¢å‘æ¥å°±æ˜¯ç¤¾ä¼šä¸»ä¹‰æ ¸å¿ƒä»·å€¼è§‚ä¸­çš„ä¸€éƒ¨åˆ†ï¼Œä½œä¸ºæ–°ä¸€ä»£ç¤¾ä¼šä¸»ä¹‰æ¥ç­äººï¼Œä¸æŠŠå®ƒä»¬ææ‡‚æ€ä¹ˆæ”¯æ´ç¥–å›½å»ºè®¾å‘¢ï¼Ÿ&lt;/p>
&lt;p>æˆ‘ä»¬å‰é¢ä»‹ç»è¯·æ±‚å¤„ç†è¿‡ç¨‹çš„æ—¶å€™æåˆ°è¿‡ï¼Œ&lt;code>MySQL&lt;/code>æœåŠ¡å™¨ä¸Šè´Ÿè´£å¯¹è¡¨ä¸­æ•°æ®çš„è¯»å–å’Œå†™å…¥å·¥ä½œçš„éƒ¨åˆ†æ˜¯&lt;code>å­˜å‚¨å¼•æ“&lt;/code>ï¼Œè€ŒæœåŠ¡å™¨åˆæ”¯æŒä¸åŒç±»å‹çš„å­˜å‚¨å¼•æ“ï¼Œæ¯”å¦‚&lt;code>InnoDB&lt;/code>ã€&lt;code>MyISAM&lt;/code>ã€&lt;code>Memory&lt;/code>ä»€ä¹ˆçš„ï¼Œä¸åŒçš„å­˜å‚¨å¼•æ“ä¸€èˆ¬æ˜¯ç”±ä¸åŒçš„äººä¸ºå®ç°ä¸åŒçš„ç‰¹æ€§è€Œå¼€å‘çš„ï¼Œ&lt;strong>çœŸå®æ•°æ®åœ¨ä¸åŒå­˜å‚¨å¼•æ“ä¸­å­˜æ”¾çš„æ ¼å¼ä¸€èˆ¬æ˜¯ä¸åŒçš„&lt;/strong>ï¼Œç”šè‡³æœ‰çš„å­˜å‚¨å¼•æ“æ¯”å¦‚&lt;code>Memory&lt;/code>éƒ½ä¸ç”¨ç£ç›˜æ¥å­˜å‚¨æ•°æ®ï¼Œä¹Ÿå°±æ˜¯è¯´å…³é—­æœåŠ¡å™¨åè¡¨ä¸­çš„æ•°æ®å°±æ¶ˆå¤±äº†ã€‚ç”±äº&lt;code>InnoDB&lt;/code>æ˜¯&lt;code>MySQL&lt;/code>é»˜è®¤çš„å­˜å‚¨å¼•æ“ï¼Œä¹Ÿæ˜¯æˆ‘ä»¬æœ€å¸¸ç”¨åˆ°çš„å­˜å‚¨å¼•æ“ï¼Œæˆ‘ä»¬ä¹Ÿæ²¡æœ‰é‚£ä¹ˆå¤šæ—¶é—´å»æŠŠå„ä¸ªå­˜å‚¨å¼•æ“çš„å†…éƒ¨å®ç°éƒ½çœ‹ä¸€éï¼Œæ‰€ä»¥æœ¬é›†è¦ä»‹ç»çš„æ˜¯ä½¿ç”¨&lt;code>InnoDB&lt;/code>ä½œä¸ºå­˜å‚¨å¼•æ“çš„æ•°æ®å­˜å‚¨ç»“æ„ï¼Œäº†è§£äº†ä¸€ä¸ªå­˜å‚¨å¼•æ“çš„æ•°æ®å­˜å‚¨ç»“æ„ä¹‹åï¼Œå…¶ä»–çš„å­˜å‚¨å¼•æ“éƒ½æ˜¯ä¾è‘«èŠ¦ç”»ç“¢ï¼Œç­‰æˆ‘ä»¬ç”¨åˆ°äº†å†è¯´ã€‚&lt;/p>
&lt;p>InnoDBé¡µç®€ä»‹&lt;/p>
&lt;p>&lt;code>InnoDB&lt;/code>æ˜¯ä¸€ä¸ªå°†è¡¨ä¸­çš„æ•°æ®å­˜å‚¨åˆ°ç£ç›˜ä¸Šçš„å­˜å‚¨å¼•æ“ï¼Œæ‰€ä»¥å³ä½¿å…³æœºåé‡å¯æˆ‘ä»¬çš„æ•°æ®è¿˜æ˜¯å­˜åœ¨çš„ã€‚è€ŒçœŸæ­£å¤„ç†æ•°æ®çš„è¿‡ç¨‹æ˜¯å‘ç”Ÿåœ¨å†…å­˜ä¸­çš„ï¼Œæ‰€ä»¥éœ€è¦æŠŠç£ç›˜ä¸­çš„æ•°æ®åŠ è½½åˆ°å†…å­˜ä¸­ï¼Œå¦‚æœæ˜¯å¤„ç†å†™å…¥æˆ–ä¿®æ”¹è¯·æ±‚çš„è¯ï¼Œè¿˜éœ€è¦æŠŠå†…å­˜ä¸­çš„å†…å®¹åˆ·æ–°åˆ°ç£ç›˜ä¸Šã€‚è€Œæˆ‘ä»¬çŸ¥é“è¯»å†™ç£ç›˜çš„é€Ÿåº¦éå¸¸æ…¢ï¼Œå’Œå†…å­˜è¯»å†™å·®äº†å‡ ä¸ªæ•°é‡çº§ï¼Œæ‰€ä»¥å½“æˆ‘ä»¬æƒ³ä»è¡¨ä¸­è·å–æŸäº›è®°å½•æ—¶ï¼Œ&lt;code>InnoDB&lt;/code>å­˜å‚¨å¼•æ“éœ€è¦ä¸€æ¡ä¸€æ¡çš„æŠŠè®°å½•ä»ç£ç›˜ä¸Šè¯»å‡ºæ¥ä¹ˆï¼Ÿä¸ï¼Œé‚£æ ·ä¼šæ…¢æ­»ï¼Œ&lt;code>InnoDB&lt;/code>é‡‡å–çš„æ–¹å¼æ˜¯ï¼š&lt;strong>å°†æ•°æ®åˆ’åˆ†ä¸ºè‹¥å¹²ä¸ªé¡µï¼Œä»¥é¡µä½œä¸ºç£ç›˜å’Œå†…å­˜ä¹‹é—´äº¤äº’çš„åŸºæœ¬å•ä½ï¼ŒInnoDBä¸­é¡µçš„å¤§å°ä¸€èˆ¬ä¸º &lt;em>&lt;strong>16&lt;/strong>&lt;/em> KB&lt;/strong>ã€‚ä¹Ÿå°±æ˜¯åœ¨ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œä¸€æ¬¡æœ€å°‘ä»ç£ç›˜ä¸­è¯»å–16KBçš„å†…å®¹åˆ°å†…å­˜ä¸­ï¼Œä¸€æ¬¡æœ€å°‘æŠŠå†…å­˜ä¸­çš„16KBå†…å®¹åˆ·æ–°åˆ°ç£ç›˜ä¸­ã€‚&lt;/p>
&lt;p>InnoDBè¡Œæ ¼å¼&lt;/p>
&lt;p>æˆ‘ä»¬å¹³æ—¶æ˜¯ä»¥è®°å½•ä¸ºå•ä½æ¥å‘è¡¨ä¸­æ’å…¥æ•°æ®çš„ï¼Œè¿™äº›è®°å½•åœ¨ç£ç›˜ä¸Šçš„å­˜æ”¾æ–¹å¼ä¹Ÿè¢«ç§°ä¸º&lt;code>è¡Œæ ¼å¼&lt;/code>æˆ–è€…&lt;code>è®°å½•æ ¼å¼&lt;/code>ã€‚è®¾è®¡&lt;code>InnoDB&lt;/code>å­˜å‚¨å¼•æ“çš„å¤§ä½¬ä»¬åˆ°ç°åœ¨ä¸ºæ­¢è®¾è®¡äº†4ç§ä¸åŒç±»å‹çš„&lt;code>è¡Œæ ¼å¼&lt;/code>ï¼Œåˆ†åˆ«æ˜¯&lt;code>Compact&lt;/code>ã€&lt;code>Redundant&lt;/code>ã€&lt;code>Dynamic&lt;/code>å’Œ&lt;code>Compressed&lt;/code>è¡Œæ ¼å¼ï¼Œéšç€æ—¶é—´çš„æ¨ç§»ï¼Œä»–ä»¬å¯èƒ½ä¼šè®¾è®¡å‡ºæ›´å¤šçš„è¡Œæ ¼å¼ï¼Œä½†æ˜¯ä¸ç®¡æ€ä¹ˆå˜ï¼Œåœ¨åŸç†ä¸Šå¤§ä½“éƒ½æ˜¯ç›¸åŒçš„ã€‚&lt;/p>
&lt;h1 id="æŒ‡å®šè¡Œæ ¼å¼çš„è¯­æ³•">
 æŒ‡å®šè¡Œæ ¼å¼çš„è¯­æ³•
 &lt;a class="anchor" href="#%e6%8c%87%e5%ae%9a%e8%a1%8c%e6%a0%bc%e5%bc%8f%e7%9a%84%e8%af%ad%e6%b3%95">#&lt;/a>
&lt;/h1>
&lt;p>æˆ‘ä»¬å¯ä»¥åœ¨åˆ›å»ºæˆ–ä¿®æ”¹è¡¨çš„è¯­å¥ä¸­æŒ‡å®š&lt;code>è¡Œæ ¼å¼&lt;/code>ï¼š ``` CREATE TABLE è¡¨å (åˆ—çš„ä¿¡æ¯) ROW_FORMAT=è¡Œæ ¼å¼åç§°&lt;/p>
&lt;p>ALTER TABLE è¡¨å ROW_FORMAT=è¡Œæ ¼å¼åç§° &lt;code>æ¯”å¦‚æˆ‘ä»¬åœ¨&lt;/code>xiaohaizi&lt;code>æ•°æ®åº“é‡Œåˆ›å»ºä¸€ä¸ªæ¼”ç¤ºç”¨çš„è¡¨&lt;/code>record_format_demo&lt;code>ï¼Œå¯ä»¥è¿™æ ·æŒ‡å®šå®ƒçš„&lt;/code>è¡Œæ ¼å¼&lt;code>ï¼š&lt;/code> mysql&amp;gt; USE xiaohaizi; Database changed&lt;/p>
&lt;p>mysql&amp;gt; CREATE TABLE record_format_demo ( -&amp;gt; c1 VARCHAR
 
 
 
 
 
 
 
 &lt;span class="katex">&lt;math xmlns="http://www.w3.org/1998/Math/MathML">&lt;semantics>&lt;mrow>&lt;mn>10&lt;/mn>&lt;mo stretchy="false">)&lt;/mo>&lt;mo separator="true">,&lt;/mo>&lt;mo>âˆ’&lt;/mo>&lt;mo>&amp;gt;&lt;/mo>&lt;mi>c&lt;/mi>&lt;mn>2&lt;/mn>&lt;mi>V&lt;/mi>&lt;mi>A&lt;/mi>&lt;mi>R&lt;/mi>&lt;mi>C&lt;/mi>&lt;mi>H&lt;/mi>&lt;mi>A&lt;/mi>&lt;mi>R&lt;/mi>&lt;mo stretchy="false">(&lt;/mo>&lt;mn>10&lt;/mn>&lt;mo stretchy="false">)&lt;/mo>&lt;mi>N&lt;/mi>&lt;mi>O&lt;/mi>&lt;mi>T&lt;/mi>&lt;mi>N&lt;/mi>&lt;mi>U&lt;/mi>&lt;mi>L&lt;/mi>&lt;mi>L&lt;/mi>&lt;mo separator="true">,&lt;/mo>&lt;mo>âˆ’&lt;/mo>&lt;mo>&amp;gt;&lt;/mo>&lt;mi>c&lt;/mi>&lt;mn>3&lt;/mn>&lt;mi>C&lt;/mi>&lt;mi>H&lt;/mi>&lt;mi>A&lt;/mi>&lt;mi>R&lt;/mi>&lt;mo stretchy="false">(&lt;/mo>&lt;mn>10&lt;/mn>&lt;mo stretchy="false">)&lt;/mo>&lt;mo separator="true">,&lt;/mo>&lt;mo>âˆ’&lt;/mo>&lt;mo>&amp;gt;&lt;/mo>&lt;mi>c&lt;/mi>&lt;mn>4&lt;/mn>&lt;mi>V&lt;/mi>&lt;mi>A&lt;/mi>&lt;mi>R&lt;/mi>&lt;mi>C&lt;/mi>&lt;mi>H&lt;/mi>&lt;mi>A&lt;/mi>&lt;mi>R&lt;/mi>&lt;mo stretchy="false">(&lt;/mo>&lt;mn>10&lt;/mn>&lt;mo stretchy="false">)&lt;/mo>&lt;mo>âˆ’&lt;/mo>&lt;mo>&amp;gt;&lt;/mo>&lt;/mrow>&lt;annotation encoding="application/x-tex">10), -&amp;gt; c2 VARCHAR(10) NOT NULL, -&amp;gt; c3 CHAR(10), -&amp;gt; c4 VARCHAR(10) -&amp;gt; &lt;/annotation>&lt;/semantics>&lt;/math>&lt;/span>
 
 CHARSET=ascii ROW_FORMAT=COMPACT; Query OK, 0 rows affected (0.03 sec) &lt;code>å¯ä»¥çœ‹åˆ°æˆ‘ä»¬åˆšåˆšåˆ›å»ºçš„è¿™ä¸ªè¡¨çš„&lt;/code>è¡Œæ ¼å¼&lt;code>å°±æ˜¯&lt;/code>Compact&lt;code>ï¼Œå¦å¤–ï¼Œæˆ‘ä»¬è¿˜æ˜¾å¼æŒ‡å®šäº†è¿™ä¸ªè¡¨çš„å­—ç¬¦é›†ä¸º&lt;/code>ascii&lt;code>ï¼Œå› ä¸º&lt;/code>ascii&lt;code>å­—ç¬¦é›†åªåŒ…æ‹¬ç©ºæ ¼ã€æ ‡ç‚¹ç¬¦å·ã€æ•°å­—ã€å¤§å°å†™å­—æ¯å’Œä¸€äº›ä¸å¯è§å­—ç¬¦ï¼Œæ‰€ä»¥æˆ‘ä»¬çš„æ±‰å­—æ˜¯ä¸èƒ½å­˜åˆ°è¿™ä¸ªè¡¨é‡Œçš„ã€‚æˆ‘ä»¬ç°åœ¨å‘è¿™ä¸ªè¡¨ä¸­æ’å…¥ä¸¤æ¡è®°å½•ï¼š&lt;/code> mysql&amp;gt; INSERT INTO record_format_demo(c1, c2, c3, c4) VALUES(&amp;lsquo;aaaa&amp;rsquo;, &amp;lsquo;bbb&amp;rsquo;, &amp;lsquo;cc&amp;rsquo;, &amp;rsquo;d&amp;rsquo;), (&amp;rsquo;eeee&amp;rsquo;, &amp;lsquo;fff&amp;rsquo;, NULL, NULL); Query OK, 2 rows affected (0.02 sec) Records: 2 Duplicates: 0 Warnings: 0 &lt;code>ç°åœ¨è¡¨ä¸­çš„è®°å½•å°±æ˜¯è¿™ä¸ªæ ·å­çš„ï¼š&lt;/code> mysql&amp;gt; SELECT * FROM record_format_demo; +&amp;mdash;&amp;mdash;+&amp;mdash;&amp;ndash;+&amp;mdash;&amp;mdash;+&amp;mdash;&amp;mdash;+ | c1 | c2 | c3 | c4 | +&amp;mdash;&amp;mdash;+&amp;mdash;&amp;ndash;+&amp;mdash;&amp;mdash;+&amp;mdash;&amp;mdash;+ | aaaa | bbb | cc | d | | eeee | fff | NULL | NULL | +&amp;mdash;&amp;mdash;+&amp;mdash;&amp;ndash;+&amp;mdash;&amp;mdash;+&amp;mdash;&amp;mdash;+ 2 rows in set (0.00 sec)&lt;/p></description></item><item><title>ç¬¬3ç« _ä¹±ç çš„å‰ä¸–ä»Šç”Ÿ-å­—ç¬¦é›†å’Œæ¯”è¾ƒè§„åˆ™</title><link>https://lwmfjc.github.io/zh/docs/technology/MySQL/MySQL%E6%98%AF%E6%80%8E%E6%A0%B7%E8%BF%90%E8%A1%8C%E7%9A%84/%E7%AC%AC3%E7%AB%A0_%E4%B9%B1%E7%A0%81%E7%9A%84%E5%89%8D%E4%B8%96%E4%BB%8A%E7%94%9F-%E5%AD%97%E7%AC%A6%E9%9B%86%E5%92%8C%E6%AF%94%E8%BE%83%E8%A7%84%E5%88%99/</link><pubDate>Sat, 11 Jan 2025 16:39:59 +0800</pubDate><guid>https://lwmfjc.github.io/zh/docs/technology/MySQL/MySQL%E6%98%AF%E6%80%8E%E6%A0%B7%E8%BF%90%E8%A1%8C%E7%9A%84/%E7%AC%AC3%E7%AB%A0_%E4%B9%B1%E7%A0%81%E7%9A%84%E5%89%8D%E4%B8%96%E4%BB%8A%E7%94%9F-%E5%AD%97%E7%AC%A6%E9%9B%86%E5%92%8C%E6%AF%94%E8%BE%83%E8%A7%84%E5%88%99/</guid><description>&lt;h1 id="ç¬¬3ç« -ä¹±ç çš„å‰ä¸–ä»Šç”Ÿ-å­—ç¬¦é›†å’Œæ¯”è¾ƒè§„åˆ™">
 ç¬¬3ç«  ä¹±ç çš„å‰ä¸–ä»Šç”Ÿ-å­—ç¬¦é›†å’Œæ¯”è¾ƒè§„åˆ™
 &lt;a class="anchor" href="#%e7%ac%ac3%e7%ab%a0-%e4%b9%b1%e7%a0%81%e7%9a%84%e5%89%8d%e4%b8%96%e4%bb%8a%e7%94%9f-%e5%ad%97%e7%ac%a6%e9%9b%86%e5%92%8c%e6%af%94%e8%be%83%e8%a7%84%e5%88%99">#&lt;/a>
&lt;/h1>
&lt;p>å­—ç¬¦é›†å’Œæ¯”è¾ƒè§„åˆ™ç®€ä»‹&lt;/p>
&lt;h1 id="å­—ç¬¦é›†ç®€ä»‹">
 å­—ç¬¦é›†ç®€ä»‹
 &lt;a class="anchor" href="#%e5%ad%97%e7%ac%a6%e9%9b%86%e7%ae%80%e4%bb%8b">#&lt;/a>
&lt;/h1>
&lt;p>æˆ‘ä»¬çŸ¥é“åœ¨è®¡ç®—æœºä¸­åªèƒ½å­˜å‚¨äºŒè¿›åˆ¶æ•°æ®ï¼Œé‚£è¯¥æ€ä¹ˆå­˜å‚¨å­—ç¬¦ä¸²å‘¢ï¼Ÿå½“ç„¶æ˜¯å»ºç«‹å­—ç¬¦ä¸äºŒè¿›åˆ¶æ•°æ®çš„æ˜ å°„å…³ç³»äº†ï¼Œå»ºç«‹è¿™ä¸ªå…³ç³»æœ€èµ·ç è¦ææ¸…æ¥šä¸¤ä»¶äº‹å„¿ï¼š&lt;/p>
&lt;ol>
&lt;li>ä½ è¦æŠŠå“ªäº›å­—ç¬¦æ˜ å°„æˆäºŒè¿›åˆ¶æ•°æ®ï¼Ÿ ä¹Ÿå°±æ˜¯ç•Œå®šæ¸…æ¥šå­—ç¬¦èŒƒå›´ã€‚&lt;/li>
&lt;li>æ€ä¹ˆæ˜ å°„ï¼Ÿ å°†ä¸€ä¸ªå­—ç¬¦æ˜ å°„æˆä¸€ä¸ªäºŒè¿›åˆ¶æ•°æ®çš„è¿‡ç¨‹ä¹Ÿå«åš&lt;code>ç¼–ç &lt;/code>ï¼Œå°†ä¸€ä¸ªäºŒè¿›åˆ¶æ•°æ®æ˜ å°„åˆ°ä¸€ä¸ªå­—ç¬¦çš„è¿‡ç¨‹å«åš&lt;code>è§£ç &lt;/code>ã€‚&lt;/li>
&lt;/ol>
&lt;p>äººä»¬æŠ½è±¡å‡ºä¸€ä¸ª&lt;code>å­—ç¬¦é›†&lt;/code>çš„æ¦‚å¿µæ¥æè¿°æŸä¸ªå­—ç¬¦èŒƒå›´çš„ç¼–ç è§„åˆ™ã€‚æ¯”æ–¹è¯´æˆ‘ä»¬æ¥è‡ªå®šä¹‰ä¸€ä¸ªåç§°ä¸º&lt;code>xiaohaizi&lt;/code>çš„å­—ç¬¦é›†ï¼Œå®ƒåŒ…å«çš„å­—ç¬¦èŒƒå›´å’Œç¼–ç è§„åˆ™å¦‚ä¸‹ï¼š&lt;/p>
&lt;ul>
&lt;li>&lt;/li>
&lt;/ul>
&lt;p>åŒ…å«å­—ç¬¦&lt;code>'a'&lt;/code>ã€&lt;code>'b'&lt;/code>ã€&lt;code>'A'&lt;/code>ã€&lt;code>'B'&lt;/code>ã€‚&lt;/p>
&lt;ul>
&lt;li>&lt;/li>
&lt;/ul>
&lt;p>ç¼–ç è§„åˆ™å¦‚ä¸‹ï¼š&lt;/p>
&lt;p>é‡‡ç”¨1ä¸ªå­—èŠ‚ç¼–ç ä¸€ä¸ªå­—ç¬¦çš„å½¢å¼ï¼Œå­—ç¬¦å’Œå­—èŠ‚çš„æ˜ å°„å…³ç³»å¦‚ä¸‹ï¼š &lt;code>'a' -&amp;gt; 00000001 (åå…­è¿›åˆ¶ï¼š0x01) 'b' -&amp;gt; 00000010 (åå…­è¿›åˆ¶ï¼š0x02) 'A' -&amp;gt; 00000011 (åå…­è¿›åˆ¶ï¼š0x03) 'B' -&amp;gt; 00000100 (åå…­è¿›åˆ¶ï¼š0x04)&lt;/code>&lt;/p>
&lt;p>æœ‰äº†&lt;code>xiaohaizi&lt;/code>å­—ç¬¦é›†ï¼Œæˆ‘ä»¬å°±å¯ä»¥ç”¨äºŒè¿›åˆ¶å½¢å¼è¡¨ç¤ºä¸€äº›å­—ç¬¦ä¸²äº†ï¼Œä¸‹é¢æ˜¯ä¸€äº›å­—ç¬¦ä¸²ç”¨&lt;code>xiaohaizi&lt;/code>å­—ç¬¦é›†ç¼–ç åçš„äºŒè¿›åˆ¶è¡¨ç¤ºï¼š &lt;code>'bA' -&amp;gt; 0000001000000011 (åå…­è¿›åˆ¶ï¼š0x0203) 'baB' -&amp;gt; 000000100000000100000100 (åå…­è¿›åˆ¶ï¼š0x020104) 'cd' -&amp;gt; æ— æ³•è¡¨ç¤ºï¼Œå­—ç¬¦é›†xiaohaiziä¸åŒ…å«å­—ç¬¦'c'å’Œ'd'&lt;/code>&lt;/p>
&lt;h1 id="æ¯”è¾ƒè§„åˆ™ç®€ä»‹">
 æ¯”è¾ƒè§„åˆ™ç®€ä»‹
 &lt;a class="anchor" href="#%e6%af%94%e8%be%83%e8%a7%84%e5%88%99%e7%ae%80%e4%bb%8b">#&lt;/a>
&lt;/h1>
&lt;p>åœ¨æˆ‘ä»¬ç¡®å®šäº†&lt;code>xiaohaizi&lt;/code>å­—ç¬¦é›†è¡¨ç¤ºå­—ç¬¦çš„èŒƒå›´ä»¥åŠç¼–ç è§„åˆ™åï¼Œæ€ä¹ˆæ¯”è¾ƒä¸¤ä¸ªå­—ç¬¦çš„å¤§å°å‘¢ï¼Ÿæœ€å®¹æ˜“æƒ³åˆ°çš„å°±æ˜¯ç›´æ¥æ¯”è¾ƒè¿™ä¸¤ä¸ªå­—ç¬¦å¯¹åº”çš„äºŒè¿›åˆ¶ç¼–ç çš„å¤§å°ï¼Œæ¯”æ–¹è¯´å­—ç¬¦&lt;code>'a'&lt;/code>çš„ç¼–ç ä¸º&lt;code>0x01&lt;/code>ï¼Œå­—ç¬¦&lt;code>'b'&lt;/code>çš„ç¼–ç ä¸º&lt;code>0x02&lt;/code>ï¼Œæ‰€ä»¥&lt;code>'a'&lt;/code>å°äº&lt;code>'b'&lt;/code>ï¼Œè¿™ç§ç®€å•çš„æ¯”è¾ƒè§„åˆ™ä¹Ÿå¯ä»¥è¢«ç§°ä¸ºäºŒè¿›åˆ¶æ¯”è¾ƒè§„åˆ™ï¼Œè‹±æ–‡åä¸º&lt;code>binary collation&lt;/code>ã€‚&lt;/p>
&lt;p>äºŒè¿›åˆ¶æ¯”è¾ƒè§„åˆ™æ˜¯ç®€å•ï¼Œä½†æœ‰æ—¶å€™å¹¶ä¸ç¬¦åˆç°å®éœ€æ±‚ï¼Œæ¯”å¦‚åœ¨å¾ˆå¤šåœºåˆå¯¹äºè‹±æ–‡å­—ç¬¦æˆ‘ä»¬éƒ½æ˜¯ä¸åŒºåˆ†å¤§å°å†™çš„ï¼Œä¹Ÿå°±æ˜¯è¯´&lt;code>'a'&lt;/code>å’Œ&lt;code>'A'&lt;/code>æ˜¯ç›¸ç­‰çš„ï¼Œåœ¨è¿™ç§åœºåˆä¸‹å°±ä¸èƒ½ç®€å•ç²—æš´çš„ä½¿ç”¨äºŒè¿›åˆ¶æ¯”è¾ƒè§„åˆ™äº†ï¼Œè¿™æ—¶å€™æˆ‘ä»¬å¯ä»¥è¿™æ ·æŒ‡å®šæ¯”è¾ƒè§„åˆ™ï¼š&lt;/p>
&lt;ol>
&lt;li>å°†ä¸¤ä¸ªå¤§å°å†™ä¸åŒçš„å­—ç¬¦å…¨éƒ½è½¬ä¸ºå¤§å†™æˆ–è€…å°å†™ã€‚&lt;/li>
&lt;li>å†æ¯”è¾ƒè¿™ä¸¤ä¸ªå­—ç¬¦å¯¹åº”çš„äºŒè¿›åˆ¶æ•°æ®ã€‚&lt;/li>
&lt;/ol>
&lt;p>è¿™æ˜¯ä¸€ç§ç¨å¾®å¤æ‚ä¸€ç‚¹ç‚¹çš„æ¯”è¾ƒè§„åˆ™ï¼Œä½†æ˜¯å®é™…ç”Ÿæ´»ä¸­çš„å­—ç¬¦ä¸æ­¢è‹±æ–‡å­—ç¬¦ä¸€ç§ï¼Œæ¯”å¦‚æˆ‘ä»¬çš„æ±‰å­—æœ‰å‡ ä¸‡ä¹‹å¤šï¼Œå¯¹äºæŸä¸€ç§å­—ç¬¦é›†æ¥è¯´ï¼Œæ¯”è¾ƒä¸¤ä¸ªå­—ç¬¦å¤§å°çš„è§„åˆ™å¯ä»¥åˆ¶å®šå‡ºå¾ˆå¤šç§ï¼Œä¹Ÿå°±æ˜¯è¯´&lt;strong>åŒä¸€ç§å­—ç¬¦é›†å¯ä»¥æœ‰å¤šç§æ¯”è¾ƒè§„åˆ™&lt;/strong>ï¼Œæˆ‘ä»¬ç¨åå°±è¦ä»‹ç»å„ç§ç°å®ç”Ÿæ´»ä¸­ç”¨çš„å­—ç¬¦é›†ä»¥åŠå®ƒä»¬çš„ä¸€äº›æ¯”è¾ƒè§„åˆ™ã€‚&lt;/p>
&lt;h1 id="ä¸€äº›é‡è¦çš„å­—ç¬¦é›†">
 ä¸€äº›é‡è¦çš„å­—ç¬¦é›†
 &lt;a class="anchor" href="#%e4%b8%80%e4%ba%9b%e9%87%8d%e8%a6%81%e7%9a%84%e5%ad%97%e7%ac%a6%e9%9b%86">#&lt;/a>
&lt;/h1>
&lt;p>ä¸å¹¸çš„æ˜¯ï¼Œè¿™ä¸ªä¸–ç•Œå¤ªå¤§äº†ï¼Œä¸åŒçš„äººåˆ¶å®šå‡ºäº†å¥½å¤šç§&lt;code>å­—ç¬¦é›†&lt;/code>ï¼Œå®ƒä»¬è¡¨ç¤ºçš„å­—ç¬¦èŒƒå›´å’Œç”¨åˆ°çš„ç¼–ç è§„åˆ™å¯èƒ½éƒ½ä¸ä¸€æ ·ã€‚æˆ‘ä»¬çœ‹ä¸€ä¸‹ä¸€äº›å¸¸ç”¨å­—ç¬¦é›†çš„æƒ…å†µï¼š&lt;/p>
&lt;ul>
&lt;li>&lt;/li>
&lt;/ul>
&lt;p>&lt;code>ASCII&lt;/code>å­—ç¬¦é›†&lt;/p>
&lt;p>å…±æ”¶å½•128ä¸ªå­—ç¬¦ï¼ŒåŒ…æ‹¬ç©ºæ ¼ã€æ ‡ç‚¹ç¬¦å·ã€æ•°å­—ã€å¤§å°å†™å­—æ¯å’Œä¸€äº›ä¸å¯è§å­—ç¬¦ã€‚ç”±äºæ€»å…±æ‰128ä¸ªå­—ç¬¦ï¼Œæ‰€ä»¥å¯ä»¥ä½¿ç”¨1ä¸ªå­—èŠ‚æ¥è¿›è¡Œç¼–ç ï¼Œæˆ‘ä»¬çœ‹ä¸€äº›å­—ç¬¦çš„ç¼–ç æ–¹å¼ï¼š &lt;code>'L' -&amp;gt; 01001100ï¼ˆåå…­è¿›åˆ¶ï¼š0x4Cï¼Œåè¿›åˆ¶ï¼š76ï¼‰ 'M' -&amp;gt; 01001101ï¼ˆåå…­è¿›åˆ¶ï¼š0x4Dï¼Œåè¿›åˆ¶ï¼š77ï¼‰&lt;/code>&lt;/p>
&lt;ul>
&lt;li>&lt;/li>
&lt;/ul>
&lt;p>&lt;code>ISO 8859-1&lt;/code>å­—ç¬¦é›†&lt;/p></description></item><item><title>ç¬¬2ç« _MySQLçš„è°ƒæ§æŒ‰é’®-å¯åŠ¨é€‰é¡¹å’Œç³»ç»Ÿå˜é‡</title><link>https://lwmfjc.github.io/zh/docs/technology/MySQL/MySQL%E6%98%AF%E6%80%8E%E6%A0%B7%E8%BF%90%E8%A1%8C%E7%9A%84/%E7%AC%AC2%E7%AB%A0_MySQL%E7%9A%84%E8%B0%83%E6%8E%A7%E6%8C%89%E9%92%AE-%E5%90%AF%E5%8A%A8%E9%80%89%E9%A1%B9%E5%92%8C%E7%B3%BB%E7%BB%9F%E5%8F%98%E9%87%8F/</link><pubDate>Sat, 11 Jan 2025 16:39:58 +0800</pubDate><guid>https://lwmfjc.github.io/zh/docs/technology/MySQL/MySQL%E6%98%AF%E6%80%8E%E6%A0%B7%E8%BF%90%E8%A1%8C%E7%9A%84/%E7%AC%AC2%E7%AB%A0_MySQL%E7%9A%84%E8%B0%83%E6%8E%A7%E6%8C%89%E9%92%AE-%E5%90%AF%E5%8A%A8%E9%80%89%E9%A1%B9%E5%92%8C%E7%B3%BB%E7%BB%9F%E5%8F%98%E9%87%8F/</guid><description>&lt;h1 id="ç¬¬2ç« -mysqlçš„è°ƒæ§æŒ‰é’®-å¯åŠ¨é€‰é¡¹å’Œç³»ç»Ÿå˜é‡">
 ç¬¬2ç«  MySQLçš„è°ƒæ§æŒ‰é’®-å¯åŠ¨é€‰é¡¹å’Œç³»ç»Ÿå˜é‡
 &lt;a class="anchor" href="#%e7%ac%ac2%e7%ab%a0-mysql%e7%9a%84%e8%b0%83%e6%8e%a7%e6%8c%89%e9%92%ae-%e5%90%af%e5%8a%a8%e9%80%89%e9%a1%b9%e5%92%8c%e7%b3%bb%e7%bb%9f%e5%8f%98%e9%87%8f">#&lt;/a>
&lt;/h1>
&lt;p>å¦‚æœä½ ç”¨è¿‡æ‰‹æœºï¼Œä½ çš„æ‰‹æœºä¸Šä¸€å®šæœ‰ä¸€ä¸ªè®¾ç½®çš„åŠŸèƒ½ï¼Œä½ å¯ä»¥é€‰æ‹©è®¾ç½®æ‰‹æœºçš„æ¥ç”µé“ƒå£°ã€è®¾ç½®éŸ³é‡å¤§å°ã€è®¾ç½®è§£é”å¯†ç ç­‰ç­‰ã€‚å‡å¦‚æ²¡æœ‰è¿™äº›è®¾ç½®åŠŸèƒ½ï¼Œæˆ‘ä»¬çš„ç”Ÿæ´»å°†ç½®äºå°´å°¬çš„å¢ƒåœ°ï¼Œæ¯”å¦‚åœ¨å›¾ä¹¦é¦†é‡Œæ— æ³•æŠŠæ‰‹æœºè®¾ç½®ä¸ºé™éŸ³ï¼Œæ— æ³•æŠŠæµé‡å¼€å…³å…³æ‰ä»¥èŠ‚çœæµé‡ï¼Œåœ¨åˆ«äººå¾—çŸ¥è§£é”å¯†ç åæ— æ³•æ›´æ”¹å¯†ç ï½ &lt;code>MySQL&lt;/code>çš„æœåŠ¡å™¨ç¨‹åºå’Œå®¢æˆ·ç«¯ç¨‹åºä¹Ÿæœ‰å¾ˆå¤šè®¾ç½®é¡¹ï¼Œæ¯”å¦‚å¯¹äº&lt;code>MySQL&lt;/code>æœåŠ¡å™¨ç¨‹åºï¼Œæˆ‘ä»¬å¯ä»¥æŒ‡å®šè¯¸å¦‚å…è®¸åŒæ—¶è¿å…¥çš„å®¢æˆ·ç«¯æ•°é‡ã€å®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨é€šä¿¡æ–¹å¼ã€è¡¨çš„é»˜è®¤å­˜å‚¨å¼•æ“ã€æŸ¥è¯¢ç¼“å­˜çš„å¤§å°ç­‰è®¾ç½®é¡¹ã€‚å¯¹äº&lt;code>MySQL&lt;/code>å®¢æˆ·ç«¯ç¨‹åºï¼Œæˆ‘ä»¬ä¹‹å‰å·²ç»è§è¯†è¿‡äº†ï¼Œå¯ä»¥æŒ‡å®šéœ€è¦è¿æ¥çš„æœåŠ¡å™¨ç¨‹åºæ‰€åœ¨ä¸»æœºçš„ä¸»æœºåæˆ–IPåœ°å€ã€ç”¨æˆ·ååŠå¯†ç ç­‰ä¿¡æ¯ã€‚&lt;/p>
&lt;p>è¿™äº›è®¾ç½®é¡¹ä¸€èˆ¬éƒ½æœ‰å„è‡ªçš„é»˜è®¤å€¼ï¼Œæ¯”æ–¹è¯´æœåŠ¡å™¨å…è®¸åŒæ—¶è¿å…¥çš„å®¢æˆ·ç«¯çš„é»˜è®¤æ•°é‡æ˜¯&lt;code>151&lt;/code>ï¼Œè¡¨çš„é»˜è®¤å­˜å‚¨å¼•æ“æ˜¯&lt;code>InnoDB&lt;/code>ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨ç¨‹åºå¯åŠ¨çš„æ—¶å€™å»ä¿®æ”¹è¿™äº›é»˜è®¤å€¼ï¼Œå¯¹äºè¿™ç§åœ¨ç¨‹åºå¯åŠ¨æ—¶æŒ‡å®šçš„è®¾ç½®é¡¹ä¹Ÿç§°ä¹‹ä¸ºå¯åŠ¨é€‰é¡¹ï¼ˆstartup optionsï¼‰ï¼Œè¿™äº›é€‰é¡¹æ§åˆ¶ç€ç¨‹åºå¯åŠ¨åçš„è¡Œä¸ºã€‚åœ¨&lt;code>MySQL&lt;/code>å®‰è£…ç›®å½•ä¸‹çš„&lt;code>bin&lt;/code>ç›®å½•ä¸­çš„å„ç§å¯æ‰§è¡Œæ–‡ä»¶ï¼Œä¸è®ºæ˜¯æœåŠ¡å™¨ç›¸å…³çš„ç¨‹åºï¼ˆæ¯”å¦‚&lt;code>mysqld&lt;/code>ã€&lt;code>mysqld_safe&lt;/code>ï¼‰è¿˜æ˜¯å®¢æˆ·ç«¯ç›¸å…³çš„ç¨‹åºï¼ˆæ¯”å¦‚&lt;code>mysql&lt;/code>ã€&lt;code>mysqladmin&lt;/code>ï¼‰ï¼Œåœ¨å¯åŠ¨çš„æ—¶å€™åŸºæœ¬éƒ½å¯ä»¥æŒ‡å®šå¯åŠ¨å‚æ•°ã€‚è¿™äº›å¯åŠ¨å‚æ•°å¯ä»¥æ”¾åœ¨å‘½ä»¤è¡Œä¸­æŒ‡å®šï¼Œä¹Ÿå¯ä»¥æŠŠå®ƒä»¬æ”¾åœ¨é…ç½®æ–‡ä»¶ä¸­æŒ‡å®šã€‚ä¸‹é¢æˆ‘ä»¬ä»¥&lt;code>mysqld&lt;/code>ä¸ºä¾‹ï¼Œæ¥è¯¦ç»†ä»‹ç»æŒ‡å®šå¯åŠ¨é€‰é¡¹çš„æ ¼å¼ã€‚éœ€è¦æ³¨æ„çš„ä¸€ç‚¹æ˜¯ï¼Œæˆ‘ä»¬ç°åœ¨è¦ä»‹ç»çš„æ˜¯è®¾ç½®å¯åŠ¨é€‰é¡¹çš„æ–¹å¼ï¼Œä¸‹é¢å‡ºç°çš„å¯åŠ¨é€‰é¡¹ä¸è®ºå¤§å®¶è®¤ä¸è®¤è¯†ï¼Œå…ˆä¸ç”¨å»çº ç»“æ¯ä¸ªé€‰é¡¹å…·ä½“çš„ä½œç”¨æ˜¯ä»€ä¹ˆï¼Œä¹‹åæˆ‘ä»¬ä¼šå¯¹ä¸€äº›é‡è¦çš„å¯åŠ¨é€‰é¡¹è¯¦ç»†ä»‹ç»ã€‚&lt;/p>
&lt;p>åœ¨å‘½ä»¤è¡Œä¸Šä½¿ç”¨é€‰é¡¹&lt;/p>
&lt;p>å¦‚æœæˆ‘ä»¬åœ¨å¯åŠ¨å®¢æˆ·ç«¯ç¨‹åºæ—¶åœ¨&lt;code>-h&lt;/code>å‚æ•°åè¾¹ç´§è·ŸæœåŠ¡å™¨çš„IPåœ°å€ï¼Œè¿™å°±æ„å‘³ç€å®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨ä¹‹é—´éœ€è¦é€šè¿‡&lt;code>TCP/IP&lt;/code>ç½‘ç»œè¿›è¡Œé€šä¿¡ã€‚å› ä¸ºæˆ‘çš„å®¢æˆ·ç«¯ç¨‹åºå’ŒæœåŠ¡å™¨ç¨‹åºéƒ½è£…åœ¨ä¸€å°è®¡ç®—æœºä¸Šï¼Œæ‰€ä»¥åœ¨ä½¿ç”¨å®¢æˆ·ç«¯ç¨‹åºè¿æ¥æœåŠ¡å™¨ç¨‹åºæ—¶æŒ‡å®šçš„ä¸»æœºåæ˜¯&lt;code>127.0.0.1&lt;/code>çš„æƒ…å†µä¸‹ï¼Œå®¢æˆ·ç«¯è¿›ç¨‹å’ŒæœåŠ¡å™¨è¿›ç¨‹ä¹‹é—´ä¼šä½¿ç”¨&lt;code>TCP/IP&lt;/code>ç½‘ç»œè¿›è¡Œé€šä¿¡ã€‚å¦‚æœæˆ‘ä»¬åœ¨å¯åŠ¨æœåŠ¡å™¨ç¨‹åºçš„æ—¶å€™å°±ç¦æ­¢å„å®¢æˆ·ç«¯ä½¿ç”¨&lt;code>TCP/IP&lt;/code>ç½‘ç»œè¿›è¡Œé€šä¿¡ï¼Œå¯ä»¥åœ¨å¯åŠ¨æœåŠ¡å™¨ç¨‹åºçš„å‘½ä»¤è¡Œé‡Œæ·»åŠ &lt;code>skip-networking&lt;/code>å¯åŠ¨é€‰é¡¹ï¼Œå°±åƒè¿™æ ·ï¼š &lt;code>mysqld --skip-networking&lt;/code> å¯ä»¥çœ‹åˆ°ï¼Œæˆ‘ä»¬åœ¨å‘½ä»¤è¡Œä¸­æŒ‡å®šå¯åŠ¨é€‰é¡¹æ—¶éœ€è¦åœ¨é€‰é¡¹åå‰åŠ ä¸Š&lt;code>--&lt;/code>å‰ç¼€ã€‚å¦å¤–ï¼Œå¦‚æœé€‰é¡¹åæ˜¯ç”±å¤šä¸ªå•è¯æ„æˆçš„ï¼Œå®ƒä»¬ä¹‹é—´å¯ä»¥ç”±çŸ­åˆ’çº¿&lt;code>-&lt;/code>è¿æ¥èµ·æ¥ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨ä¸‹åˆ’çº¿&lt;code>_&lt;/code>è¿æ¥èµ·æ¥ï¼Œä¹Ÿå°±æ˜¯è¯´&lt;code>skip-networking&lt;/code>å’Œ&lt;code>skip_networking&lt;/code>è¡¨ç¤ºçš„å«ä¹‰æ˜¯ç›¸åŒçš„ã€‚æ‰€ä»¥ä¸Šé¢çš„å†™æ³•ä¸ä¸‹é¢çš„å†™æ³•æ˜¯ç­‰ä»·çš„ï¼š &lt;code>mysqld --skip_networking&lt;/code> åœ¨æŒ‰ç…§ä¸Šè¿°å‘½ä»¤å¯åŠ¨æœåŠ¡å™¨ç¨‹åºåï¼Œå¦‚æœæˆ‘ä»¬å†ä½¿ç”¨&lt;code>mysql&lt;/code>æ¥å¯åŠ¨å®¢æˆ·ç«¯ç¨‹åºæ—¶ï¼Œå†æŠŠæœåŠ¡å™¨ä¸»æœºåæŒ‡å®šä¸º&lt;code>127.0.0.1&lt;/code>ï¼ˆIPåœ°å€çš„å½¢å¼ï¼‰çš„è¯ä¼šæ˜¾ç¤ºè¿æ¥å¤±è´¥ï¼š ``` mysql -h127.0.0.1 -uroot -p Enter password:&lt;/p>
&lt;p>ERROR 2003 (HY000): Can&amp;rsquo;t connect to MySQL server on &amp;lsquo;127.0.0.1&amp;rsquo; (61) ``` è¿™å°±æ„å‘³ç€æˆ‘ä»¬æŒ‡å®šçš„å¯åŠ¨é€‰é¡¹&lt;code>skip-networking&lt;/code>ç”Ÿæ•ˆäº†ï¼&lt;/p>
&lt;p>å†ä¸¾ä¸€ä¸ªä¾‹å­ï¼Œæˆ‘ä»¬å‰é¢è¯´è¿‡å¦‚æœåœ¨åˆ›å»ºè¡¨çš„è¯­å¥ä¸­æ²¡æœ‰æ˜¾å¼æŒ‡å®šè¡¨çš„å­˜å‚¨å¼•æ“çš„è¯ï¼Œé‚£å°±ä¼šé»˜è®¤ä½¿ç”¨&lt;code>InnoDB&lt;/code>ä½œä¸ºè¡¨çš„å­˜å‚¨å¼•æ“ã€‚å¦‚æœæˆ‘ä»¬æƒ³æ”¹å˜è¡¨çš„é»˜è®¤å­˜å‚¨å¼•æ“çš„è¯ï¼Œå¯ä»¥è¿™æ ·å†™å¯åŠ¨æœåŠ¡å™¨çš„å‘½ä»¤è¡Œï¼š &lt;code>mysqld --default-storage-engine=MyISAM&lt;/code> æˆ‘ä»¬ç°åœ¨å°±å·²ç»æŠŠè¡¨çš„é»˜è®¤å­˜å‚¨å¼•æ“æ”¹ä¸º&lt;code>MyISAM&lt;/code>äº†ï¼Œåœ¨å®¢æˆ·ç«¯ç¨‹åºè¿æ¥åˆ°æœåŠ¡å™¨ç¨‹åºåè¯•ç€åˆ›å»ºä¸€ä¸ªè¡¨ï¼š &lt;code>mysql&amp;gt; CREATE TABLE sys_var_demo( -&amp;gt; i INT -&amp;gt; ); Query OK, 0 rows affected (0.02 sec)&lt;/code> è¿™ä¸ªå®šä¹‰è¯­å¥ä¸­æˆ‘ä»¬å¹¶æ²¡æœ‰æ˜ç¡®æŒ‡å®šè¡¨çš„å­˜å‚¨å¼•æ“ï¼Œåˆ›å»ºæˆåŠŸåå†çœ‹ä¸€ä¸‹è¿™ä¸ªè¡¨çš„ç»“æ„ï¼š &lt;code>mysql&amp;gt; SHOW CREATE TABLE sys_var_demo\G *************************** 1. row *************************** Table: sys_var_demo Create Table: CREATE TABLE &lt;/code>sys_var_demo&lt;code>(&lt;/code>i&lt;code> int(11) DEFAULT NULL ) ENGINE=MyISAM DEFAULT CHARSET=utf8 1 row in set (0.01 sec)&lt;/code> å¯ä»¥çœ‹åˆ°è¯¥è¡¨çš„å­˜å‚¨å¼•æ“å·²ç»æ˜¯&lt;code>MyISAM&lt;/code>äº†ï¼Œè¯´æ˜å¯åŠ¨é€‰é¡¹&lt;code>default-storage-engine&lt;/code>ç”Ÿæ•ˆäº†ã€‚&lt;/p></description></item><item><title>ç¬¬1ç« _è£…ä½œè‡ªå·±æ˜¯ä¸ªå°ç™½-é‡æ–°è®¤è¯†MySQL</title><link>https://lwmfjc.github.io/zh/docs/technology/MySQL/MySQL%E6%98%AF%E6%80%8E%E6%A0%B7%E8%BF%90%E8%A1%8C%E7%9A%84/%E7%AC%AC1%E7%AB%A0_%E8%A3%85%E4%BD%9C%E8%87%AA%E5%B7%B1%E6%98%AF%E4%B8%AA%E5%B0%8F%E7%99%BD-%E9%87%8D%E6%96%B0%E8%AE%A4%E8%AF%86MySQL/</link><pubDate>Sat, 11 Jan 2025 16:39:57 +0800</pubDate><guid>https://lwmfjc.github.io/zh/docs/technology/MySQL/MySQL%E6%98%AF%E6%80%8E%E6%A0%B7%E8%BF%90%E8%A1%8C%E7%9A%84/%E7%AC%AC1%E7%AB%A0_%E8%A3%85%E4%BD%9C%E8%87%AA%E5%B7%B1%E6%98%AF%E4%B8%AA%E5%B0%8F%E7%99%BD-%E9%87%8D%E6%96%B0%E8%AE%A4%E8%AF%86MySQL/</guid><description>&lt;h1 id="ç¬¬1ç« -è£…ä½œè‡ªå·±æ˜¯ä¸ªå°ç™½-é‡æ–°è®¤è¯†mysql">
 ç¬¬1ç«  è£…ä½œè‡ªå·±æ˜¯ä¸ªå°ç™½-é‡æ–°è®¤è¯†MySQL
 &lt;a class="anchor" href="#%e7%ac%ac1%e7%ab%a0-%e8%a3%85%e4%bd%9c%e8%87%aa%e5%b7%b1%e6%98%af%e4%b8%aa%e5%b0%8f%e7%99%bd-%e9%87%8d%e6%96%b0%e8%ae%a4%e8%af%86mysql">#&lt;/a>
&lt;/h1>
&lt;p>MySQLçš„å®¢æˆ·ç«¯ï¼æœåŠ¡å™¨æ¶æ„&lt;/p>
&lt;p>ä»¥æˆ‘ä»¬å¹³æ—¶ä½¿ç”¨çš„å¾®ä¿¡ä¸ºä¾‹ï¼Œå®ƒå…¶å®æ˜¯ç”±ä¸¤éƒ¨åˆ†ç»„æˆçš„ï¼Œä¸€éƒ¨åˆ†æ˜¯&lt;mark>å®¢æˆ·ç«¯&lt;/mark>ç¨‹åºï¼Œä¸€éƒ¨åˆ†æ˜¯&lt;mark>æœåŠ¡å™¨&lt;/mark>ç¨‹åºã€‚å®¢æˆ·ç«¯å¯èƒ½æœ‰å¾ˆå¤šç§å½¢å¼ï¼Œæ¯”å¦‚æ‰‹æœºAPPï¼Œç”µè„‘è½¯ä»¶æˆ–è€…æ˜¯ç½‘é¡µç‰ˆå¾®ä¿¡ï¼Œæ¯ä¸ªå®¢æˆ·ç«¯éƒ½æœ‰ä¸€ä¸ªå”¯ä¸€çš„ç”¨æˆ·åï¼Œå°±æ˜¯ä½ çš„å¾®ä¿¡å·ï¼Œå¦ä¸€æ–¹é¢ï¼Œè…¾è®¯å…¬å¸åœ¨ä»–ä»¬çš„æœºæˆ¿é‡Œè¿è¡Œç€ä¸€ä¸ªæœåŠ¡å™¨è½¯ä»¶ï¼Œæˆ‘ä»¬å¹³æ—¶æ“ä½œå¾®ä¿¡å…¶å®éƒ½æ˜¯ç”¨å®¢æˆ·ç«¯æ¥å’Œè¿™ä¸ªæœåŠ¡å™¨æ¥æ‰“äº¤é“ã€‚æ¯”å¦‚ç‹—å“¥ç”¨å¾®ä¿¡ç»™çŒ«çˆ·å‘äº†ä¸€æ¡æ¶ˆæ¯çš„è¿‡ç¨‹å…¶å®æ˜¯è¿™æ ·çš„ï¼š&lt;/p>
&lt;ol>
&lt;li>æ¶ˆæ¯è¢«å®¢æˆ·ç«¯åŒ…è£…äº†ä¸€ä¸‹ï¼Œæ·»åŠ äº†å‘é€è€…å’Œæ¥æ”¶è€…ä¿¡æ¯ï¼Œç„¶åä»ç‹—å“¥çš„å¾®ä¿¡å®¢æˆ·ç«¯ä¼ é€ç»™å¾®ä¿¡æœåŠ¡å™¨ï¼›&lt;/li>
&lt;li>å¾®ä¿¡æœåŠ¡å™¨ä»æ¶ˆæ¯é‡Œè·å–åˆ°å®ƒçš„å‘é€è€…å’Œæ¥æ”¶è€…ï¼Œæ ¹æ®æ¶ˆæ¯çš„æ¥æ”¶è€…ä¿¡æ¯æŠŠè¿™æ¡æ¶ˆæ¯é€è¾¾åˆ°çŒ«çˆ·çš„å¾®ä¿¡å®¢æˆ·ç«¯ï¼ŒçŒ«çˆ·çš„å¾®ä¿¡å®¢æˆ·ç«¯é‡Œå°±æ˜¾ç¤ºå‡ºç‹—å“¥ç»™ä»–å‘äº†ä¸€æ¡æ¶ˆæ¯ã€‚&lt;/li>
&lt;/ol>
&lt;p>&lt;code>MySQL&lt;/code>çš„ä½¿ç”¨è¿‡ç¨‹è·Ÿè¿™ä¸ªæ˜¯ä¸€æ ·çš„ï¼Œå®ƒçš„æœåŠ¡å™¨ç¨‹åº&lt;mark>ç›´æ¥å’Œæˆ‘ä»¬å­˜å‚¨çš„æ•°æ®æ‰“äº¤é“&lt;/mark>ï¼Œç„¶åå¯ä»¥æœ‰å¥½å¤šå®¢æˆ·ç«¯ç¨‹åºè¿æ¥åˆ°è¿™ä¸ªæœåŠ¡å™¨ç¨‹åºï¼Œå‘é€å¢åˆ æ”¹æŸ¥çš„è¯·æ±‚ï¼Œç„¶åæœåŠ¡å™¨å°±å“åº”è¿™äº›è¯·æ±‚ï¼Œä»è€Œæ“ä½œå®ƒç»´æŠ¤çš„æ•°æ®ã€‚å’Œå¾®ä¿¡ä¸€æ ·ï¼Œ&lt;code>MySQL&lt;/code>çš„æ¯ä¸ªå®¢æˆ·ç«¯éƒ½éœ€è¦æä¾›ç”¨æˆ·åå¯†ç æ‰èƒ½ç™»å½•ï¼Œç™»å½•ä¹‹åæ‰èƒ½ç»™æœåŠ¡å™¨å‘è¯·æ±‚æ¥æ“ä½œæŸäº›æ•°æ®ã€‚æˆ‘ä»¬æ—¥å¸¸ä½¿ç”¨&lt;code>MySQL&lt;/code>çš„æƒ…æ™¯ä¸€èˆ¬æ˜¯è¿™æ ·çš„ï¼š&lt;/p>
&lt;ol>
&lt;li>å¯åŠ¨&lt;code>MySQL&lt;/code>æœåŠ¡å™¨ç¨‹åºã€‚&lt;/li>
&lt;li>å¯åŠ¨&lt;code>MySQL&lt;/code>å®¢æˆ·ç«¯ç¨‹åºå¹¶è¿æ¥åˆ°æœåŠ¡å™¨ç¨‹åºã€‚&lt;/li>
&lt;li>åœ¨å®¢æˆ·ç«¯ç¨‹åºä¸­è¾“å…¥ä¸€äº›å‘½ä»¤è¯­å¥ä½œä¸ºè¯·æ±‚å‘é€åˆ°æœåŠ¡å™¨ç¨‹åºï¼ŒæœåŠ¡å™¨ç¨‹åºæ”¶åˆ°è¿™äº›è¯·æ±‚åï¼Œä¼šæ ¹æ®è¯·æ±‚çš„å†…å®¹æ¥æ“ä½œå…·ä½“çš„æ•°æ®å¹¶å‘å®¢æˆ·ç«¯è¿”å›æ“ä½œç»“æœã€‚&lt;/li>
&lt;/ol>
&lt;p>æˆ‘ä»¬çŸ¥é“è®¡ç®—æœºå¾ˆç‰›é€¼ï¼Œåœ¨&lt;mark>ä¸€å°è®¡ç®—æœºä¸Šå¯ä»¥åŒæ—¶è¿è¡Œå¤šä¸ªç¨‹åº&lt;/mark>ï¼Œæ¯”å¦‚å¾®ä¿¡ã€QQã€éŸ³ä¹æ’­æ”¾å™¨ã€æ–‡æœ¬ç¼–è¾‘å™¨ç­‰ï¼Œæ¯ä¸€ä¸ªè¿è¡Œç€çš„ç¨‹åºä¹Ÿè¢«ç§°ä¸ºä¸€ä¸ª==&lt;code>è¿›ç¨‹&lt;/code>==ã€‚æˆ‘ä»¬çš„&lt;code>MySQL&lt;/code>æœåŠ¡å™¨ç¨‹åºå’Œå®¢æˆ·ç«¯ç¨‹åºæœ¬è´¨ä¸Šéƒ½ç®—æ˜¯è®¡ç®—æœºä¸Šçš„ä¸€ä¸ª&lt;code>è¿›ç¨‹&lt;/code>ï¼Œè¿™ä¸ªä»£è¡¨ç€&lt;code>MySQL&lt;/code>æœåŠ¡å™¨ç¨‹åºçš„è¿›ç¨‹ä¹Ÿè¢«ç§°ä¸º&lt;code>MySQLæ•°æ®åº“å®ä¾‹&lt;/code>ï¼Œç®€ç§°&lt;code>æ•°æ®åº“å®ä¾‹&lt;/code>ã€‚&lt;/p>
&lt;p>æ¯ä¸ªè¿›ç¨‹éƒ½æœ‰ä¸€ä¸ªå”¯ä¸€çš„ç¼–å·ï¼Œç§°ä¸º&lt;code>è¿›ç¨‹ID&lt;/code>ï¼Œè‹±æ–‡åå«&lt;code>PID&lt;/code>ï¼Œè¿™ä¸ªç¼–å·æ˜¯åœ¨æˆ‘ä»¬å¯åŠ¨ç¨‹åºçš„æ—¶å€™ç”±æ“ä½œç³»ç»Ÿéšæœºåˆ†é…çš„ï¼Œæ“ä½œç³»ç»Ÿä¼šä¿è¯åœ¨æŸä¸€æ—¶åˆ»åŒä¸€å°æœºå™¨ä¸Šçš„è¿›ç¨‹å·ä¸é‡å¤ã€‚æ¯”å¦‚ä½ æ‰“å¼€äº†è®¡ç®—æœºä¸­çš„QQç¨‹åºï¼Œé‚£ä¹ˆæ“ä½œç³»ç»Ÿä¼šä¸ºå®ƒåˆ†é…ä¸€ä¸ªå”¯ä¸€çš„è¿›ç¨‹å·ï¼Œå¦‚æœä½ æŠŠè¿™ä¸ªç¨‹åºå…³æ‰äº†ï¼Œé‚£æ“ä½œç³»ç»Ÿå°±ä¼šæŠŠè¿™ä¸ªè¿›ç¨‹å·å›æ”¶ï¼Œä¹‹åå¯èƒ½ä¼šé‡æ–°åˆ†é…ç»™åˆ«çš„è¿›ç¨‹ã€‚å½“æˆ‘ä»¬ä¸‹ä¸€æ¬¡å†å¯åŠ¨ QQç¨‹åºçš„æ—¶å€™åˆ†é…çš„å°±å¯èƒ½æ˜¯å¦ä¸€ä¸ªç¼–å·ã€‚æ¯ä¸ªè¿›ç¨‹éƒ½æœ‰ä¸€ä¸ªåç§°ï¼Œè¿™ä¸ªåç§°æ˜¯ç¼–å†™ç¨‹åºçš„äººè‡ªå·±å®šä¹‰çš„ï¼Œæ¯”å¦‚æˆ‘ä»¬å¯åŠ¨çš„&lt;code>MySQL&lt;/code>æœåŠ¡å™¨è¿›ç¨‹çš„é»˜è®¤åç§°ä¸º&lt;code>mysqld&lt;/code>ï¼Œ è€Œæˆ‘ä»¬å¸¸ç”¨çš„&lt;code>MySQL&lt;/code>å®¢æˆ·ç«¯è¿›ç¨‹çš„é»˜è®¤åç§°ä¸º&lt;code>mysql&lt;/code>ã€‚&lt;/p>
&lt;p>MySQLçš„å®‰è£…&lt;/p>
&lt;p>ä¸è®ºæˆ‘ä»¬é€šè¿‡ä¸‹è½½æºä»£ç è‡ªè¡Œç¼–è¯‘å®‰è£…çš„æ–¹å¼ï¼Œè¿˜æ˜¯ç›´æ¥ä½¿ç”¨å®˜æ–¹æä¾›çš„å®‰è£…åŒ…è¿›è¡Œå®‰è£…ä¹‹åï¼Œ&lt;code>MySQL&lt;/code>çš„æœåŠ¡å™¨ç¨‹åºå’Œå®¢æˆ·ç«¯ç¨‹åºéƒ½ä¼šè¢«å®‰è£…åˆ°æˆ‘ä»¬çš„æœºå™¨ä¸Šã€‚ä¸è®ºä½¿ç”¨ä¸Šè¿°ä¸¤è€…çš„å“ªç§å®‰è£…æ–¹å¼ï¼Œä¸€å®šä¸€å®šä¸€å®šï¼ˆé‡è¦çš„è¯è¯´ä¸‰éï¼‰è¦è®°ä½ä½ æŠŠ&lt;code>MySQL&lt;/code>å®‰è£…åˆ°å“ªäº†ï¼Œæ¢å¥è¯è¯´ï¼Œä¸€å®šè¦è®°ä½&lt;code>MySQL&lt;/code>çš„å®‰è£…ç›®å½•ã€‚ &lt;code>å°è´´å£«ï¼š&lt;/code>MySQL&lt;code>çš„å¤§éƒ¨åˆ†å®‰è£…åŒ…éƒ½åŒ…å«äº†æœåŠ¡å™¨ç¨‹åºå’Œå®¢æˆ·ç«¯ç¨‹åºï¼Œä¸è¿‡åœ¨Linuxä¸‹ä½¿ç”¨RPMåŒ…æ—¶ä¼šæœ‰å•ç‹¬çš„æœåŠ¡å™¨RPMåŒ…å’Œå®¢æˆ·ç«¯RPMåŒ…ï¼Œéœ€è¦åˆ†åˆ«å®‰è£…ã€‚&lt;/code>&lt;/p>
&lt;p>å¦å¤–ï¼Œ&lt;code>MySQL&lt;/code>å¯ä»¥è¿è¡Œåœ¨å„ç§å„æ ·çš„æ“ä½œç³»ç»Ÿä¸Šï¼Œæˆ‘ä»¬åè¾¹ä¼šè®¨è®ºåœ¨ç±»&lt;code>UNIX&lt;/code>æ“ä½œç³»ç»Ÿå’Œ&lt;code>Windows&lt;/code>æ“ä½œç³»ç»Ÿä¸Šä½¿ç”¨çš„ä¸€äº›å·®åˆ«ã€‚ä¸ºäº†æ–¹ä¾¿å¤§å®¶ç†è§£ï¼Œæˆ‘åœ¨&lt;code>macOS&lt;/code> æ“ä½œç³»ç»Ÿï¼ˆè‹¹æœç”µè„‘ä½¿ç”¨çš„æ“ä½œç³»ç»Ÿï¼‰å’Œ&lt;code>Windows&lt;/code>æ“ä½œç³»ç»Ÿä¸Šéƒ½å®‰è£…äº†&lt;code>MySQL&lt;/code>ï¼Œå®ƒä»¬çš„å®‰è£…ç›®å½•åˆ†åˆ«æ˜¯ï¼š&lt;/p>
&lt;ul>
&lt;li>&lt;/li>
&lt;/ul>
&lt;p>&lt;code>macOS&lt;/code>æ“ä½œç³»ç»Ÿä¸Šçš„å®‰è£…ç›®å½•ï¼š &lt;code>/usr/local/mysql/&lt;/code>&lt;/p>
&lt;ul>
&lt;li>&lt;/li>
&lt;/ul>
&lt;p>&lt;code>Windows&lt;/code>æ“ä½œç³»ç»Ÿä¸Šçš„å®‰è£…ç›®å½•ï¼š &lt;code>C:\Program Files\MySQL\MySQL Server 5.7&lt;/code>&lt;/p>
&lt;p>ä¸‹é¢æˆ‘ä¼šä»¥è¿™ä¸¤ä¸ªå®‰è£…ç›®å½•ä¸ºä¾‹æ¥è¿›ä¸€æ­¥æ‰¯å‡ºæ›´å¤šçš„æ¦‚å¿µï¼Œä¸è¿‡ä¸€å®šè¦æ³¨æ„ï¼Œ&lt;strong>è¿™ä¸¤ä¸ªå®‰è£…ç›®å½•æ˜¯æˆ‘çš„è¿è¡Œä¸åŒæ“ä½œç³»ç»Ÿçš„æœºå™¨ä¸Šçš„å®‰è£…ç›®å½•ï¼Œä¸€å®šè¦è®°ç€æŠŠä¸‹é¢ç¤ºä¾‹ä¸­ç”¨åˆ°å®‰è£…ç›®å½•çš„åœ°æ–¹æ›¿æ¢ä¸ºä½ è‡ªå·±æœºå™¨ä¸Šçš„å®‰è£…ç›®å½•&lt;/strong>ã€‚ &lt;code>å°è´´å£«ï¼šç±»UNIXæ“ä½œç³»ç»Ÿéå¸¸å¤šï¼Œæ¯”å¦‚FreeBSDã€Linuxã€macOSã€Solarisç­‰éƒ½å±äºUNIXæ“ä½œç³»ç»Ÿçš„èŒƒç•´ï¼Œæˆ‘ä»¬è¿™é‡Œä½¿ç”¨macOSæ“ä½œç³»ç»Ÿä»£è¡¨ç±»UNIXæ“ä½œç³»ç»Ÿæ¥è¿è¡ŒMySQLã€‚&lt;/code>&lt;/p>
&lt;h1 id="binç›®å½•ä¸‹çš„å¯æ‰§è¡Œæ–‡ä»¶">
 binç›®å½•ä¸‹çš„å¯æ‰§è¡Œæ–‡ä»¶
 &lt;a class="anchor" href="#bin%e7%9b%ae%e5%bd%95%e4%b8%8b%e7%9a%84%e5%8f%af%e6%89%a7%e8%a1%8c%e6%96%87%e4%bb%b6">#&lt;/a>
&lt;/h1>
&lt;p>åœ¨&lt;code>MySQL&lt;/code>çš„å®‰è£…ç›®å½•ä¸‹æœ‰ä¸€ä¸ªç‰¹åˆ«ç‰¹åˆ«é‡è¦çš„&lt;code>bin&lt;/code>ç›®å½•ï¼Œè¿™ä¸ªç›®å½•ä¸‹å­˜æ”¾ç€è®¸å¤šå¯æ‰§è¡Œæ–‡ä»¶ï¼Œä»¥&lt;code>macOS&lt;/code>ç³»ç»Ÿä¸ºä¾‹ï¼Œè¿™ä¸ª&lt;code>bin&lt;/code>ç›®å½•çš„ç»å¯¹è·¯å¾„å°±æ˜¯ï¼ˆåœ¨æˆ‘çš„æœºå™¨ä¸Šï¼‰ï¼š &lt;code>/usr/local/mysql/bin&lt;/code> æˆ‘ä»¬åˆ—å‡ºä¸€äº›åœ¨&lt;code>macOS&lt;/code>ä¸­è¿™ä¸ª&lt;code>bin&lt;/code>ç›®å½•ä¸‹çš„ä¸€éƒ¨åˆ†å¯æ‰§è¡Œæ–‡ä»¶æ¥çœ‹ä¸€ä¸‹ï¼ˆæ–‡ä»¶å¤ªå¤šï¼Œå…¨åˆ—å‡ºæ¥ä¼šåˆ·å±çš„ï¼‰ï¼š &lt;code>. â”œâ”€â”€ mysql â”œâ”€â”€ mysql.server -&amp;gt; ../support-files/mysql.server â”œâ”€â”€ mysqladmin â”œâ”€â”€ mysqlbinlog â”œâ”€â”€ mysqlcheck â”œâ”€â”€ mysqld â”œâ”€â”€ mysqld_multi â”œâ”€â”€ mysqld_safe â”œâ”€â”€ mysqldump â”œâ”€â”€ mysqlimport â”œâ”€â”€ mysqlpump ... (çœç•¥å…¶ä»–æ–‡ä»¶) 0 directories, 40 files&lt;/code> &lt;code>Windows&lt;/code>ä¸­çš„å¯æ‰§è¡Œæ–‡ä»¶ä¸&lt;code>macOS&lt;/code>ä¸­çš„ç±»ä¼¼ï¼Œä¸è¿‡éƒ½æ˜¯ä»¥&lt;code>.exe&lt;/code>ä¸ºæ‰©å±•åçš„ã€‚è¿™äº›å¯æ‰§è¡Œæ–‡ä»¶éƒ½æ˜¯ä¸æœåŠ¡å™¨ç¨‹åºå’Œå®¢æˆ·ç«¯ç¨‹åºç›¸å…³çš„ï¼Œåè¾¹æˆ‘ä»¬ä¼šè¯¦ç»†ä»‹ç»ä¸€äº›æ¯”è¾ƒé‡è¦çš„å¯æ‰§è¡Œæ–‡ä»¶ï¼Œç°åœ¨å…ˆçœ‹çœ‹æ‰§è¡Œè¿™äº›æ–‡ä»¶çš„æ–¹å¼ã€‚&lt;/p></description></item><item><title>ç¬¬0ç« _ä¸‡é‡Œé•¿å¾ç¬¬ä¸€æ­¥(éå¸¸é‡è¦)-å¦‚ä½•æ„‰å¿«çš„é˜…è¯»æœ¬å°å†Œ</title><link>https://lwmfjc.github.io/zh/docs/technology/MySQL/MySQL%E6%98%AF%E6%80%8E%E6%A0%B7%E8%BF%90%E8%A1%8C%E7%9A%84/%E7%AC%AC0%E7%AB%A0_%E4%B8%87%E9%87%8C%E9%95%BF%E5%BE%81%E7%AC%AC%E4%B8%80%E6%AD%A5%E9%9D%9E%E5%B8%B8%E9%87%8D%E8%A6%81-%E5%A6%82%E4%BD%95%E6%84%89%E5%BF%AB%E7%9A%84%E9%98%85%E8%AF%BB%E6%9C%AC%E5%B0%8F%E5%86%8C/</link><pubDate>Sat, 11 Jan 2025 16:39:56 +0800</pubDate><guid>https://lwmfjc.github.io/zh/docs/technology/MySQL/MySQL%E6%98%AF%E6%80%8E%E6%A0%B7%E8%BF%90%E8%A1%8C%E7%9A%84/%E7%AC%AC0%E7%AB%A0_%E4%B8%87%E9%87%8C%E9%95%BF%E5%BE%81%E7%AC%AC%E4%B8%80%E6%AD%A5%E9%9D%9E%E5%B8%B8%E9%87%8D%E8%A6%81-%E5%A6%82%E4%BD%95%E6%84%89%E5%BF%AB%E7%9A%84%E9%98%85%E8%AF%BB%E6%9C%AC%E5%B0%8F%E5%86%8C/</guid><description>&lt;h1 id="ç¬¬0ç« -ä¸‡é‡Œé•¿å¾ç¬¬ä¸€æ­¥éå¸¸é‡è¦-å¦‚ä½•æ„‰å¿«çš„é˜…è¯»æœ¬å°å†Œ">
 ç¬¬0ç«  ä¸‡é‡Œé•¿å¾ç¬¬ä¸€æ­¥ï¼ˆéå¸¸é‡è¦ï¼‰-å¦‚ä½•æ„‰å¿«çš„é˜…è¯»æœ¬å°å†Œ
 &lt;a class="anchor" href="#%e7%ac%ac0%e7%ab%a0-%e4%b8%87%e9%87%8c%e9%95%bf%e5%be%81%e7%ac%ac%e4%b8%80%e6%ad%a5%e9%9d%9e%e5%b8%b8%e9%87%8d%e8%a6%81-%e5%a6%82%e4%bd%95%e6%84%89%e5%bf%ab%e7%9a%84%e9%98%85%e8%af%bb%e6%9c%ac%e5%b0%8f%e5%86%8c">#&lt;/a>
&lt;/h1>
&lt;p>è´­ä¹°å‰è­¦å‘Šâš ï¸&lt;/p>
&lt;ul>
&lt;li>æ­¤å°å†Œå¹¶éæ•°æ®åº“å…¥é—¨ä¹¦ç±ï¼Œéœ€è¦å„ä½çŸ¥é“å¢åˆ æ”¹æŸ¥æ˜¯ä»€ä¹ˆæ„æ€ï¼Œå¹¶ä¸”èƒ½ç”¨ SQL è¯­è¨€å†™å‡ºæ¥ï¼Œå½“ç„¶å¹¶ä¸è¦æ±‚å„ä½çŸ¥é“çš„å¤ªå¤šï¼Œä½ ç”šè‡³å¯ä»¥ä¸çŸ¥é“è¿æ¥çš„è¯­æ³•éƒ½å¯ä»¥ã€‚ä¸è¿‡å¦‚æœä½ è¿&lt;code>SELECT&lt;/code>ã€&lt;code>INSERT&lt;/code>è¿™äº›å•è¯éƒ½æ²¡å¬è¯´è¿‡é‚£æœ¬å°å†Œå¹¶ä¸é€‚åˆä½ ã€‚&lt;/li>
&lt;li>æ­¤å°å†Œéæ­£ç»ç§‘å­¦ä¸“è‘—ï¼Œäº¦éåäºŒäº”å›½å®¶çº§è§„åˆ’æ•™æï¼Œä¹Ÿæ²¡æœ‰å¤§æ®µä»£ç å’Œè¯¦ç»†è®ºè¯ï¼Œæœ‰çš„å…¨æ˜¯å›¾ï¼Œå–œæ¬¢æ­£ç»è®ºè¿°çš„åŒå­¦è¯·é¿å…è´­ä¹°æœ¬å°å†Œã€‚&lt;/li>
&lt;li>æ­¤å°å†Œä½œè€…ä¹ƒä¸€æ— ä¸šæ¸¸æ°‘ï¼Œéä¸“ä¸šå¤§ä½¬ï¼Œæ²¡æœ‰ä»»ä½•èŒç§°ï¼Œåªæ˜¯å•å•å–œæ¬¢æŠŠå¤æ‚é—®é¢˜è®²æ¸…æ¥šçš„é‚£ç§å¿«æ„Ÿï¼Œæ‰€ä»¥å–œæ¬¢ä½œè€…æœ‰ Googleã€Facebook é«˜çº§å¼€å‘å·¥ç¨‹å¸ˆï¼ŒäºŒç™¾å¹´å·¥ä½œç»éªŒç­‰ Title çš„åŒå­¦è¯·è°¨æ…è´­ä¹°ã€‚&lt;/li>
&lt;li>æ­¤å°å†Œæ˜¯ç”¨äºä»‹ç» MySQL çš„å·¥ä½œåŸç†ä»¥åŠå¯¹æˆ‘ä»¬ç¨‹åºçŒ¿çš„å½±å“ï¼Œå¹¶ä¸æ˜¯ä»‹ç»æ¦‚å¿µè®¾è®¡ã€é€»è¾‘è®¾è®¡ã€ç‰©ç†è®¾è®¡ã€èŒƒå¼åŒ–ä¹‹ç±»çš„æ•°æ®åº“è®¾è®¡æ–¹é¢çš„çŸ¥è¯†ï¼Œå¸Œæœ›äº†è§£ä¸Šè¿°è¿™äº›çŸ¥è¯†çš„åŒå­¦æ¥é”™åœ°æ–¹äº†ã€‚&lt;/li>
&lt;li>æ–‡ç« æ ‡é¢˜ä¸­çš„â€œä»æ ¹å„¿ä¸Šç†è§£MySQLâ€å…¶å®æ˜¯ä¸“é—¨é›‡äº†UC éœ‡æƒŠéƒ¨å°ç¼–èµ·çš„ï¼Œçº¯å±ä¸ºäº†å¸å¼•å¤§å®¶çœ¼çƒã€‚ä¸¥æ ¼æ„ä¹‰ä¸Šè¯´ï¼Œæœ¬ä¹¦åªæ˜¯ä»‹ç»&lt;code>MySQL&lt;/code>å†…æ ¸çš„ä¸€äº›æ ¸å¿ƒæ¦‚å¿µçš„å°ç™½è¿›é˜¶ä¹¦ç±ã€‚å¤§å®¶è¯»å®Œæœ¬å°å†Œä¹Ÿä¸ä¼šä¸€ä¸‹å­æ™‹å‡ä¸šç•Œå¤§ä½¬ï¼Œå½“ä¸Š CTOï¼Œè¿å¨¶ç™½å¯Œç¾ï¼Œèµ°ä¸Šäººç”Ÿå·…å³°ã€‚å¸Œæœ›æœ¬å°å†Œèƒ½å¤Ÿå¸®åŠ©å¤§å®¶è§£å†³ä¸€äº›å·¥ä½œã€é¢è¯•è¿‡ç¨‹ä¸­çš„é—®é¢˜ï¼Œé€æ¸æˆä¸ºä¸€ä¸ªæ›´å¥½çš„å·¥ç¨‹å¸ˆï¼Œæœ‰å…´è¶£çš„å°ä¼™ä¼´å¯ä»¥å†æ·±å…¥ç ”ç©¶ä¸€ä¸‹ MySQLï¼Œè¯´ä¸å®šä½ å°±æ˜¯ä¸‹ä¸€ä¸ªæ•°æ®åº“æ³°æ–—å•¦ã€‚&lt;/li>
&lt;/ul>
&lt;p>è´­ä¹°å¹¶é˜…è¯»æœ¬å°å†Œçš„å»ºè®®&lt;/p>
&lt;p>&lt;img src="img/00-01.png" alt="" />&lt;/p>
&lt;ul>
&lt;li>æœ¬å°å†Œæ˜¯ä¸€æœ¬å¾…å‡ºç‰ˆçš„çº¸è´¨ä¹¦ç±ï¼Œå¹¶éä¸€äº›æ‚ç¢æ–‡ç« çš„é›†åˆï¼Œæ˜¯éå¸¸æœ‰ç»“æ„å’Œå¥—è·¯çš„ï¼Œæ‰€ä»¥å¤§å®¶é˜…è¯»æ—¶åƒä¸‡ä¸èƒ½å½“ä½œå•æ‰€è¹²å‘ã€åƒé¥­çœ‹æ‰‹æœºæ—¶çš„æ‰€è°“&lt;code>ç¢ç‰‡åŒ–è¯»ç‰©&lt;/code>ã€‚ç¢ç‰‡åŒ–é˜…è¯»åªé€‚åˆå¬å¬çŸ®å¤§ç´§ã€ç½—èƒ–å­ä»–ä»¬æ‰¯æ‰¯çŠŠå­ï¼Œå¼€é˜”ä¸€ä¸‹è§†é‡ç”¨çš„ã€‚å¯¹äºä¸“ä¸šçš„æŠ€æœ¯çŸ¥è¯†æ¥è¯´ï¼Œå¤§å®¶å¿…é¡»ä»˜å‡ºä¸€ä¸ªå®Œæ•´çš„æ—¶é—´æ®µè¿›è¡Œä½“ç³»åŒ–å­¦ä¹ ï¼Œè¿™æ ·å°Šé‡çŸ¥è¯†ï¼Œå·¥èµ„æ‰èƒ½å°Šé‡ä½ ã€‚ &lt;code>é¡ºä¾¿è¯´ä¸€å¥ï¼Œæˆ‘å·²ç»å¥½ä¹…éƒ½ä¸å¬ç½—èƒ–å­æ‰¯çŠŠå­äº†ï¼Œåˆšå¼€å§‹åŠç½—è¾‘æ€ç»´çš„æ—¶å€™è§‰å¾—ä»–æ‰¯çš„è¿˜å¯ä»¥ï¼Œè¶Šå¾€åè¶Šè§‰å¾—éƒ½é’»é’±çœ¼å„¿é‡Œäº†ï¼Œå¤©å¤©åœ¨é¼“å¹ç„¦è™‘ï¼Œè®©å¤§å®¶å»ä¹°ä»–ä»¬çš„é¸¡æ±¤è¯¾ã€‚ä¸è¿‡å¬å¬çŸ®å¤§ç´§å°±æŒºå¥½å•Šï¼Œä¸ç´¯ï½&lt;/code>&lt;/li>
&lt;li>æœ¬å°å†Œæ˜¯ç”± Markdown å†™æˆï¼Œåœ¨ç”µè„‘ç«¯é˜…è¯»ä½“éªŒååˆ†èˆ’æœï¼Œå½“ç„¶ä½ éè¦ç”¨å°æ‰‹æœºçœ‹æˆ‘ä¹Ÿä¸æ‹¦ç€ä½ ï¼Œä½†æ˜¯æ•ˆæœæ‰“äº†æŠ˜æ‰£æ˜¯ä½ çš„æŸå¤±ã€‚&lt;/li>
&lt;li>ä¸ºäº†ä¿è¯æœ€å¥½çš„é˜…è¯»ä½“éªŒï¼Œä¸ç”¨ä¸€ä¸ªæ²¡å­¦è¿‡çš„æ¦‚å¿µå»ä»‹ç»å¦ä¸€ä¸ªæ–°æ¦‚å¿µï¼Œæœ¬å°å†Œçš„ç« èŠ‚æœ‰ä¸¥é‡çš„ä¾èµ–æ€§ï¼Œæ¯”å¦‚ä½ åœ¨æ²¡è¯»&lt;code>InnoDB&lt;/code>æ•°æ®é¡µç»“æ„å‰åƒä¸‡ä¸è¦å°±å»è¯»&lt;code>B+&lt;/code>æ ‘ç´¢å¼•ï¼Œæ‰€ä»¥å¤§å®¶æœ€å¥½ä»å‰çœ‹åˆ°å°¾ï¼Œ&lt;strong>ä¸è¦è·³ç€çœ‹ï¼ä¸è¦è·³ç€çœ‹ï¼ä¸è¦è·³ç€çœ‹ï¼&lt;/strong>ï¼Œå½“ç„¶ï¼Œä¸å¬åŠå‘Šæˆ‘ä¹Ÿä¸èƒ½è¯´ä»€ä¹ˆï¼Œç¥ä½ å¥½è¿ã€‚&lt;/li>
&lt;li>å¤§å®¶å¯èƒ½ä¹°è¿‡åˆ«çš„å°å†Œï¼Œæœ‰çš„å°å†Œä¸€ç¯‡æ–‡ç« å¯èƒ½ç”¨5åˆ†é’Ÿã€10åˆ†é’Ÿè¯»å®Œï¼Œä¸è¿‡æˆ‘çš„å°å†Œå­æ¯ä¸€ç¯‡æ–‡ç« éƒ½æ¯”è¾ƒé•¿ï¼Œå› ä¸ºæˆ‘æŠŠé«˜è€¦åˆçš„éƒ¨åˆ†éƒ½é›†ä¸­åœ¨ä¸€ç¯‡æ–‡ç« ä¸­äº†ã€‚æ–‡ç« ä¸­åŸ‹ç€å„ç§ä¼ç¬”ï¼Œæ‰€ä»¥å¤§å®¶çœ‹çš„æ—¶å€™å¯èƒ½ä¸ä¼šè§‰å¯Ÿå‡ºæ¥å¾ˆçªå…€çš„è½¬å˜ï¼Œæ‰€ä»¥åœ¨é˜…è¯»ä¸€ç¯‡æ–‡ç« çš„æ—¶å€™åƒä¸‡&lt;strong>ä¸è¦è·³ç€çœ‹ï¼ä¸è¦è·³ç€çœ‹ï¼ä¸è¦è·³ç€çœ‹ï¼&lt;/strong>&lt;/li>
&lt;li>å¤§å®¶åœ¨çœ‹æœ¬å°å†Œä¹‹å‰åº”è¯¥æ–­æ–­ç»­ç»­çœ‹è¿‡ä¸€äº›ä¸æœ¬å°å†Œå†…å®¹ç›¸å…³çš„çŸ¥è¯†ï¼Œåªæ˜¯ä¸æˆä½“ç³»ï¼Œç»†èŠ‚å­¦ä¹ çš„ä¸å¤Ÿã€‚å¯¹äºè¿™éƒ¨åˆ†è¯»è€…æ¥è¯´ï¼Œå¸Œæœ›å¤§å®¶åƒå€šå¤©å± é¾™è®°é‡Œçš„å¼ æ— å¿Œä¸€æ ·ï¼Œåœ¨å­¦å¼ ä¸‰ä¸°çš„å¤ªæå‰‘æ³•æ—¶å…ˆå¿˜è®°ä¹‹å‰çš„æ­¦åŠŸï¼Œå¿˜çš„è¶Šå¹²å‡€ï¼Œå­¦çš„è¶Šå¾—çœŸä¼ ã€‚è¿™æ ·æ‰èƒ½è·Ÿç€æˆ‘çš„å¥—è·¯èµ°ä¸‹å»ã€‚&lt;/li>
&lt;li>&lt;/li>
&lt;/ul>
&lt;p>å¦‚æœä½ çœŸçš„æ˜¯ä¸ªå°ç™½çš„è¯ï¼Œé‚£è¿™é‡Œå¤´çš„æ•°å­—éƒ½æ˜¯å‡çš„ï¼š &lt;img src="img/00-02.png" alt="" />&lt;/p>
&lt;p>ä¸€ç¯‡æ–‡ç« èƒ½ç”¨2ä¸ªå°æ—¶å·¦å³çš„æ—¶é—´æŒæ¡å°±å¾ˆä¸é”™äº†ã€‚è¯´å¥æ‰«å¤§å®¶å…´çš„è¯ï¼Œè™½ç„¶æˆ‘å·²ç»å¾ˆåŠªåŠ›çš„æƒ³è®©å¤§å®¶çš„å­¦ä¹ æ•ˆç‡æå‡nå€ï¼Œä½†æ˜¯ä¸å¹¸çš„æ˜¯æƒ³æŒæ¡ä¸€é—¨æ ¸å¿ƒæŠ€æœ¯ä»ç„¶éœ€è¦å¤§å®¶å¤šçœ‹å‡ éï¼ˆä¸ç„¶å·¥èµ„é‚£ä¹ˆå¥½æ¶¨å•Šï½ï¼‰ã€‚&lt;/p>
&lt;p>å…³äºå·¥å…·&lt;/p>
&lt;p>æœ¬å°å†Œä¸­ä¼šæ¶‰åŠå¾ˆå¤š InnoDB çš„å­˜å‚¨ç»“æ„çš„çŸ¥è¯†ï¼Œæ¯”å¦‚è®°å½•ç»“æ„ã€é¡µç»“æ„ã€ç´¢å¼•ç»“æ„ã€è¡¨ç©ºé—´ç»“æ„ç­‰ç­‰ï¼Œè¿™äº›çŸ¥è¯†æ˜¯æ‰€æœ‰åç»­çŸ¥è¯†çš„åŸºç¡€ï¼Œæ‰€ä»¥æ˜¯é‡ä¸­ä¹‹é‡ï¼Œéœ€è¦å¤§å®¶è®¤çœŸå¯¹å¾…ã€‚Jeremy Cole å·²ç»ä½¿ç”¨ Ruby å¼€å‘äº†ä¸€ä¸ªç®€æ˜“çš„è§£æè¿™äº›åŸºç¡€ç»“æ„çš„å·¥å…·ï¼Œgithubåœ°å€æ˜¯ï¼š&lt;a href="https://github.com/jeremycole/innodb_ruby">innodb_rubyçš„githubåœ°å€&lt;/a>ï¼Œå¤§å®¶å¯ä»¥æŒ‰ç…§è¯´æ˜å®‰è£…ä¸Šè¿™ä¸ªå·¥å…·ï¼Œå¯ä»¥æ›´å¥½çš„ç†è§£ InnoDB ä¸­çš„ä¸€äº›å­˜å‚¨ç»“æ„ï¼ˆæ­¤å·¥å…·è™½ç„¶æ˜¯é’ˆå¯¹&lt;code>MySQL 5.6&lt;/code>çš„ï¼Œä½†æ˜¯å¹¸å¥½&lt;code>MySQL&lt;/code>çš„åŸºç¡€å­˜å‚¨ç»“æ„åŸºæœ¬æ²¡å¤šå¤§å˜åŒ–ï¼Œæ‰€ä»¥å¤§éƒ¨åˆ†åœºæ™¯ä¸‹è¿™ä¸ª&lt;code>innodb_ruby&lt;/code>å·¥å…·è¿˜æ˜¯å¯ä»¥ä½¿ç”¨çš„ï¼‰ã€‚&lt;/p>
&lt;p>å…³äºç›—ç‰ˆ&lt;/p>
&lt;p>åœ¨å†™è¿™æœ¬å°å†Œä¹‹å‰ï¼Œæˆ‘å¤©çœŸçš„ä»¥ä¸ºåªéœ€è¦æ‰¾å‡ æœ¬å‚è€ƒä¹¦ï¼Œçœ‹çœ‹ MySQL çš„å®˜æ–¹æ–‡æ¡£ï¼Œé‡åˆ°ä¸ä¼šçš„åœ°æ–¹ç™¾åº¦è°·æ­Œä¸€ä¸‹å°±å¯ä»¥åœ¨ 3 ä¸ªæœˆå†…è§£å†³è¿™æœ¬ä¹¦ï¼Œåæ¥çš„ç°å®è¯æ˜æˆ‘çœŸçš„æƒ³çš„å¤ªç¾äº†ã€‚ä¸ä»…èŠ±äº†å¤§é‡çš„æ—¶é—´é˜…è¯»å„ç§ä¹¦ç±å’Œæºç ï¼Œè€Œä¸”æœ‰çš„æ—¶å€™çŸ¥è¯†è€¦åˆå¤ªå‰å®³ï¼Œä¸ºäº†æ›´åŠ æ¨¡å—åŒ–çš„æŠŠçŸ¥è¯†è¡¨è¿°æ¸…æ¥šï¼Œæˆ‘åˆèŠ±äº†å¤§é‡çš„æ—¶é—´æ¥æ€è€ƒå¦‚ä½•å†™ä½œæ‰èƒ½ç¬¦åˆç”¨æˆ·è®¤çŸ¥ä¹ æƒ¯ï¼Œè¿˜èŠ±äº†éå¸¸å¤šçš„æ—¶é—´æ¥ç”»å„ç§å›¾è¡¨ï¼Œæ€»ä¹‹å°±æ˜¯å¿ƒç´¯å•Šï½ æˆ‘å¸Œæœ›çš„æ˜¯ï¼š&lt;strong>å„ä½åŒå­¦å¯ä»¥ç”¨å¾ˆä½çš„æˆæœ¬æ¥æ›´å¿«é€Ÿå­¦ä¼šä¸€äº›çœ‹èµ·æ¥ç”Ÿæ¶©éš¾æ‡‚çš„çŸ¥è¯†&lt;/strong>ï¼Œä½†æ˜¯æ¯•ç«Ÿæˆ‘ä¸æ˜¯é©¬äº‘ï¼Œä¸èƒ½ä¸€å¿ƒä¸€æ„åšå…¬ç›Šï¼Œå¸Œæœ›å„ä½é€šè¿‡æ­£è§„æ¸ é“è·å¾—å°å†Œï¼Œå°Šé‡ä¸€ä¸‹ç‰ˆæƒã€‚ è¿˜æœ‰å„ä½å†™åšå®¢çš„åŒå­¦ï¼Œå¼•ç”¨çš„å°‘äº†å«å€Ÿé‰´ï¼Œå¼•ç”¨çš„å¤šäº†å°±ï¼Œå°±æœ‰ç‚¹é‚£ä¸ªäº†ã€‚å¸Œæœ›å„ä½ä¸è¦å¤§æ®µå¤§æ®µçš„å¤åˆ¶ç²˜è´´ï¼Œç”¨è‡ªå·±çš„è¯å†™å‡ºæ¥çš„çŸ¥è¯†æ‰æ˜¯è‡ªå·±çš„ä¸œè¥¿ã€‚ æˆ‘çŸ¥é“ä¸è®ºæˆ‘ä»¬æ€æ ·å¼ºè°ƒç‰ˆæƒæ„è¯†ï¼Œæ€»æ˜¯æœ‰ä¸€éƒ¨åˆ†å°ä¼™ä¼´å–œæ¬¢ä¸åŠ³è€Œè·ï¼Œæ€»æ˜¯å–œæ¬¢æƒ³å°½å„ç§æ¸ é“æ¥å¼„ä¸€ä»½ç›—ç‰ˆçš„çœ‹ï¼Œå¸Œæœ›è¿™éƒ¨åˆ†åŒå­¦çœ‹å®Œåˆ«å¿˜äº†å…³æ³¨å…¬ä¼—å·ã€æˆ‘ä»¬éƒ½æ˜¯å°é’è›™ã€‘ï¼Œç»™æˆ‘å¡«ä¸ªç²‰å„¿ä¹Ÿç®—æ˜¯èµåŠ©ä¸€ä¸‹æˆ‘ï¼ˆä¸‹é¢æ˜¯äºŒç»´ç ï¼Œè§‰å¾—æœ‰å¸®åŠ©çš„è¯å¸Œæœ›å¯ä»¥æ‰“èµä¸€ä¸‹ï¼Œæ¯•ç«Ÿæœ¬äººå¾ˆç©·ã€‚å¦å¤–ï¼Œå…¬ä¼—å·ä¸­æœ‰è‹¥å¹²ç¯‡å°å†Œçš„è¡¥å……æ–‡ç« ï¼ŒåŒ…æ‹¬ä¸‰ç¯‡æå…¶é‡è¦çš„è¯­å¥åŠ é”åˆ†æï¼‰ï¼š&lt;/p>
&lt;p>&lt;code>å°è´´å£«ï¼šæˆ‘ä¸€ç›´æœ‰ä¸ªæƒ³æ³•ï¼Œå°±æ˜¯å¦‚ä½•é™ä½æ•™è‚²æˆæœ¬ã€‚ç°åœ¨æ•™è‚²çš„ç›ˆåˆ©æ”¶è´¹æ¨¡å¼éƒ½å¤ªå•ä¸€ï¼Œå°±æ˜¯ç›´æ¥è·Ÿå­¦ç”Ÿæ”¶ä¸Šè¯¾è´¹ï¼Œå¯¼è‡´è¯¾ç¨‹æˆä¸ºä¸€ç§2Cçš„å•†å“ï¼Œä»·æ ¼é«˜ä½å…¶å®å’Œå†…å®¹è´¨é‡å¹¶ä¸æ˜¯å¾ˆç›¸å…³ï¼Œæ‰€ä»¥è¯¾ç¨‹æä¾›å•†ä¼šæŠ•å…¥æ›´å¤§çš„ç²¾åŠ›åšä»–ä»¬çš„æ¸ é“è¥é”€ã€‚æ‰€ä»¥ç°åœ¨çš„åœ¨çº¿æ•™è‚²å¸‚åœºå°±æ˜¯æ¸ é“ä¸ºç‹ï¼Œæ‹›ç”Ÿä¸ºç‹ã€‚æˆ‘ä»¬å…¶å®å¯ä»¥æ¢ä¸€ç§æ€è·¯ï¼Œåœ¨çº¿æ•™è‚²çš„ä¼˜åŠ¿å…¶å®æ˜¯ä¼ æ’­è´¹ç”¨æ›´ä½ï¼Œä¸€ä¸ªäººä¸Šè¯¾å’Œä¸€åƒä¸‡äººä¸Šè¯¾çš„è´¹ç”¨åŒºåˆ«å…¶å®å°±æ˜¯æœåŠ¡å™¨ä½¿ç”¨çš„å¤šå°‘ç½¢äº†ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯èƒ½å¹¶ä¸éœ€è¦é‚£ä¹ˆå¤šè¯­æ–‡è€å¸ˆã€æ•°å­¦è€å¸ˆï¼Œæˆ‘ä»¬ç”¨ä¸“ä¸šçš„å¯¼æ¼”ã€ä¸“ä¸šçš„å£°ä¼˜ã€ä¸“ä¸šçš„åŠ¨ç”»åˆ¶ä½œã€ä¸“ä¸šçš„åæœŸã€ä¸“ä¸šçš„å‰ªè¾‘ã€ä¸“ä¸šçš„ç¼–å‰§ç»„æˆçš„å›¢é˜Ÿä¸ºæŸä¸ªç§‘ç›®åˆ¶ä½œä¸€ä¸ªä¸“ä¸šçš„è¯¾ç¨‹å°±å¥½äº†å˜›ï¼ˆé¡ºä¾¿è¯´ä¸€å¥ï¼Œæˆ‘å°±å¯ä»¥è½¬è¡Œåšè¯¾ç¨‹ç¼–å‰§äº†ï¼‰ï¼æŠŠè¯¾ç¨‹å½“ä½œç”µå½±ã€ç”µè§†å‰§æ¥å–ï¼Œåªè¦åœ¨è¯¾ç¨‹ä¸­æ¤å…¥å¹¿å‘Šï¼Œæˆ–è€…åœ¨æ’­æ”¾å¹³å°ä¸ŠåŠ å¹¿å‘Šå°±å¥½äº†å˜›ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥åœ¨è¯¾ç¨‹é‡ŒåŸ¹å…»å¶åƒï¼Œæ¥åšä¸€æ³¢ç²‰ä¸ç»æµã€‚è¿™æ ·è¯¾ç¨‹ç”Ÿäº§æ–¹ä¹Ÿèµšé’±ï¼Œå­¦ç”Ÿä»¬ä¹Ÿçœé’±ï¼Œæœ€ä¸»è¦çš„æ˜¯å¯ä»¥æ›´å¤§å±‚åº¦ä¸Šä¿ƒè¿›æ•™è‚²å…¬å¹³ï¼Œå¤šå¥½ã€‚&lt;/code>&lt;/p>
&lt;p>å…³äºé”™è¯¯&lt;/p>
&lt;h1 id="å‡†ç¡®æ€§é—®é¢˜">
 å‡†ç¡®æ€§é—®é¢˜
 &lt;a class="anchor" href="#%e5%87%86%e7%a1%ae%e6%80%a7%e9%97%ae%e9%a2%98">#&lt;/a>
&lt;/h1>
&lt;p>æˆ‘ä¸æ˜¯ç¥ï¼Œå¹¶ä¸æ˜¯ä¹¦ä¸­çš„æ‰€æœ‰å†…å®¹æˆ‘éƒ½ä¸€ä¸€å¯¹ç…§æºç æ¥éªŒè¯å‡†ç¡®æ€§ï¼ˆé˜…è¯»çš„å¤§éƒ¨åˆ†æºç æ˜¯å…³äºæŸ¥è¯¢ä¼˜åŒ–å’Œäº‹åŠ¡å¤„ç†çš„ï¼‰ï¼Œå¦‚æœå„ä½å‘ç°äº†æ–‡ä¸­æœ‰å‡†ç¡®æ€§é—®é¢˜è¯·ç›´æ¥è”ç³»æˆ‘ï¼Œæˆ‘ä¼šåŠ å…¥ Bug åˆ—è¡¨ä¸­ä¿®æ­£çš„ã€‚&lt;/p>
&lt;h1 id="é˜…è¯»ä½“éªŒé—®é¢˜">
 é˜…è¯»ä½“éªŒé—®é¢˜
 &lt;a class="anchor" href="#%e9%98%85%e8%af%bb%e4%bd%93%e9%aa%8c%e9%97%ae%e9%a2%98">#&lt;/a>
&lt;/h1>
&lt;p>å¤§å®¶çŸ¥é“å¤§éƒ¨åˆ†äººåœ¨é•¿å¤§ä¹‹åå°±å¿˜è®°äº†è‡ªå·±å°æ—¶å€™çš„æ ·å­ï¼Œæˆ‘å†™æœ¬ä¹¦çš„åˆè¡·å°±æ˜¯æœ‰å¾ˆå¤šèµ„æ–™æˆ‘çœ‹ä¸æ‡‚ï¼Œçœ‹çš„æˆ‘è„‘å£³ç–¼ï¼Œä¹‹åæ‰å†³å®šä»å°ç™½çš„è§’åº¦å‡ºå‘æ¥å†™ä¸€æœ¬å°ç™½éƒ½èƒ½çœ‹æ‡‚çš„æŠ€æœ¯ä¹¦ç±ã€‚ä½†æ˜¯ç”±äºåæ¥è‡ªå·±å­¦çš„ä¸œè¥¿è¶Šæ¥è¶Šå¤šï¼Œå¯èƒ½æœ‰äº›åœ°æ–¹æˆ‘å·²ç»å¿˜æ‰äº†å°ç™½çš„æƒ³æ³•æ˜¯æ€ä¹ˆæ ·çš„ï¼Œæ‰€ä»¥å¤§å®¶åœ¨é˜…è¯»è¿‡ç¨‹ä¸­æœ‰ä»»ä½•é˜…è¯»ä¸ç•…å¿«çš„åœ°æ–¹éƒ½å¯ä»¥ç»™æˆ‘æï¼Œæˆ‘ä¹Ÿä¼šåŠ å…¥bugåˆ—è¡¨ä¸­é€ä¸€ä¼˜åŒ–ã€‚&lt;/p>
&lt;p>å…³äºè½¬å‘&lt;/p>
&lt;p>å¦‚æœä½ ä»æœ¬å°å†Œä¸­è·å–åˆ°äº†è‡ªå·±æƒ³è¦çš„çŸ¥è¯†ï¼Œå¹¶ä¸”è¿™ä¸ªè¿‡ç¨‹æ˜¯æ¯”è¾ƒè½»æ¾æ„‰å¿«çš„ï¼Œå¸Œæœ›å„ä½èƒ½å¸®åŠ©è½¬å‘æœ¬å°å†Œï¼Œè§£æ”¾ä¸€ä¸‹å­¦ä¸æ‡‚è¿™äº›çŸ¥è¯†çš„ç«¥é‹ä»¬ï¼Œå¤šèŠ‚çœä¸€ä¸‹ä»–ä»¬çš„å­¦ä¹ æ—¶é—´ä»¥åŠè®©å­¦ä¹ è¿‡ç¨‹ä¸å†é‚£ä¹ˆç—›è‹¦ã€‚å¤§å®¶çš„æŠ€æœ¯éƒ½é•¿è¿›äº†ï¼Œå’±å›½å®¶çš„æŠ€æœ¯ä¹Ÿå°±æ…¢æ…¢å¼ºèµ·æ¥äº†ã€‚&lt;/p></description></item><item><title>08æ•°æ®çš„å®¶--MySQLçš„æ•°æ®ç›®å½•</title><link>https://lwmfjc.github.io/zh/docs/technology/MySQL/_how_mysql_run_/08/</link><pubDate>Sun, 05 Jan 2025 19:17:49 +0800</pubDate><guid>https://lwmfjc.github.io/zh/docs/technology/MySQL/_how_mysql_run_/08/</guid><description>&lt;h1 id="heading">
 #
 &lt;a class="anchor" href="#heading">#&lt;/a>
&lt;/h1>

&lt;h1 id="æ•°æ®åº“å’Œæ–‡ä»¶ç³»ç»Ÿçš„å·¥å…·">
 æ•°æ®åº“å’Œæ–‡ä»¶ç³»ç»Ÿçš„å·¥å…·
 &lt;a class="anchor" href="#%e6%95%b0%e6%8d%ae%e5%ba%93%e5%92%8c%e6%96%87%e4%bb%b6%e7%b3%bb%e7%bb%9f%e7%9a%84%e5%b7%a5%e5%85%b7">#&lt;/a>
&lt;/h1>
&lt;h1 id="æ•°æ®ç›®å½•çš„ç»“æ„">
 æ•°æ®ç›®å½•çš„ç»“æ„
 &lt;a class="anchor" href="#%e6%95%b0%e6%8d%ae%e7%9b%ae%e5%bd%95%e7%9a%84%e7%bb%93%e6%9e%84">#&lt;/a>
&lt;/h1>
&lt;h2 id="è¡¨åœ¨æ–‡ä»¶ç³»ç»Ÿä¸­çš„è¡¨ç¤º">
 è¡¨åœ¨æ–‡ä»¶ç³»ç»Ÿä¸­çš„è¡¨ç¤º
 &lt;a class="anchor" href="#%e8%a1%a8%e5%9c%a8%e6%96%87%e4%bb%b6%e7%b3%bb%e7%bb%9f%e4%b8%ad%e7%9a%84%e8%a1%a8%e7%a4%ba">#&lt;/a>
&lt;/h2>
&lt;p>kjskfjksdf&lt;br>
s ksfd&lt;/p>
&lt;h3 id="innodbæ˜¯å¦‚ä½•å­˜å‚¨è¡¨æ•°æ®çš„1">
 InnoDBæ˜¯å¦‚ä½•å­˜å‚¨è¡¨æ•°æ®çš„1
 &lt;a class="anchor" href="#innodb%e6%98%af%e5%a6%82%e4%bd%95%e5%ad%98%e5%82%a8%e8%a1%a8%e6%95%b0%e6%8d%ae%e7%9a%841">#&lt;/a>
&lt;/h3>
&lt;h4 id="ç³»ç»Ÿè¡¨ç©ºé—´1">
 ç³»ç»Ÿè¡¨ç©ºé—´1
 &lt;a class="anchor" href="#%e7%b3%bb%e7%bb%9f%e8%a1%a8%e7%a9%ba%e9%97%b41">#&lt;/a>
&lt;/h4>
&lt;p>æ’’æ—¦å‘å°±&lt;/p>
&lt;h4 id="ç³»ç»Ÿè¡¨ç©ºé—´2">
 ç³»ç»Ÿè¡¨ç©ºé—´2
 &lt;a class="anchor" href="#%e7%b3%bb%e7%bb%9f%e8%a1%a8%e7%a9%ba%e9%97%b42">#&lt;/a>
&lt;/h4>
&lt;p>æ’’æ—¦å‘å°±&lt;/p>
&lt;h4 id="ç³»ç»Ÿè¡¨ç©ºé—´3">
 ç³»ç»Ÿè¡¨ç©ºé—´3
 &lt;a class="anchor" href="#%e7%b3%bb%e7%bb%9f%e8%a1%a8%e7%a9%ba%e9%97%b43">#&lt;/a>
&lt;/h4>
&lt;p>æ’’æ—¦å‘å°±&lt;/p>
&lt;h3 id="innodbæ˜¯å¦‚ä½•å­˜å‚¨è¡¨æ•°æ®çš„2">
 InnoDBæ˜¯å¦‚ä½•å­˜å‚¨è¡¨æ•°æ®çš„2
 &lt;a class="anchor" href="#innodb%e6%98%af%e5%a6%82%e4%bd%95%e5%ad%98%e5%82%a8%e8%a1%a8%e6%95%b0%e6%8d%ae%e7%9a%842">#&lt;/a>
&lt;/h3></description></item><item><title>å°é¢-ç‰ˆæƒ</title><link>https://lwmfjc.github.io/zh/docs/technology/MySQL/_%E9%AB%98%E6%80%A7%E8%83%BDMySQL_/%E5%B0%81%E9%9D%A2-%E7%89%88%E6%9D%83/</link><pubDate>Sun, 05 Jan 2025 08:42:21 +0800</pubDate><guid>https://lwmfjc.github.io/zh/docs/technology/MySQL/_%E9%AB%98%E6%80%A7%E8%83%BDMySQL_/%E5%B0%81%E9%9D%A2-%E7%89%88%E6%9D%83/</guid><description>&lt;p>&lt;img src="img/000001.jpeg" alt="" />&lt;/p>
&lt;p>&lt;strong>å†…å®¹ç®€ä»‹&lt;/strong>&lt;/p>
&lt;p>æœ¬ä¹¦æ˜¯MySQLé¢†åŸŸçš„ç»å…¸ä¹‹ä½œï¼Œæ‹¥æœ‰å¹¿æ³›çš„å½±å“åŠ›ã€‚ç¬¬3ç‰ˆæ›´æ–°äº†å¤§é‡çš„å†…å®¹ï¼Œä¸ä½†æ¶µç›–äº†æœ€æ–°MySQL 5.5ç‰ˆæœ¬çš„æ–°ç‰¹æ€§ï¼Œä¹Ÿè®²è¿°äº†å…³äºå›ºæ€ç›˜ã€é«˜å¯æ‰©å±•æ€§è®¾è®¡å’Œäº‘è®¡ç®—ç¯å¢ƒä¸‹çš„æ•°æ®åº“ç›¸å…³çš„æ–°å†…å®¹ï¼ŒåŸæœ‰çš„åŸºå‡†æµ‹è¯•å’Œæ€§èƒ½ä¼˜åŒ–éƒ¨åˆ†ä¹Ÿåšäº†å¤§é‡çš„æ‰©å±•å’Œè¡¥å……ã€‚å…¨ä¹¦å…±åˆ†ä¸º16ç« å’Œ6ä¸ªé™„å½•ï¼Œå†…å®¹æ¶µç›–MySQLæ¶æ„å’Œå†å²ï¼ŒåŸºå‡†æµ‹è¯•å’Œæ€§èƒ½å‰–æï¼Œæ•°æ®åº“è½¯ç¡¬ä»¶æ€§èƒ½ä¼˜åŒ–ï¼Œå¤åˆ¶ã€å¤‡ä»½å’Œæ¢å¤ï¼Œé«˜å¯ç”¨ä¸é«˜å¯æ‰©å±•æ€§ï¼Œä»¥åŠäº‘ç«¯çš„MySQLå’ŒMySQLç›¸å…³å·¥å…·ç­‰æ–¹é¢çš„å†…å®¹ã€‚æ¯ä¸€ç« éƒ½æ˜¯ç›¸å¯¹ç‹¬ç«‹çš„ä¸»é¢˜ï¼Œè¯»è€…å¯ä»¥æœ‰é€‰æ‹©æ€§åœ°å•ç‹¬é˜…è¯»ã€‚&lt;/p>
&lt;p>æœ¬ä¹¦ä¸ä½†é€‚åˆæ•°æ®åº“ç®¡ç†å‘˜ï¼ˆDBAï¼‰é˜…è¯»ï¼Œä¹Ÿé€‚åˆå¼€å‘äººå‘˜å‚è€ƒå­¦ä¹ ã€‚ä¸ç®¡æ˜¯æ•°æ®åº“æ–°æ‰‹è¿˜æ˜¯ä¸“å®¶ï¼Œç›¸ä¿¡éƒ½èƒ½ä»æœ¬ä¹¦æœ‰æ‰€æ”¶è·ã€‚&lt;/p>
&lt;p>Â©2012 by Baron Schwartzï¼ŒPeter Zaitsevï¼ŒVadim Tkachenko.&lt;/p>
&lt;p>Simplified Chinese Editionï¼Œjointly published by O&amp;rsquo;Reilly Mediaï¼ŒInc. and Publishing House of Electronics Industryï¼Œ2013. Authorized translation of the English editionï¼Œ2012 O&amp;rsquo;Reilly Mediaï¼ŒInc.ï¼Œthe owner of all rights to publish and sell the same.&lt;/p>
&lt;p>All rights reserved including the rights of reproduction in whole or in part in any form.&lt;/p>
&lt;p>æœ¬ä¹¦ç®€ä½“ä¸­æ–‡ç‰ˆä¸“æœ‰å‡ºç‰ˆæƒç”±O&amp;rsquo;Reilly Mediaï¼ŒInc.æˆäºˆç”µå­å·¥ä¸šå‡ºç‰ˆç¤¾ã€‚æœªç»è®¸å¯ï¼Œä¸å¾—ä»¥ä»»ä½•æ–¹å¼å¤åˆ¶æˆ–æŠ„è¢­æœ¬ä¹¦çš„ä»»ä½•éƒ¨åˆ†ã€‚ä¸“æœ‰å‡ºç‰ˆæƒå—æ³•å¾‹ä¿æŠ¤ã€‚&lt;/p>
&lt;p>ç‰ˆæƒè´¸æ˜“åˆåŒç™»è®°å·å›¾å­—ï¼š01-2013-1661&lt;/p>
&lt;p>&lt;strong>å›¾ä¹¦åœ¨ç‰ˆç¼–ç›®ï¼ˆCIPï¼‰æ•°æ®&lt;/strong>&lt;/p>
&lt;p>é«˜æ€§èƒ½MySQLï¼šç¬¬3ç‰ˆï¼ï¼ˆç¾ï¼‰æ–½ç“¦èŒ¨ï¼ˆSchwartzï¼ŒB.ï¼‰ï¼Œï¼ˆç¾ï¼‰æ‰ä¼Šé‡‡å¤«ï¼ˆZaitsevï¼ŒP.ï¼‰ï¼Œï¼ˆç¾ï¼‰ç‰¹å¡ç´ç§‘ï¼ˆTkachenkoï¼ŒV.ï¼‰è‘—ï¼›å®æµ·å…ƒç­‰è¯‘ï¼â€”åŒ—äº¬ï¼šç”µå­å·¥ä¸šå‡ºç‰ˆç¤¾ï¼Œ2013.5&lt;/p>
&lt;p>ä¹¦ååŸæ–‡ï¼šHigh Performance MySQLï¼ŒThird Edition&lt;/p>
&lt;p>ISBN 978-7-121-19885-4&lt;/p></description></item><item><title>ç¬¬9ç« æ“ä½œç³»ç»Ÿå’Œç¡¬ä»¶ä¼˜åŒ–</title><link>https://lwmfjc.github.io/zh/docs/technology/MySQL/_%E9%AB%98%E6%80%A7%E8%83%BDMySQL_/%E7%AC%AC9%E7%AB%A0%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%92%8C%E7%A1%AC%E4%BB%B6%E4%BC%98%E5%8C%96/</link><pubDate>Sun, 05 Jan 2025 08:42:19 +0800</pubDate><guid>https://lwmfjc.github.io/zh/docs/technology/MySQL/_%E9%AB%98%E6%80%A7%E8%83%BDMySQL_/%E7%AC%AC9%E7%AB%A0%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%92%8C%E7%A1%AC%E4%BB%B6%E4%BC%98%E5%8C%96/</guid><description>&lt;p>ç¬¬9ç« ã€€æ“ä½œç³»ç»Ÿå’Œç¡¬ä»¶ä¼˜åŒ–&lt;/p>
&lt;p>MySQLæœåŠ¡å™¨æ€§èƒ½å—åˆ¶äºæ•´ä¸ªç³»ç»Ÿæœ€è–„å¼±çš„ç¯èŠ‚ï¼Œæ‰¿è½½å®ƒçš„æ“ä½œç³»ç»Ÿå’Œç¡¬ä»¶å¾€å¾€æ˜¯é™åˆ¶å› ç´ ã€‚ç£ç›˜å¤§å°ã€å¯ç”¨å†…å­˜å’ŒCPUèµ„æºã€ç½‘ç»œï¼Œä»¥åŠæ‰€æœ‰è¿æ¥å®ƒä»¬çš„ç»„ä»¶ï¼Œéƒ½ä¼šé™åˆ¶ç³»ç»Ÿçš„æœ€ç»ˆå®¹é‡ã€‚å› æ­¤ï¼Œéœ€è¦å°å¿ƒåœ°é€‰æ‹©ç¡¬ä»¶ï¼Œå¹¶å¯¹ç¡¬ä»¶å’Œæ“ä½œç³»ç»Ÿè¿›è¡Œåˆé€‚çš„é…ç½®ã€‚ä¾‹å¦‚ï¼Œè‹¥å·¥ä½œè´Ÿè½½æ˜¯I/Oå¯†é›†å‹çš„ï¼Œä¸€ç§æ–¹æ³•æ˜¯è®¾è®¡åº”ç”¨ç¨‹åºä½¿å¾—æœ€å¤§é™åº¦åœ°å‡å°‘MySQLçš„I/Oæ“ä½œã€‚ç„¶è€Œï¼Œæ›´èªæ˜çš„æ–¹å¼é€šå¸¸æ˜¯å‡çº§I/Oå­ç³»ç»Ÿï¼Œå®‰è£…æ›´å¤šçš„å†…å­˜ï¼Œæˆ–é‡æ–°é…ç½®ç°æœ‰çš„ç£ç›˜ã€‚&lt;/p>
&lt;p>ç¡¬ä»¶çš„æ›´æ–°æ¢ä»£éå¸¸è¿…é€Ÿï¼Œæ‰€ä»¥æœ¬ç« æœ‰å…³ç‰¹å®šäº§å“æˆ–ç»„ä»¶çš„å†…å®¹å¯èƒ½å°†å¾ˆå¿«å˜å¾—è¿‡æ—¶ã€‚åƒå¾€å¸¸ä¸€æ ·ï¼Œæˆ‘ä»¬çš„ç›®æ ‡æ˜¯å¸®åŠ©æå‡å¯¹è¿™äº›æ¦‚å¿µçš„ç†è§£ï¼Œè¿™æ ·å¯¹äºå³ä½¿æ²¡æœ‰ç›´æ¥è¦†ç›–åˆ°çš„çŸ¥è¯†ä¹Ÿå¯ä»¥ä¸¾ä¸€åä¸‰ã€‚è¿™é‡Œæˆ‘ä»¬å°†é€šè¿‡ç°æœ‰çš„ç¡¬ä»¶æ¥é˜æ˜æˆ‘ä»¬çš„è§‚ç‚¹ã€‚&lt;/p>
&lt;h1 id="91ä»€ä¹ˆé™åˆ¶äº†mysqlçš„æ€§èƒ½">
 9.1ã€€ä»€ä¹ˆé™åˆ¶äº†MySQLçš„æ€§èƒ½
 &lt;a class="anchor" href="#91%e4%bb%80%e4%b9%88%e9%99%90%e5%88%b6%e4%ba%86mysql%e7%9a%84%e6%80%a7%e8%83%bd">#&lt;/a>
&lt;/h1>
&lt;p>è®¸å¤šä¸åŒçš„ç¡¬ä»¶éƒ½å¯ä»¥å½±å“MySQLçš„æ€§èƒ½ï¼Œä½†æˆ‘ä»¬è®¤ä¸ºæœ€å¸¸è§çš„ä¸¤ä¸ªç“¶é¢ˆæ˜¯CPUå’ŒI/Oèµ„æºã€‚å½“æ•°æ®å¯ä»¥æ”¾åœ¨å†…å­˜ä¸­æˆ–è€…å¯ä»¥ä»ç£ç›˜ä¸­ä»¥è¶³å¤Ÿå¿«çš„é€Ÿåº¦è¯»å–æ—¶ï¼ŒCPUå¯èƒ½å‡ºç°ç“¶é¢ˆã€‚æŠŠå¤§é‡çš„æ•°æ®é›†å®Œå…¨æ”¾åˆ°å¤§å®¹é‡çš„å†…å­˜ä¸­ï¼Œä»¥ç°åœ¨çš„ç¡¬ä»¶æ¡ä»¶å®Œå…¨æ˜¯å¯è¡Œçš„(1)ã€‚&lt;/p>
&lt;p>å¦ä¸€æ–¹é¢ï¼ŒI/Oç“¶é¢ˆï¼Œä¸€èˆ¬å‘ç”Ÿåœ¨å·¥ä½œæ‰€éœ€çš„æ•°æ®è¿œè¿œè¶…è¿‡æœ‰æ•ˆå†…å­˜å®¹é‡çš„æ—¶å€™ã€‚å¦‚æœåº”ç”¨ç¨‹åºæ˜¯åˆ†å¸ƒåœ¨ç½‘ç»œä¸Šçš„ï¼Œæˆ–è€…å¦‚æœæœ‰å¤§é‡çš„æŸ¥è¯¢å’Œä½å»¶è¿Ÿçš„è¦æ±‚ï¼Œç“¶é¢ˆå¯èƒ½è½¬ç§»åˆ°ç½‘ç»œä¸Šï¼Œè€Œä¸å†æ˜¯ç£ç›˜I/O(2)ã€‚&lt;/p>
&lt;p>ç¬¬3ç« ä¸­æåŠçš„æŠ€å·§å¯ä»¥å¸®åŠ©æ‰¾åˆ°ç³»ç»Ÿçš„é™åˆ¶å› ç´ ï¼Œä½†å³ä½¿ä½ è®¤ä¸ºå·²ç»æ‰¾åˆ°äº†ç“¶é¢ˆï¼Œä¹Ÿåº”è¯¥é€è¿‡è¡¨è±¡å»çœ‹æ›´æ·±å±‚æ¬¡çš„é—®é¢˜ã€‚æŸä¸€æ–¹é¢çš„ç¼ºé™·å¸¸å¸¸ä¼šå°†å‹åŠ›æ–½åŠ åœ¨å¦ä¸€ä¸ªå­ç³»ç»Ÿï¼Œå¯¼è‡´è¿™ä¸ªå­ç³»ç»Ÿå‡ºé—®é¢˜ã€‚ä¾‹å¦‚ï¼Œè‹¥æ²¡æœ‰è¶³å¤Ÿçš„å†…å­˜ï¼ŒMySQLå¯èƒ½å¿…é¡»åˆ·å‡ºç¼“å­˜æ¥è…¾å‡ºç©ºé—´ç»™éœ€è¦çš„æ•°æ®â€”â€”ç„¶åï¼Œè¿‡äº†ä¸€å°ä¼šï¼Œå†è¯»å›åˆšåˆšåˆ·æ–°çš„æ•°æ®ï¼ˆè¯»å–å’Œå†™å…¥æ“ä½œéƒ½å¯èƒ½å‘ç”Ÿè¿™ä¸ªé—®é¢˜ï¼‰ã€‚æœ¬æ¥æ˜¯å†…å­˜ä¸è¶³ï¼Œå´å¯¼è‡´å‡ºç°äº†I/Oå®¹é‡ä¸è¶³ã€‚å½“æ‰¾åˆ°ä¸€ä¸ªé™åˆ¶ç³»ç»Ÿæ€§èƒ½çš„å› ç´ æ—¶ï¼Œåº”è¯¥é—®é—®è‡ªå·±ï¼Œâ€œæ˜¯è¿™ä¸ªéƒ¨åˆ†æœ¬èº«çš„é—®é¢˜ï¼Œè¿˜æ˜¯ç³»ç»Ÿä¸­å…¶ä»–ä¸åˆç†çš„å‹åŠ›è½¬ç§»åˆ°è¿™é‡Œæ‰€å¯¼è‡´çš„ï¼Ÿâ€åœ¨ç¬¬3ç« çš„è¯Šæ–­æ¡ˆä¾‹ä¸­ä¹Ÿæœ‰è®¨è®ºåˆ°è¿™ä¸ªé—®é¢˜ã€‚&lt;/p>
&lt;p>è¿˜æœ‰å¦å¤–ä¸€ä¸ªä¾‹å­ï¼šå†…å­˜æ€»çº¿çš„ç“¶é¢ˆä¹Ÿå¯èƒ½è¡¨ç°ä¸ºCPUé—®é¢˜ã€‚äº‹å®ä¸Šï¼Œæˆ‘ä»¬è¯´ä¸€ä¸ªåº”ç”¨ç¨‹åºæœ‰â€œCPUç“¶é¢ˆâ€æˆ–è€…æ˜¯â€œCPUå¯†é›†å‹â€ï¼ŒçœŸæ­£çš„æ„æ€åº”è¯¥æ˜¯è®¡ç®—çš„ç“¶é¢ˆã€‚æ¥ä¸‹æ¥å°†æ·±å…¥æ¢è®¨è¿™ä¸ªé—®é¢˜ã€‚&lt;/p>
&lt;h1 id="92å¦‚ä½•ä¸ºmysqlé€‰æ‹©cpu">
 9.2ã€€å¦‚ä½•ä¸ºMySQLé€‰æ‹©CPU
 &lt;a class="anchor" href="#92%e5%a6%82%e4%bd%95%e4%b8%bamysql%e9%80%89%e6%8b%a9cpu">#&lt;/a>
&lt;/h1>
&lt;p>åœ¨å‡çº§å½“å‰ç¡¬ä»¶æˆ–è´­ä¹°æ–°çš„ç¡¬ä»¶æ—¶ï¼Œåº”è¯¥è€ƒè™‘ä¸‹å·¥ä½œè´Ÿè½½æ˜¯ä¸æ˜¯CPUå¯†é›†å‹ã€‚&lt;/p>
&lt;p>å¯ä»¥é€šè¿‡æ£€æŸ¥CPUåˆ©ç”¨ç‡æ¥åˆ¤æ–­æ˜¯å¦æ˜¯CPUå¯†é›†å‹çš„å·¥ä½œè´Ÿè½½ï¼Œä½†æ˜¯ä»…çœ‹CPUæ•´ä½“çš„è´Ÿè½½æ˜¯ä¸åˆç†çš„ï¼Œè¿˜éœ€è¦çœ‹çœ‹CPUä½¿ç”¨ç‡å’Œå¤§å¤šæ•°é‡è¦çš„æŸ¥è¯¢çš„I/Oä¹‹é—´çš„å¹³è¡¡ï¼Œå¹¶æ³¨æ„CPUè´Ÿè½½æ˜¯å¦åˆ†é…å‡åŒ€ã€‚æœ¬ç« ç¨åè®¨è®ºçš„å·¥å…·å¯ä»¥ç”¨æ¥å¼„æ¸…æ¥šæ˜¯ä»€ä¹ˆé™åˆ¶äº†æœåŠ¡å™¨çš„æ€§èƒ½ã€‚&lt;/p>
&lt;h2 id="921å“ªä¸ªæ›´å¥½æ›´å¿«çš„cpuè¿˜æ˜¯æ›´å¤šçš„cpu">
 9.2.1ã€€å“ªä¸ªæ›´å¥½ï¼šæ›´å¿«çš„CPUè¿˜æ˜¯æ›´å¤šçš„CPU
 &lt;a class="anchor" href="#921%e5%93%aa%e4%b8%aa%e6%9b%b4%e5%a5%bd%e6%9b%b4%e5%bf%ab%e7%9a%84cpu%e8%bf%98%e6%98%af%e6%9b%b4%e5%a4%9a%e7%9a%84cpu">#&lt;/a>
&lt;/h2>
&lt;p>å½“é‡åˆ°CPUå¯†é›†å‹çš„å·¥ä½œæ—¶ï¼ŒMySQLé€šå¸¸å¯ä»¥ä»æ›´å¿«çš„CPUä¸­è·ç›Šï¼ˆç›¸å¯¹æ›´å¤šçš„CPUï¼‰ã€‚&lt;/p>
&lt;p>ä½†è¿™ä¸æ˜¯ç»å¯¹çš„ï¼Œå› ä¸ºè¿˜ä¾èµ–äºè´Ÿè½½æƒ…å†µå’ŒCPUæ•°é‡ã€‚æ›´å¤è€çš„MySQLç‰ˆæœ¬åœ¨å¤šCPUä¸Šæœ‰æ‰©å±•æ€§é—®é¢˜ï¼Œå³ä½¿æ–°ç‰ˆæœ¬ä¹Ÿä¸èƒ½å¯¹å•ä¸ªæŸ¥è¯¢å¹¶å‘åˆ©ç”¨å¤šä¸ªCPUã€‚å› æ­¤ï¼ŒCPUé€Ÿåº¦é™åˆ¶äº†æ¯ä¸ªCPUå¯†é›†å‹æŸ¥è¯¢çš„å“åº”æ—¶é—´ã€‚&lt;/p>
&lt;p>å½“æˆ‘ä»¬è®¨è®ºCPUçš„æ—¶å€™ï¼Œä¸ºä¿è¯æœ¬æ–‡æ˜“äºé˜…è¯»ï¼Œå¯¹æŸäº›æœ¯è¯­å°†ä¸ä¼šåšä¸¥æ ¼çš„å®šä¹‰ã€‚ç°åœ¨ä¸€èˆ¬çš„æœåŠ¡å™¨é€šå¸¸éƒ½æœ‰å¤šä¸ªæ’æ§½ï¼ˆSocketï¼‰ï¼Œæ¯ä¸ªæ’æ§½ä¸Šéƒ½å¯ä»¥æ’ä¸€ä¸ªæœ‰å¤šä¸ªæ ¸å¿ƒçš„CPUï¼ˆæœ‰ç‹¬ç«‹çš„æ‰§è¡Œå•å…ƒï¼‰ï¼Œå¹¶ä¸”æ¯ä¸ªæ ¸å¿ƒå¯èƒ½æœ‰å¤šä¸ªâ€œç¡¬ä»¶çº¿ç¨‹â€ã€‚è¿™äº›å¤æ‚çš„æ¶æ„éœ€è¦æœ‰ç‚¹è€å¿ƒå»äº†è§£ï¼Œå¹¶ä¸”æˆ‘ä»¬ä¸ä¼šæ€»æ˜¯æ˜ç¡®åœ°åŒºåˆ†å®ƒä»¬ã€‚ä¸è¿‡ï¼Œåœ¨ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œå½“è°ˆåˆ°CPUé€Ÿåº¦çš„æ—¶å€™ï¼Œè°ˆè®ºçš„å…¶å®æ˜¯æ‰§è¡Œå•å…ƒçš„é€Ÿåº¦ï¼Œå½“æåˆ°çš„CPUæ•°é‡æ—¶ï¼ŒæŒ‡çš„é€šå¸¸æ˜¯åœ¨æ“ä½œç³»ç»Ÿä¸Šçœ‹åˆ°çš„æ•°é‡ï¼Œå°½ç®¡è¿™å¯èƒ½æ˜¯ç‹¬ç«‹çš„æ‰§è¡Œå•å…ƒæ•°é‡çš„å¤šå€(3)ã€‚&lt;/p>
&lt;p>è¿™å‡ å¹´CPUåœ¨å„ä¸ªæ–¹é¢éƒ½æœ‰äº†å¾ˆå¤§çš„æå‡ã€‚ä¾‹å¦‚ï¼Œä»Šå¤©çš„Intel CPUé€Ÿåº¦è¿œè¿œè¶…è¿‡å‰å‡ ä»£ï¼Œè¿™å¾—ç›Šäºåƒç›´æ¥å†…å­˜è¿æ¥ï¼ˆdirectly attached memoryï¼‰æŠ€æœ¯ä»¥åŠPCIeå¡ä¹‹ç±»çš„è®¾å¤‡äº’è”ä¸Šçš„æ”¹å–„ç­‰ã€‚è¿™äº›æ”¹è¿›å¯¹äºå­˜å‚¨è®¾å¤‡å°¤å…¶æœ‰æ•ˆï¼Œä¾‹å¦‚Fusion-ioå’ŒViridentçš„PCIeé—ªå­˜é©±åŠ¨å™¨ã€‚&lt;/p>
&lt;p>è¶…çº¿ç¨‹çš„æ•ˆæœç›¸æ¯”ä»¥å‰ä¹Ÿè¦å¥½å¾—å¤šï¼Œç°åœ¨æ“ä½œç³»ç»Ÿä¹Ÿæ›´äº†è§£å¦‚ä½•æ›´å¥½åœ°ä½¿ç”¨è¶…çº¿ç¨‹ã€‚è€Œä»¥å‰ç‰ˆæœ¬çš„æ“ä½œç³»ç»Ÿæ— æ³•è¯†åˆ«ä¸¤ä¸ªè™šæ‹Ÿå¤„ç†å™¨å®é™…ä¸Šæ˜¯åœ¨åŒä¸€èŠ¯ç‰‡ä¸Šï¼Œè®¤ä¸ºå®ƒä»¬æ˜¯ç‹¬ç«‹çš„ï¼Œäºæ˜¯ä¼šæŠŠä»»åŠ¡å®‰æ’åœ¨ä¸¤ä¸ªå®é™…ä¸Šæ˜¯ç›¸åŒç‰©ç†æ‰§è¡Œå•å…ƒä¸Šçš„è™šæ‹Ÿå¤„ç†å™¨ã€‚å®é™…ä¸Šå•ä¸ªæ‰§è¡Œå•å…ƒå¹¶ä¸æ˜¯çœŸçš„å¯ä»¥åœ¨åŒä¸€æ—¶é—´è¿è¡Œä¸¤ä¸ªè¿›ç¨‹ï¼Œæ‰€ä»¥è¿™æ ·åšä¼šå‘ç”Ÿå†²çªå’Œäº‰å¤ºèµ„æºã€‚è€ŒåŒæ—¶å…¶ä»–CPUå´å¯èƒ½åœ¨é—²ç½®ï¼Œä»è€Œæµªè´¹èµ„æºã€‚æ“ä½œç³»ç»Ÿéœ€è¦èƒ½æ„ŸçŸ¥è¶…çº¿ç¨‹ï¼Œå› ä¸ºå®ƒå¿…é¡»çŸ¥é“ä»€ä¹ˆæ—¶å€™æ‰§è¡Œå•å…ƒå®é™…ä¸Šæ˜¯é—²ç½®çš„ï¼Œç„¶ååˆ‡æ¢ç›¸åº”çš„ä»»åŠ¡å»æ‰§è¡Œã€‚è¿™ä¸ªé—®é¢˜ä¹‹å‰å¸¸è§çš„åŸå› æ˜¯åœ¨ç­‰å¾…å†…å­˜æ€»çº¿ï¼Œå¯èƒ½èŠ±è´¹éœ€è¦é«˜è¾¾ä¸€ç™¾ä¸ªCPUå‘¨æœŸï¼Œè¿™å·²ç»ç±»ä¼¼äºä¸€ä¸ªè½»é‡çº§çš„I/Oç­‰å¾…ã€‚æ–°çš„æ“ä½œç³»ç»Ÿåœ¨è¿™æ–¹é¢æœ‰äº†å¾ˆå¤§çš„æ”¹å–„ã€‚è¶…çº¿ç¨‹ç°åœ¨å·²ç»å·¥ä½œå¾—å¾ˆå¥½ã€‚è¿‡å»ï¼Œæˆ‘ä»¬æ—¶å¸¸æé†’äººä»¬ç¦ç”¨å®ƒï¼Œä½†ç°åœ¨å·²ç»ä¸éœ€è¦è¿™æ ·åšäº†ã€‚&lt;/p>
&lt;p>è¿™å°±æ˜¯è¯´ï¼Œç°åœ¨å¯ä»¥å¾—åˆ°å¤§é‡çš„å¿«é€Ÿçš„CPUâ€”â€”æ¯”æœ¬ä¹¦çš„ç¬¬2ç‰ˆå‡ºç‰ˆçš„æ—¶å€™è¦å¤šå¾—å¤šã€‚æ‰€ä»¥å¤šå’Œå¿«å“ªä¸ªæ›´é‡è¦ï¼Ÿä¸€èˆ¬æ¥è¯´ä¸¤ä¸ªéƒ½æƒ³è¦ã€‚ä»å¹¿ä¹‰ä¸Šæ¥è¯´ï¼Œè°ƒä¼˜æœåŠ¡å™¨å¯èƒ½æœ‰å¦‚ä¸‹ä¸¤ä¸ªç›®æ ‡ï¼š&lt;/p>
&lt;p>ä½å»¶æ—¶ï¼ˆå¿«é€Ÿå“åº”ï¼‰&lt;/p>
&lt;p>è¦åšåˆ°è¿™ä¸€ç‚¹ï¼Œéœ€è¦é«˜é€ŸCPUï¼Œå› ä¸ºæ¯ä¸ªæŸ¥è¯¢åªèƒ½ä½¿ç”¨ä¸€ä¸ªCPUã€‚&lt;/p>
&lt;p>é«˜åå&lt;/p>
&lt;p>å¦‚æœèƒ½åŒæ—¶è¿è¡Œå¾ˆå¤šæŸ¥è¯¢è¯­å¥ï¼Œåˆ™å¯ä»¥ä»å¤šä¸ªCPUå¤„ç†æŸ¥è¯¢ä¸­å—ç›Šã€‚ç„¶è€Œï¼Œåœ¨å®è·µä¸­ï¼Œè¿˜è¦å–å†³äºå…·ä½“æƒ…å†µã€‚å› ä¸ºMySQLè¿˜ä¸èƒ½åœ¨å¤šä¸ªCPUä¸­å®Œç¾åœ°æ‰©å±•ï¼Œèƒ½ç”¨å¤šå°‘ä¸ªCPUè¿˜æ˜¯æœ‰æé™çš„ã€‚åœ¨æ—§ç‰ˆæœ¬çš„MySQLä¸­ï¼ˆMySQL 5.1ä»¥åçš„ç‰ˆæœ¬å·²ç»æœ‰ä¸€äº›æå‡ï¼‰ï¼Œè¿™ä¸ªé™åˆ¶éå¸¸ä¸¥é‡ã€‚åœ¨æ–°çš„ç‰ˆæœ¬ä¸­ï¼Œåˆ™å¯ä»¥æ”¾å¿ƒåœ°æ‰©å±•åˆ°16æˆ–24ä¸ªCPUï¼Œæˆ–è€…æ›´å¤šï¼Œå–å†³äºä½¿ç”¨çš„æ˜¯å“ªä¸ªç‰ˆæœ¬ï¼ˆPerconaå¾€å¾€åœ¨è¿™æ–¹é¢ç•¥å ä¼˜åŠ¿ï¼‰ã€‚&lt;/p>
&lt;p>å¦‚æœæœ‰å¤šè·¯CPUï¼Œå¹¶ä¸”æ²¡æœ‰å¹¶å‘æ‰§è¡ŒæŸ¥è¯¢è¯­å¥ï¼ŒMySQLä¾ç„¶å¯ä»¥åˆ©ç”¨é¢å¤–çš„CPUä¸ºåå°ä»»åŠ¡ï¼ˆä¾‹å¦‚æ¸…ç†InnoDBç¼“å†²ã€ç½‘ç»œæ“ä½œï¼Œç­‰ç­‰ï¼‰æœåŠ¡ã€‚ç„¶è€Œï¼Œè¿™äº›ä»»åŠ¡é€šå¸¸æ¯”æ‰§è¡ŒæŸ¥è¯¢è¯­å¥æ›´åŠ è½»é‡åŒ–ã€‚&lt;/p>
&lt;p>MySQLå¤åˆ¶ï¼ˆå°†åœ¨ä¸‹ä¸€ç« ä¸­è®¨è®ºï¼‰ä¹Ÿèƒ½åœ¨é«˜é€ŸCPUä¸‹å·¥ä½œå¾—éå¸¸å¥½ï¼Œè€Œå¤šCPUå¯¹å¤åˆ¶çš„å¸®åŠ©å´ä¸å¤§ã€‚å¦‚æœå·¥ä½œè´Ÿè½½æ˜¯CPUå¯†é›†å‹ï¼Œä¸»åº“ä¸Šçš„å¹¶å‘ä»»åŠ¡ä¼ é€’åˆ°å¤‡åº“ä»¥åä¼šè¢«ç®€åŒ–ä¸ºä¸²è¡Œä»»åŠ¡ï¼Œè¿™æ ·å³ä½¿å¤‡åº“ç¡¬ä»¶æ¯”ä¸»åº“å¥½ï¼Œä¹Ÿå¯èƒ½æ— æ³•ä¿æŒè·Ÿä¸»åº“ä¹‹é—´çš„åŒæ­¥ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå¤‡åº“çš„ç“¶é¢ˆé€šå¸¸æ˜¯I/Oå­ç³»ç»Ÿï¼Œè€Œä¸æ˜¯CPUã€‚&lt;/p>
&lt;p>å¦‚æœæœ‰ä¸€ä¸ªCPUå¯†é›†å‹çš„å·¥ä½œè´Ÿè½½ï¼Œè€ƒè™‘æ˜¯éœ€è¦æ›´å¿«çš„CPUè¿˜æ˜¯æ›´å¤šCPUçš„å¦å¤–ä¸€ä¸ªå› ç´ æ˜¯æŸ¥è¯¢è¯­å¥å®é™…åœ¨åšä»€ä¹ˆã€‚åœ¨ç¡¬ä»¶å±‚é¢ï¼Œä¸€ä¸ªæŸ¥è¯¢å¯ä»¥åœ¨æ‰§è¡Œæˆ–ç­‰å¾…ã€‚å¤„äºç­‰å¾…çŠ¶æ€å¸¸è§çš„åŸå› æ˜¯åœ¨è¿è¡Œé˜Ÿåˆ—ä¸­ç­‰å¾…ï¼ˆè¿›ç¨‹å·²ç»æ˜¯å¯è¿è¡ŒçŠ¶æ€ï¼Œä½†æ‰€æœ‰çš„CPUéƒ½å¿™ï¼‰ã€ç­‰å¾…é—©é”ï¼ˆLatchï¼‰æˆ–é”ï¼ˆLockï¼‰ã€ç­‰å¾…ç£ç›˜æˆ–ç½‘ç»œã€‚é‚£ä¹ˆä½ æœŸæœ›æŸ¥è¯¢æ˜¯ç­‰å¾…ä»€ä¹ˆå‘¢ï¼Ÿå¦‚æœç­‰å¾…é—©é”æˆ–é”ï¼Œé€šå¸¸éœ€è¦æ›´å¿«çš„CPUï¼›å¦‚æœåœ¨è¿è¡Œé˜Ÿåˆ—ä¸­ç­‰å¾…ï¼Œé‚£ä¹ˆæ›´å¤šæˆ–è€…æ›´å¿«çš„CPUéƒ½å¯èƒ½æœ‰å¸®åŠ©ã€‚ï¼ˆä¹Ÿå¯èƒ½æœ‰ä¾‹å¤–ï¼Œä¾‹å¦‚ï¼ŒæŸ¥è¯¢ç­‰å¾…InnoDBæ—¥å¿—ç¼“å†²åŒºçš„Mutexï¼Œç›´åˆ°I/Oå®Œæˆå‰éƒ½ä¸ä¼šé‡Šæ”¾â€”â€”è¿™å¯èƒ½è¡¨æ˜éœ€è¦æ›´å¤šçš„I/Oå®¹é‡ï¼‰ã€‚&lt;/p>
&lt;p>è¿™å°±æ˜¯è¯´ï¼ŒMySQLåœ¨æŸäº›å·¥ä½œè´Ÿè½½ä¸‹å¯ä»¥æœ‰æ•ˆåœ°åˆ©ç”¨å¾ˆå¤šCPUã€‚ä¾‹å¦‚ï¼Œå‡è®¾æœ‰å¾ˆå¤šè¿æ¥æŸ¥è¯¢çš„æ˜¯ä¸åŒè¡¨ï¼ˆå‡è®¾è¿™äº›æŸ¥è¯¢ä¸ä¼šé€ æˆè¡¨é”çš„ç«äº‰ï¼Œå®é™…ä¸Šå¯¹MyISAMå’ŒMEMORYè¡¨å¯èƒ½ä¼šæœ‰é—®é¢˜ï¼‰ï¼Œå¹¶ä¸”æœåŠ¡å™¨çš„æ€»ååé‡æ¯”ä»»ä½•å•ä¸ªæŸ¥è¯¢çš„å“åº”æ—¶é—´éƒ½æ›´é‡è¦ã€‚ååé‡åœ¨è¿™ç§æƒ…å†µä¸‹å¯ä»¥éå¸¸é«˜ï¼Œå› ä¸ºçº¿ç¨‹å¯ä»¥åŒæ—¶è¿è¡Œè€Œäº’ä¸äº‰ç”¨ã€‚&lt;/p>
&lt;p>å†æ¬¡è¯´æ˜ï¼Œåœ¨ç†è®ºä¸Šè¿™å¯èƒ½æ›´å¥½åœ°å·¥ä½œï¼šä¸ç®¡æŸ¥è¯¢æ˜¯è¯»å–ä¸åŒçš„è¡¨è¿˜æ˜¯ç›¸åŒçš„è¡¨ï¼Œ InnoDBéƒ½ä¼šæœ‰ä¸€äº›å…¨å±€å…±äº«çš„æ•°æ®ç»“æ„ï¼Œè€ŒMyISAMåœ¨æ¯ä¸ªç¼“å†²åŒºéƒ½æœ‰å…¨å±€é”ã€‚è€Œä¸”ä¸ä»…ä»…æ˜¯å­˜å‚¨å¼•æ“ï¼ŒæœåŠ¡å™¨å±‚ä¹Ÿæœ‰å…¨å±€é”ã€‚ä»¥å‰InnoDBæ‰¿æ‹…äº†æ‰€æœ‰çš„éª‚åï¼Œä½†æœ€è¿‘åšäº†ä¸€äº›æ”¹è¿›åï¼Œæš´éœ²äº†æœåŠ¡å™¨å±‚ä¸­çš„å…¶ä»–ç“¶é¢ˆã€‚ä¾‹å¦‚è‡­åæ˜­è‘—çš„LOCK_openäº’æ–¥é‡ï¼ˆMutexï¼‰ï¼Œåœ¨MySQL 5.1å’Œæ›´æ—©ç‰ˆæœ¬ä¸­å¯èƒ½å°±æ˜¯ä¸ªå¤§é—®é¢˜ï¼Œå¦å¤–è¿˜æœ‰å…¶ä»–ä¸€äº›æœåŠ¡å™¨çº§åˆ«çš„äº’æ–¥é‡ï¼ˆä¾‹å¦‚æŸ¥è¯¢ç¼“å­˜ï¼‰ã€‚&lt;/p>
&lt;p>é€šå¸¸å¯ä»¥é€šè¿‡å †æ ˆè·Ÿè¸ªæ¥è¯Šæ–­è¿™äº›ç±»å‹çš„ç«äº‰é—®é¢˜ï¼Œä¾‹å¦‚Percona Toolkitä¸­çš„&lt;em>pt-pmp&lt;/em>å·¥å…·ã€‚å¦‚æœé‡åˆ°è¿™æ ·çš„é—®é¢˜ï¼Œå¯èƒ½éœ€è¦æ”¹å˜æœåŠ¡å™¨çš„é…ç½®ï¼Œç¦ç”¨æˆ–æ”¹å˜å¼•èµ·é—®é¢˜çš„ç»„ä»¶ï¼Œè¿›è¡Œæ•°æ®åˆ†ç‰‡ï¼ˆShardingï¼‰ï¼Œæˆ–è€…é€šè¿‡æŸç§æ–¹å¼æ”¹å˜åšäº‹çš„æ–¹æ³•ã€‚è¿™é‡Œæ— æ³•åˆ—ä¸¾æ‰€æœ‰çš„é—®é¢˜å’Œç›¸åº”çš„è§£å†³æ–¹æ¡ˆï¼Œä½†æ˜¯ä¸€æ—¦æœ‰ä¸€ä¸ªç¡®å®šçš„è¯Šæ–­ï¼Œç­”æ¡ˆé€šå¸¸æ˜¯æ˜¾è€Œæ˜“è§çš„ã€‚å¤§éƒ¨åˆ†ä¸å¹¸é‡åˆ°çš„é—®é¢˜éƒ½æ˜¯è¾¹ç¼˜åœºæ™¯ï¼Œæœ€å¸¸è§çš„é—®é¢˜éšç€æ—¶é—´çš„æ¨ç§»éƒ½åœ¨æœåŠ¡å™¨ä¸Šè¢«ä¿®å¤äº†ã€‚&lt;/p>
&lt;h2 id="922cpuæ¶æ„">
 9.2.2ã€€CPUæ¶æ„
 &lt;a class="anchor" href="#922cpu%e6%9e%b6%e6%9e%84">#&lt;/a>
&lt;/h2>
&lt;p>å¯èƒ½99%ä»¥ä¸Šçš„MySQLå®ä¾‹ï¼ˆä¸å«åµŒå…¥å¼ä½¿ç”¨ï¼‰éƒ½è¿è¡Œåœ¨Intelæˆ–è€…AMDèŠ¯ç‰‡çš„x86æ¶æ„ä¸‹ã€‚æœ¬ä¹¦ä¸­æˆ‘ä»¬åŸºæœ¬éƒ½æ˜¯é’ˆå¯¹è¿™ç§æƒ…å†µã€‚&lt;/p>
&lt;p>64ä½æ¶æ„ç°åœ¨éƒ½æ˜¯é»˜è®¤çš„äº†ï¼Œ32ä½CPUå·²ç»å¾ˆéš¾ä¹°åˆ°äº†ã€‚MySQLåœ¨64ä½æ¶æ„ä¸Šå·¥ä½œè‰¯å¥½ï¼Œå°½ç®¡æœ‰äº›äº‹æš‚æ—¶ä¸èƒ½åˆ©ç”¨64ä½æ¶æ„æ¥åšã€‚å› æ­¤ï¼Œå¦‚æœä½¿ç”¨çš„æ˜¯è¾ƒè€æ—§ç‰ˆæœ¬çš„MySQLï¼Œåœ¨64ä½æœåŠ¡å™¨ä¸Šå¯èƒ½è¦å°å¿ƒã€‚ä¾‹å¦‚ï¼Œåœ¨MySQL 5.0å‘å¸ƒçš„æ—©æœŸæ—¶å€™ï¼Œæ¯ä¸ªMyISAMé”®ç¼“å†²åŒºè¢«é™åˆ¶ä¸º4 GBï¼Œç”±ä¸€ä¸ª32ä½æ•´æ•°è´Ÿè´£å¯»å€ã€‚ï¼ˆå¯ä»¥åˆ›å»ºå¤šä¸ªé”®ç¼“å†²åŒºæ¥è§£å†³è¿™ä¸ªé—®é¢˜ã€‚ï¼‰&lt;/p>
&lt;p>ç¡®ä¿åœ¨64ä½ç¡¬ä»¶ä¸Šä½¿ç”¨64ä½æ“ä½œç³»ç»Ÿï¼æœ€è¿‘è¿™ç§æƒ…å†µå·²ç»ä¸å¤ªå¸¸è§äº†ï¼Œä½†ä»¥å‰ç»å¸¸å¯ä»¥é‡åˆ°ï¼Œå¤§å¤šæ•°ä¸»æœºæ‰˜ç®¡æä¾›å•†æš‚æ—¶è¿˜æ˜¯åœ¨æœåŠ¡å™¨ä¸Šå®‰è£…32ä½æ“ä½œç³»ç»Ÿï¼Œå³ä½¿æ˜¯64ä½CPUã€‚32ä½æ“ä½œç³»ç»Ÿæ„å‘³ç€ä¸èƒ½ä½¿ç”¨å¤§é‡çš„å†…å­˜ï¼šå°½ç®¡æŸäº›32ä½ç³»ç»Ÿå¯ä»¥æ”¯æŒå¤§é‡çš„å†…å­˜ï¼Œä½†ä¸èƒ½åƒ64ä½ç³»ç»Ÿä¸€æ ·æœ‰æ•ˆåœ°åˆ©ç”¨ï¼Œå¹¶ä¸”åœ¨32ä½ç³»ç»Ÿä¸Šï¼Œä»»ä½•ä¸€ä¸ªå•ç‹¬çš„è¿›ç¨‹éƒ½ä¸èƒ½å¯»å€4 GBä»¥ä¸Šçš„å†…å­˜ã€‚&lt;/p>
&lt;h2 id="923æ‰©å±•åˆ°å¤šä¸ªcpuå’Œæ ¸å¿ƒ">
 9.2.3ã€€æ‰©å±•åˆ°å¤šä¸ªCPUå’Œæ ¸å¿ƒ
 &lt;a class="anchor" href="#923%e6%89%a9%e5%b1%95%e5%88%b0%e5%a4%9a%e4%b8%aacpu%e5%92%8c%e6%a0%b8%e5%bf%83">#&lt;/a>
&lt;/h2>
&lt;p>å¤šCPUåœ¨è”æœºäº‹åŠ¡å¤„ç†ï¼ˆOLTPï¼‰ç³»ç»Ÿçš„åœºæ™¯ä¸­éå¸¸æœ‰ç”¨ã€‚è¿™äº›ç³»ç»Ÿé€šå¸¸æ‰§è¡Œè®¸å¤šå°çš„æ“ä½œï¼Œå¹¶ä¸”æ˜¯ä»å¤šä¸ªè¿æ¥å‘èµ·è¯·æ±‚ï¼Œå› æ­¤å¯ä»¥åœ¨å¤šä¸ªCPUä¸Šè¿è¡Œã€‚åœ¨è¿™æ ·çš„ç¯å¢ƒä¸­ï¼Œå¹¶å‘å¯èƒ½æˆä¸ºç“¶é¢ˆã€‚å¤§å¤šæ•°Webåº”ç”¨ç¨‹åºéƒ½å±äºè¿™ä¸€ç±»ã€‚&lt;/p>
&lt;p>OLTPæœåŠ¡å™¨ä¸€èˆ¬ä½¿ç”¨InnoDBï¼Œå°½ç®¡å®ƒåœ¨å¤šCPUçš„ç¯å¢ƒä¸­è¿˜å­˜åœ¨ä¸€äº›æœªè§£å†³çš„å¹¶å‘é—®é¢˜ã€‚ç„¶è€Œï¼Œä¸åªæ˜¯InnoDBå¯èƒ½æˆä¸ºç“¶é¢ˆï¼šä»»ä½•å…±äº«èµ„æºéƒ½æ˜¯æ½œåœ¨çš„ç«äº‰ç‚¹ã€‚InnoDBä¹‹æ‰€ä»¥è·å¾—å¤§é‡å…³æ³¨æ˜¯å› ä¸ºå®ƒæ˜¯é«˜å¹¶å‘ç¯å¢ƒä¸‹æœ€å¸¸è§çš„å­˜å‚¨å¼•æ“ï¼Œä½†MyISAMåœ¨å¤§å‹åŠ›æ—¶çš„è¡¨ç°ä¹Ÿä¸å¥½ï¼Œå³ä½¿ä¸ä¿®æ”¹ä»»ä½•æ•°æ®åªæ˜¯è¯»å–æ•°æ®ä¹Ÿæ˜¯å¦‚æ­¤ã€‚è®¸å¤šå¹¶å‘ç“¶é¢ˆï¼Œå¦‚InnoDBçš„è¡Œçº§é”å’ŒMyISAMçš„è¡¨é”ï¼Œæ²¡æœ‰åŠæ³•ä¼˜åŒ–â€”â€”é™¤äº†å°½å¯èƒ½å¿«åœ°å¤„ç†ä»»åŠ¡ä¹‹å¤–ï¼Œæ²¡æœ‰åˆ«çš„åŠæ³•è§£å†³ï¼Œè¿™æ ·ï¼Œé”å°±å¯ä»¥å°½å¿«åˆ†é…ç»™ç­‰å¾…çš„ä»»åŠ¡ã€‚å¦‚æœä¸€ä¸ªé”æ˜¯é€ æˆå®ƒä»¬ï¼ˆå…¶ä»–ä»»åŠ¡ï¼‰éƒ½åœ¨ç­‰å¾…çš„åŸå› ï¼Œé‚£ä¹ˆä¸ç®¡æœ‰å¤šå°‘CPUéƒ½ä¸€æ ·ã€‚å› æ­¤ï¼Œå³ä½¿æ˜¯ä¸€äº›é«˜å¹¶å‘å·¥ä½œè´Ÿè½½ï¼Œä¹Ÿå¯ä»¥ä»æ›´å¿«çš„CPUä¸­å—ç›Šã€‚&lt;/p>
&lt;p>å®é™…ä¸Šæœ‰ä¸¤ç§ç±»å‹çš„æ•°æ®åº“å¹¶å‘é—®é¢˜ï¼Œéœ€è¦ä¸åŒçš„æ–¹æ³•æ¥è§£å†³ï¼Œå¦‚ä¸‹æ‰€ç¤ºã€‚&lt;/p>
&lt;p>é€»è¾‘å¹¶å‘é—®é¢˜&lt;/p>
&lt;p>åº”ç”¨ç¨‹åºå¯ä»¥çœ‹åˆ°èµ„æºçš„ç«äº‰ï¼Œå¦‚è¡¨æˆ–è¡Œé”äº‰ç”¨ã€‚è¿™äº›é—®é¢˜é€šå¸¸éœ€è¦å¥½çš„ç­–ç•¥æ¥è§£å†³ï¼Œå¦‚æ”¹å˜åº”ç”¨ç¨‹åºã€ä½¿ç”¨ä¸åŒçš„å­˜å‚¨å¼•æ“ã€æ”¹å˜æœåŠ¡å™¨çš„é…ç½®ï¼Œæˆ–ä½¿ç”¨ä¸åŒçš„é”å®šæç¤ºæˆ–äº‹åŠ¡éš”ç¦»çº§åˆ«ã€‚&lt;/p>
&lt;p>å†…éƒ¨å¹¶å‘é—®é¢˜&lt;/p>
&lt;p>æ¯”å¦‚ä¿¡å·é‡ã€è®¿é—®InnoDBç¼“å†²æ± é¡µé¢çš„èµ„æºäº‰ç”¨ï¼Œç­‰ç­‰ã€‚å¯ä»¥å°è¯•é€šè¿‡æ”¹å˜æœåŠ¡å™¨çš„è®¾ç½®ã€æ”¹å˜æ“ä½œç³»ç»Ÿï¼Œæˆ–ä½¿ç”¨ä¸åŒçš„ç¡¬ä»¶è§£å†³è¿™äº›é—®é¢˜ï¼Œä½†é€šå¸¸åªèƒ½ç¼“è§£è€Œæ— æ³•å½»åº•æ¶ˆç­ã€‚åœ¨æŸäº›æƒ…å†µä¸‹ï¼Œä½¿ç”¨ä¸åŒçš„å­˜å‚¨å¼•æ“æˆ–ç»™å­˜å‚¨å¼•æ“æ‰“è¡¥ä¸ï¼Œå¯ä»¥å¸®åŠ©ç¼“è§£è¿™äº›é—®é¢˜ã€‚&lt;/p>
&lt;p>MySQLçš„â€œæ‰©å±•æ¨¡å¼â€æ˜¯æŒ‡å®ƒå¯ä»¥æœ‰æ•ˆåˆ©ç”¨çš„CPUæ•°é‡ï¼Œä»¥åŠåœ¨å‹åŠ›ä¸æ–­å¢é•¿çš„æƒ…å†µä¸‹å¦‚ä½•æ‰©å±•ï¼Œè¿™åŒæ—¶å–å†³äºå·¥ä½œè´Ÿè½½å’Œç³»ç»Ÿæ¶æ„ã€‚é€šè¿‡â€œç³»ç»Ÿæ¶æ„â€çš„æ‰‹æ®µæ˜¯æŒ‡é€šè¿‡è°ƒæ•´æ“ä½œç³»ç»Ÿå’Œç¡¬ä»¶ï¼Œè€Œä¸æ˜¯é€šè¿‡ä¼˜åŒ–ä½¿ç”¨MySQLçš„åº”ç”¨ç¨‹åºã€‚CPUæ¶æ„ï¼ˆRISCã€CISCã€æµæ°´çº¿æ·±åº¦ç­‰ï¼‰ã€CPUå‹å·å’Œæ“ä½œç³»ç»Ÿéƒ½å½±å“MySQLçš„æ‰©å±•æ¨¡å¼ã€‚è¿™ä¹Ÿæ˜¯ä¸ºä»€ä¹ˆè¯´åŸºå‡†æµ‹è¯•æ˜¯éå¸¸é‡è¦çš„ï¼šä¸€äº›ç³»ç»Ÿå¯ä»¥åœ¨ä¸æ–­å¢åŠ çš„å¹¶å‘ä¸‹ä¾ç„¶è¿è¡Œå¾—å¾ˆå¥½ï¼Œè€Œå¦ä¸€äº›çš„è¡¨ç°åˆ™ç³Ÿç³•å¾—å¤šã€‚&lt;/p>
&lt;p>æœ‰äº›ç³»ç»Ÿåœ¨æ›´å¤šçš„å¤„ç†å™¨ä¸‹ç”šè‡³å¯èƒ½é™ä½æ•´ä½“æ€§èƒ½ã€‚è¿™æ˜¯ç›¸å½“æ™®éçš„æƒ…å†µï¼Œæˆ‘ä»¬äº†è§£åˆ°è®¸å¤šäººè¯•å›¾å‡çº§åˆ°æœ‰å¤šä¸ªCPUçš„ç³»ç»Ÿï¼Œæœ€ååªèƒ½è¢«è¿«æ¢å¤åˆ°æ—§ç³»ç»Ÿï¼ˆæˆ–ç»‘å®šMySQLè¿›ç¨‹åˆ°å…¶ä¸­æŸäº›æ ¸å¿ƒï¼‰ï¼Œå› ä¸ºè¿™ç§å‡çº§åè€Œé™ä½äº†æ€§èƒ½ã€‚åœ¨MySQL 5.0æ—¶ä»£ï¼ŒGoogleçš„è¡¥ä¸å’ŒPercona Serverå‡ºç°ä¹‹å‰ï¼Œèƒ½æœ‰æ•ˆåˆ©ç”¨çš„CPUæ ¸æ•°æ˜¯4æ ¸ï¼Œä½†æ˜¯ç°åœ¨ç”šè‡³å¯ä»¥çœ‹åˆ°æ“ä½œç³»ç»ŸæŠ¥å‘Šå¤šè¾¾80ä¸ªâ€œCPUâ€çš„æœåŠ¡å™¨ã€‚å¦‚æœè§„åˆ’ä¸€ä¸ªå¤§çš„å‡çº§ï¼Œå¿…é¡»è¦åŒæ—¶è€ƒè™‘ç¡¬ä»¶ã€æœåŠ¡å™¨ç‰ˆæœ¬å’Œå·¥ä½œè´Ÿè½½ã€‚&lt;/p></description></item><item><title>ç¬¬8ç« ä¼˜åŒ–æœåŠ¡å™¨è®¾ç½®</title><link>https://lwmfjc.github.io/zh/docs/technology/MySQL/_%E9%AB%98%E6%80%A7%E8%83%BDMySQL_/%E7%AC%AC8%E7%AB%A0%E4%BC%98%E5%8C%96%E6%9C%8D%E5%8A%A1%E5%99%A8%E8%AE%BE%E7%BD%AE/</link><pubDate>Sun, 05 Jan 2025 08:42:18 +0800</pubDate><guid>https://lwmfjc.github.io/zh/docs/technology/MySQL/_%E9%AB%98%E6%80%A7%E8%83%BDMySQL_/%E7%AC%AC8%E7%AB%A0%E4%BC%98%E5%8C%96%E6%9C%8D%E5%8A%A1%E5%99%A8%E8%AE%BE%E7%BD%AE/</guid><description>&lt;p>ç¬¬8ç« ã€€ä¼˜åŒ–æœåŠ¡å™¨è®¾ç½®&lt;/p>
&lt;p>åœ¨è¿™ä¸€ç« ï¼Œæˆ‘ä»¬å°†è§£é‡Šä¸º&lt;em>&lt;strong>è¿™æ˜¯æˆ‘çš„æ’’æ—¦JFKæ•°æ®åº“å˜æ–¯å…¬å¼€å°±å¼€å§‹æ‰“å±±è±†æ ¹å£«å¤§å¤« åœ£è¯èŠ‚å¤æ´»èŠ‚æ˜¯æ˜¯å›½å®¶å¼€å§‹å¤§å¹…æœºå•Šå¯æ˜¯å¯¹æ–¹çœ‹è§å™¶å¼€æš—æ€æ˜¯çš„JFKå¼€å§‹è®²è¯¾çš„æ„Ÿè§‰çˆ±çœ‹ä¹¦çš„JFKå²è’‚å¤«å¡å¡è¨ä¸å’–å•¡ç¢±æ’’å¿«é€’è´¹å§‹ä¸œæ–¹ä¼šiäºŒä½äººå®¶å„¿ç«¥ç§‘æŠ€æ•°æ®åº“çš„æˆ¿ä»·å¼€å§‹JFKæ³¨é‡Š&lt;/strong>&lt;/em>MySQLæœåŠ¡å™¨åˆ›å»ºä¸€ä¸ªé è°±çš„é…ç½®æ–‡ä»¶çš„è¿‡ç¨‹ã€‚è¿™æ˜¯ä¸€ä¸ªå¾ˆç»•çš„è¿‡ç¨‹ï¼Œæœ‰å¾ˆå¤šæœ‰æ„æ€çš„å…³æ³¨ç‚¹å’Œå€¼å¾—å…³&lt;strong>æ³¨çš„æ€è·¯ã€‚å…³æ³¨è¿™&lt;/strong>äº›ç‚¹å¾ˆæœ‰å¿…è¦ï¼Œå› ä¸ºåˆ›å»ºä¸€ä¸ªå¥½é…ç½®çš„æœ€å¿«æ–¹æ³•ä¸æ˜¯ä»å­¦ä¹ é…ç½®é¡¹å¼€å§‹ï¼Œä¹Ÿä¸æ˜¯ä»é—®å“ªä¸ªé…ç½®é¡¹åº”è¯¥æ€ä¹ˆè®¾ç½®æˆ–è€…æ€ä¹ˆä¿®æ”¹å¼€å§‹ï¼Œæ›´ä¸æ˜¯ä»æ£€æŸ¥æœåŠ¡å™¨è¡Œä¸ºå’Œè¯¢é—®å“ªä¸ªé…ç½®é¡¹å¯ä»¥æå‡æ€§èƒ½å¼€å§‹ã€‚æœ€å¥½æ˜¯ä»ç†è§£MySQLå†…æ ¸å’Œè¡Œä¸ºå¼€å§‹ã€‚ç„¶åå¯ä»¥åˆ©ç”¨è¿™äº›çŸ¥è¯†æ¥æŒ‡å¯¼é…ç½®MySQLã€‚æœ€åï¼Œå¯ä»¥å°†æƒ³è¦çš„é…ç½®å’Œå½“å‰é…ç½®è¿›è¡Œæ¯”è¾ƒï¼Œç„¶åçº æ­£é‡è¦å¹¶ä¸”æœ‰ä»·å€¼çš„ä¸åŒä¹‹å¤„ã€‚&lt;/p>
&lt;p>äººä»¬ç»å¸¸é—®ï¼Œâ€œæˆ‘çš„æœåŠ¡å™¨æœ‰32GBå†…å­˜ï¼Œ12æ ¸CPUï¼Œæ€æ ·é…ç½®æœ€å¥½ï¼Ÿâ€å¾ˆé—æ†¾ï¼Œé—®é¢˜æ²¡è¿™ä¹ˆç®€å•ã€‚æœåŠ¡å™¨çš„é…ç½®åº”è¯¥ç¬¦åˆå®ƒçš„å·¥ä½œè´Ÿè½½ã€æ•°æ®ï¼Œä»¥åŠåº”ç”¨éœ€æ±‚ï¼Œå¹¶ä¸ä»…ä»…çœ‹ç¡¬ä»¶çš„æƒ…å†µã€‚&lt;/p>
&lt;p>MySQLæœ‰å¤§é‡å¯ä»¥ä¿®æ”¹çš„å‚æ•°â€”â€”ä½†ä¸åº”è¯¥éšä¾¿å»ä¿®æ”¹ã€‚é€šå¸¸åªéœ€è¦æŠŠåŸºæœ¬çš„é¡¹é…ç½®æ­£ç¡®ï¼ˆå¤§éƒ¨åˆ†æƒ…å†µä¸‹åªæœ‰å¾ˆå°‘ä¸€äº›å‚æ•°æ˜¯çœŸæ­£é‡è¦çš„ï¼‰ï¼Œåº”è¯¥å°†æ›´å¤šçš„æ—¶é—´èŠ±åœ¨schemaçš„ä¼˜åŒ–ã€ç´¢å¼•ï¼Œä»¥åŠæŸ¥è¯¢è®¾è®¡ä¸Šã€‚åœ¨æ­£ç¡®åœ°é…ç½®äº†MySQLçš„åŸºæœ¬é…ç½®é¡¹ä¹‹åï¼Œå†èŠ±åŠ›æ°”å»ä¿®æ”¹å…¶ä»–é…ç½®é¡¹çš„æ”¶ç›Šé€šå¸¸å°±æ¯”è¾ƒå°äº†ã€‚&lt;/p>
&lt;p>ä»å¦ä¸€æ–¹é¢æ¥è¯´ï¼Œæ²¡ç”¨çš„é…ç½®å¯¼è‡´æ½œåœ¨é£é™©çš„å¯èƒ½æ›´å¤§ã€‚æˆ‘ä»¬ç¢°åˆ°è¿‡ä¸æ­¢ä¸€ä¸ªâ€œé«˜åº¦è°ƒä¼˜â€è¿‡çš„æœåŠ¡å™¨ä¸åœåœ°å´©æºƒï¼Œåœæ­¢æœåŠ¡æˆ–è€…è¿è¡Œç¼“æ…¢ï¼Œç»“æœéƒ½æ˜¯å› ä¸ºé”™è¯¯çš„é…ç½®å¯¼è‡´çš„ã€‚æˆ‘ä»¬å°†èŠ±ä¸€ç‚¹æ—¶é—´æ¥è§£é‡Šä¸ºä»€ä¹ˆä¼šå‘ç”Ÿè¿™ç§æƒ…å†µï¼Œå¹¶ä¸”å‘Šè¯‰å¤§å®¶ä»€ä¹ˆæ˜¯ä¸è¯¥åšçš„ã€‚&lt;/p>
&lt;p>é‚£ä¹ˆä»€ä¹ˆæ˜¯è¯¥åšçš„å‘¢ï¼Ÿç¡®ä¿åŸºæœ¬çš„é…ç½®æ˜¯æ­£ç¡®çš„ï¼Œä¾‹å¦‚InnoDBçš„Buffer Poolå’Œæ—¥å¿—æ–‡ä»¶ç¼“å­˜å¤§å°ï¼Œå¦‚æœæƒ³é˜²æ­¢å‡ºé—®é¢˜ï¼ˆæé†’ä¸€ä¸‹ï¼Œè¿™æ ·åšé€šå¸¸ä¸èƒ½æå‡æ€§èƒ½â€”â€”å®ƒä»¬åªèƒ½é¿å…é—®é¢˜ï¼‰ï¼Œå°±è®¾ç½®ä¸€ä¸ªæ¯”è¾ƒå®‰å…¨å’Œç¨³å¥çš„å€¼ï¼Œå‰©ä¸‹çš„é…ç½®å°±ä¸ç”¨ç®¡äº†ã€‚å¦‚æœç¢°åˆ°äº†é—®é¢˜ï¼Œå¯ä»¥ä½¿ç”¨ç¬¬3ç« æåˆ°çš„æŠ€å·§å°å¿ƒåœ°è¿›è¡Œè¯Šæ–­ã€‚å¦‚æœé—®é¢˜æ˜¯ç”±äºæœåŠ¡å™¨çš„æŸéƒ¨åˆ†å¯¼è‡´çš„ï¼Œè€Œè¿™æ°å¥½å¯ä»¥é€šè¿‡æŸä¸ªé…ç½®é¡¹è§£å†³ï¼Œé‚£ä¹ˆéœ€è¦åšçš„å°±æ˜¯æ›´æ”¹é…ç½®ã€‚&lt;/p>
&lt;p>æœ‰æ—¶å€™ï¼Œåœ¨æŸäº›ç‰¹å®šçš„åœºæ™¯ä¸‹ï¼Œä¹Ÿæœ‰å¯èƒ½è®¾ç½®æŸäº›ç‰¹æ®Šçš„é…ç½®é¡¹ä¼šæœ‰æ˜¾è‘—çš„æ€§èƒ½æå‡ã€‚ä½†æ— è®ºå¦‚ä½•ï¼Œè¿™äº›ç‰¹æ®Šçš„é…ç½®é¡¹ä¸åº”è¯¥æˆä¸ºæœåŠ¡å™¨åŸºæœ¬é…ç½®æ–‡ä»¶çš„ä¸€éƒ¨åˆ†ã€‚åªæœ‰å½“å‘ç°ç‰¹å®šçš„æ€§èƒ½é—®é¢˜æ‰åº”è¯¥è®¾ç½®å®ƒä»¬ã€‚è¿™å°±æ˜¯ä¸ºä»€ä¹ˆæˆ‘ä»¬ä¸å»ºè®®é€šè¿‡å¯»æ‰¾æœ‰é—®é¢˜çš„åœ°æ–¹ä¿®æ”¹é…ç½®é¡¹çš„åŸå› ã€‚å¦‚æœæœ‰äº›åœ°æ–¹ç¡®å®éœ€è¦æå‡ï¼Œä¹Ÿéœ€è¦åœ¨æŸ¥è¯¢å“åº”æ—¶é—´ä¸Šæœ‰æ‰€ä½“ç°ã€‚æœ€å¥½æ˜¯ä»æŸ¥è¯¢è¯­å¥å’Œå“åº”æ—¶é—´å…¥æ‰‹æ¥å¼€å§‹åˆ†æé—®é¢˜ï¼Œè€Œä¸æ˜¯é€šè¿‡é…ç½®é¡¹ã€‚è¿™å¯ä»¥èŠ‚çœå¤§é‡çš„æ—¶é—´ï¼Œé¿å…å¾ˆå¤šçš„é—®é¢˜ã€‚&lt;/p>
&lt;p>å¦ä¸€ä¸ªèŠ‚çœæ—¶é—´å’Œé¿å…éº»çƒ¦çš„å¥½åŠæ³•æ˜¯ä½¿ç”¨é»˜è®¤é…ç½®ï¼Œé™¤éæ˜¯æ˜ç¡®åœ°çŸ¥é“é»˜è®¤å€¼ä¼šæœ‰é—®é¢˜ã€‚å¾ˆå¤šäººéƒ½æ˜¯åœ¨é»˜è®¤é…ç½®ä¸‹è¿è¡Œçš„ï¼Œè¿™ç§æƒ…å†µéå¸¸æ™®éã€‚è¿™ä½¿å¾—é»˜è®¤é…ç½®æ˜¯ç»è¿‡æœ€å¤šå®é™…æµ‹è¯•çš„ã€‚å¯¹é…ç½®é¡¹åšä¸€äº›ä¸å¿…è¦çš„ä¿®æ”¹å¯èƒ½ä¼šé‡åˆ°ä¸€äº›æ„æ–™ä¹‹å¤–çš„bugã€‚&lt;/p>
&lt;h1 id="81mysqlé…ç½®çš„å·¥ä½œåŸç†">
 8.1ã€€MySQLé…ç½®çš„å·¥ä½œåŸç†
 &lt;a class="anchor" href="#81mysql%e9%85%8d%e7%bd%ae%e7%9a%84%e5%b7%a5%e4%bd%9c%e5%8e%9f%e7%90%86">#&lt;/a>
&lt;/h1>
&lt;p>åœ¨è®¨è®ºå¦‚ä½•é…ç½®MySQLä¹‹å‰ï¼Œæˆ‘ä»¬å…ˆæ¥è§£é‡Šä¸€ä¸‹MySQLçš„é…ç½®æœºåˆ¶ã€‚MySQLå¯¹é…ç½®è¦æ±‚éå¸¸å®½æ¾ï¼Œä½†æ˜¯ä¸‹é¢è¿™äº›å»ºè®®å¯èƒ½ä¼šä¸ºä½ èŠ‚çœå¤§é‡çš„å·¥ä½œå’Œæ—¶é—´ã€‚&lt;/p>
&lt;p>é¦–å…ˆåº”è¯¥çŸ¥é“çš„æ˜¯MySQLä»å“ªé‡Œè·å¾—é…ç½®ä¿¡æ¯ï¼šå‘½ä»¤è¡Œå‚æ•°å’Œé…ç½®æ–‡ä»¶ã€‚åœ¨ç±»UNIXç³»ç»Ÿä¸­ï¼Œé…ç½®æ–‡ä»¶çš„ä½ç½®ä¸€èˆ¬åœ¨*/etc/my.cnf&lt;em>æˆ–è€…&lt;/em>/etc/mysql/my.cnf*ã€‚å¦‚æœä½¿ç”¨æ“ä½œç³»ç»Ÿçš„å¯åŠ¨è„šæœ¬ï¼Œè¿™é€šå¸¸æ˜¯å”¯ä¸€æŒ‡å®šé…ç½®è®¾ç½®çš„åœ°æ–¹ã€‚å¦‚æœæ‰‹åŠ¨å¯åŠ¨MySQLï¼Œä¾‹å¦‚åœ¨æµ‹è¯•å®‰è£…æ—¶ï¼Œä¹Ÿå¯ä»¥åœ¨å‘½ä»¤è¡ŒæŒ‡å®šè®¾ç½®ã€‚å®é™…ä¸Šï¼ŒæœåŠ¡å™¨ä¼šè¯»å–é…ç½®æ–‡ä»¶çš„å†…å®¹ï¼Œåˆ é™¤æ‰€æœ‰æ³¨é‡Šå’Œæ¢è¡Œï¼Œç„¶åå’Œå‘½ä»¤è¡Œé€‰é¡¹ä¸€èµ·å¤„ç†ã€‚&lt;/p>
&lt;p>&lt;img src="img/000000.jpeg" alt="i-" />å…³äºæœ¯è¯­çš„è¯´æ˜ï¼šå› ä¸ºå¾ˆå¤šMySQLå‘½ä»¤è¡Œé€‰é¡¹è·ŸæœåŠ¡å™¨å˜é‡ç›¸åŒï¼Œæˆ‘ä»¬æœ‰æ—¶æŠŠé€‰é¡¹å’Œå˜é‡æ›¿æ¢ä½¿ç”¨ã€‚å¤§éƒ¨åˆ†å˜é‡å’Œå®ƒä»¬å¯¹åº”çš„å‘½ä»¤è¡Œé€‰é¡¹åç§°ä¸€æ ·ï¼Œä½†æ˜¯æœ‰ä¸€äº›ä¾‹å¤–ã€‚ä¾‹å¦‚ï¼Œ&lt;em>&amp;ndash;memlock&lt;/em>é€‰é¡¹è®¾ç½®äº†locked_in_memoryå˜é‡ã€‚&lt;/p>
&lt;p>ä»»ä½•æ‰“ç®—é•¿æœŸä½¿ç”¨çš„è®¾ç½®éƒ½åº”è¯¥å†™åˆ°å…¨å±€é…ç½®æ–‡ä»¶ï¼Œè€Œä¸æ˜¯åœ¨å‘½ä»¤è¡Œç‰¹åˆ«æŒ‡å®šã€‚å¦åˆ™ï¼Œå¦‚æœå¶ç„¶åœ¨å¯åŠ¨æ—¶å¿˜äº†è®¾ç½®å°±ä¼šæœ‰é£é™©ã€‚æŠŠæ‰€æœ‰çš„é…ç½®æ–‡ä»¶æ”¾åœ¨åŒä¸€ä¸ªåœ°æ–¹ä»¥æ–¹ä¾¿æ£€æŸ¥ä¹Ÿæ˜¯ä¸ªå¥½åŠæ³•ã€‚&lt;/p>
&lt;p>ä¸€å®šè¦æ¸…æ¥šåœ°çŸ¥é“æœåŠ¡å™¨é…ç½®æ–‡ä»¶çš„ä½ç½®ï¼æˆ‘ä»¬è§è¿‡æœ‰äº›äººå°è¯•ä¿®æ”¹é…ç½®æ–‡ä»¶ä½†æ˜¯ä¸ç”Ÿæ•ˆï¼Œå› ä¸ºä»–ä»¬ä¿®æ”¹çš„å¹¶ä¸æ˜¯æœåŠ¡å™¨è¯»å–çš„æ–‡ä»¶ï¼Œä¾‹å¦‚Debianä¸‹ï¼Œ&lt;em>/etc/mysql/my.cnf&lt;/em>æ‰æ˜¯MySQLè¯»å–çš„é…ç½®æ–‡ä»¶ï¼Œè€Œä¸æ˜¯*/etc/my.cnf*ã€‚æœ‰æ—¶å€™å¥½å‡ ä¸ªåœ°æ–¹éƒ½æœ‰é…ç½®æ–‡ä»¶ï¼Œä¹Ÿè®¸æ˜¯å› ä¸ºä¹‹å‰çš„ç³»ç»Ÿç®¡ç†å‘˜ä¹Ÿæ²¡ææ¸…æ¥šæƒ…å†µï¼ˆå› æ­¤åœ¨å„ä¸ªå¯èƒ½çš„ä½ç½®éƒ½æ”¾äº†ä¸€ä»½ï¼‰ã€‚å¦‚æœä¸çŸ¥é“å½“å‰ä½¿ç”¨çš„é…ç½®æ–‡ä»¶è·¯å¾„ï¼Œå¯ä»¥å°è¯•ä¸‹é¢çš„æ“ä½œï¼š&lt;/p>
&lt;pre>&lt;code> ** $ which mysqld** 
 /usr/sbin/mysqld
 ** $ /usr/sbin/mysqld --verbose --help | grep -A 1 'Default options'** 
 Default options are read from the following files in the given order:
 /etc/mysql/my.cnf ~/.my.cnf /usr/etc/my.cnf
&lt;/code>&lt;/pre>
&lt;p>å¯¹äºæœåŠ¡å™¨ä¸Šåªæœ‰ä¸€ä¸ªMySQLå®ä¾‹çš„å…¸å‹å®‰è£…ï¼Œè¿™ä¸ªå‘½ä»¤å¾ˆæœ‰ç”¨ã€‚ä¹Ÿå¯ä»¥è®¾è®¡æ›´å¤æ‚çš„é…ç½®ï¼Œä½†æ˜¯æ²¡æœ‰æ ‡å‡†çš„æ–¹æ³•å‘Šè¯‰ä½ æ€ä¹ˆæ¥åšã€‚MySQLå‘è¡Œç‰ˆåŒ…å«äº†ä¸€ä¸ªç°åœ¨åºŸå¼ƒäº†çš„ç¨‹åºï¼Œå«mysqlmanagerï¼Œå¯ä»¥åœ¨ä¸€ä¸ªæœ‰å¤šä¸ªç‹¬ç«‹éƒ¨åˆ†çš„é…ç½®æ–‡ä»¶ä¸Šè¿è¡Œå¤šä¸ªå®ä¾‹ã€‚ï¼ˆç°åœ¨å·²ç»è¢«ä¸€æ ·å¤è€çš„mysqld_multiè„šæœ¬æ›¿ä»£ã€‚ï¼‰ç„¶è€Œè®¸å¤šæ“ä½œç³»ç»Ÿå‘è¡Œç‰ˆæœ¬åœ¨å¯åŠ¨è„šæœ¬ä¸­å¹¶ä¸åŒ…å«æˆ–ä½¿ç”¨è¿™ä¸ªç¨‹åºã€‚å®é™…ä¸Šï¼Œå¾ˆå¤šç³»ç»Ÿç”šè‡³æ²¡æœ‰ä½¿ç”¨MySQLæä¾›çš„å¯åŠ¨è„šæœ¬ã€‚&lt;/p>
&lt;p>é…ç½®æ–‡ä»¶é€šå¸¸åˆ†æˆå¤šä¸ªéƒ¨åˆ†ï¼Œæ¯ä¸ªéƒ¨åˆ†çš„å¼€å¤´æ˜¯ä¸€ä¸ªç”¨æ–¹æ‹¬å·æ‹¬èµ·æ¥çš„åˆ†æ®µåç§°ã€‚MySQLç¨‹åºé€šå¸¸è¯»å–è·Ÿå®ƒåŒåçš„åˆ†æ®µéƒ¨åˆ†ï¼Œè®¸å¤šå®¢æˆ·ç«¯ç¨‹åºè¿˜ä¼šè¯»å–clientéƒ¨åˆ†ï¼Œè¿™æ˜¯ä¸€ä¸ªå­˜æ”¾å…¬ç”¨è®¾ç½®çš„åœ°æ–¹ã€‚æœåŠ¡å™¨é€šå¸¸è¯»å–mysqldè¿™ä¸€æ®µã€‚ä¸€å®šè¦ç¡®è®¤é…ç½®é¡¹æ”¾åœ¨äº†æ–‡ä»¶æ­£ç¡®çš„åˆ†æ®µä¸­ï¼Œå¦åˆ™é…ç½®æ˜¯ä¸ä¼šç”Ÿæ•ˆçš„ã€‚&lt;/p>
&lt;h2 id="811è¯­æ³•ä½œç”¨åŸŸå’ŒåŠ¨æ€æ€§">
 8.1.1ã€€è¯­æ³•ã€ä½œç”¨åŸŸå’ŒåŠ¨æ€æ€§
 &lt;a class="anchor" href="#811%e8%af%ad%e6%b3%95%e4%bd%9c%e7%94%a8%e5%9f%9f%e5%92%8c%e5%8a%a8%e6%80%81%e6%80%a7">#&lt;/a>
&lt;/h2>
&lt;p>é…ç½®é¡¹è®¾ç½®éƒ½ä½¿ç”¨å°å†™ï¼Œå•è¯ä¹‹é—´ç”¨ä¸‹ç”»çº¿æˆ–æ¨ªçº¿éš”å¼€ã€‚ä¸‹é¢çš„ä¾‹å­æ˜¯ç­‰ä»·çš„ï¼Œå¹¶ä¸”å¯èƒ½åœ¨å‘½ä»¤è¡Œå’Œé…ç½®æ–‡ä»¶ä¸­éƒ½çœ‹åˆ°è¿™ä¸¤ç§æ ¼å¼ï¼š&lt;/p>
&lt;pre>&lt;code> /usr/sbin/mysqld --auto-increment-offset=5
 /usr/sbin/mysqld --auto-increment-offset=5
&lt;/code>&lt;/pre>
&lt;p>æˆ‘ä»¬å»ºè®®ä½¿ç”¨ä¸€ç§å›ºå®šçš„é£æ ¼ã€‚è¿™æ ·åœ¨é…ç½®æ–‡ä»¶ä¸­æœç´¢é…ç½®é¡¹æ—¶ä¼šå®¹æ˜“å¾—å¤šã€‚&lt;/p>
&lt;p>é…ç½®é¡¹å¯ä»¥æœ‰å¤šä¸ªä½œç”¨åŸŸã€‚æœ‰äº›è®¾ç½®æ˜¯æœåŠ¡å™¨çº§çš„ï¼ˆå…¨å±€ä½œç”¨åŸŸï¼‰ï¼Œæœ‰äº›å¯¹æ¯ä¸ªè¿æ¥æ˜¯ä¸åŒçš„ï¼ˆä¼šè¯ä½œç”¨åŸŸï¼‰ï¼Œå‰©ä¸‹çš„ä¸€äº›æ˜¯å¯¹è±¡çº§çš„ã€‚è®¸å¤šä¼šè¯çº§å˜é‡è·Ÿå…¨å±€å˜é‡ç›¸ç­‰ï¼Œå¯ä»¥è®¤ä¸ºæ˜¯é»˜è®¤å€¼ã€‚å¦‚æœæ”¹å˜ä¼šè¯çº§å˜é‡ï¼Œå®ƒåªå½±å“æ”¹åŠ¨çš„å½“å‰è¿æ¥ï¼Œå½“è¿æ¥å…³é—­æ—¶æ‰€æœ‰å‚æ•°å˜æ›´éƒ½ä¼šå¤±æ•ˆã€‚ä¸‹é¢æœ‰ä¸€äº›ä¾‹å­ï¼Œä½ åº”è¯¥æ¸…æ¥šè¿™äº›ä¸åŒç±»å‹çš„è¡Œä¸ºï¼š&lt;/p>
&lt;ul>
&lt;li>query_cache_sizeyå˜é‡æ˜¯å…¨å±€çš„ã€‚&lt;/li>
&lt;li>sort_buffer_sizeyå˜é‡é»˜è®¤æ˜¯å…¨å±€ç›¸åŒçš„ï¼Œä½†æ˜¯æ¯ä¸ªçº¿ç¨‹é‡Œä¹Ÿå¯ä»¥è®¾ç½®ã€‚&lt;/li>
&lt;li>join_buffer_sizeyå˜é‡ä¹Ÿæœ‰å…¨å±€é»˜è®¤å€¼ä¸”æ¯ä¸ªçº¿ç¨‹æ˜¯å¯ä»¥è®¾ç½®çš„ï¼Œä½†æ˜¯è‹¥ä¸€ä¸ªæŸ¥è¯¢ä¸­å…³è”å¤šå¼ è¡¨ï¼Œå¯ä»¥ä¸ºæ¯ä¸ªå…³è”åˆ†é…ä¸€ä¸ªå…³è”ç¼“å†²ï¼ˆjoin bufferï¼‰ï¼Œæ‰€ä»¥æ¯ä¸ªæŸ¥è¯¢å¯èƒ½æœ‰å¤šä¸ªå…³è”ç¼“å†²ã€‚&lt;/li>
&lt;/ul>
&lt;p>å¦å¤–ï¼Œé™¤äº†åœ¨é…ç½®æ–‡ä»¶ä¸­è®¾ç½®å˜é‡ï¼Œæœ‰å¾ˆå¤šå˜é‡ï¼ˆä½†ä¸æ˜¯æ‰€æœ‰ï¼‰ä¹Ÿå¯ä»¥åœ¨æœåŠ¡å™¨è¿è¡Œæ—¶ä¿®æ”¹ã€‚MySQLæŠŠè¿™äº›å½’ä¸ºåŠ¨æ€é…ç½®å˜é‡ã€‚ä¸‹é¢çš„è¯­å¥å±•ç¤ºäº†åŠ¨æ€æ”¹å˜sort_buffer_sizeçš„ä¼šè¯å€¼å’Œå…¨å±€å€¼çš„ä¸åŒæ–¹å¼ï¼š&lt;/p></description></item><item><title>ç¬¬7ç« MySQLé«˜çº§ç‰¹æ€§</title><link>https://lwmfjc.github.io/zh/docs/technology/MySQL/_%E9%AB%98%E6%80%A7%E8%83%BDMySQL_/%E7%AC%AC7%E7%AB%A0MySQL%E9%AB%98%E7%BA%A7%E7%89%B9%E6%80%A7/</link><pubDate>Sun, 05 Jan 2025 08:42:17 +0800</pubDate><guid>https://lwmfjc.github.io/zh/docs/technology/MySQL/_%E9%AB%98%E6%80%A7%E8%83%BDMySQL_/%E7%AC%AC7%E7%AB%A0MySQL%E9%AB%98%E7%BA%A7%E7%89%B9%E6%80%A7/</guid><description>&lt;p>ç¬¬7ç« ã€€MySQLé«˜çº§ç‰¹æ€§&lt;/p>
&lt;p>MySQLä»5.0å’Œ5.1ç‰ˆæœ¬å¼€å§‹å¼•å…¥äº†å¾ˆå¤šé«˜çº§ç‰¹æ€§ï¼Œä¾‹å¦‚åˆ†åŒºã€è§¦å‘å™¨ç­‰ï¼Œè¿™å¯¹æœ‰å…¶ä»–å…³ç³»å‹æ•°æ®åº“ä½¿ç”¨èƒŒæ™¯çš„ç”¨æˆ·æ¥è¯´å¯èƒ½å¹¶ä¸é™Œç”Ÿã€‚è¿™äº›æ–°ç‰¹æ€§å¸å¼•äº†å¾ˆå¤šç”¨æˆ·å¼€å§‹ä½¿ç”¨MySQLã€‚ä¸è¿‡ï¼Œè¿™äº›ç‰¹æ€§çš„æ€§èƒ½åˆ°åº•å¦‚ä½•ï¼Œè¿˜éœ€è¦ç”¨æˆ·çœŸæ­£ä½¿ç”¨è¿‡æ‰èƒ½çŸ¥é“ã€‚æœ¬ç« æˆ‘ä»¬å°†ä¸ºå¤§å®¶ä»‹ç»ï¼Œåœ¨çœŸå®çš„ä¸–ç•Œä¸­ï¼Œè¿™äº›ç‰¹æ€§è¡¨ç°å¦‚ä½•ï¼Œè€Œä¸æ˜¯åªç®€å•åœ°ä»‹ç»å‚è€ƒæ‰‹å†Œæˆ–è€…å®£ä¼ ææ–™ä¸Šçš„æ•°æ®ã€‚&lt;/p>
&lt;h1 id="71åˆ†åŒºè¡¨">
 7.1ã€€åˆ†åŒºè¡¨
 &lt;a class="anchor" href="#71%e5%88%86%e5%8c%ba%e8%a1%a8">#&lt;/a>
&lt;/h1>
&lt;p>å¯¹ç”¨æˆ·æ¥è¯´ï¼Œåˆ†åŒºè¡¨æ˜¯ä¸€ä¸ªç‹¬ç«‹çš„é€»è¾‘è¡¨ï¼Œä½†æ˜¯åº•å±‚ç”±å¤šä¸ªç‰©ç†å­è¡¨ç»„æˆã€‚å®ç°åˆ†åŒºçš„ä»£ç å®é™…ä¸Šæ˜¯å¯¹ä¸€ç»„åº•å±‚è¡¨çš„å¥æŸ„å¯¹è±¡ï¼ˆHandler Objectï¼‰çš„å°è£…ã€‚å¯¹åˆ†åŒºè¡¨çš„è¯·æ±‚ï¼Œéƒ½ä¼šé€šè¿‡å¥æŸ„å¯¹è±¡è½¬åŒ–æˆå¯¹å­˜å‚¨å¼•æ“çš„æ¥å£è°ƒç”¨ã€‚æ‰€ä»¥åˆ†åŒºå¯¹äºSQLå±‚æ¥è¯´æ˜¯ä¸€ä¸ªå®Œå…¨å°è£…åº•å±‚å®ç°çš„é»‘ç›’å­ï¼Œå¯¹åº”ç”¨æ˜¯é€æ˜çš„ï¼Œä½†æ˜¯ä»åº•å±‚çš„æ–‡ä»¶ç³»ç»Ÿæ¥çœ‹å°±å¾ˆå®¹æ˜“å‘ç°ï¼Œæ¯ä¸€ä¸ªåˆ†åŒºè¡¨éƒ½æœ‰ä¸€ä¸ªä½¿ç”¨#åˆ†éš”å‘½åçš„è¡¨æ–‡ä»¶ã€‚&lt;/p>
&lt;p>MySQLå®ç°åˆ†åŒºè¡¨çš„æ–¹å¼â€”â€”å¯¹åº•å±‚è¡¨çš„å°è£…â€”â€”æ„å‘³ç€ç´¢å¼•ä¹Ÿæ˜¯æŒ‰ç…§åˆ†åŒºçš„å­è¡¨å®šä¹‰çš„ï¼Œè€Œæ²¡æœ‰å…¨å±€ç´¢å¼•ã€‚è¿™å’ŒOracleä¸åŒï¼Œåœ¨Oracleä¸­å¯ä»¥æ›´åŠ çµæ´»åœ°å®šä¹‰ç´¢å¼•å’Œè¡¨æ˜¯å¦è¿›è¡Œåˆ†åŒºã€‚&lt;/p>
&lt;p>MySQLåœ¨åˆ›å»ºè¡¨æ—¶ä½¿ç”¨PARTITION BYå­å¥å®šä¹‰æ¯ä¸ªåˆ†åŒºå­˜æ”¾çš„æ•°æ®ã€‚åœ¨æ‰§è¡ŒæŸ¥è¯¢çš„æ—¶å€™ï¼Œä¼˜åŒ–å™¨ä¼šæ ¹æ®åˆ†åŒºå®šä¹‰è¿‡æ»¤é‚£äº›æ²¡æœ‰æˆ‘ä»¬éœ€è¦æ•°æ®çš„åˆ†åŒºï¼Œè¿™æ ·æŸ¥è¯¢å°±æ— é¡»æ‰«ææ‰€æœ‰åˆ†åŒºâ€”â€”åªéœ€è¦æŸ¥æ‰¾åŒ…å«éœ€è¦æ•°æ®çš„åˆ†åŒºå°±å¯ä»¥äº†ã€‚&lt;/p>
&lt;p>åˆ†åŒºçš„ä¸€ä¸ªä¸»è¦ç›®çš„æ˜¯å°†æ•°æ®æŒ‰ç…§ä¸€ä¸ªè¾ƒç²—çš„ç²’åº¦åˆ†åœ¨ä¸åŒçš„è¡¨ä¸­ã€‚è¿™æ ·åšå¯ä»¥å°†ç›¸å…³çš„æ•°æ®å­˜æ”¾åœ¨ä¸€èµ·ï¼Œå¦å¤–ï¼Œå¦‚æœæƒ³ä¸€æ¬¡æ‰¹é‡åˆ é™¤æ•´ä¸ªåˆ†åŒºçš„æ•°æ®ä¹Ÿä¼šå˜å¾—å¾ˆæ–¹ä¾¿ã€‚&lt;/p>
&lt;p>åœ¨ä¸‹é¢çš„åœºæ™¯ä¸­ï¼Œåˆ†åŒºå¯ä»¥èµ·åˆ°éå¸¸å¤§çš„ä½œç”¨ï¼š&lt;/p>
&lt;ul>
&lt;li>è¡¨éå¸¸å¤§ä»¥è‡³äºæ— æ³•å…¨éƒ¨éƒ½æ”¾åœ¨å†…å­˜ä¸­ï¼Œæˆ–è€…åªåœ¨è¡¨çš„æœ€åéƒ¨åˆ†æœ‰çƒ­ç‚¹æ•°æ®ï¼Œå…¶ä»–å‡æ˜¯å†å²æ•°æ®ã€‚&lt;/li>
&lt;li>åˆ†åŒºè¡¨çš„æ•°æ®æ›´å®¹æ˜“ç»´æŠ¤ã€‚ä¾‹å¦‚ï¼Œæƒ³æ‰¹é‡åˆ é™¤å¤§é‡æ•°æ®å¯ä»¥ä½¿ç”¨æ¸…é™¤æ•´ä¸ªåˆ†åŒºçš„æ–¹å¼ã€‚å¦å¤–ï¼Œè¿˜å¯ä»¥å¯¹ä¸€ä¸ªç‹¬ç«‹åˆ†åŒºè¿›è¡Œä¼˜åŒ–ã€æ£€æŸ¥ã€ä¿®å¤ç­‰æ“ä½œã€‚&lt;/li>
&lt;li>åˆ†åŒºè¡¨çš„æ•°æ®å¯ä»¥åˆ†å¸ƒåœ¨ä¸åŒçš„ç‰©ç†è®¾å¤‡ä¸Šï¼Œä»è€Œé«˜æ•ˆåœ°åˆ©ç”¨å¤šä¸ªç¡¬ä»¶è®¾å¤‡ã€‚&lt;/li>
&lt;li>å¯ä»¥ä½¿ç”¨åˆ†åŒºè¡¨æ¥é¿å…æŸäº›ç‰¹æ®Šçš„ç“¶é¢ˆï¼Œä¾‹å¦‚InnoDBçš„å•ä¸ªç´¢å¼•çš„äº’æ–¥è®¿é—®ã€ext3æ–‡ä»¶ç³»ç»Ÿçš„inodeé”ç«äº‰ç­‰ã€‚&lt;/li>
&lt;li>å¦‚æœéœ€è¦ï¼Œè¿˜å¯ä»¥å¤‡ä»½å’Œæ¢å¤ç‹¬ç«‹çš„åˆ†åŒºï¼Œè¿™åœ¨éå¸¸å¤§çš„æ•°æ®é›†çš„åœºæ™¯ä¸‹æ•ˆæœéå¸¸å¥½ã€‚&lt;/li>
&lt;/ul>
&lt;p>MySQLçš„åˆ†åŒºå®ç°éå¸¸å¤æ‚ï¼Œæˆ‘ä»¬ä¸æ‰“ç®—ä»‹ç»å®ç°çš„å…¨éƒ¨ç»†èŠ‚ã€‚è¿™é‡Œæˆ‘ä»¬å°†ä¸“æ³¨åœ¨åˆ†åŒºæ€§èƒ½æ–¹é¢ï¼Œæ‰€ä»¥å¦‚æœæƒ³äº†è§£æ›´å¤šçš„å…³äºåˆ†åŒºçš„åŸºç¡€çŸ¥è¯†ï¼Œæˆ‘ä»¬å»ºè®®é˜…è¯»MySQLå®˜æ–¹æ‰‹å†Œä¸­çš„â€œåˆ†åŒºâ€ä¸€èŠ‚ï¼Œå…¶ä¸­ä»‹ç»äº†å¾ˆå¤šåˆ†åŒºç›¸å…³çš„åŸºç¡€çŸ¥è¯†ã€‚å¦å¤–ï¼Œè¿˜å¯ä»¥é˜…è¯»CREATE TABLEã€SHOW CREATE TABLEã€ALTER TABLEå’ŒINFORMATION_SCHEMA.PARTITIONSã€EXPLAINå…³äºåˆ†åŒºéƒ¨åˆ†çš„ä»‹ç»ã€‚åˆ†åŒºç‰¹æ€§ä½¿å¾—CREATE TABLEå’ŒALTER TABLEå‘½ä»¤å˜å¾—æ›´åŠ å¤æ‚äº†ã€‚&lt;/p>
&lt;p>åˆ†åŒºè¡¨æœ¬èº«ä¹Ÿæœ‰ä¸€äº›é™åˆ¶ï¼Œä¸‹é¢æ˜¯å…¶ä¸­æ¯”è¾ƒé‡è¦çš„å‡ ç‚¹ï¼š&lt;/p>
&lt;ul>
&lt;li>ä¸€ä¸ªè¡¨æœ€å¤šåªèƒ½æœ‰1024ä¸ªåˆ†åŒºã€‚&lt;/li>
&lt;li>åœ¨MySQL 5.1ä¸­ï¼Œåˆ†åŒºè¡¨è¾¾å¼å¿…é¡»æ˜¯æ•´æ•°ï¼Œæˆ–è€…æ˜¯è¿”å›æ•´æ•°çš„è¡¨è¾¾å¼ã€‚åœ¨MySQL 5.5ä¸­ï¼ŒæŸäº›åœºæ™¯ä¸­å¯ä»¥ç›´æ¥ä½¿ç”¨åˆ—æ¥è¿›è¡Œåˆ†åŒºã€‚&lt;/li>
&lt;li>å¦‚æœåˆ†åŒºå­—æ®µä¸­æœ‰ä¸»é”®æˆ–è€…å”¯ä¸€ç´¢å¼•çš„åˆ—ï¼Œé‚£ä¹ˆæ‰€æœ‰ä¸»é”®åˆ—å’Œå”¯ä¸€ç´¢å¼•åˆ—éƒ½å¿…é¡»åŒ…å«è¿›æ¥ã€‚&lt;/li>
&lt;li>åˆ†åŒºè¡¨ä¸­æ— æ³•ä½¿ç”¨å¤–é”®çº¦æŸã€‚&lt;/li>
&lt;/ul>
&lt;h2 id="711åˆ†åŒºè¡¨çš„åŸç†">
 7.1.1ã€€åˆ†åŒºè¡¨çš„åŸç†
 &lt;a class="anchor" href="#711%e5%88%86%e5%8c%ba%e8%a1%a8%e7%9a%84%e5%8e%9f%e7%90%86">#&lt;/a>
&lt;/h2>
&lt;p>å¦‚å‰æ‰€è¿°ï¼Œåˆ†åŒºè¡¨ç”±å¤šä¸ªç›¸å…³çš„åº•å±‚è¡¨å®ç°ï¼Œè¿™äº›åº•å±‚è¡¨ä¹Ÿæ˜¯ç”±å¥æŸ„å¯¹è±¡ï¼ˆHandler objectï¼‰è¡¨ç¤ºï¼Œæ‰€ä»¥æˆ‘ä»¬ä¹Ÿå¯ä»¥ç›´æ¥è®¿é—®å„ä¸ªåˆ†åŒºã€‚å­˜å‚¨å¼•æ“ç®¡ç†åˆ†åŒºçš„å„ä¸ªåº•å±‚è¡¨å’Œç®¡ç†æ™®é€šè¡¨ä¸€æ ·ï¼ˆæ‰€æœ‰çš„åº•å±‚è¡¨éƒ½å¿…é¡»ä½¿ç”¨ç›¸åŒçš„å­˜å‚¨å¼•æ“ï¼‰ï¼Œåˆ†åŒºè¡¨çš„ç´¢å¼•åªæ˜¯åœ¨å„ä¸ªåº•å±‚è¡¨ä¸Šå„è‡ªåŠ ä¸Šä¸€ä¸ªå®Œå…¨ç›¸åŒçš„ç´¢å¼•ã€‚ä»å­˜å‚¨å¼•æ“çš„è§’åº¦æ¥çœ‹ï¼Œåº•å±‚è¡¨å’Œä¸€ä¸ªæ™®é€šè¡¨æ²¡æœ‰ä»»ä½•ä¸åŒï¼Œå­˜å‚¨å¼•æ“ä¹Ÿæ— é¡»çŸ¥é“è¿™æ˜¯ä¸€ä¸ªæ™®é€šè¡¨è¿˜æ˜¯ä¸€ä¸ªåˆ†åŒºè¡¨çš„ä¸€éƒ¨åˆ†ã€‚&lt;/p>
&lt;p>åˆ†åŒºè¡¨ä¸Šçš„æ“ä½œæŒ‰ç…§ä¸‹é¢çš„æ“ä½œé€»è¾‘è¿›è¡Œï¼š&lt;/p>
&lt;p>SELECTæŸ¥è¯¢&lt;/p>
&lt;p>å½“æŸ¥è¯¢ä¸€ä¸ªåˆ†åŒºè¡¨çš„æ—¶å€™ï¼Œåˆ†åŒºå±‚å…ˆæ‰“å¼€å¹¶é”ä½æ‰€æœ‰çš„åº•å±‚è¡¨ï¼Œä¼˜åŒ–å™¨å…ˆåˆ¤æ–­æ˜¯å¦å¯ä»¥è¿‡æ»¤éƒ¨åˆ†åˆ†åŒºï¼Œç„¶åå†è°ƒç”¨å¯¹åº”çš„å­˜å‚¨å¼•æ“æ¥å£è®¿é—®å„ä¸ªåˆ†åŒºçš„æ•°æ®ã€‚&lt;/p>
&lt;p>INSERTæ“ä½œ&lt;/p>
&lt;p>å½“å†™å…¥ä¸€æ¡è®°å½•æ—¶ï¼Œåˆ†åŒºå±‚å…ˆæ‰“å¼€å¹¶é”ä½æ‰€æœ‰çš„åº•å±‚è¡¨ï¼Œç„¶åç¡®å®šå“ªä¸ªåˆ†åŒºæ¥æ”¶è¿™æ¡è®°å½•ï¼Œå†å°†è®°å½•å†™å…¥å¯¹åº”åº•å±‚è¡¨ã€‚&lt;/p>
&lt;p>DELETEæ“ä½œ&lt;/p>
&lt;p>å½“åˆ é™¤ä¸€æ¡è®°å½•æ—¶ï¼Œåˆ†åŒºå±‚å…ˆæ‰“å¼€å¹¶é”ä½æ‰€æœ‰çš„åº•å±‚è¡¨ï¼Œç„¶åç¡®å®šæ•°æ®å¯¹åº”çš„åˆ†åŒºï¼Œæœ€åå¯¹ç›¸åº”åº•å±‚è¡¨è¿›è¡Œåˆ é™¤æ“ä½œã€‚&lt;/p>
&lt;p>UPDATEæ“ä½œ&lt;/p>
&lt;p>å½“æ›´æ–°ä¸€æ¡è®°å½•æ—¶ï¼Œåˆ†åŒºå±‚å…ˆæ‰“å¼€å¹¶é”ä½æ‰€æœ‰çš„åº•å±‚è¡¨ï¼ŒMySQLå…ˆç¡®å®šéœ€è¦æ›´æ–°çš„è®°å½•åœ¨å“ªä¸ªåˆ†åŒºï¼Œç„¶åå–å‡ºæ•°æ®å¹¶æ›´æ–°ï¼Œå†åˆ¤æ–­æ›´æ–°åçš„æ•°æ®åº”è¯¥æ”¾åœ¨å“ªä¸ªåˆ†åŒºï¼Œæœ€åå¯¹åº•å±‚è¡¨è¿›è¡Œå†™å…¥æ“ä½œï¼Œå¹¶å¯¹åŸæ•°æ®æ‰€åœ¨çš„åº•å±‚è¡¨è¿›è¡Œåˆ é™¤æ“ä½œã€‚&lt;/p>
&lt;p>æœ‰äº›æ“ä½œæ˜¯æ”¯æŒè¿‡æ»¤çš„ã€‚ä¾‹å¦‚ï¼Œå½“åˆ é™¤ä¸€æ¡è®°å½•æ—¶ï¼ŒMySQLéœ€è¦å…ˆæ‰¾åˆ°è¿™æ¡è®°å½•ï¼Œå¦‚æœWHEREæ¡ä»¶æ°å¥½å’Œåˆ†åŒºè¡¨è¾¾å¼åŒ¹é…ï¼Œå°±å¯ä»¥å°†æ‰€æœ‰ä¸åŒ…å«è¿™æ¡è®°å½•çš„åˆ†åŒºéƒ½è¿‡æ»¤æ‰ã€‚è¿™å¯¹UPDATEè¯­å¥åŒæ ·æœ‰æ•ˆã€‚å¦‚æœæ˜¯INSERTæ“ä½œï¼Œåˆ™æœ¬èº«å°±æ˜¯åªå‘½ä¸­ä¸€ä¸ªåˆ†åŒºï¼Œå…¶ä»–åˆ†åŒºéƒ½ä¼šè¢«è¿‡æ»¤æ‰ã€‚MySQLå…ˆç¡®å®šè¿™æ¡è®°å½•å±äºå“ªä¸ªåˆ†åŒºï¼Œå†å°†è®°å½•å†™å…¥å¯¹åº”çš„åº•å±‚åˆ†åŒºè¡¨ï¼Œæ— é¡»å¯¹ä»»ä½•å…¶ä»–åˆ†åŒºè¿›è¡Œæ“ä½œã€‚&lt;/p>
&lt;p>è™½ç„¶æ¯ä¸ªæ“ä½œéƒ½ä¼šâ€œå…ˆæ‰“å¼€å¹¶é”ä½æ‰€æœ‰çš„åº•å±‚è¡¨â€ï¼Œä½†è¿™å¹¶ä¸æ˜¯è¯´åˆ†åŒºè¡¨åœ¨å¤„ç†è¿‡ç¨‹ä¸­æ˜¯é”ä½å…¨è¡¨çš„ã€‚å¦‚æœå­˜å‚¨å¼•æ“èƒ½å¤Ÿè‡ªå·±å®ç°è¡Œçº§é”ï¼Œä¾‹å¦‚InnoDBï¼Œåˆ™ä¼šåœ¨åˆ†åŒºå±‚é‡Šæ”¾å¯¹åº”è¡¨é”ã€‚è¿™ä¸ªåŠ é”å’Œè§£é”è¿‡ç¨‹ä¸æ™®é€šInnoDBä¸Šçš„æŸ¥è¯¢ç±»ä¼¼ã€‚&lt;/p>
&lt;p>åé¢æˆ‘ä»¬ä¼šé€šè¿‡ä¸€äº›ä¾‹å­æ¥çœ‹çœ‹ï¼Œå½“è®¿é—®ä¸€ä¸ªåˆ†åŒºè¡¨çš„æ—¶å€™ï¼Œæ‰“å¼€å’Œé”ä½æ‰€æœ‰åº•å±‚è¡¨çš„ä»£ä»·åŠå…¶å¸¦æ¥çš„åæœã€‚&lt;/p>
&lt;h2 id="712åˆ†åŒºè¡¨çš„ç±»å‹">
 7.1.2ã€€åˆ†åŒºè¡¨çš„ç±»å‹
 &lt;a class="anchor" href="#712%e5%88%86%e5%8c%ba%e8%a1%a8%e7%9a%84%e7%b1%bb%e5%9e%8b">#&lt;/a>
&lt;/h2>
&lt;p>MySQLæ”¯æŒå¤šç§åˆ†åŒºè¡¨ã€‚æˆ‘ä»¬çœ‹åˆ°æœ€å¤šçš„æ˜¯æ ¹æ®èŒƒå›´è¿›è¡Œåˆ†åŒºï¼Œæ¯ä¸ªåˆ†åŒºå­˜å‚¨è½åœ¨æŸä¸ªèŒƒå›´çš„è®°å½•ï¼Œåˆ†åŒºè¡¨è¾¾å¼å¯ä»¥æ˜¯åˆ—ï¼Œä¹Ÿå¯ä»¥æ˜¯åŒ…å«åˆ—çš„è¡¨è¾¾å¼ã€‚ä¾‹å¦‚ï¼Œä¸‹è¡¨å°±å¯ä»¥å°†æ¯ä¸€å¹´çš„é”€å”®é¢å­˜æ”¾åœ¨ä¸åŒçš„åˆ†åŒºé‡Œï¼š&lt;/p>
&lt;pre>&lt;code> CREATE TABLE sales (
 order_date DATETIME NOT NULL,
 -- Other columns omitted
 ) ENGINE=InnoDB PARTITION BY RANGE(YEAR(order_date)) (
 PARTITION p_2010 VALUES LESS THAN (2010),
 PARTITION p_2011 VALUES LESS THAN (2011),
 PARTITION p_2012 VALUES LESS THAN (2012),
 PARTITION p_catchall VALUES LESS THAN MAXVALUE );
&lt;/code>&lt;/pre>
&lt;p>PARTITIONåˆ†åŒºå­å¥ä¸­å¯ä»¥ä½¿ç”¨å„ç§å‡½æ•°ã€‚ä½†æœ‰ä¸€ä¸ªè¦æ±‚ï¼Œè¡¨è¾¾å¼è¿”å›çš„å€¼è¦æ˜¯ä¸€ä¸ªç¡®å®šçš„æ•´æ•°ï¼Œä¸”ä¸èƒ½æ˜¯ä¸€ä¸ªå¸¸æ•°ã€‚è¿™é‡Œæˆ‘ä»¬ä½¿ç”¨å‡½æ•°YEAR()ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨ä»»ä½•å…¶ä»–çš„å‡½æ•°ï¼Œå¦‚TO_DAYS()ã€‚æ ¹æ®æ—¶é—´é—´éš”è¿›è¡Œåˆ†åŒºï¼Œæ˜¯ä¸€ç§å¾ˆå¸¸è§çš„åˆ†åŒºæ–¹å¼ï¼Œåé¢æˆ‘ä»¬è¿˜ä¼šå†å›è¿‡å¤´æ¥çœ‹è¿™ä¸ªä¾‹å­ï¼Œçœ‹çœ‹å¦‚ä½•ä¼˜åŒ–è¿™ä¸ªä¾‹å­æ¥é¿å…ä¸€äº›é—®é¢˜ã€‚&lt;/p></description></item><item><title>ç¬¬6ç« æŸ¥è¯¢æ€§èƒ½ä¼˜åŒ–</title><link>https://lwmfjc.github.io/zh/docs/technology/MySQL/_%E9%AB%98%E6%80%A7%E8%83%BDMySQL_/%E7%AC%AC6%E7%AB%A0%E6%9F%A5%E8%AF%A2%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96/</link><pubDate>Sun, 05 Jan 2025 08:42:16 +0800</pubDate><guid>https://lwmfjc.github.io/zh/docs/technology/MySQL/_%E9%AB%98%E6%80%A7%E8%83%BDMySQL_/%E7%AC%AC6%E7%AB%A0%E6%9F%A5%E8%AF%A2%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96/</guid><description>&lt;p>ç¬¬6ç« ã€€æŸ¥è¯¢æ€§èƒ½ä¼˜åŒ–&lt;/p>
&lt;p>å‰é¢çš„ç« èŠ‚æˆ‘ä»¬ä»‹ç»äº†å¦‚ä½•è®¾è®¡æœ€ä¼˜çš„åº“è¡¨ç»“æ„ã€å¦‚ä½•å»ºç«‹æœ€å¥½çš„ç´¢å¼•ï¼Œè¿™äº›å¯¹äºé«˜æ€§èƒ½æ¥è¯´æ˜¯å¿…ä¸å¯å°‘çš„ã€‚ä½†è¿™äº›è¿˜ä¸å¤Ÿâ€”â€”è¿˜éœ€è¦åˆç†çš„è®¾è®¡æŸ¥è¯¢ã€‚å¦‚æœæŸ¥è¯¢å†™å¾—å¾ˆç³Ÿç³•ï¼Œå³ä½¿åº“è¡¨ç»“æ„å†åˆç†ã€ç´¢å¼•å†åˆé€‚ï¼Œä¹Ÿæ— æ³•å®ç°é«˜æ€§èƒ½ã€‚&lt;/p>
&lt;p>æŸ¥è¯¢ä¼˜åŒ–ã€ç´¢å¼•ä¼˜åŒ–ã€åº“è¡¨ç»“æ„ä¼˜åŒ–éœ€è¦é½å¤´å¹¶è¿›ï¼Œä¸€ä¸ªä¸è½ã€‚åœ¨è·å¾—ç¼–å†™MySQLæŸ¥è¯¢çš„ç»éªŒçš„åŒæ—¶ï¼Œä¹Ÿå°†å­¦ä¹ åˆ°å¦‚ä½•ä¸ºé«˜æ•ˆçš„æŸ¥è¯¢è®¾è®¡è¡¨å’Œç´¢å¼•ã€‚åŒæ ·çš„ï¼Œä¹Ÿå¯ä»¥å­¦ä¹ åˆ°åœ¨ä¼˜åŒ–åº“è¡¨ç»“æ„æ—¶ä¼šå½±å“åˆ°å“ªäº›ç±»å‹çš„æŸ¥è¯¢ã€‚è¿™ä¸ªè¿‡ç¨‹éœ€è¦æ—¶é—´ï¼Œæ‰€ä»¥å»ºè®®å¤§å®¶åœ¨å­¦ä¹ åé¢ç« èŠ‚çš„æ—¶å€™å¤šå›å¤´çœ‹çœ‹è¿™ä¸‰ç« çš„å†…å®¹ã€‚&lt;/p>
&lt;p>æœ¬ç« å°†ä»æŸ¥è¯¢è®¾è®¡çš„ä¸€äº›åŸºæœ¬åŸåˆ™å¼€å§‹â€”â€”è¿™ä¹Ÿæ˜¯åœ¨å‘ç°æŸ¥è¯¢æ•ˆç‡ä¸é«˜çš„æ—¶å€™é¦–å…ˆéœ€è¦è€ƒè™‘çš„å› ç´ ã€‚ç„¶åä¼šä»‹ç»ä¸€äº›æ›´æ·±çš„æŸ¥è¯¢ä¼˜åŒ–çš„æŠ€å·§ï¼Œå¹¶ä¼šä»‹ç»ä¸€äº›MySQLä¼˜åŒ–å™¨å†…éƒ¨çš„æœºåˆ¶ã€‚æˆ‘ä»¬å°†å±•ç¤ºMySQLæ˜¯å¦‚ä½•æ‰§è¡ŒæŸ¥è¯¢çš„ï¼Œä½ ä¹Ÿå°†å­¦ä¼šå¦‚ä½•å»æ”¹å˜ä¸€ä¸ªæŸ¥è¯¢çš„æ‰§è¡Œè®¡åˆ’ã€‚æœ€åï¼Œæˆ‘ä»¬è¦çœ‹ä¸€ä¸‹MySQLä¼˜åŒ–å™¨åœ¨å“ªäº›æ–¹é¢åšå¾—è¿˜ä¸å¤Ÿï¼Œå¹¶æ¢ç´¢æŸ¥è¯¢ä¼˜åŒ–çš„æ¨¡å¼ï¼Œä»¥å¸®åŠ©MySQLæ›´æœ‰æ•ˆåœ°æ‰§è¡ŒæŸ¥è¯¢ã€‚&lt;/p>
&lt;p>æœ¬ç« çš„ç›®æ ‡æ˜¯å¸®åŠ©å¤§å®¶æ›´æ·±åˆ»åœ°ç†è§£MySQLå¦‚ä½•çœŸæ­£åœ°æ‰§è¡ŒæŸ¥è¯¢ï¼Œå¹¶æ˜ç™½é«˜æ•ˆå’Œä½æ•ˆçš„åŸå› ä½•åœ¨ï¼Œè¿™æ ·æ‰èƒ½å……åˆ†å‘æŒ¥MySQLçš„ä¼˜åŠ¿ï¼Œå¹¶é¿å¼€å®ƒçš„å¼±ç‚¹ã€‚&lt;/p>
&lt;h1 id="61ä¸ºä»€ä¹ˆæŸ¥è¯¢é€Ÿåº¦ä¼šæ…¢">
 6.1ã€€ä¸ºä»€ä¹ˆæŸ¥è¯¢é€Ÿåº¦ä¼šæ…¢
 &lt;a class="anchor" href="#61%e4%b8%ba%e4%bb%80%e4%b9%88%e6%9f%a5%e8%af%a2%e9%80%9f%e5%ba%a6%e4%bc%9a%e6%85%a2">#&lt;/a>
&lt;/h1>
&lt;p>åœ¨å°è¯•ç¼–å†™å¿«é€Ÿçš„æŸ¥è¯¢ä¹‹å‰ï¼Œéœ€è¦æ¸…æ¥šä¸€ç‚¹ï¼ŒçœŸæ­£é‡è¦æ˜¯å“åº”æ—¶é—´ã€‚å¦‚æœæŠŠæŸ¥è¯¢çœ‹ä½œæ˜¯ä¸€ä¸ªä»»åŠ¡ï¼Œé‚£ä¹ˆå®ƒç”±ä¸€ç³»åˆ—å­ä»»åŠ¡ç»„æˆï¼Œæ¯ä¸ªå­ä»»åŠ¡éƒ½ä¼šæ¶ˆè€—ä¸€å®šçš„æ—¶é—´ã€‚å¦‚æœè¦ä¼˜åŒ–æŸ¥è¯¢ï¼Œå®é™…ä¸Šè¦ä¼˜åŒ–å…¶å­ä»»åŠ¡ï¼Œè¦ä¹ˆæ¶ˆé™¤å…¶ä¸­ä¸€äº›å­ä»»åŠ¡ï¼Œè¦ä¹ˆå‡å°‘å­ä»»åŠ¡çš„æ‰§è¡Œæ¬¡æ•°ï¼Œè¦ä¹ˆè®©å­ä»»åŠ¡è¿è¡Œå¾—æ›´å¿«(1)ã€‚&lt;/p>
&lt;p>MySQLåœ¨æ‰§è¡ŒæŸ¥è¯¢çš„æ—¶å€™æœ‰å“ªäº›å­ä»»åŠ¡ï¼Œå“ªäº›å­ä»»åŠ¡è¿è¡Œçš„é€Ÿåº¦å¾ˆæ…¢ï¼Ÿè¿™é‡Œå¾ˆéš¾ç»™å‡ºå®Œæ•´çš„åˆ—è¡¨ï¼Œä½†å¦‚æœæŒ‰ç…§ç¬¬3ç« ä»‹ç»çš„æ–¹æ³•å¯¹æŸ¥è¯¢è¿›è¡Œå‰–æï¼Œå°±èƒ½çœ‹åˆ°æŸ¥è¯¢æ‰€æ‰§è¡Œçš„å­ä»»åŠ¡ã€‚é€šå¸¸æ¥è¯´ï¼ŒæŸ¥è¯¢çš„ç”Ÿå‘½å‘¨æœŸå¤§è‡´å¯ä»¥æŒ‰ç…§é¡ºåºæ¥çœ‹ï¼šä»å®¢æˆ·ç«¯ï¼Œåˆ°æœåŠ¡å™¨ï¼Œç„¶ååœ¨æœåŠ¡å™¨ä¸Šè¿›è¡Œè§£æï¼Œç”Ÿæˆæ‰§è¡Œè®¡åˆ’ï¼Œæ‰§è¡Œï¼Œå¹¶è¿”å›ç»“æœç»™å®¢æˆ·ç«¯ã€‚å…¶ä¸­â€œæ‰§è¡Œâ€å¯ä»¥è®¤ä¸ºæ˜¯æ•´ä¸ªç”Ÿå‘½å‘¨æœŸä¸­æœ€é‡è¦çš„é˜¶æ®µï¼Œè¿™å…¶ä¸­åŒ…æ‹¬äº†å¤§é‡ä¸ºäº†æ£€ç´¢æ•°æ®åˆ°å­˜å‚¨å¼•æ“çš„è°ƒç”¨ä»¥åŠè°ƒç”¨åçš„æ•°æ®å¤„ç†ï¼ŒåŒ…æ‹¬æ’åºã€åˆ†ç»„ç­‰ã€‚&lt;/p>
&lt;p>åœ¨å®Œæˆè¿™äº›ä»»åŠ¡çš„æ—¶å€™ï¼ŒæŸ¥è¯¢éœ€è¦åœ¨ä¸åŒçš„åœ°æ–¹èŠ±è´¹æ—¶é—´ï¼ŒåŒ…æ‹¬ç½‘ç»œï¼ŒCPUè®¡ç®—ï¼Œç”Ÿæˆç»Ÿè®¡ä¿¡æ¯å’Œæ‰§è¡Œè®¡åˆ’ã€é”ç­‰å¾…ï¼ˆäº’æ–¥ç­‰å¾…ï¼‰ç­‰æ“ä½œï¼Œå°¤å…¶æ˜¯å‘åº•å±‚å­˜å‚¨å¼•æ“æ£€ç´¢æ•°æ®çš„è°ƒç”¨æ“ä½œï¼Œè¿™äº›è°ƒç”¨éœ€è¦åœ¨å†…å­˜æ“ä½œã€CPUæ“ä½œå’Œå†…å­˜ä¸è¶³æ—¶å¯¼è‡´çš„I/Oæ“ä½œä¸Šæ¶ˆè€—æ—¶é—´ã€‚æ ¹æ®å­˜å‚¨å¼•æ“ä¸åŒï¼Œå¯èƒ½è¿˜ä¼šäº§ç”Ÿå¤§é‡çš„ä¸Šä¸‹æ–‡åˆ‡æ¢ä»¥åŠç³»ç»Ÿè°ƒç”¨ã€‚&lt;/p>
&lt;p>åœ¨æ¯ä¸€ä¸ªæ¶ˆè€—å¤§é‡æ—¶é—´çš„æŸ¥è¯¢æ¡ˆä¾‹ä¸­ï¼Œæˆ‘ä»¬éƒ½èƒ½çœ‹åˆ°ä¸€äº›ä¸å¿…è¦çš„é¢å¤–æ“ä½œã€æŸäº›æ“ä½œè¢«é¢å¤–åœ°é‡å¤äº†å¾ˆå¤šæ¬¡ã€æŸäº›æ“ä½œæ‰§è¡Œå¾—å¤ªæ…¢ç­‰ã€‚ä¼˜åŒ–æŸ¥è¯¢çš„ç›®çš„å°±æ˜¯å‡å°‘å’Œæ¶ˆé™¤è¿™äº›æ“ä½œæ‰€èŠ±è´¹çš„æ—¶é—´ã€‚&lt;/p>
&lt;p>å†æ¬¡ç”³æ˜ä¸€ç‚¹ï¼Œå¯¹äºä¸€ä¸ªæŸ¥è¯¢çš„å…¨éƒ¨ç”Ÿå‘½å‘¨æœŸï¼Œä¸Šé¢åˆ—çš„å¹¶ä¸å®Œæ•´ã€‚è¿™é‡Œæˆ‘ä»¬åªæ˜¯æƒ³è¯´æ˜ï¼šäº†è§£æŸ¥è¯¢çš„ç”Ÿå‘½å‘¨æœŸã€æ¸…æ¥šæŸ¥è¯¢çš„æ—¶é—´æ¶ˆè€—æƒ…å†µå¯¹äºä¼˜åŒ–æŸ¥è¯¢æœ‰å¾ˆå¤§çš„æ„ä¹‰ã€‚æœ‰äº†è¿™äº›æ¦‚å¿µï¼Œæˆ‘ä»¬å†ä¸€èµ·æ¥çœ‹çœ‹å¦‚ä½•ä¼˜åŒ–æŸ¥è¯¢ã€‚&lt;/p>
&lt;h1 id="62æ…¢æŸ¥è¯¢åŸºç¡€ä¼˜åŒ–æ•°æ®è®¿é—®">
 6.2ã€€æ…¢æŸ¥è¯¢åŸºç¡€ï¼šä¼˜åŒ–æ•°æ®è®¿é—®
 &lt;a class="anchor" href="#62%e6%85%a2%e6%9f%a5%e8%af%a2%e5%9f%ba%e7%a1%80%e4%bc%98%e5%8c%96%e6%95%b0%e6%8d%ae%e8%ae%bf%e9%97%ae">#&lt;/a>
&lt;/h1>
&lt;p>æŸ¥è¯¢æ€§èƒ½ä½ä¸‹æœ€åŸºæœ¬çš„åŸå› æ˜¯è®¿é—®çš„æ•°æ®å¤ªå¤šã€‚æŸäº›æŸ¥è¯¢å¯èƒ½ä¸å¯é¿å…åœ°éœ€è¦ç­›é€‰å¤§é‡æ•°æ®ï¼Œä½†è¿™å¹¶ä¸å¸¸è§ã€‚å¤§éƒ¨åˆ†æ€§èƒ½ä½ä¸‹çš„æŸ¥è¯¢éƒ½å¯ä»¥é€šè¿‡å‡å°‘è®¿é—®çš„æ•°æ®é‡çš„æ–¹å¼è¿›è¡Œä¼˜åŒ–ã€‚å¯¹äºä½æ•ˆçš„æŸ¥è¯¢ï¼Œæˆ‘ä»¬å‘ç°é€šè¿‡ä¸‹é¢ä¸¤ä¸ªæ­¥éª¤æ¥åˆ†ææ€»æ˜¯å¾ˆæœ‰æ•ˆï¼š&lt;/p>
&lt;ol>
&lt;li>ç¡®è®¤åº”ç”¨ç¨‹åºæ˜¯å¦åœ¨æ£€ç´¢å¤§é‡è¶…è¿‡éœ€è¦çš„æ•°æ®ã€‚è¿™é€šå¸¸æ„å‘³ç€è®¿é—®äº†å¤ªå¤šçš„è¡Œï¼Œä½†æœ‰æ—¶å€™ä¹Ÿå¯èƒ½æ˜¯è®¿é—®äº†å¤ªå¤šçš„åˆ—ã€‚&lt;/li>
&lt;li>ç¡®è®¤MySQLæœåŠ¡å™¨å±‚æ˜¯å¦åœ¨åˆ†æå¤§é‡è¶…è¿‡éœ€è¦çš„æ•°æ®è¡Œã€‚&lt;/li>
&lt;/ol>
&lt;h2 id="621æ˜¯å¦å‘æ•°æ®åº“è¯·æ±‚äº†ä¸éœ€è¦çš„æ•°æ®">
 6.2.1ã€€æ˜¯å¦å‘æ•°æ®åº“è¯·æ±‚äº†ä¸éœ€è¦çš„æ•°æ®
 &lt;a class="anchor" href="#621%e6%98%af%e5%90%a6%e5%90%91%e6%95%b0%e6%8d%ae%e5%ba%93%e8%af%b7%e6%b1%82%e4%ba%86%e4%b8%8d%e9%9c%80%e8%a6%81%e7%9a%84%e6%95%b0%e6%8d%ae">#&lt;/a>
&lt;/h2>
&lt;p>æœ‰äº›æŸ¥è¯¢ä¼šè¯·æ±‚è¶…è¿‡å®é™…éœ€è¦çš„æ•°æ®ï¼Œç„¶åè¿™äº›å¤šä½™çš„æ•°æ®ä¼šè¢«åº”ç”¨ç¨‹åºä¸¢å¼ƒã€‚è¿™ä¼šç»™MySQLæœåŠ¡å™¨å¸¦æ¥é¢å¤–çš„è´Ÿæ‹…ï¼Œå¹¶å¢åŠ ç½‘ç»œå¼€é”€(2)ï¼Œå¦å¤–ä¹Ÿä¼šæ¶ˆè€—åº”ç”¨æœåŠ¡å™¨çš„CPUå’Œå†…å­˜èµ„æºã€‚&lt;/p>
&lt;p>è¿™é‡Œæœ‰ä¸€äº›å…¸å‹æ¡ˆä¾‹ï¼š&lt;/p>
&lt;p>æŸ¥è¯¢ä¸éœ€è¦çš„è®°å½•&lt;/p>
&lt;p>ä¸€ä¸ªå¸¸è§çš„é”™è¯¯æ˜¯å¸¸å¸¸ä¼šè¯¯ä»¥ä¸ºMySQLä¼šåªè¿”å›éœ€è¦çš„æ•°æ®ï¼Œå®é™…ä¸ŠMySQLå´æ˜¯å…ˆè¿”å›å…¨éƒ¨ç»“æœé›†å†è¿›è¡Œè®¡ç®—ã€‚æˆ‘ä»¬ç»å¸¸ä¼šçœ‹åˆ°ä¸€äº›äº†è§£å…¶ä»–æ•°æ®åº“ç³»ç»Ÿçš„äººä¼šè®¾è®¡å‡ºè¿™ç±»åº”ç”¨ç¨‹åºã€‚è¿™äº›å¼€å‘è€…ä¹ æƒ¯ä½¿ç”¨è¿™æ ·çš„æŠ€æœ¯ï¼Œå…ˆä½¿ç”¨SELECTè¯­å¥æŸ¥è¯¢å¤§é‡çš„ç»“æœï¼Œç„¶åè·å–å‰é¢çš„Nè¡Œåå…³é—­ç»“æœé›†ï¼ˆä¾‹å¦‚åœ¨æ–°é—»ç½‘ç«™ä¸­å–å‡º100æ¡è®°å½•ï¼Œä½†æ˜¯åªæ˜¯åœ¨é¡µé¢ä¸Šæ˜¾ç¤ºå‰é¢10æ¡ï¼‰ã€‚ä»–ä»¬è®¤ä¸ºMySQLä¼šæ‰§è¡ŒæŸ¥è¯¢ï¼Œå¹¶åªè¿”å›ä»–ä»¬éœ€è¦çš„10æ¡æ•°æ®ï¼Œç„¶ååœæ­¢æŸ¥è¯¢ã€‚å®é™…æƒ…å†µæ˜¯MySQLä¼šæŸ¥è¯¢å‡ºå…¨éƒ¨çš„ç»“æœé›†ï¼Œå®¢æˆ·ç«¯çš„åº”ç”¨ç¨‹åºä¼šæ¥æ”¶å…¨éƒ¨çš„ç»“æœé›†æ•°æ®ï¼Œç„¶åæŠ›å¼ƒå…¶ä¸­å¤§éƒ¨åˆ†æ•°æ®ã€‚æœ€ç®€å•æœ‰æ•ˆçš„è§£å†³æ–¹æ³•å°±æ˜¯åœ¨è¿™æ ·çš„æŸ¥è¯¢åé¢åŠ ä¸ŠLIMITã€‚&lt;/p>
&lt;p>å¤šè¡¨å…³è”æ—¶è¿”å›å…¨éƒ¨åˆ—&lt;/p>
&lt;p>å¦‚æœä½ æƒ³æŸ¥è¯¢æ‰€æœ‰åœ¨ç”µå½±&lt;em>Academy Dinosaur&lt;/em>ä¸­å‡ºç°çš„æ¼”å‘˜ï¼Œåƒä¸‡ä¸è¦æŒ‰ä¸‹é¢çš„å†™æ³•ç¼–å†™æŸ¥è¯¢ï¼š&lt;/p>
&lt;pre>&lt;code> mysql&amp;gt; ** SELECT * FROM sakila.actor** 
 -&amp;gt; ** INNER JOIN sakila.film_actor USING(actor_id)** 
 -&amp;gt; ** INNER JOIN sakila.film USING(film_id)** 
 -&amp;gt; ** WHERE sakila.film.title = 'Academy Dinosaur';** 
&lt;/code>&lt;/pre>
&lt;p>è¿™å°†è¿”å›è¿™ä¸‰ä¸ªè¡¨çš„å…¨éƒ¨æ•°æ®åˆ—ã€‚æ­£ç¡®çš„æ–¹å¼åº”è¯¥æ˜¯åƒä¸‹é¢è¿™æ ·åªå–éœ€è¦çš„åˆ—ï¼š&lt;/p>
&lt;pre>&lt;code> mysql&amp;gt; ** SELECT sakila.actor.* FROM sakila.actor...;** 
&lt;/code>&lt;/pre>
&lt;p>æ€»æ˜¯å–å‡ºå…¨éƒ¨åˆ—&lt;/p></description></item><item><title>ç¬¬5ç« åˆ›å»ºé«˜æ€§èƒ½çš„ç´¢å¼•</title><link>https://lwmfjc.github.io/zh/docs/technology/MySQL/_%E9%AB%98%E6%80%A7%E8%83%BDMySQL_/%E7%AC%AC5%E7%AB%A0%E5%88%9B%E5%BB%BA%E9%AB%98%E6%80%A7%E8%83%BD%E7%9A%84%E7%B4%A2%E5%BC%95/</link><pubDate>Sun, 05 Jan 2025 08:42:15 +0800</pubDate><guid>https://lwmfjc.github.io/zh/docs/technology/MySQL/_%E9%AB%98%E6%80%A7%E8%83%BDMySQL_/%E7%AC%AC5%E7%AB%A0%E5%88%9B%E5%BB%BA%E9%AB%98%E6%80%A7%E8%83%BD%E7%9A%84%E7%B4%A2%E5%BC%95/</guid><description>&lt;p>ç¬¬5ç« ã€€åˆ›å»ºé«˜æ€§èƒ½çš„ç´¢å¼•&lt;/p>
&lt;p>ç´¢å¼•ï¼ˆåœ¨MySQLä¸­ä¹Ÿå«åšâ€œé”®ï¼ˆkeyï¼‰â€ï¼‰æ˜¯å­˜å‚¨å¼•æ“ç”¨äºå¿«é€Ÿæ‰¾åˆ°è®°å½•çš„ä¸€ç§æ•°æ®ç»“æ„ã€‚è¿™æ˜¯ç´¢å¼•çš„åŸºæœ¬åŠŸèƒ½ï¼Œé™¤æ­¤ä¹‹å¤–ï¼Œæœ¬ç« è¿˜å°†è®¨è®ºç´¢å¼•å…¶ä»–ä¸€äº›æ–¹é¢æœ‰ç”¨çš„å±æ€§ã€‚&lt;/p>
&lt;p>ç´¢å¼•å¯¹äºè‰¯å¥½çš„æ€§èƒ½éå¸¸å…³é”®ã€‚å°¤å…¶æ˜¯å½“è¡¨ä¸­çš„æ•°æ®é‡è¶Šæ¥è¶Šå¤§æ—¶ï¼Œç´¢å¼•å¯¹æ€§èƒ½çš„å½±å“æ„ˆå‘é‡è¦ã€‚åœ¨æ•°æ®é‡è¾ƒå°ä¸”è´Ÿè½½è¾ƒä½æ—¶ï¼Œä¸æ°å½“çš„ç´¢å¼•å¯¹æ€§èƒ½çš„å½±å“å¯èƒ½è¿˜ä¸æ˜æ˜¾ï¼Œä½†å½“æ•°æ®é‡é€æ¸å¢å¤§æ—¶ï¼Œæ€§èƒ½åˆ™ä¼šæ€¥å‰§ä¸‹é™(1)ã€‚&lt;/p>
&lt;p>ä¸è¿‡ï¼Œç´¢å¼•å´ç»å¸¸è¢«å¿½ç•¥ï¼Œæœ‰æ—¶å€™ç”šè‡³è¢«è¯¯è§£ï¼Œæ‰€ä»¥åœ¨å®é™…æ¡ˆä¾‹ä¸­ç»å¸¸ä¼šé‡åˆ°ç”±ç³Ÿç³•ç´¢å¼•å¯¼è‡´çš„é—®é¢˜ã€‚è¿™ä¹Ÿæ˜¯æˆ‘ä»¬æŠŠç´¢å¼•ä¼˜åŒ–æ”¾åœ¨äº†é å‰çš„ç« èŠ‚ï¼Œç”šè‡³æ¯”æŸ¥è¯¢ä¼˜åŒ–è¿˜é å‰çš„åŸå› ã€‚&lt;/p>
&lt;p>ç´¢å¼•ä¼˜åŒ–åº”è¯¥æ˜¯å¯¹æŸ¥è¯¢æ€§èƒ½ä¼˜åŒ–æœ€æœ‰æ•ˆçš„æ‰‹æ®µäº†ã€‚ç´¢å¼•èƒ½å¤Ÿè½»æ˜“å°†æŸ¥è¯¢æ€§èƒ½æé«˜å‡ ä¸ªæ•°é‡çº§ï¼Œâ€œæœ€ä¼˜â€çš„ç´¢å¼•æœ‰æ—¶æ¯”ä¸€ä¸ªâ€œå¥½çš„â€ç´¢å¼•æ€§èƒ½è¦å¥½ä¸¤ä¸ªæ•°é‡çº§ã€‚åˆ›å»ºä¸€ä¸ªçœŸæ­£â€œæœ€ä¼˜â€çš„ç´¢å¼•ç»å¸¸éœ€è¦é‡å†™æŸ¥è¯¢ï¼Œæ‰€ä»¥ï¼Œæœ¬ç« å’Œä¸‹ä¸€ç« çš„å…³ç³»éå¸¸ç´§å¯†ã€‚&lt;/p>
&lt;h1 id="51ç´¢å¼•åŸºç¡€">
 5.1ã€€ç´¢å¼•åŸºç¡€
 &lt;a class="anchor" href="#51%e7%b4%a2%e5%bc%95%e5%9f%ba%e7%a1%80">#&lt;/a>
&lt;/h1>
&lt;p>è¦ç†è§£MySQLä¸­ç´¢å¼•æ˜¯å¦‚ä½•å·¥ä½œçš„ï¼Œæœ€ç®€å•çš„æ–¹æ³•å°±æ˜¯å»çœ‹çœ‹ä¸€æœ¬ä¹¦çš„â€œç´¢å¼•â€éƒ¨åˆ†ï¼šå¦‚æœæƒ³åœ¨ä¸€æœ¬ä¹¦ä¸­æ‰¾åˆ°æŸä¸ªç‰¹å®šä¸»é¢˜ï¼Œä¸€èˆ¬ä¼šå…ˆçœ‹ä¹¦çš„â€œç´¢å¼•â€ï¼Œæ‰¾åˆ°å¯¹åº”çš„é¡µç ã€‚&lt;/p>
&lt;p>åœ¨MySQLä¸­ï¼Œå­˜å‚¨å¼•æ“ç”¨ç±»ä¼¼çš„æ–¹æ³•ä½¿ç”¨ç´¢å¼•ï¼Œå…¶å…ˆåœ¨ç´¢å¼•ä¸­æ‰¾åˆ°å¯¹åº”å€¼ï¼Œç„¶åæ ¹æ®åŒ¹é…çš„ç´¢å¼•è®°å½•æ‰¾åˆ°å¯¹åº”çš„æ•°æ®è¡Œã€‚å‡å¦‚è¦è¿è¡Œä¸‹é¢çš„æŸ¥è¯¢ï¼š&lt;/p>
&lt;pre>&lt;code> mysql&amp;gt; ** SELECT first_name FROM sakila.actor WHERE actor_id=5;** 
&lt;/code>&lt;/pre>
&lt;p>å¦‚æœåœ¨actor_idåˆ—ä¸Šå»ºæœ‰ç´¢å¼•ï¼Œåˆ™MySQLå°†ä½¿ç”¨è¯¥ç´¢å¼•æ‰¾åˆ°actor_idä¸º5çš„è¡Œï¼Œä¹Ÿå°±æ˜¯è¯´ï¼ŒMySQLå…ˆåœ¨ç´¢å¼•ä¸ŠæŒ‰å€¼è¿›è¡ŒæŸ¥æ‰¾ï¼Œç„¶åè¿”å›æ‰€æœ‰åŒ…å«è¯¥å€¼çš„æ•°æ®è¡Œã€‚&lt;/p>
&lt;p>ç´¢å¼•å¯ä»¥åŒ…å«ä¸€ä¸ªæˆ–å¤šä¸ªåˆ—çš„å€¼ã€‚å¦‚æœç´¢å¼•åŒ…å«å¤šä¸ªåˆ—ï¼Œé‚£ä¹ˆåˆ—çš„é¡ºåºä¹Ÿååˆ†é‡è¦ï¼Œå› ä¸ºMySQLåªèƒ½é«˜æ•ˆåœ°ä½¿ç”¨ç´¢å¼•çš„æœ€å·¦å‰ç¼€åˆ—ã€‚åˆ›å»ºä¸€ä¸ªåŒ…å«ä¸¤ä¸ªåˆ—çš„ç´¢å¼•ï¼Œå’Œåˆ›å»ºä¸¤ä¸ªåªåŒ…å«ä¸€åˆ—çš„ç´¢å¼•æ˜¯å¤§ä¸ç›¸åŒçš„ï¼Œä¸‹é¢å°†è¯¦ç»†ä»‹ç»ã€‚&lt;/p>
&lt;p>&lt;strong>å¦‚æœä½¿ç”¨çš„æ˜¯ORMï¼Œæ˜¯å¦è¿˜éœ€è¦å…³å¿ƒç´¢å¼•ï¼Ÿ&lt;/strong>&lt;/p>
&lt;p>ç®€è€Œè¨€ä¹‹ï¼šæ˜¯çš„ï¼Œä»ç„¶éœ€è¦ç†è§£ç´¢å¼•ï¼Œå³ä½¿æ˜¯ä½¿ç”¨å¯¹è±¡å…³ç³»æ˜ å°„ï¼ˆORMï¼‰å·¥å…·ã€‚&lt;/p>
&lt;p>ORMå·¥å…·èƒ½å¤Ÿç”Ÿäº§ç¬¦åˆé€»è¾‘çš„ã€åˆæ³•çš„æŸ¥è¯¢ï¼ˆå¤šæ•°æ—¶å€™ï¼‰ï¼Œé™¤éåªæ˜¯ç”Ÿæˆéå¸¸åŸºæœ¬çš„æŸ¥è¯¢ï¼ˆä¾‹å¦‚ä»…æ˜¯æ ¹æ®ä¸»é”®æŸ¥è¯¢ï¼‰ï¼Œå¦åˆ™å®ƒå¾ˆéš¾ç”Ÿæˆé€‚åˆç´¢å¼•çš„æŸ¥è¯¢ã€‚æ— è®ºæ˜¯å¤šä¹ˆå¤æ‚çš„ORMå·¥å…·ï¼Œåœ¨ç²¾å¦™å’Œå¤æ‚çš„ç´¢å¼•é¢å‰éƒ½æ˜¯â€œæµ®äº‘â€ã€‚è¯»å®Œæœ¬ç« åé¢çš„å†…å®¹ä»¥åï¼Œä½ å°±ä¼šåŒæ„è¿™ä¸ªè§‚ç‚¹çš„!å¾ˆå¤šæ—¶å€™ï¼Œå³ä½¿æ˜¯æŸ¥è¯¢ä¼˜åŒ–æŠ€æœ¯ä¸“å®¶ä¹Ÿå¾ˆéš¾å…¼é¡¾åˆ°å„ç§æƒ…å†µï¼Œæ›´åˆ«è¯´ORMäº†ã€‚&lt;/p>
&lt;h2 id="511ç´¢å¼•çš„ç±»å‹">
 5.1.1ã€€ç´¢å¼•çš„ç±»å‹
 &lt;a class="anchor" href="#511%e7%b4%a2%e5%bc%95%e7%9a%84%e7%b1%bb%e5%9e%8b">#&lt;/a>
&lt;/h2>
&lt;p>ç´¢å¼•æœ‰å¾ˆå¤šç§ç±»å‹ï¼Œå¯ä»¥ä¸ºä¸åŒçš„åœºæ™¯æä¾›æ›´å¥½çš„æ€§èƒ½ã€‚åœ¨MySQLä¸­ï¼Œç´¢å¼•æ˜¯åœ¨å­˜å‚¨å¼•æ“å±‚è€Œä¸æ˜¯æœåŠ¡å™¨å±‚å®ç°çš„ã€‚æ‰€ä»¥ï¼Œå¹¶æ²¡æœ‰ç»Ÿä¸€çš„ç´¢å¼•æ ‡å‡†ï¼šä¸åŒå­˜å‚¨å¼•æ“çš„ç´¢å¼•çš„å·¥ä½œæ–¹å¼å¹¶ä¸ä¸€æ ·ï¼Œä¹Ÿä¸æ˜¯æ‰€æœ‰çš„å­˜å‚¨å¼•æ“éƒ½æ”¯æŒæ‰€æœ‰ç±»å‹çš„ç´¢å¼•ã€‚å³ä½¿å¤šä¸ªå­˜å‚¨å¼•æ“æ”¯æŒåŒä¸€ç§ç±»å‹çš„ç´¢å¼•ï¼Œå…¶åº•å±‚çš„å®ç°ä¹Ÿå¯èƒ½ä¸åŒã€‚&lt;/p>
&lt;p>ä¸‹é¢æˆ‘ä»¬å…ˆæ¥çœ‹çœ‹MySQLæ”¯æŒçš„ç´¢å¼•ç±»å‹ï¼Œä»¥åŠå®ƒä»¬çš„ä¼˜ç‚¹å’Œç¼ºç‚¹ã€‚&lt;/p>
&lt;h3 id="b-treeç´¢å¼•">
 B-Treeç´¢å¼•
 &lt;a class="anchor" href="#b-tree%e7%b4%a2%e5%bc%95">#&lt;/a>
&lt;/h3>
&lt;p>å½“äººä»¬è°ˆè®ºç´¢å¼•çš„æ—¶å€™ï¼Œå¦‚æœæ²¡æœ‰ç‰¹åˆ«æŒ‡æ˜ç±»å‹ï¼Œé‚£å¤šåŠè¯´çš„æ˜¯B-Treeç´¢å¼•ï¼Œå®ƒä½¿ç”¨B-Treeæ•°æ®ç»“æ„æ¥å­˜å‚¨æ•°æ®(2)ã€‚å¤§å¤šæ•°MySQLå¼•æ“éƒ½æ”¯æŒè¿™ç§ç´¢å¼•ã€‚Archiveå¼•æ“æ˜¯ä¸€ä¸ªä¾‹å¤–ï¼š5.1ä¹‹å‰Archiveä¸æ”¯æŒä»»ä½•ç´¢å¼•ï¼Œç›´åˆ°5.1æ‰å¼€å§‹æ”¯æŒå•ä¸ªè‡ªå¢åˆ—ï¼ˆAUTO_INCREMENTï¼‰çš„ç´¢å¼•ã€‚&lt;/p>
&lt;p>æˆ‘ä»¬ä½¿ç”¨æœ¯è¯­â€œB-Treeâ€ï¼Œæ˜¯å› ä¸ºMySQLåœ¨CREATE TABLEå’Œå…¶ä»–è¯­å¥ä¸­ä¹Ÿä½¿ç”¨è¯¥å…³é”®å­—ã€‚ä¸è¿‡ï¼Œåº•å±‚çš„å­˜å‚¨å¼•æ“ä¹Ÿå¯èƒ½ä½¿ç”¨ä¸åŒçš„å­˜å‚¨ç»“æ„ï¼Œä¾‹å¦‚ï¼ŒNDBé›†ç¾¤å­˜å‚¨å¼•æ“å†…éƒ¨å®é™…ä¸Šä½¿ç”¨äº†T-Treeç»“æ„å­˜å‚¨è¿™ç§ç´¢å¼•ï¼Œå³ä½¿å…¶åå­—æ˜¯BTREEï¼›InnoDBåˆ™ä½¿ç”¨çš„æ˜¯B+Treeï¼Œå„ç§æ•°æ®ç»“æ„å’Œç®—æ³•çš„å˜ç§ä¸åœ¨æœ¬ä¹¦çš„è®¨è®ºèŒƒå›´ä¹‹å†…ã€‚&lt;/p>
&lt;p>å­˜å‚¨å¼•æ“ä»¥ä¸åŒçš„æ–¹å¼ä½¿ç”¨B-Treeç´¢å¼•ï¼Œæ€§èƒ½ä¹Ÿå„æœ‰ä¸åŒï¼Œå„æœ‰ä¼˜åŠ£ã€‚ä¾‹å¦‚ï¼ŒMyISAMä½¿ç”¨å‰ç¼€å‹ç¼©æŠ€æœ¯ä½¿å¾—ç´¢å¼•æ›´å°ï¼Œä½†InnoDBåˆ™æŒ‰ç…§åŸæ•°æ®æ ¼å¼è¿›è¡Œå­˜å‚¨ã€‚å†å¦‚MyISAMç´¢å¼•é€šè¿‡æ•°æ®çš„ç‰©ç†ä½ç½®å¼•ç”¨è¢«ç´¢å¼•çš„è¡Œï¼Œè€ŒInnoDBåˆ™æ ¹æ®ä¸»é”®å¼•ç”¨è¢«ç´¢å¼•çš„è¡Œã€‚&lt;/p>
&lt;p>B-Treeé€šå¸¸æ„å‘³ç€æ‰€æœ‰çš„å€¼éƒ½æ˜¯æŒ‰é¡ºåºå­˜å‚¨çš„ï¼Œå¹¶ä¸”æ¯ä¸€ä¸ªå¶å­é¡µåˆ°æ ¹çš„è·ç¦»ç›¸åŒã€‚å›¾5-1å±•ç¤ºäº†B-Treeç´¢å¼•çš„æŠ½è±¡è¡¨ç¤ºï¼Œå¤§è‡´åæ˜ äº†InnoDBç´¢å¼•æ˜¯å¦‚ä½•å·¥ä½œçš„ã€‚MyISAMä½¿ç”¨çš„ç»“æ„æœ‰æ‰€ä¸åŒï¼Œä½†åŸºæœ¬æ€æƒ³æ˜¯ç±»ä¼¼çš„ã€‚&lt;/p>
&lt;p>&lt;img src="img/000001.jpeg" alt="" />
&lt;strong>å›¾5-1ï¼šå»ºç«‹åœ¨B-Treeç»“æ„ï¼ˆä»æŠ€æœ¯ä¸Šæ¥è¯´æ˜¯B+Treeï¼‰ä¸Šçš„ç´¢å¼•&lt;/strong>&lt;/p>
&lt;p>B-Treeç´¢å¼•èƒ½å¤ŸåŠ å¿«è®¿é—®æ•°æ®çš„é€Ÿåº¦ï¼Œå› ä¸ºå­˜å‚¨å¼•æ“ä¸å†éœ€è¦è¿›è¡Œå…¨è¡¨æ‰«ææ¥è·å–éœ€è¦çš„æ•°æ®ï¼Œå–è€Œä»£ä¹‹çš„æ˜¯ä»ç´¢å¼•çš„æ ¹èŠ‚ç‚¹ï¼ˆå›¾ç¤ºå¹¶æœªç”»å‡ºï¼‰å¼€å§‹è¿›è¡Œæœç´¢ã€‚æ ¹èŠ‚ç‚¹çš„æ§½ä¸­å­˜æ”¾äº†æŒ‡å‘å­èŠ‚ç‚¹çš„æŒ‡é’ˆï¼Œå­˜å‚¨å¼•æ“æ ¹æ®è¿™äº›æŒ‡é’ˆå‘ä¸‹å±‚æŸ¥æ‰¾ã€‚é€šè¿‡æ¯”è¾ƒèŠ‚ç‚¹é¡µçš„å€¼å’Œè¦æŸ¥æ‰¾çš„å€¼å¯ä»¥æ‰¾åˆ°åˆé€‚çš„æŒ‡é’ˆè¿›å…¥ä¸‹å±‚å­èŠ‚ç‚¹ï¼Œè¿™äº›æŒ‡é’ˆå®é™…ä¸Šå®šä¹‰äº†å­èŠ‚ç‚¹é¡µä¸­å€¼çš„ä¸Šé™å’Œä¸‹é™ã€‚æœ€ç»ˆå­˜å‚¨å¼•æ“è¦ä¹ˆæ˜¯æ‰¾åˆ°å¯¹åº”çš„å€¼ï¼Œè¦ä¹ˆè¯¥è®°å½•ä¸å­˜åœ¨ã€‚&lt;/p>
&lt;p>å¶å­èŠ‚ç‚¹æ¯”è¾ƒç‰¹åˆ«ï¼Œå®ƒä»¬çš„æŒ‡é’ˆæŒ‡å‘çš„æ˜¯è¢«ç´¢å¼•çš„æ•°æ®ï¼Œè€Œä¸æ˜¯å…¶ä»–çš„èŠ‚ç‚¹é¡µï¼ˆä¸åŒå¼•æ“çš„â€œæŒ‡é’ˆâ€ç±»å‹ä¸åŒï¼‰ã€‚å›¾5-1ä¸­ä»…ç»˜åˆ¶äº†ä¸€ä¸ªèŠ‚ç‚¹å’Œå…¶å¯¹åº”çš„å¶å­èŠ‚ç‚¹ï¼Œå…¶å®åœ¨æ ¹èŠ‚ç‚¹å’Œå¶å­èŠ‚ç‚¹ä¹‹é—´å¯èƒ½æœ‰å¾ˆå¤šå±‚èŠ‚ç‚¹é¡µã€‚æ ‘çš„æ·±åº¦å’Œè¡¨çš„å¤§å°ç›´æ¥ç›¸å…³ã€‚&lt;/p>
&lt;p>B-Treeå¯¹ç´¢å¼•åˆ—æ˜¯é¡ºåºç»„ç»‡å­˜å‚¨çš„ï¼Œæ‰€ä»¥å¾ˆé€‚åˆæŸ¥æ‰¾èŒƒå›´æ•°æ®ã€‚ä¾‹å¦‚ï¼Œåœ¨ä¸€ä¸ªåŸºäºæ–‡æœ¬åŸŸçš„ç´¢å¼•æ ‘ä¸Šï¼ŒæŒ‰å­—æ¯é¡ºåºä¼ é€’è¿ç»­çš„å€¼è¿›è¡ŒæŸ¥æ‰¾æ˜¯éå¸¸åˆé€‚çš„ï¼Œæ‰€ä»¥åƒâ€œæ‰¾å‡ºæ‰€æœ‰ä»¥Iåˆ°Kå¼€å¤´çš„åå­—â€è¿™æ ·çš„æŸ¥æ‰¾æ•ˆç‡ä¼šéå¸¸é«˜ã€‚&lt;/p>
&lt;p>å‡è®¾æœ‰å¦‚ä¸‹æ•°æ®è¡¨ï¼š&lt;/p>
&lt;pre>&lt;code> CREATE TABLE People (
 last_name varchar(50) not null,
 first_name varchar(50) not null,
 dob date not null,
 gender enum('m', 'f') not null,
 key(last_name, first_name, dob)
 );
&lt;/code>&lt;/pre>
&lt;p>å¯¹äºè¡¨ä¸­çš„æ¯ä¸€è¡Œæ•°æ®ï¼Œç´¢å¼•ä¸­åŒ…å«äº†last_nameã€frst_nameå’Œdobåˆ—çš„å€¼ï¼Œå›¾5-2æ˜¾ç¤ºäº†è¯¥ç´¢å¼•æ˜¯å¦‚ä½•ç»„ç»‡æ•°æ®çš„å­˜å‚¨çš„ã€‚&lt;/p></description></item><item><title>ç¬¬4ç« Schemaä¸æ•°æ®ç±»å‹ä¼˜åŒ–</title><link>https://lwmfjc.github.io/zh/docs/technology/MySQL/_%E9%AB%98%E6%80%A7%E8%83%BDMySQL_/%E7%AC%AC4%E7%AB%A0Schema%E4%B8%8E%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B%E4%BC%98%E5%8C%96/</link><pubDate>Sun, 05 Jan 2025 08:42:14 +0800</pubDate><guid>https://lwmfjc.github.io/zh/docs/technology/MySQL/_%E9%AB%98%E6%80%A7%E8%83%BDMySQL_/%E7%AC%AC4%E7%AB%A0Schema%E4%B8%8E%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B%E4%BC%98%E5%8C%96/</guid><description>&lt;p>ç¬¬4ç« ã€€Schemaä¸æ•°æ®ç±»å‹ä¼˜åŒ–&lt;/p>
&lt;p>è‰¯å¥½çš„é€»è¾‘è®¾è®¡å’Œç‰©ç†è®¾è®¡æ˜¯é«˜æ€§èƒ½çš„åŸºçŸ³ï¼Œåº”è¯¥æ ¹æ®ç³»ç»Ÿå°†è¦æ‰§è¡Œçš„æŸ¥è¯¢è¯­å¥æ¥è®¾è®¡schemaï¼Œè¿™å¾€å¾€éœ€è¦æƒè¡¡å„ç§å› ç´ ã€‚ä¾‹å¦‚ï¼ŒåèŒƒå¼çš„è®¾è®¡å¯ä»¥åŠ å¿«æŸäº›ç±»å‹çš„æŸ¥è¯¢ï¼Œä½†åŒæ—¶å¯èƒ½ä½¿å¦ä¸€äº›ç±»å‹çš„æŸ¥è¯¢å˜æ…¢ã€‚æ¯”å¦‚æ·»åŠ è®¡æ•°è¡¨å’Œæ±‡æ€»è¡¨æ˜¯ä¸€ç§å¾ˆå¥½çš„ä¼˜åŒ–æŸ¥è¯¢çš„æ–¹å¼ï¼Œä½†è¿™äº›è¡¨çš„ç»´æŠ¤æˆæœ¬å¯èƒ½ä¼šå¾ˆé«˜ã€‚MySQLç‹¬æœ‰çš„ç‰¹æ€§å’Œå®ç°ç»†èŠ‚å¯¹æ€§èƒ½çš„å½±å“ä¹Ÿå¾ˆå¤§ã€‚&lt;/p>
&lt;p>æœ¬ç« å’Œèšç„¦åœ¨ç´¢å¼•ä¼˜åŒ–çš„ä¸‹ä¸€ç« ï¼Œè¦†ç›–äº†MySQLç‰¹æœ‰çš„schemaè®¾è®¡æ–¹é¢çš„ä¸»é¢˜ã€‚æˆ‘ä»¬å‡è®¾è¯»è€…å·²ç»çŸ¥é“å¦‚ä½•è®¾è®¡æ•°æ®åº“ï¼Œæ‰€ä»¥æœ¬ç« æ—¢ä¸ä¼šä»‹ç»å¦‚ä½•å…¥é—¨æ•°æ®åº“è®¾è®¡ï¼Œä¹Ÿä¸ä¼šè®²è§£æ•°æ®åº“è®¾è®¡æ–¹é¢çš„æ·±å…¥å†…å®¹ã€‚è¿™ä¸€ç« å…³æ³¨çš„æ˜¯MySQLæ•°æ®åº“çš„è®¾è®¡ï¼Œä¸»è¦ä»‹ç»çš„æ˜¯MySQLæ•°æ®åº“è®¾è®¡ä¸å…¶ä»–å…³ç³»å‹æ•°æ®åº“ç®¡ç†ç³»ç»Ÿçš„åŒºåˆ«ã€‚å¦‚æœéœ€è¦å­¦ä¹ æ•°æ®åº“è®¾è®¡æ–¹é¢çš„åŸºç¡€çŸ¥è¯†ï¼Œå»ºè®®é˜…è¯»Clare Churcherçš„&lt;em>Beginning Database Design&lt;/em>ï¼ˆApresså‡ºç‰ˆç¤¾ï¼‰ä¸€ä¹¦ã€‚&lt;/p>
&lt;p>æœ¬ç« å†…å®¹æ˜¯ä¸ºæ¥ä¸‹æ¥çš„ä¸¤ä¸ªç« èŠ‚åšé“ºå«ã€‚åœ¨è¿™ä¸‰ç« ä¸­ï¼Œæˆ‘ä»¬å°†è®¨è®ºé€»è¾‘è®¾è®¡ã€ç‰©ç†è®¾è®¡å’ŒæŸ¥è¯¢æ‰§è¡Œï¼Œä»¥åŠå®ƒä»¬ä¹‹é—´çš„ç›¸äº’ä½œç”¨ã€‚è¿™æ—¢éœ€è¦å…³æ³¨å…¨å±€ï¼Œä¹Ÿéœ€è¦ä¸“æ³¨ç»†èŠ‚ã€‚è¿˜éœ€è¦ç†è§£æ•´ä¸ªç³»ç»Ÿä»¥ä¾¿å¼„æ¸…æ¥šå„ä¸ªéƒ¨åˆ†å¦‚ä½•ç›¸äº’å½±å“ã€‚å¦‚æœåœ¨é˜…è¯»å®Œç´¢å¼•å’ŒæŸ¥è¯¢ä¼˜åŒ–ç« èŠ‚åå†å›å¤´æ¥çœ‹è¿™ä¸€ç« ï¼Œä¹Ÿè®¸ä¼šå‘ç°æœ¬ç« å¾ˆæœ‰ç”¨ï¼Œå¾ˆå¤šè®¨è®ºçš„è®®é¢˜ä¸èƒ½å­¤ç«‹åœ°è€ƒè™‘ã€‚&lt;/p>
&lt;h1 id="41é€‰æ‹©ä¼˜åŒ–çš„æ•°æ®ç±»å‹">
 4.1ã€€é€‰æ‹©ä¼˜åŒ–çš„æ•°æ®ç±»å‹
 &lt;a class="anchor" href="#41%e9%80%89%e6%8b%a9%e4%bc%98%e5%8c%96%e7%9a%84%e6%95%b0%e6%8d%ae%e7%b1%bb%e5%9e%8b">#&lt;/a>
&lt;/h1>
&lt;p>MySQLæ”¯æŒçš„æ•°æ®ç±»å‹éå¸¸å¤šï¼Œé€‰æ‹©æ­£ç¡®çš„æ•°æ®ç±»å‹å¯¹äºè·å¾—é«˜æ€§èƒ½è‡³å…³é‡è¦ã€‚ä¸ç®¡å­˜å‚¨å“ªç§ç±»å‹çš„æ•°æ®ï¼Œä¸‹é¢å‡ ä¸ªç®€å•çš„åŸåˆ™éƒ½æœ‰åŠ©äºåšå‡ºæ›´å¥½çš„é€‰æ‹©ã€‚&lt;/p>
&lt;p>æ›´å°çš„é€šå¸¸æ›´å¥½ã€‚&lt;/p>
&lt;p>ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œåº”è¯¥å°½é‡ä½¿ç”¨å¯ä»¥æ­£ç¡®å­˜å‚¨æ•°æ®çš„æœ€å°æ•°æ®ç±»å‹(1)ã€‚æ›´å°çš„æ•°æ®ç±»å‹é€šå¸¸æ›´å¿«ï¼Œå› ä¸ºå®ƒä»¬å ç”¨æ›´å°‘çš„ç£ç›˜ã€å†…å­˜å’ŒCPUç¼“å­˜ï¼Œå¹¶ä¸”å¤„ç†æ—¶éœ€è¦çš„CPUå‘¨æœŸä¹Ÿæ›´å°‘ã€‚&lt;/p>
&lt;p>ä½†æ˜¯è¦ç¡®ä¿æ²¡æœ‰ä½ä¼°éœ€è¦å­˜å‚¨çš„å€¼çš„èŒƒå›´ï¼Œå› ä¸ºåœ¨schemaä¸­çš„å¤šä¸ªåœ°æ–¹å¢åŠ æ•°æ®ç±»å‹çš„èŒƒå›´æ˜¯ä¸€ä¸ªéå¸¸è€—æ—¶å’Œç—›è‹¦çš„æ“ä½œã€‚å¦‚æœæ— æ³•ç¡®å®šå“ªä¸ªæ•°æ®ç±»å‹æ˜¯æœ€å¥½çš„ï¼Œå°±é€‰æ‹©ä½ è®¤ä¸ºä¸ä¼šè¶…è¿‡èŒƒå›´çš„æœ€å°ç±»å‹ã€‚ï¼ˆå¦‚æœç³»ç»Ÿä¸æ˜¯å¾ˆå¿™æˆ–è€…å­˜å‚¨çš„æ•°æ®é‡ä¸å¤šï¼Œæˆ–è€…æ˜¯åœ¨å¯ä»¥è½»æ˜“ä¿®æ”¹è®¾è®¡çš„æ—©æœŸé˜¶æ®µï¼Œé‚£ä¹‹åä¿®æ”¹æ•°æ®ç±»å‹ä¹Ÿæ¯”è¾ƒå®¹æ˜“ï¼‰ã€‚&lt;/p>
&lt;p>ç®€å•å°±å¥½&lt;/p>
&lt;p>ç®€å•æ•°æ®ç±»å‹çš„æ“ä½œé€šå¸¸éœ€è¦æ›´å°‘çš„CPUå‘¨æœŸã€‚ä¾‹å¦‚ï¼Œæ•´å‹æ¯”å­—ç¬¦æ“ä½œä»£ä»·æ›´ä½ï¼Œå› ä¸ºå­—ç¬¦é›†å’Œæ ¡å¯¹è§„åˆ™ï¼ˆæ’åºè§„åˆ™ï¼‰ä½¿å­—ç¬¦æ¯”è¾ƒæ¯”æ•´å‹æ¯”è¾ƒæ›´å¤æ‚ã€‚è¿™é‡Œæœ‰ä¸¤ä¸ªä¾‹å­ï¼šä¸€ä¸ªæ˜¯åº”è¯¥ä½¿ç”¨MySQLå†…å»ºçš„ç±»å‹(2)è€Œä¸æ˜¯å­—ç¬¦ä¸²æ¥å­˜å‚¨æ—¥æœŸå’Œæ—¶é—´ï¼Œå¦å¤–ä¸€ä¸ªæ˜¯åº”è¯¥ç”¨æ•´å‹å­˜å‚¨IPåœ°å€ã€‚ç¨åæˆ‘ä»¬å°†ä¸“é—¨è®¨è®ºè¿™ä¸ªè¯é¢˜ã€‚&lt;/p>
&lt;p>å°½é‡é¿å…NULL&lt;/p>
&lt;p>å¾ˆå¤šè¡¨éƒ½åŒ…å«å¯ä¸ºNULLï¼ˆç©ºå€¼ï¼‰çš„åˆ—ï¼Œå³ä½¿åº”ç”¨ç¨‹åºå¹¶ä¸éœ€è¦ä¿å­˜NULLä¹Ÿæ˜¯å¦‚æ­¤ï¼Œè¿™æ˜¯å› ä¸ºå¯ä¸ºNULLæ˜¯åˆ—çš„é»˜è®¤å±æ€§(3)ã€‚é€šå¸¸æƒ…å†µä¸‹æœ€å¥½æŒ‡å®šåˆ—ä¸ºNOT NULLï¼Œé™¤éçœŸçš„éœ€è¦å­˜å‚¨NULLå€¼ã€‚&lt;/p>
&lt;p>å¦‚æœæŸ¥è¯¢ä¸­åŒ…å«å¯ä¸ºNULLçš„åˆ—ï¼Œå¯¹MySQLæ¥è¯´æ›´éš¾ä¼˜åŒ–ï¼Œå› ä¸ºå¯ä¸ºNULLçš„åˆ—ä½¿å¾—ç´¢å¼•ã€ç´¢å¼•ç»Ÿè®¡å’Œå€¼æ¯”è¾ƒéƒ½æ›´å¤æ‚ã€‚å¯ä¸ºNULLçš„åˆ—ä¼šä½¿ç”¨æ›´å¤šçš„å­˜å‚¨ç©ºé—´ï¼Œåœ¨MySQLé‡Œä¹Ÿéœ€è¦ç‰¹æ®Šå¤„ç†ã€‚å½“å¯ä¸ºNULLçš„åˆ—è¢«ç´¢å¼•æ—¶ï¼Œæ¯ä¸ªç´¢å¼•è®°å½•éœ€è¦ä¸€ä¸ªé¢å¤–çš„å­—èŠ‚ï¼Œåœ¨MyISAMé‡Œç”šè‡³è¿˜å¯èƒ½å¯¼è‡´å›ºå®šå¤§å°çš„ç´¢å¼•ï¼ˆä¾‹å¦‚åªæœ‰ä¸€ä¸ªæ•´æ•°åˆ—çš„ç´¢å¼•ï¼‰å˜æˆå¯å˜å¤§å°çš„ç´¢å¼•ã€‚&lt;/p>
&lt;p>é€šå¸¸æŠŠå¯ä¸ºNULLçš„åˆ—æ”¹ä¸ºNOT NULLå¸¦æ¥çš„æ€§èƒ½æå‡æ¯”è¾ƒå°ï¼Œæ‰€ä»¥ï¼ˆè°ƒä¼˜æ—¶ï¼‰æ²¡æœ‰å¿…è¦é¦–å…ˆåœ¨ç°æœ‰schemaä¸­æŸ¥æ‰¾å¹¶ä¿®æ”¹æ‰è¿™ç§æƒ…å†µï¼Œé™¤éç¡®å®šè¿™ä¼šå¯¼è‡´é—®é¢˜ã€‚ä½†æ˜¯ï¼Œå¦‚æœè®¡åˆ’åœ¨åˆ—ä¸Šå»ºç´¢å¼•ï¼Œå°±åº”è¯¥å°½é‡é¿å…è®¾è®¡æˆå¯ä¸ºNULLçš„åˆ—ã€‚&lt;/p>
&lt;p>å½“ç„¶ä¹Ÿæœ‰ä¾‹å¤–ï¼Œä¾‹å¦‚å€¼å¾—ä¸€æçš„æ˜¯ï¼ŒInnoDBä½¿ç”¨å•ç‹¬çš„ä½ï¼ˆbitï¼‰å­˜å‚¨NULLå€¼ï¼Œæ‰€ä»¥å¯¹äºç¨€ç–æ•°æ®(4)æœ‰å¾ˆå¥½çš„ç©ºé—´æ•ˆç‡ã€‚ä½†è¿™ä¸€ç‚¹ä¸é€‚ç”¨äºMyISAMã€‚&lt;/p>
&lt;p>åœ¨ä¸ºåˆ—é€‰æ‹©æ•°æ®ç±»å‹æ—¶ï¼Œç¬¬ä¸€æ­¥éœ€è¦ç¡®å®šåˆé€‚çš„å¤§ç±»å‹ï¼šæ•°å­—ã€å­—ç¬¦ä¸²ã€æ—¶é—´ç­‰ã€‚è¿™é€šå¸¸æ˜¯å¾ˆç®€å•çš„ï¼Œä½†æ˜¯æˆ‘ä»¬ä¼šæåˆ°ä¸€äº›ç‰¹æ®Šçš„ä¸æ˜¯é‚£ä¹ˆç›´è§‚çš„æ¡ˆä¾‹ã€‚&lt;/p>
&lt;p>ä¸‹ä¸€æ­¥æ˜¯é€‰æ‹©å…·ä½“ç±»å‹ã€‚å¾ˆå¤šMySQLçš„æ•°æ®ç±»å‹å¯ä»¥å­˜å‚¨ç›¸åŒç±»å‹çš„æ•°æ®ï¼Œåªæ˜¯å­˜å‚¨çš„é•¿åº¦å’ŒèŒƒå›´ä¸ä¸€æ ·ã€å…è®¸çš„ç²¾åº¦ä¸åŒï¼Œæˆ–è€…éœ€è¦çš„ç‰©ç†ç©ºé—´ï¼ˆç£ç›˜å’Œå†…å­˜ç©ºé—´ï¼‰ä¸åŒã€‚ç›¸åŒå¤§ç±»å‹çš„ä¸åŒå­ç±»å‹æ•°æ®æœ‰æ—¶ä¹Ÿæœ‰ä¸€äº›ç‰¹æ®Šçš„è¡Œä¸ºå’Œå±æ€§ã€‚&lt;/p>
&lt;p>ä¾‹å¦‚ï¼ŒDATETIMEå’ŒTIMESAMPåˆ—éƒ½å¯ä»¥å­˜å‚¨ç›¸åŒç±»å‹çš„æ•°æ®ï¼šæ—¶é—´å’Œæ—¥æœŸï¼Œç²¾ç¡®åˆ°ç§’ã€‚&lt;/p>
&lt;p>ç„¶è€ŒTIMESTAMPåªä½¿ç”¨DATETIMEä¸€åŠçš„å­˜å‚¨ç©ºé—´ï¼Œå¹¶ä¸”ä¼šæ ¹æ®æ—¶åŒºå˜åŒ–ï¼Œå…·æœ‰ç‰¹æ®Šçš„è‡ªåŠ¨æ›´æ–°èƒ½åŠ›ã€‚å¦ä¸€æ–¹é¢ï¼ŒTIMESTAMPå…è®¸çš„æ—¶é—´èŒƒå›´è¦å°å¾—å¤šï¼Œæœ‰æ—¶å€™å®ƒçš„ç‰¹æ®Šèƒ½åŠ›ä¼šæˆä¸ºéšœç¢ã€‚&lt;/p>
&lt;p>æœ¬ç« åªè®¨è®ºåŸºæœ¬çš„æ•°æ®ç±»å‹ã€‚MySQLä¸ºäº†å…¼å®¹æ€§æ”¯æŒå¾ˆå¤šåˆ«åï¼Œä¾‹å¦‚INTEGERã€BOOLï¼Œä»¥åŠNUMERICã€‚å®ƒä»¬éƒ½åªæ˜¯åˆ«åã€‚è¿™äº›åˆ«åå¯èƒ½ä»¤äººä¸è§£ï¼Œä½†ä¸ä¼šå½±å“æ€§èƒ½ã€‚å¦‚æœå»ºè¡¨æ—¶é‡‡ç”¨æ•°æ®ç±»å‹çš„åˆ«åï¼Œç„¶åç”¨SHOW CREATE TABLEæ£€æŸ¥ï¼Œä¼šå‘ç°MySQLæŠ¥å‘Šçš„æ˜¯åŸºæœ¬ç±»å‹ï¼Œè€Œä¸æ˜¯åˆ«åã€‚&lt;/p>
&lt;h2 id="411æ•´æ•°ç±»å‹">
 4.1.1ã€€æ•´æ•°ç±»å‹
 &lt;a class="anchor" href="#411%e6%95%b4%e6%95%b0%e7%b1%bb%e5%9e%8b">#&lt;/a>
&lt;/h2>
&lt;p>æœ‰ä¸¤ç§ç±»å‹çš„æ•°å­—ï¼šæ•´æ•°ï¼ˆwhole numberï¼‰å’Œå®æ•°ï¼ˆreal numberï¼‰ã€‚å¦‚æœå­˜å‚¨æ•´æ•°ï¼Œå¯ä»¥ä½¿ç”¨è¿™å‡ ç§æ•´æ•°ç±»å‹ï¼šTINYINTï¼ŒSMALLINTï¼ŒMEDIUMINTï¼ŒINTï¼ŒBIGINTã€‚åˆ†åˆ«ä½¿ç”¨8ï¼Œ16ï¼Œ24ï¼Œ32ï¼Œ64ä½å­˜å‚¨ç©ºé—´ã€‚å®ƒä»¬å¯ä»¥å­˜å‚¨çš„å€¼çš„èŒƒå›´ä»âˆ’2ï¼ˆNâˆ’1ï¼‰åˆ°2ï¼ˆNâˆ’1ï¼‰âˆ’1ï¼Œå…¶ä¸­Næ˜¯å­˜å‚¨ç©ºé—´çš„ä½æ•°ã€‚&lt;/p>
&lt;p>æ•´æ•°ç±»å‹æœ‰å¯é€‰çš„UNSIGNEDå±æ€§ï¼Œè¡¨ç¤ºä¸å…è®¸è´Ÿå€¼ï¼Œè¿™å¤§è‡´å¯ä»¥ä½¿æ­£æ•°çš„ä¸Šé™æé«˜ä¸€å€ã€‚ä¾‹å¦‚TINYINT UNSIGNEDå¯ä»¥å­˜å‚¨çš„èŒƒå›´æ˜¯0ï½255ï¼Œè€ŒTINYINTçš„å­˜å‚¨èŒƒå›´æ˜¯âˆ’128ï½127ã€‚&lt;/p>
&lt;p>æœ‰ç¬¦å·å’Œæ— ç¬¦å·ç±»å‹ä½¿ç”¨ç›¸åŒçš„å­˜å‚¨ç©ºé—´ï¼Œå¹¶å…·æœ‰ç›¸åŒçš„æ€§èƒ½ï¼Œå› æ­¤å¯ä»¥æ ¹æ®å®é™…æƒ…å†µé€‰æ‹©åˆé€‚çš„ç±»å‹ã€‚&lt;/p>
&lt;p>ä½ çš„é€‰æ‹©å†³å®šMySQLæ˜¯æ€ä¹ˆåœ¨å†…å­˜å’Œç£ç›˜ä¸­ä¿å­˜æ•°æ®çš„ã€‚ç„¶è€Œï¼Œæ•´æ•°è®¡ç®—ä¸€èˆ¬ä½¿ç”¨64ä½çš„BIGINTæ•´æ•°ï¼Œå³ä½¿åœ¨32ä½ç¯å¢ƒä¹Ÿæ˜¯å¦‚æ­¤ã€‚ï¼ˆä¸€äº›èšåˆå‡½æ•°æ˜¯ä¾‹å¤–ï¼Œå®ƒä»¬ä½¿ç”¨DECIMALæˆ–DOUBLEè¿›è¡Œè®¡ç®—ï¼‰ã€‚&lt;/p>
&lt;p>MySQLå¯ä»¥ä¸ºæ•´æ•°ç±»å‹æŒ‡å®šå®½åº¦ï¼Œä¾‹å¦‚INTï¼ˆ11ï¼‰ï¼Œå¯¹å¤§å¤šæ•°åº”ç”¨è¿™æ˜¯æ²¡æœ‰æ„ä¹‰çš„ï¼šå®ƒä¸ä¼šé™åˆ¶å€¼çš„åˆæ³•èŒƒå›´ï¼Œåªæ˜¯è§„å®šäº†MySQLçš„ä¸€äº›äº¤äº’å·¥å…·ï¼ˆä¾‹å¦‚MySQLå‘½ä»¤è¡Œå®¢æˆ·ç«¯ï¼‰ç”¨æ¥æ˜¾ç¤ºå­—ç¬¦çš„ä¸ªæ•°ã€‚å¯¹äºå­˜å‚¨å’Œè®¡ç®—æ¥è¯´ï¼ŒINTï¼ˆ1ï¼‰å’ŒINTï¼ˆ20ï¼‰æ˜¯ç›¸åŒçš„ã€‚&lt;/p>
&lt;p>&lt;img src="img/000000.jpeg" alt="" />ä¸€äº›ç¬¬ä¸‰æ–¹å­˜å‚¨å¼•æ“ï¼Œæ¯”å¦‚Infobrightï¼Œæœ‰æ—¶ä¹Ÿæœ‰è‡ªå®šä¹‰çš„å­˜å‚¨æ ¼å¼å’Œå‹ç¼©æ–¹æ¡ˆï¼Œå¹¶ä¸ä¸€å®šä½¿ç”¨å¸¸è§çš„MySQLå†…ç½®å¼•æ“çš„æ–¹å¼ã€‚&lt;/p>
&lt;h2 id="412å®æ•°ç±»å‹">
 4.1.2ã€€å®æ•°ç±»å‹
 &lt;a class="anchor" href="#412%e5%ae%9e%e6%95%b0%e7%b1%bb%e5%9e%8b">#&lt;/a>
&lt;/h2>
&lt;p>å®æ•°æ˜¯å¸¦æœ‰å°æ•°éƒ¨åˆ†çš„æ•°å­—ã€‚ç„¶è€Œï¼Œå®ƒä»¬ä¸åªæ˜¯ä¸ºäº†å­˜å‚¨å°æ•°éƒ¨åˆ†ï¼›ä¹Ÿå¯ä»¥ä½¿ç”¨DECIMALå­˜å‚¨æ¯”BIGINTè¿˜å¤§çš„æ•´æ•°ã€‚MySQLæ—¢æ”¯æŒç²¾ç¡®ç±»å‹ï¼Œä¹Ÿæ”¯æŒä¸ç²¾ç¡®ç±»å‹ã€‚&lt;/p>
&lt;p>FLOATå’ŒDOUBLEç±»å‹æ”¯æŒä½¿ç”¨æ ‡å‡†çš„æµ®ç‚¹è¿ç®—è¿›è¡Œè¿‘ä¼¼è®¡ç®—ã€‚å¦‚æœéœ€è¦çŸ¥é“æµ®ç‚¹è¿ç®—æ˜¯æ€ä¹ˆè®¡ç®—çš„ï¼Œåˆ™éœ€è¦ç ”ç©¶æ‰€ä½¿ç”¨çš„å¹³å°çš„æµ®ç‚¹æ•°çš„å…·ä½“å®ç°ã€‚&lt;/p>
&lt;p>DECIMALç±»å‹ç”¨äºå­˜å‚¨ç²¾ç¡®çš„å°æ•°ã€‚åœ¨MySQL 5.0å’Œæ›´é«˜ç‰ˆæœ¬ï¼ŒDECIMALç±»å‹æ”¯æŒç²¾ç¡®è®¡ç®—ã€‚MySQL 4.1ä»¥åŠæ›´æ—©ç‰ˆæœ¬åˆ™ä½¿ç”¨æµ®ç‚¹è¿ç®—æ¥å®ç°DECIAMLçš„è®¡ç®—ï¼Œè¿™æ ·åšä¼šå› ä¸ºç²¾åº¦æŸå¤±å¯¼è‡´ä¸€äº›å¥‡æ€ªçš„ç»“æœã€‚åœ¨è¿™äº›ç‰ˆæœ¬çš„MySQLä¸­ï¼ŒDECIMALåªæ˜¯ä¸€ä¸ªâ€œå­˜å‚¨ç±»å‹â€ã€‚&lt;/p>
&lt;p>å› ä¸ºCPUä¸æ”¯æŒå¯¹DECIMALçš„ç›´æ¥è®¡ç®—ï¼Œæ‰€ä»¥åœ¨MySQL 5.0ä»¥åŠæ›´é«˜ç‰ˆæœ¬ä¸­ï¼ŒMySQLæœåŠ¡å™¨è‡ªèº«å®ç°äº†DECIMALçš„é«˜ç²¾åº¦è®¡ç®—ã€‚ç›¸å¯¹è€Œè¨€ï¼ŒCPUç›´æ¥æ”¯æŒåŸç”Ÿæµ®ç‚¹è®¡ç®—ï¼Œæ‰€ä»¥æµ®ç‚¹è¿ç®—æ˜æ˜¾æ›´å¿«ã€‚&lt;/p>
&lt;p>æµ®ç‚¹å’ŒDECIMALç±»å‹éƒ½å¯ä»¥æŒ‡å®šç²¾åº¦ã€‚å¯¹äºDECIMALåˆ—ï¼Œå¯ä»¥æŒ‡å®šå°æ•°ç‚¹å‰åæ‰€å…è®¸çš„æœ€å¤§ä½æ•°ã€‚è¿™ä¼šå½±å“åˆ—çš„ç©ºé—´æ¶ˆè€—ã€‚MySQL 5.0å’Œæ›´é«˜ç‰ˆæœ¬å°†æ•°å­—æ‰“åŒ…ä¿å­˜åˆ°ä¸€ä¸ªäºŒè¿›åˆ¶å­—ç¬¦ä¸²ä¸­ï¼ˆæ¯4ä¸ªå­—èŠ‚å­˜9ä¸ªæ•°å­—ï¼‰ã€‚ä¾‹å¦‚ï¼ŒDECIMALï¼ˆ18,9ï¼‰å°æ•°ç‚¹ä¸¤è¾¹å°†å„å­˜å‚¨9ä¸ªæ•°å­—ï¼Œä¸€å…±ä½¿ç”¨9ä¸ªå­—èŠ‚ï¼šå°æ•°ç‚¹å‰çš„æ•°å­—ç”¨4ä¸ªå­—èŠ‚ï¼Œå°æ•°ç‚¹åçš„æ•°å­—ç”¨4ä¸ªå­—èŠ‚ï¼Œå°æ•°ç‚¹æœ¬èº«å 1ä¸ªå­—èŠ‚ã€‚&lt;/p>
&lt;p>MySQL 5.0å’Œæ›´é«˜ç‰ˆæœ¬ä¸­çš„DECIMALç±»å‹å…è®¸æœ€å¤š65ä¸ªæ•°å­—ã€‚è€Œæ—©æœŸçš„MySQLç‰ˆæœ¬ä¸­è¿™ä¸ªé™åˆ¶æ˜¯254ä¸ªæ•°å­—ï¼Œå¹¶ä¸”ä¿å­˜ä¸ºæœªå‹ç¼©çš„å­—ç¬¦ä¸²ï¼ˆæ¯ä¸ªæ•°å­—ä¸€ä¸ªå­—èŠ‚ï¼‰ã€‚ç„¶è€Œï¼Œè¿™äº›ï¼ˆæ—©æœŸï¼‰ç‰ˆæœ¬å®é™…ä¸Šå¹¶ä¸èƒ½åœ¨è®¡ç®—ä¸­ä½¿ç”¨è¿™ä¹ˆå¤§çš„æ•°å­—ï¼Œå› ä¸ºDECIMALåªæ˜¯ä¸€ç§å­˜å‚¨æ ¼å¼ï¼›åœ¨è®¡ç®—ä¸­DECIMALä¼šè½¬æ¢ä¸ºDOUBLEç±»å‹ã€‚&lt;/p>
&lt;p>æœ‰å¤šç§æ–¹æ³•å¯ä»¥æŒ‡å®šæµ®ç‚¹åˆ—æ‰€éœ€è¦çš„ç²¾åº¦ï¼Œè¿™ä¼šä½¿å¾—MySQLæ‚„æ‚„é€‰æ‹©ä¸åŒçš„æ•°æ®ç±»å‹ï¼Œæˆ–è€…åœ¨å­˜å‚¨æ—¶å¯¹å€¼è¿›è¡Œå–èˆã€‚è¿™äº›ç²¾åº¦å®šä¹‰æ˜¯éæ ‡å‡†çš„ï¼Œæ‰€ä»¥æˆ‘ä»¬å»ºè®®åªæŒ‡å®šæ•°æ®ç±»å‹ï¼Œä¸æŒ‡å®šç²¾åº¦ã€‚&lt;/p>
&lt;p>æµ®ç‚¹ç±»å‹åœ¨å­˜å‚¨åŒæ ·èŒƒå›´çš„å€¼æ—¶ï¼Œé€šå¸¸æ¯”DECIMALä½¿ç”¨æ›´å°‘çš„ç©ºé—´ã€‚FLOATä½¿ç”¨4ä¸ªå­—èŠ‚å­˜å‚¨ã€‚DOUBLEå ç”¨8ä¸ªå­—èŠ‚ï¼Œç›¸æ¯”FLOATæœ‰æ›´é«˜çš„ç²¾åº¦å’Œæ›´å¤§çš„èŒƒå›´ã€‚å’Œæ•´æ•°ç±»å‹ä¸€æ ·ï¼Œèƒ½é€‰æ‹©çš„åªæ˜¯å­˜å‚¨ç±»å‹ï¼›MySQLä½¿ç”¨DOUBLEä½œä¸ºå†…éƒ¨æµ®ç‚¹è®¡ç®—çš„ç±»å‹ã€‚&lt;/p>
&lt;p>å› ä¸ºéœ€è¦é¢å¤–çš„ç©ºé—´å’Œè®¡ç®—å¼€é”€ï¼Œæ‰€ä»¥åº”è¯¥å°½é‡åªåœ¨å¯¹å°æ•°è¿›è¡Œç²¾ç¡®è®¡ç®—æ—¶æ‰ä½¿ç”¨DECIMALâ€”â€”ä¾‹å¦‚å­˜å‚¨è´¢åŠ¡æ•°æ®ã€‚ä½†åœ¨æ•°æ®é‡æ¯”è¾ƒå¤§çš„æ—¶å€™ï¼Œå¯ä»¥è€ƒè™‘ä½¿ç”¨BIGINTä»£æ›¿DECIMALï¼Œå°†éœ€è¦å­˜å‚¨çš„è´§å¸å•ä½æ ¹æ®å°æ•°çš„ä½æ•°ä¹˜ä»¥ç›¸åº”çš„å€æ•°å³å¯ã€‚å‡è®¾è¦å­˜å‚¨è´¢åŠ¡æ•°æ®ç²¾ç¡®åˆ°ä¸‡åˆ†ä¹‹ä¸€åˆ†ï¼Œåˆ™å¯ä»¥æŠŠæ‰€æœ‰é‡‘é¢ä¹˜ä»¥ä¸€ç™¾ä¸‡ï¼Œç„¶åå°†ç»“æœå­˜å‚¨åœ¨BIGINTé‡Œï¼Œè¿™æ ·å¯ä»¥åŒæ—¶é¿å…æµ®ç‚¹å­˜å‚¨è®¡ç®—ä¸ç²¾ç¡®å’ŒDECIMALç²¾ç¡®è®¡ç®—ä»£ä»·é«˜çš„é—®é¢˜ã€‚&lt;/p>
&lt;h2 id="413å­—ç¬¦ä¸²ç±»å‹">
 4.1.3ã€€å­—ç¬¦ä¸²ç±»å‹
 &lt;a class="anchor" href="#413%e5%ad%97%e7%ac%a6%e4%b8%b2%e7%b1%bb%e5%9e%8b">#&lt;/a>
&lt;/h2>
&lt;p>MySQLæ”¯æŒå¤šç§å­—ç¬¦ä¸²ç±»å‹ï¼Œæ¯ç§ç±»å‹è¿˜æœ‰å¾ˆå¤šå˜ç§ã€‚è¿™äº›æ•°æ®ç±»å‹åœ¨4.1å’Œ5.0ç‰ˆæœ¬å‘ç”Ÿäº†å¾ˆå¤§çš„å˜åŒ–ï¼Œä½¿å¾—æƒ…å†µæ›´åŠ å¤æ‚ã€‚ä»MySQL 4.1å¼€å§‹ï¼Œæ¯ä¸ªå­—ç¬¦ä¸²åˆ—å¯ä»¥å®šä¹‰è‡ªå·±çš„å­—ç¬¦é›†å’Œæ’åºè§„åˆ™ï¼Œæˆ–è€…è¯´æ ¡å¯¹è§„åˆ™ï¼ˆcollationï¼‰ï¼ˆæ›´å¤šå…³äºè¿™ä¸ªä¸»é¢˜çš„ä¿¡æ¯è¯·å‚è€ƒç¬¬7ç« ï¼‰ã€‚è¿™äº›ä¸œè¥¿ä¼šå¾ˆå¤§ç¨‹åº¦ä¸Šå½±å“æ€§èƒ½ã€‚&lt;/p></description></item><item><title>ç¬¬3ç« æœåŠ¡å™¨æ€§èƒ½å‰–æ</title><link>https://lwmfjc.github.io/zh/docs/technology/MySQL/_%E9%AB%98%E6%80%A7%E8%83%BDMySQL_/%E7%AC%AC3%E7%AB%A0%E6%9C%8D%E5%8A%A1%E5%99%A8%E6%80%A7%E8%83%BD%E5%89%96%E6%9E%90/</link><pubDate>Sun, 05 Jan 2025 08:42:13 +0800</pubDate><guid>https://lwmfjc.github.io/zh/docs/technology/MySQL/_%E9%AB%98%E6%80%A7%E8%83%BDMySQL_/%E7%AC%AC3%E7%AB%A0%E6%9C%8D%E5%8A%A1%E5%99%A8%E6%80%A7%E8%83%BD%E5%89%96%E6%9E%90/</guid><description>&lt;p>ç¬¬3ç« ã€€æœåŠ¡å™¨æ€§èƒ½å‰–æ&lt;/p>
&lt;p>åœ¨æˆ‘ä»¬çš„æŠ€æœ¯å’¨è¯¢ç”Ÿæ¶¯ä¸­ï¼Œæœ€å¸¸ç¢°åˆ°çš„ä¸‰ä¸ªæ€§èƒ½ç›¸å…³çš„æœåŠ¡è¯·æ±‚æ˜¯ï¼šå¦‚ä½•ç¡®è®¤æœåŠ¡å™¨æ˜¯å¦è¾¾åˆ°äº†æ€§èƒ½æœ€ä½³çš„çŠ¶æ€ã€æ‰¾å‡ºæŸæ¡è¯­å¥ä¸ºä»€ä¹ˆæ‰§è¡Œä¸å¤Ÿå¿«ï¼Œä»¥åŠè¯Šæ–­è¢«ç”¨æˆ·æè¿°æˆâ€œåœé¡¿â€ã€â€œå †ç§¯â€æˆ–è€…â€œå¡æ­»â€çš„æŸäº›é—´æ­‡æ€§ç–‘éš¾æ•…éšœã€‚æœ¬ç« å°†ä¸»è¦é’ˆå¯¹è¿™ä¸‰ä¸ªé—®é¢˜åšå‡ºè§£ç­”ã€‚æˆ‘ä»¬å°†æä¾›ä¸€äº›å·¥å…·å’ŒæŠ€å·§æ¥ä¼˜åŒ–æ•´æœºçš„æ€§èƒ½ã€ä¼˜åŒ–å•æ¡è¯­å¥çš„æ‰§è¡Œé€Ÿåº¦ï¼Œä»¥åŠè¯Šæ–­æˆ–è€…è§£å†³é‚£äº›å¾ˆéš¾è§‚å¯Ÿåˆ°çš„é—®é¢˜ï¼ˆè¿™äº›é—®é¢˜ç”¨æˆ·å¾€å¾€å¾ˆéš¾çŸ¥é“å…¶æ ¹æºï¼Œæœ‰æ—¶å€™ç”šè‡³éƒ½å¾ˆéš¾å¯Ÿè§‰åˆ°å®ƒçš„å­˜åœ¨ï¼‰ã€‚&lt;/p>
&lt;p>è¿™çœ‹èµ·æ¥æ˜¯ä¸ªè‰°å·¨çš„ä»»åŠ¡ï¼Œä½†æ˜¯äº‹å®è¯æ˜ï¼Œæœ‰ä¸€ä¸ªç®€å•çš„æ–¹æ³•èƒ½å¤Ÿä»å™ªå£°ä¸­å‘ç°è‹—å¤´ã€‚è¿™ä¸ªæ–¹æ³•å°±æ˜¯ä¸“æ³¨äºæµ‹é‡æœåŠ¡å™¨çš„æ—¶é—´èŠ±è´¹åœ¨å“ªé‡Œï¼Œä½¿ç”¨çš„æŠ€æœ¯åˆ™æ˜¯æ€§èƒ½å‰–æï¼ˆprofilingï¼‰ã€‚åœ¨æœ¬ç« ï¼Œæˆ‘ä»¬å°†å±•ç¤ºå¦‚ä½•æµ‹é‡ç³»ç»Ÿå¹¶ç”Ÿæˆå‰–ææŠ¥å‘Šï¼Œä»¥åŠå¦‚ä½•åˆ†æç³»ç»Ÿçš„æ•´ä¸ªå †æ ˆï¼ˆstackï¼‰ï¼ŒåŒ…æ‹¬ä»åº”ç”¨ç¨‹åºåˆ°æ•°æ®åº“æœåŠ¡å™¨åˆ°å•ä¸ªæŸ¥è¯¢ã€‚&lt;/p>
&lt;p>é¦–å…ˆæˆ‘ä»¬è¦ä¿æŒç©ºæ¯ç²¾ç¥ï¼ŒæŠ›å¼ƒæ‰ä¸€äº›å…³äºæ€§èƒ½çš„å¸¸è§çš„è¯¯è§£ã€‚è¿™æœ‰ä¸€å®šçš„éš¾åº¦ï¼Œä¸‹é¢æˆ‘ä»¬ä¸€èµ·é€šè¿‡ä¸€äº›ä¾‹å­æ¥è¯´æ˜é—®é¢˜åœ¨å“ªé‡Œã€‚&lt;/p>
&lt;h1 id="31æ€§èƒ½ä¼˜åŒ–ç®€ä»‹">
 3.1ã€€æ€§èƒ½ä¼˜åŒ–ç®€ä»‹
 &lt;a class="anchor" href="#31%e6%80%a7%e8%83%bd%e4%bc%98%e5%8c%96%e7%ae%80%e4%bb%8b">#&lt;/a>
&lt;/h1>
&lt;p>é—®10ä¸ªäººå…³äºæ€§èƒ½çš„é—®é¢˜ï¼Œå¯èƒ½ä¼šå¾—åˆ°10ä¸ªä¸åŒçš„å›ç­”ï¼Œæ¯”å¦‚â€œæ¯ç§’æŸ¥è¯¢æ¬¡æ•°â€ã€â€œCPUåˆ©ç”¨ç‡â€ã€â€œå¯æ‰©å±•æ€§â€ä¹‹ç±»ã€‚è¿™å…¶å®ä¹Ÿæ²¡æœ‰é—®é¢˜ï¼Œæ¯ä¸ªäººåœ¨ä¸åŒåœºæ™¯ä¸‹å¯¹æ€§èƒ½æœ‰ä¸åŒçš„ç†è§£ï¼Œä½†æœ¬ç« å°†ç»™æ€§èƒ½ä¸€ä¸ªæ­£å¼çš„å®šä¹‰ã€‚æˆ‘ä»¬å°†æ€§èƒ½å®šä¹‰ä¸ºå®ŒæˆæŸä»¶ä»»åŠ¡æ‰€éœ€è¦çš„æ—¶é—´åº¦é‡ï¼Œæ¢å¥è¯è¯´ï¼Œæ€§èƒ½å³å“åº”æ—¶é—´ï¼Œè¿™æ˜¯ä¸€ä¸ªéå¸¸é‡è¦çš„åŸåˆ™ã€‚æˆ‘ä»¬é€šè¿‡ä»»åŠ¡å’Œæ—¶é—´è€Œä¸æ˜¯èµ„æºæ¥æµ‹é‡æ€§èƒ½ã€‚æ•°æ®åº“æœåŠ¡å™¨çš„ç›®çš„æ˜¯æ‰§è¡ŒSQLè¯­å¥ï¼Œæ‰€ä»¥å®ƒå…³æ³¨çš„ä»»åŠ¡æ˜¯æŸ¥è¯¢æˆ–è€…è¯­å¥ï¼Œå¦‚SELECTã€UPDATEã€DELETEç­‰(1)ã€‚æ•°æ®åº“æœåŠ¡å™¨çš„æ€§èƒ½ç”¨æŸ¥è¯¢çš„å“åº”æ—¶é—´æ¥åº¦é‡ï¼Œå•ä½æ˜¯æ¯ä¸ªæŸ¥è¯¢èŠ±è´¹çš„æ—¶é—´ã€‚&lt;/p>
&lt;p>è¿˜æœ‰å¦å¤–ä¸€ä¸ªé—®é¢˜ï¼šä»€ä¹ˆæ˜¯ä¼˜åŒ–ï¼Ÿæˆ‘ä»¬æš‚æ—¶ä¸è®¨è®ºè¿™ä¸ªé—®é¢˜ï¼Œè€Œæ˜¯å‡è®¾æ€§èƒ½ä¼˜åŒ–å°±æ˜¯åœ¨ä¸€å®šçš„å·¥ä½œè´Ÿè½½ä¸‹å°½å¯èƒ½åœ°(2)é™ä½å“åº”æ—¶é—´ã€‚&lt;/p>
&lt;p>å¾ˆå¤šäººå¯¹æ­¤å¾ˆè¿·èŒ«ã€‚å‡å¦‚ä½ è®¤ä¸ºæ€§èƒ½ä¼˜åŒ–æ˜¯é™ä½CPUåˆ©ç”¨ç‡ï¼Œé‚£ä¹ˆå¯ä»¥å‡å°‘å¯¹èµ„æºçš„ä½¿ç”¨ã€‚ä½†è¿™æ˜¯ä¸€ä¸ªé™·é˜±ï¼Œèµ„æºæ˜¯ç”¨æ¥æ¶ˆè€—å¹¶ç”¨æ¥å·¥ä½œçš„ï¼Œæ‰€ä»¥æœ‰æ—¶å€™æ¶ˆè€—æ›´å¤šçš„èµ„æºèƒ½å¤ŸåŠ å¿«æŸ¥è¯¢é€Ÿåº¦ã€‚å¾ˆå¤šæ—¶å€™å°†ä½¿ç”¨è€ç‰ˆæœ¬InnoDBå¼•æ“çš„MySQLå‡çº§åˆ°æ–°ç‰ˆæœ¬åï¼ŒCPUåˆ©ç”¨ç‡ä¼šä¸Šå‡å¾—å¾ˆå‰å®³ï¼Œè¿™å¹¶ä¸ä»£è¡¨æ€§èƒ½å‡ºç°äº†é—®é¢˜ï¼Œåè€Œè¯´æ˜æ–°ç‰ˆæœ¬çš„InnoDBå¯¹èµ„æºçš„åˆ©ç”¨ç‡ä¸Šå‡äº†ã€‚æŸ¥è¯¢çš„å“åº”æ—¶é—´åˆ™æ›´èƒ½ä½“ç°å‡çº§åçš„æ€§èƒ½æ˜¯ä¸æ˜¯å˜å¾—æ›´å¥½ã€‚ç‰ˆæœ¬å‡çº§æœ‰æ—¶å€™ä¼šå¸¦æ¥ä¸€äº›bugï¼Œæ¯”å¦‚ä¸èƒ½åˆ©ç”¨æŸäº›ç´¢å¼•ä»è€Œå¯¼è‡´CPUåˆ©ç”¨ç‡ä¸Šå‡ã€‚CPUåˆ©ç”¨ç‡åªæ˜¯ä¸€ç§ç°è±¡ï¼Œè€Œä¸æ˜¯å¾ˆå¥½çš„å¯åº¦é‡çš„ç›®æ ‡ã€‚&lt;/p>
&lt;p>åŒæ ·ï¼Œå¦‚æœæŠŠæ€§èƒ½ä¼˜åŒ–ä»…ä»…çœ‹æˆæ˜¯æå‡æ¯ç§’æŸ¥è¯¢é‡ï¼Œè¿™å…¶å®åªæ˜¯ååé‡ä¼˜åŒ–ã€‚ååé‡çš„æå‡å¯ä»¥çœ‹ä½œæ€§èƒ½ä¼˜åŒ–çš„å‰¯äº§å“(3)ã€‚å¯¹æŸ¥è¯¢çš„ä¼˜åŒ–å¯ä»¥è®©æœåŠ¡å™¨æ¯ç§’æ‰§è¡Œæ›´å¤šçš„æŸ¥è¯¢ï¼Œå› ä¸ºæ¯æ¡æŸ¥è¯¢æ‰§è¡Œçš„æ—¶é—´æ›´çŸ­äº†ï¼ˆååé‡çš„å®šä¹‰æ˜¯å•ä½æ—¶é—´å†…çš„æŸ¥è¯¢æ•°é‡ï¼Œè¿™æ­£å¥½æ˜¯æˆ‘ä»¬å¯¹æ€§èƒ½çš„å®šä¹‰çš„å€’æ•°ï¼‰ã€‚&lt;/p>
&lt;p>æ‰€ä»¥å¦‚æœç›®æ ‡æ˜¯é™ä½å“åº”æ—¶é—´ï¼Œé‚£ä¹ˆå°±éœ€è¦ç†è§£ä¸ºä»€ä¹ˆæœåŠ¡å™¨æ‰§è¡ŒæŸ¥è¯¢éœ€è¦è¿™ä¹ˆå¤šæ—¶é—´ï¼Œç„¶åå»å‡å°‘æˆ–è€…æ¶ˆé™¤é‚£äº›å¯¹è·å¾—æŸ¥è¯¢ç»“æœæ¥è¯´ä¸å¿…è¦çš„å·¥ä½œã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå…ˆè¦ææ¸…æ¥šæ—¶é—´èŠ±åœ¨å“ªé‡Œã€‚è¿™å°±å¼•ç”³å‡ºä¼˜åŒ–çš„ç¬¬äºŒä¸ªåŸåˆ™ï¼šæ— æ³•æµ‹é‡å°±æ— æ³•æœ‰æ•ˆåœ°ä¼˜åŒ–ã€‚æ‰€ä»¥ç¬¬ä¸€æ­¥åº”è¯¥æµ‹é‡æ—¶é—´èŠ±åœ¨ä»€ä¹ˆåœ°æ–¹ã€‚&lt;/p>
&lt;p>æˆ‘ä»¬è§‚å¯Ÿåˆ°ï¼Œå¾ˆå¤šäººåœ¨ä¼˜åŒ–æ—¶ï¼Œéƒ½å°†ç²¾åŠ›æ”¾åœ¨ä¿®æ”¹ä¸€äº›ä¸œè¥¿ä¸Šï¼Œå´å¾ˆå°‘å»è¿›è¡Œç²¾ç¡®çš„æµ‹é‡ã€‚æˆ‘ä»¬çš„åšæ³•å®Œå…¨ç›¸åï¼Œå°†èŠ±è´¹éå¸¸å¤šï¼Œç”šè‡³90ï¼…çš„æ—¶é—´æ¥æµ‹é‡å“åº”æ—¶é—´èŠ±åœ¨å“ªé‡Œã€‚å¦‚æœé€šè¿‡æµ‹é‡æ²¡æœ‰æ‰¾åˆ°ç­”æ¡ˆï¼Œé‚£è¦ä¹ˆæ˜¯æµ‹é‡çš„æ–¹å¼é”™äº†ï¼Œè¦ä¹ˆæ˜¯æµ‹é‡å¾—ä¸å¤Ÿå®Œæ•´ã€‚å¦‚æœæµ‹é‡äº†ç³»ç»Ÿä¸­å®Œæ•´è€Œä¸”æ­£ç¡®çš„æ•°æ®ï¼Œæ€§èƒ½é—®é¢˜ä¸€èˆ¬éƒ½èƒ½æš´éœ²å‡ºæ¥ï¼Œå¯¹ç—‡ä¸‹è¯çš„è§£å†³æ–¹æ¡ˆä¹Ÿå°±æ¯”è¾ƒæ˜äº†ã€‚æµ‹é‡æ˜¯ä¸€é¡¹å¾ˆæœ‰æŒ‘æˆ˜æ€§çš„å·¥ä½œï¼Œå¹¶ä¸”åˆ†æç»“æœä¹ŸåŒæ ·æœ‰æŒ‘æˆ˜æ€§ï¼Œæµ‹å‡ºæ—¶é—´èŠ±åœ¨å“ªé‡Œï¼Œå’ŒçŸ¥é“ä¸ºä»€ä¹ˆèŠ±åœ¨é‚£é‡Œï¼Œæ˜¯ä¸¤ç äº‹ã€‚&lt;/p>
&lt;p>å‰é¢æåˆ°éœ€è¦åˆé€‚çš„æµ‹é‡èŒƒå›´ï¼Œè¿™æ˜¯ä»€ä¹ˆæ„æ€å‘¢ï¼Ÿåˆé€‚çš„æµ‹é‡èŒƒå›´æ˜¯è¯´åªæµ‹é‡éœ€è¦ä¼˜åŒ–çš„æ´»åŠ¨ã€‚æœ‰ä¸¤ç§æ¯”è¾ƒå¸¸è§çš„æƒ…å†µä¼šå¯¼è‡´ä¸åˆé€‚çš„æµ‹é‡ï¼š&lt;/p>
&lt;ul>
&lt;li>åœ¨é”™è¯¯çš„æ—¶é—´å¯åŠ¨å’Œåœæ­¢æµ‹é‡ã€‚&lt;/li>
&lt;li>æµ‹é‡çš„æ˜¯èšåˆåçš„ä¿¡æ¯ï¼Œè€Œä¸æ˜¯ç›®æ ‡æ´»åŠ¨æœ¬èº«ã€‚&lt;/li>
&lt;/ul>
&lt;p>ä¾‹å¦‚ï¼Œä¸€ä¸ªå¸¸è§çš„é”™è¯¯æ˜¯å…ˆæŸ¥çœ‹æ…¢æŸ¥è¯¢ï¼Œç„¶ååˆå»æ’æŸ¥æ•´ä¸ªæœåŠ¡å™¨çš„æƒ…å†µæ¥åˆ¤æ–­é—®é¢˜åœ¨å“ªé‡Œã€‚å¦‚æœç¡®è®¤æœ‰æ…¢æŸ¥è¯¢ï¼Œé‚£ä¹ˆå°±åº”è¯¥æµ‹é‡æ…¢æŸ¥è¯¢ï¼Œè€Œä¸æ˜¯æµ‹é‡æ•´ä¸ªæœåŠ¡å™¨ã€‚æµ‹é‡çš„åº”è¯¥æ˜¯ä»æ…¢æŸ¥è¯¢çš„å¼€å§‹åˆ°ç»“æŸçš„æ—¶é—´ï¼Œè€Œä¸æ˜¯æŸ¥è¯¢ä¹‹å‰æˆ–æŸ¥è¯¢ä¹‹åçš„æ—¶é—´ã€‚&lt;/p>
&lt;p>å®Œæˆä¸€é¡¹ä»»åŠ¡æ‰€éœ€è¦çš„æ—¶é—´å¯ä»¥åˆ†æˆä¸¤éƒ¨åˆ†ï¼šæ‰§è¡Œæ—¶é—´å’Œç­‰å¾…æ—¶é—´ã€‚å¦‚æœè¦ä¼˜åŒ–ä»»åŠ¡çš„æ‰§è¡Œæ—¶é—´ï¼Œæœ€å¥½çš„åŠæ³•æ˜¯é€šè¿‡æµ‹é‡å®šä½ä¸åŒçš„å­ä»»åŠ¡èŠ±è´¹çš„æ—¶é—´ï¼Œç„¶åä¼˜åŒ–å»æ‰ä¸€äº›å­ä»»åŠ¡ã€é™ä½å­ä»»åŠ¡çš„æ‰§è¡Œé¢‘ç‡æˆ–è€…æå‡å­ä»»åŠ¡çš„æ•ˆç‡ã€‚è€Œä¼˜åŒ–ä»»åŠ¡çš„ç­‰å¾…æ—¶é—´åˆ™ç›¸å¯¹è¦å¤æ‚ä¸€äº›ï¼Œå› ä¸ºç­‰å¾…æœ‰å¯èƒ½æ˜¯ç”±å…¶ä»–ç³»ç»Ÿé—´æ¥å½±å“å¯¼è‡´ï¼Œä»»åŠ¡ä¹‹é—´ä¹Ÿå¯èƒ½ç”±äºäº‰ç”¨ç£ç›˜æˆ–è€…CPUèµ„æºè€Œç›¸äº’å½±å“ã€‚æ ¹æ®æ—¶é—´æ˜¯èŠ±åœ¨æ‰§è¡Œè¿˜æ˜¯ç­‰å¾…ä¸Šçš„ä¸åŒï¼Œè¯Šæ–­ä¹Ÿéœ€è¦ä¸åŒçš„å·¥å…·å’ŒæŠ€æœ¯ã€‚&lt;/p>
&lt;p>åˆšæ‰è¯´åˆ°éœ€è¦å®šä½å’Œä¼˜åŒ–å­ä»»åŠ¡ï¼Œä½†åªæ˜¯ä¸€ç¬”å¸¦è¿‡ã€‚ä¸€äº›è¿è¡Œä¸é¢‘ç¹æˆ–è€…å¾ˆçŸ­çš„å­ä»»åŠ¡å¯¹æ•´ä½“å“åº”æ—¶é—´çš„å½±å“å¾ˆå°ï¼Œé€šå¸¸å¯ä»¥å¿½ç•¥ä¸è®¡ã€‚é‚£ä¹ˆå¦‚ä½•ç¡®è®¤å“ªäº›å­ä»»åŠ¡æ˜¯ä¼˜åŒ–çš„ç›®æ ‡å‘¢ï¼Ÿè¿™ä¸ªæ—¶å€™æ€§èƒ½å‰–æå°±å¯ä»¥æ´¾ä¸Šç”¨åœºäº†ã€‚&lt;/p>
&lt;p>&lt;strong>å¦‚ä½•åˆ¤æ–­æµ‹é‡æ˜¯æ­£ç¡®çš„ï¼Ÿ&lt;/strong>&lt;/p>
&lt;p>å¦‚æœæµ‹é‡æ˜¯å¦‚æ­¤é‡è¦ï¼Œé‚£ä¹ˆæµ‹é‡é”™äº†ä¼šæœ‰ä»€ä¹ˆåæœï¼Ÿå®é™…ä¸Šï¼Œæµ‹é‡ç»å¸¸éƒ½æ˜¯é”™è¯¯çš„ã€‚å¯¹æ•°é‡çš„æµ‹é‡å¹¶ä¸ç­‰äºæ•°é‡æœ¬èº«ã€‚æµ‹é‡çš„é”™è¯¯å¯èƒ½å¾ˆå°ï¼Œè·Ÿå®é™…æƒ…å†µåŒºåˆ«ä¸å¤§ï¼Œä½†é”™çš„ç»ˆå½’æ˜¯é”™çš„ã€‚æ‰€ä»¥è¿™ä¸ªé—®é¢˜å…¶å®åº”è¯¥æ˜¯ï¼šâ€œæµ‹é‡åˆ°åº•æœ‰å¤šä¹ˆä¸å‡†ç¡®ï¼Ÿâ€è¿™ä¸ªé—®é¢˜åœ¨å…¶ä»–ä¸€äº›ä¹¦ä¸­æœ‰è¯¦ç»†çš„è®¨è®ºï¼Œä½†ä¸æ˜¯æœ¬ä¹¦çš„ä¸»é¢˜ã€‚ä½†æ˜¯è¦æ„è¯†åˆ°ä½¿ç”¨çš„æ˜¯æµ‹é‡æ•°æ®ï¼Œè€Œä¸æ˜¯å…¶æ‰€ä»£è¡¨çš„å®é™…æ•°æ®ã€‚é€šå¸¸æ¥è¯´ï¼Œæµ‹é‡çš„ç»“æœä¹Ÿå¯èƒ½æœ‰å¤šç§æ¨¡ç³Šçš„è¡¨ç°ï¼Œè¿™å¯èƒ½å¯¼è‡´æ¨æ–­å‡ºé”™è¯¯çš„ç»“è®ºã€‚&lt;/p>
&lt;h2 id="311é€šè¿‡æ€§èƒ½å‰–æè¿›è¡Œä¼˜åŒ–">
 3.1.1ã€€é€šè¿‡æ€§èƒ½å‰–æè¿›è¡Œä¼˜åŒ–
 &lt;a class="anchor" href="#311%e9%80%9a%e8%bf%87%e6%80%a7%e8%83%bd%e5%89%96%e6%9e%90%e8%bf%9b%e8%a1%8c%e4%bc%98%e5%8c%96">#&lt;/a>
&lt;/h2>
&lt;p>ä¸€æ—¦æŒæ¡å¹¶å®è·µé¢å‘å“åº”æ—¶é—´çš„ä¼˜åŒ–æ–¹æ³•ï¼Œå°±ä¼šå‘ç°éœ€è¦ä¸æ–­åœ°å¯¹ç³»ç»Ÿè¿›è¡Œæ€§èƒ½å‰–æï¼ˆprofilingï¼‰ã€‚&lt;/p>
&lt;p>æ€§èƒ½å‰–ææ˜¯æµ‹é‡å’Œåˆ†ææ—¶é—´èŠ±è´¹åœ¨å“ªé‡Œçš„ä¸»è¦æ–¹æ³•ã€‚æ€§èƒ½å‰–æä¸€èˆ¬æœ‰ä¸¤ä¸ªæ­¥éª¤ï¼šæµ‹é‡ä»»åŠ¡æ‰€èŠ±è´¹çš„æ—¶é—´ï¼›ç„¶åå¯¹ç»“æœè¿›è¡Œç»Ÿè®¡å’Œæ’åºï¼Œå°†é‡è¦çš„ä»»åŠ¡æ’åˆ°å‰é¢ã€‚&lt;/p>
&lt;p>æ€§èƒ½å‰–æå·¥å…·çš„å·¥ä½œæ–¹å¼åŸºæœ¬ç›¸åŒã€‚åœ¨ä»»åŠ¡å¼€å§‹æ—¶å¯åŠ¨è®¡æ—¶å™¨ï¼Œåœ¨ä»»åŠ¡ç»“æŸæ—¶åœæ­¢è®¡æ—¶å™¨ï¼Œç„¶åç”¨ç»“æŸæ—¶é—´å‡å»å¯åŠ¨æ—¶é—´å¾—åˆ°å“åº”æ—¶é—´ã€‚ä¹Ÿæœ‰äº›å·¥å…·ä¼šè®°å½•ä»»åŠ¡çš„çˆ¶ä»»åŠ¡ã€‚è¿™äº›ç»“æœæ•°æ®å¯ä»¥ç”¨æ¥ç»˜åˆ¶è°ƒç”¨å…³ç³»å›¾ï¼Œä½†å¯¹äºæˆ‘ä»¬çš„ç›®æ ‡æ¥è¯´æ›´é‡è¦çš„æ˜¯ï¼Œå¯ä»¥å°†ç›¸ä¼¼çš„ä»»åŠ¡åˆ†ç»„å¹¶è¿›è¡Œæ±‡æ€»ã€‚å¯¹ç›¸ä¼¼çš„ä»»åŠ¡åˆ†ç»„å¹¶è¿›è¡Œæ±‡æ€»å¯ä»¥å¸®åŠ©å¯¹é‚£äº›åˆ†åˆ°ä¸€ç»„çš„ä»»åŠ¡åšæ›´å¤æ‚çš„ç»Ÿè®¡åˆ†æï¼Œä½†è‡³å°‘éœ€è¦çŸ¥é“æ¯ä¸€ç»„æœ‰å¤šå°‘ä»»åŠ¡ï¼Œå¹¶è®¡ç®—å‡ºæ€»çš„å“åº”æ—¶é—´ã€‚é€šè¿‡æ€§èƒ½å‰–ææŠ¥å‘Šï¼ˆ&lt;em>profile report&lt;/em>ï¼‰å¯ä»¥è·å¾—éœ€è¦çš„ç»“æœã€‚æ€§èƒ½å‰–ææŠ¥å‘Šä¼šåˆ—å‡ºæ‰€æœ‰ä»»åŠ¡åˆ—è¡¨ã€‚æ¯è¡Œè®°å½•ä¸€ä¸ªä»»åŠ¡ï¼ŒåŒ…æ‹¬ä»»åŠ¡åã€ä»»åŠ¡çš„æ‰§è¡Œæ—¶é—´ã€ä»»åŠ¡çš„æ¶ˆè€—æ—¶é—´ã€ä»»åŠ¡çš„å¹³å‡æ‰§è¡Œæ—¶é—´ï¼Œä»¥åŠè¯¥ä»»åŠ¡æ‰§è¡Œæ—¶é—´å å…¨éƒ¨æ—¶é—´çš„ç™¾åˆ†æ¯”ã€‚æ€§èƒ½å‰–ææŠ¥å‘Šä¼šæŒ‰ç…§ä»»åŠ¡çš„æ¶ˆè€—æ—¶é—´è¿›è¡Œé™åºæ’åºã€‚&lt;/p>
&lt;p>ä¸ºäº†æ›´å¥½åœ°è¯´æ˜ï¼Œè¿™é‡Œä¸¾ä¸€ä¸ªå¯¹æ•´ä¸ªæ•°æ®åº“æœåŠ¡å™¨å·¥ä½œè´Ÿè½½çš„æ€§èƒ½å‰–æçš„ä¾‹å­ï¼Œä¸»è¦è¾“å‡ºçš„æ˜¯å„ç§ç±»å‹çš„æŸ¥è¯¢å’Œæ‰§è¡ŒæŸ¥è¯¢çš„æ—¶é—´ã€‚è¿™æ˜¯ä»æ•´ä½“çš„è§’åº¦æ¥åˆ†æå“åº”æ—¶é—´ï¼Œåé¢ä¼šæ¼”ç¤ºå…¶ä»–è§’åº¦çš„åˆ†æç»“æœã€‚ä¸‹é¢çš„è¾“å‡ºæ˜¯ç”¨Percona Toolkitä¸­çš„&lt;em>pt-query-digest&lt;/em>ï¼ˆå®é™…ä¸Šå°±æ˜¯è‘—åçš„Maatkitå·¥å…·ä¸­çš„&lt;em>mk-query-digest&lt;/em>ï¼‰åˆ†æå¾—åˆ°çš„ç»“æœã€‚ä¸ºäº†æ˜¾ç¤ºæ–¹ä¾¿ï¼Œå¯¹ç»“æœåšäº†ä¸€äº›å¾®è°ƒï¼Œå¹¶ä¸”åªæˆªå–äº†å‰é¢å‡ è¡Œç»“æœï¼š&lt;/p>
&lt;pre>&lt;code> Rank Response time Calls R/Call Item
 ==== ================ ===== ====== =======
 1 11256.3618 68.1% 78069 0.1442 SELECT InvitesNew
 2 2029.4730 12.3% 14415 0.1408 SELECT StatusUpdate
 3 1345.3445 8.1% 3520 0.3822 SHOW STATUS
&lt;/code>&lt;/pre>
&lt;p>ä¸Šé¢åªæ˜¯æ€§èƒ½å‰–æç»“æœçš„å‰å‡ è¡Œï¼Œæ ¹æ®æ€»å“åº”æ—¶é—´è¿›è¡Œæ’åï¼ŒåªåŒ…æ‹¬å‰–ææ‰€éœ€è¦çš„æœ€å°åˆ—ç»„åˆã€‚æ¯ä¸€è¡Œéƒ½åŒ…æ‹¬äº†æŸ¥è¯¢çš„å“åº”æ—¶é—´å’Œå æ€»æ—¶é—´çš„ç™¾åˆ†æ¯”ã€æŸ¥è¯¢çš„æ‰§è¡Œæ¬¡æ•°ã€å•æ¬¡æ‰§è¡Œçš„å¹³å‡å“åº”æ—¶é—´ï¼Œä»¥åŠè¯¥æŸ¥è¯¢çš„æ‘˜è¦ã€‚é€šè¿‡è¿™ä¸ªæ€§èƒ½å‰–æå¯ä»¥å¾ˆæ¸…æ¥šåœ°çœ‹åˆ°æ¯ä¸ªæŸ¥è¯¢ç›¸äº’ä¹‹é—´çš„æˆæœ¬æ¯”è¾ƒï¼Œä»¥åŠæ¯ä¸ªæŸ¥è¯¢å æ€»æˆæœ¬çš„æ¯”è¾ƒã€‚åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œä»»åŠ¡æŒ‡çš„å°±æ˜¯æŸ¥è¯¢ï¼Œå®é™…ä¸Šåœ¨åˆ†æMySQLçš„æ—¶å€™ç»å¸¸éƒ½æŒ‡çš„æ˜¯æŸ¥è¯¢ã€‚&lt;/p>
&lt;p>æˆ‘ä»¬å°†å®é™…åœ°è®¨è®ºä¸¤ç§ç±»å‹çš„æ€§èƒ½å‰–æï¼šåŸºäºæ‰§è¡Œæ—¶é—´çš„åˆ†æå’ŒåŸºäºç­‰å¾…çš„åˆ†æã€‚åŸºäºæ‰§è¡Œæ—¶é—´çš„åˆ†æç ”ç©¶çš„æ˜¯ä»€ä¹ˆä»»åŠ¡çš„æ‰§è¡Œæ—¶é—´æœ€é•¿ï¼Œè€ŒåŸºäºç­‰å¾…çš„åˆ†æåˆ™æ˜¯åˆ¤æ–­ä»»åŠ¡åœ¨ä»€ä¹ˆåœ°æ–¹è¢«é˜»å¡çš„æ—¶é—´æœ€é•¿ã€‚&lt;/p>
&lt;p>å¦‚æœä»»åŠ¡æ‰§è¡Œæ—¶é—´é•¿æ˜¯å› ä¸ºæ¶ˆè€—äº†å¤ªå¤šçš„èµ„æºä¸”å¤§éƒ¨åˆ†æ—¶é—´èŠ±è´¹åœ¨æ‰§è¡Œä¸Šï¼Œç­‰å¾…çš„æ—¶é—´ä¸å¤šï¼Œè¿™ç§æƒ…å†µä¸‹åŸºäºç­‰å¾…çš„åˆ†æä½œç”¨å°±ä¸å¤§ã€‚åä¹‹äº¦ç„¶ï¼Œå¦‚æœä»»åŠ¡ä¸€ç›´åœ¨ç­‰å¾…ï¼Œæ²¡æœ‰æ¶ˆè€—ä»€ä¹ˆèµ„æºï¼Œå»åˆ†ææ‰§è¡Œæ—¶é—´å°±ä¸ä¼šæœ‰ä»€ä¹ˆç»“æœã€‚å¦‚æœä¸èƒ½ç¡®è®¤é—®é¢˜æ˜¯å‡ºåœ¨æ‰§è¡Œè¿˜æ˜¯ç­‰å¾…ä¸Šï¼Œé‚£ä¹ˆä¸¤ç§æ–¹å¼éƒ½éœ€è¦è¯•è¯•ã€‚åé¢ä¼šç»™å‡ºè¯¦ç»†çš„ä¾‹å­ã€‚&lt;/p></description></item><item><title>ç¬¬2ç« MySQLåŸºå‡†æµ‹è¯•</title><link>https://lwmfjc.github.io/zh/docs/technology/MySQL/_%E9%AB%98%E6%80%A7%E8%83%BDMySQL_/%E7%AC%AC2%E7%AB%A0MySQL%E5%9F%BA%E5%87%86%E6%B5%8B%E8%AF%95/</link><pubDate>Sun, 05 Jan 2025 08:42:12 +0800</pubDate><guid>https://lwmfjc.github.io/zh/docs/technology/MySQL/_%E9%AB%98%E6%80%A7%E8%83%BDMySQL_/%E7%AC%AC2%E7%AB%A0MySQL%E5%9F%BA%E5%87%86%E6%B5%8B%E8%AF%95/</guid><description>&lt;p>ç¬¬2ç« ã€€MySQLåŸºå‡†æµ‹è¯•&lt;/p>
&lt;p>åŸºå‡†æµ‹è¯•ï¼ˆbenchmarkï¼‰æ˜¯MySQLæ–°æ‰‹å’Œä¸“å®¶éƒ½éœ€è¦æŒæ¡çš„ä¸€é¡¹åŸºæœ¬æŠ€èƒ½ã€‚ç®€å•åœ°è¯´ï¼ŒåŸºå‡†æµ‹è¯•æ˜¯é’ˆå¯¹ç³»ç»Ÿè®¾è®¡çš„ä¸€ç§å‹åŠ›æµ‹è¯•ã€‚é€šå¸¸çš„ç›®æ ‡æ˜¯ä¸ºäº†æŒæ¡ç³»ç»Ÿçš„è¡Œä¸ºã€‚ä½†ä¹Ÿæœ‰å…¶ä»–åŸå› ï¼Œå¦‚é‡ç°æŸä¸ªç³»ç»ŸçŠ¶æ€ï¼Œæˆ–è€…æ˜¯åšæ–°ç¡¬ä»¶çš„å¯é æ€§æµ‹è¯•ã€‚æœ¬ç« å°†è®¨è®ºMySQLå’ŒåŸºäºMySQLçš„åº”ç”¨çš„åŸºå‡†æµ‹è¯•çš„é‡è¦æ€§ã€ç­–ç•¥å’Œå·¥å…·ã€‚æˆ‘ä»¬å°†ç‰¹åˆ«è®¨è®ºä¸€ä¸‹sysbenchï¼Œè¿™æ˜¯ä¸€æ¬¾éå¸¸ä¼˜ç§€çš„MySQLåŸºå‡†æµ‹è¯•å·¥å…·ã€‚&lt;/p>
&lt;h1 id="21ä¸ºä»€ä¹ˆéœ€è¦åŸºå‡†æµ‹è¯•">
 2.1ã€€ä¸ºä»€ä¹ˆéœ€è¦åŸºå‡†æµ‹è¯•
 &lt;a class="anchor" href="#21%e4%b8%ba%e4%bb%80%e4%b9%88%e9%9c%80%e8%a6%81%e5%9f%ba%e5%87%86%e6%b5%8b%e8%af%95">#&lt;/a>
&lt;/h1>
&lt;p>ä¸ºä»€ä¹ˆåŸºå‡†æµ‹è¯•å¾ˆé‡è¦ï¼Ÿå› ä¸ºåŸºå‡†æµ‹è¯•æ˜¯å”¯ä¸€æ–¹ä¾¿æœ‰æ•ˆçš„ã€å¯ä»¥å­¦ä¹ ç³»ç»Ÿåœ¨ç»™å®šçš„å·¥ä½œè´Ÿè½½ä¸‹ä¼šå‘ç”Ÿä»€ä¹ˆçš„æ–¹æ³•ã€‚åŸºå‡†æµ‹è¯•å¯ä»¥è§‚å¯Ÿç³»ç»Ÿåœ¨ä¸åŒå‹åŠ›ä¸‹çš„è¡Œä¸ºï¼Œè¯„ä¼°ç³»ç»Ÿçš„å®¹é‡ï¼ŒæŒæ¡å“ªäº›æ˜¯é‡è¦çš„å˜åŒ–ï¼Œæˆ–è€…è§‚å¯Ÿç³»ç»Ÿå¦‚ä½•å¤„ç†ä¸åŒçš„æ•°æ®ã€‚åŸºå‡†æµ‹è¯•å¯ä»¥åœ¨ç³»ç»Ÿå®é™…è´Ÿè½½ä¹‹å¤–åˆ›é€ ä¸€äº›è™šæ„åœºæ™¯è¿›è¡Œæµ‹è¯•ã€‚åŸºå‡†æµ‹è¯•å¯ä»¥å®Œæˆä»¥ä¸‹å·¥ä½œï¼Œæˆ–è€…æ›´å¤šï¼š&lt;/p>
&lt;ul>
&lt;li>éªŒè¯åŸºäºç³»ç»Ÿçš„ä¸€äº›å‡è®¾ï¼Œç¡®è®¤è¿™äº›å‡è®¾æ˜¯å¦ç¬¦åˆå®é™…æƒ…å†µã€‚&lt;/li>
&lt;li>é‡ç°ç³»ç»Ÿä¸­çš„æŸäº›å¼‚å¸¸è¡Œä¸ºï¼Œä»¥è§£å†³è¿™äº›å¼‚å¸¸ã€‚&lt;/li>
&lt;li>æµ‹è¯•ç³»ç»Ÿå½“å‰çš„è¿è¡Œæƒ…å†µã€‚å¦‚æœä¸æ¸…æ¥šç³»ç»Ÿå½“å‰çš„æ€§èƒ½ï¼Œå°±æ— æ³•ç¡®è®¤æŸäº›ä¼˜åŒ–çš„æ•ˆæœå¦‚ä½•ã€‚ä¹Ÿå¯ä»¥åˆ©ç”¨å†å²çš„åŸºå‡†æµ‹è¯•ç»“æœæ¥åˆ†æè¯Šæ–­ä¸€äº›æ— æ³•é¢„æµ‹çš„é—®é¢˜ã€‚&lt;/li>
&lt;li>æ¨¡æ‹Ÿæ¯”å½“å‰ç³»ç»Ÿæ›´é«˜çš„è´Ÿè½½ï¼Œä»¥æ‰¾å‡ºç³»ç»Ÿéšç€å‹åŠ›å¢åŠ è€Œå¯èƒ½é‡åˆ°çš„æ‰©å±•æ€§ç“¶é¢ˆã€‚&lt;/li>
&lt;li>è§„åˆ’æœªæ¥çš„ä¸šåŠ¡å¢é•¿ã€‚åŸºå‡†æµ‹è¯•å¯ä»¥è¯„ä¼°åœ¨é¡¹ç›®æœªæ¥çš„è´Ÿè½½ä¸‹ï¼Œéœ€è¦ä»€ä¹ˆæ ·çš„ç¡¬ä»¶ï¼Œéœ€è¦å¤šå¤§å®¹é‡çš„ç½‘ç»œï¼Œä»¥åŠå…¶ä»–ç›¸å…³èµ„æºã€‚è¿™æœ‰åŠ©äºé™ä½ç³»ç»Ÿå‡çº§å’Œé‡å¤§å˜æ›´çš„é£é™©ã€‚&lt;/li>
&lt;li>æµ‹è¯•åº”ç”¨é€‚åº”å¯å˜ç¯å¢ƒçš„èƒ½åŠ›ã€‚ä¾‹å¦‚ï¼Œé€šè¿‡åŸºå‡†æµ‹è¯•ï¼Œå¯ä»¥å‘ç°ç³»ç»Ÿåœ¨éšæœºçš„å¹¶å‘å³°å€¼ä¸‹çš„æ€§èƒ½è¡¨ç°ï¼Œæˆ–è€…æ˜¯ä¸åŒé…ç½®çš„æœåŠ¡å™¨ä¹‹é—´çš„æ€§èƒ½è¡¨ç°ã€‚åŸºå‡†æµ‹è¯•ä¹Ÿå¯ä»¥æµ‹è¯•ç³»ç»Ÿå¯¹ä¸åŒæ•°æ®åˆ†å¸ƒçš„å¤„ç†èƒ½åŠ›ã€‚&lt;/li>
&lt;li>æµ‹è¯•ä¸åŒçš„ç¡¬ä»¶ã€è½¯ä»¶å’Œæ“ä½œç³»ç»Ÿé…ç½®ã€‚æ¯”å¦‚RAID 5è¿˜æ˜¯RAID 10æ›´é€‚åˆå½“å‰çš„ç³»ç»Ÿï¼Ÿå¦‚æœç³»ç»Ÿä»ATAç¡¬ç›˜å‡çº§åˆ°SANå­˜å‚¨ï¼Œå¯¹äºéšæœºå†™æ€§èƒ½æœ‰ä»€ä¹ˆå¸®åŠ©ï¼ŸLinux 2.4ç³»åˆ—çš„å†…æ ¸ä¼šæ¯”2.6ç³»åˆ—çš„å¯æ‰©å±•æ€§æ›´å¥½å—ï¼Ÿå‡çº§MySQLçš„ç‰ˆæœ¬èƒ½æ”¹å–„æ€§èƒ½å—ï¼Ÿä¸ºå½“å‰çš„æ•°æ®é‡‡ç”¨ä¸åŒçš„å­˜å‚¨å¼•æ“ä¼šæœ‰ä»€ä¹ˆæ•ˆæœï¼Ÿæ‰€æœ‰è¿™ç±»é—®é¢˜éƒ½å¯ä»¥é€šè¿‡ä¸“é—¨çš„åŸºå‡†æµ‹è¯•æ¥è·å¾—ç­”æ¡ˆã€‚&lt;/li>
&lt;li>è¯æ˜æ–°é‡‡è´­çš„è®¾å¤‡æ˜¯å¦é…ç½®æ­£ç¡®ã€‚ç¬”è€…æ›¾ç»æ— æ•°æ¬¡åœ°é€šè¿‡åŸºå‡†æµ‹è¯•æ¥å¯¹æ–°ç³»ç»Ÿè¿›è¡Œå‹æµ‹ï¼Œå‘ç°äº†å¾ˆå¤šé”™è¯¯çš„é…ç½®ï¼Œä»¥åŠç¡¬ä»¶ç»„ä»¶çš„å¤±æ•ˆç­‰é—®é¢˜ã€‚å› æ­¤åœ¨æ–°ç³»ç»Ÿæ­£å¼ä¸Šçº¿åˆ°ç”Ÿäº§ç¯å¢ƒä¹‹å‰è¿›è¡ŒåŸºå‡†æµ‹è¯•æ˜¯ä¸€ä¸ªå¥½ä¹ æƒ¯ï¼Œæ°¸è¿œä¸è¦ç›¸ä¿¡ä¸»æœºæä¾›å•†æˆ–è€…ç¡¬ä»¶ä¾›åº”å•†çš„æ‰€è°“ç³»ç»Ÿå·²ç»å®‰è£…å¥½ï¼Œå¹¶ä¸”èƒ½è¿è¡Œå¤šå¿«çš„è¯´æ³•ã€‚å¦‚æœå¯èƒ½ï¼Œæ‰§è¡Œå®é™…çš„åŸºå‡†æµ‹è¯•æ°¸è¿œæ˜¯ä¸€ä¸ªå¥½ä¸»æ„ã€‚&lt;/li>
&lt;/ul>
&lt;p>åŸºå‡†æµ‹è¯•è¿˜å¯ä»¥ç”¨äºå…¶ä»–ç›®çš„ï¼Œæ¯”å¦‚ä¸ºåº”ç”¨åˆ›å»ºå•å…ƒæµ‹è¯•å¥—ä»¶ã€‚ä½†æœ¬ç« æˆ‘ä»¬åªå…³æ³¨ä¸æ€§èƒ½æœ‰å…³çš„åŸºå‡†æµ‹è¯•ã€‚&lt;/p>
&lt;p>åŸºå‡†æµ‹è¯•çš„ä¸€ä¸ªä¸»è¦é—®é¢˜åœ¨äºå…¶ä¸æ˜¯çœŸå®å‹åŠ›çš„æµ‹è¯•ã€‚åŸºå‡†æµ‹è¯•æ–½åŠ ç»™ç³»ç»Ÿçš„å‹åŠ›ç›¸å¯¹çœŸå®å‹åŠ›æ¥è¯´ï¼Œé€šå¸¸æ¯”è¾ƒç®€å•ã€‚çœŸå®å‹åŠ›æ˜¯ä¸å¯é¢„æœŸè€Œä¸”å˜åŒ–å¤šç«¯çš„ï¼Œæœ‰æ—¶å€™æƒ…å†µä¼šè¿‡äºå¤æ‚è€Œéš¾ä»¥è§£é‡Šã€‚æ‰€ä»¥ä½¿ç”¨çœŸå®å‹åŠ›æµ‹è¯•ï¼Œå¯èƒ½éš¾ä»¥ä»ç»“æœä¸­åˆ†æå‡ºç¡®åˆ‡çš„ç»“è®ºã€‚&lt;/p>
&lt;p>åŸºå‡†æµ‹è¯•çš„å‹åŠ›å’ŒçœŸå®å‹åŠ›åœ¨å“ªäº›æ–¹é¢ä¸åŒï¼Ÿæœ‰å¾ˆå¤šå› ç´ ä¼šå½±å“åŸºå‡†æµ‹è¯•ï¼Œæ¯”å¦‚æ•°æ®é‡ã€æ•°æ®å’ŒæŸ¥è¯¢çš„åˆ†å¸ƒï¼Œä½†æœ€é‡è¦çš„ä¸€ç‚¹è¿˜æ˜¯åŸºå‡†æµ‹è¯•é€šå¸¸è¦æ±‚å°½å¯èƒ½å¿«åœ°æ‰§è¡Œå®Œæˆï¼Œæ‰€ä»¥ç»å¸¸ç»™ç³»ç»Ÿé€ æˆè¿‡å¤§çš„å‹åŠ›ã€‚åœ¨å¾ˆå¤šæ¡ˆä¾‹ä¸­ï¼Œæˆ‘ä»¬éƒ½ä¼šè°ƒæ•´ç»™æµ‹è¯•å·¥å…·çš„æœ€å¤§å‹åŠ›ï¼Œä»¥åœ¨ç³»ç»Ÿå¯ä»¥å®¹å¿çš„å‹åŠ›é˜ˆå€¼å†…å°½å¯èƒ½å¿«åœ°æ‰§è¡Œæµ‹è¯•ï¼Œè¿™å¯¹äºç¡®å®šç³»ç»Ÿçš„æœ€å¤§å®¹é‡éå¸¸æœ‰å¸®åŠ©ã€‚ç„¶è€Œå¤§éƒ¨åˆ†å‹åŠ›æµ‹è¯•å·¥å…·ä¸æ”¯æŒå¯¹å‹åŠ›è¿›è¡Œå¤æ‚çš„æ§åˆ¶ã€‚åŠ¡å¿…è¦è®°ä½ï¼Œæµ‹è¯•å·¥å…·è‡ªèº«çš„å±€é™ä¹Ÿä¼šå½±å“åˆ°ç»“æœçš„æœ‰æ•ˆæ€§ã€‚&lt;/p>
&lt;p>ä½¿ç”¨åŸºå‡†æµ‹è¯•è¿›è¡Œå®¹é‡è§„åˆ’ä¹Ÿè¦æŒæ¡æŠ€å·§ï¼Œä¸èƒ½åªæ ¹æ®æµ‹è¯•ç»“æœåšç®€å•çš„æ¨æ–­ã€‚ä¾‹å¦‚ï¼Œå‡è®¾æƒ³çŸ¥é“ä½¿ç”¨æ–°æ•°æ®åº“æœåŠ¡å™¨åï¼Œç³»ç»Ÿèƒ½å¤Ÿæ”¯æ’‘å¤šå¤§çš„ä¸šåŠ¡å¢é•¿ã€‚é¦–å…ˆå¯¹åŸç³»ç»Ÿè¿›è¡ŒåŸºå‡†æµ‹è¯•ï¼Œç„¶åå¯¹æ–°ç³»ç»Ÿåšæµ‹è¯•ï¼Œç»“æœå‘ç°æ–°ç³»ç»Ÿå¯ä»¥æ”¯æŒåŸç³»ç»Ÿ40å€çš„TPSï¼ˆæ¯ç§’äº‹åŠ¡æ•°ï¼‰ï¼Œè¿™æ—¶å€™å°±ä¸èƒ½ç®€å•åœ°æ¨æ–­è¯´æ–°ç³»ç»Ÿä¸€å®šå¯ä»¥æ”¯æŒ40å€çš„ä¸šåŠ¡å¢é•¿ã€‚è¿™æ˜¯å› ä¸ºåœ¨ä¸šåŠ¡å¢é•¿çš„åŒæ—¶ï¼Œç³»ç»Ÿçš„æµé‡ã€ç”¨æˆ·ã€æ•°æ®ä»¥åŠä¸åŒæ•°æ®ä¹‹é—´çš„äº¤äº’éƒ½åœ¨å¢é•¿ï¼Œå®ƒä»¬ä¸å¯èƒ½éƒ½æœ‰40å€çš„æ”¯æ’‘èƒ½åŠ›ï¼Œå°¤å…¶æ˜¯ç›¸äº’ä¹‹é—´çš„å…³ç³»ã€‚è€Œä¸”å½“ä¸šåŠ¡å¢é•¿åˆ°40å€æ—¶ï¼Œåº”ç”¨æœ¬èº«çš„è®¾è®¡ä¹Ÿå¯èƒ½å·²ç»éšä¹‹æ”¹å˜ã€‚å¯èƒ½æœ‰æ›´å¤šçš„æ–°ç‰¹æ€§ä¼šä¸Šçº¿ï¼Œå…¶ä¸­æŸäº›ç‰¹æ€§å¯èƒ½å¯¹æ•°æ®åº“é€ æˆçš„å‹åŠ›è¿œå¤§äºåŸæœ‰åŠŸèƒ½ã€‚è€Œè¿™äº›å‹åŠ›ã€æ•°æ®ã€å…³ç³»å’Œç‰¹æ€§çš„å˜åŒ–éƒ½å¾ˆéš¾æ¨¡æ‹Ÿï¼Œæ‰€ä»¥å®ƒä»¬å¯¹ç³»ç»Ÿçš„å½±å“ä¹Ÿå¾ˆéš¾è¯„ä¼°ã€‚&lt;/p>
&lt;p>ç»“è®ºå°±æ˜¯ï¼Œæˆ‘ä»¬åªèƒ½è¿›è¡Œå¤§æ¦‚çš„æµ‹è¯•ï¼Œæ¥ç¡®å®šç³»ç»Ÿå¤§è‡´çš„ä½™é‡æœ‰å¤šå°‘ã€‚å½“ç„¶ä¹Ÿå¯ä»¥åšä¸€äº›çœŸå®å‹åŠ›æµ‹è¯•ï¼ˆå’ŒåŸºå‡†æµ‹è¯•æœ‰åŒºåˆ«ï¼‰ï¼Œä½†åœ¨æ„é€ æ•°æ®é›†å’Œå‹åŠ›çš„æ—¶å€™è¦ç‰¹åˆ«å°å¿ƒï¼Œè€Œä¸”è¿™æ ·å°±ä¸å†æ˜¯åŸºå‡†æµ‹è¯•äº†ã€‚åŸºå‡†æµ‹è¯•è¦å°½é‡ç®€å•ç›´æ¥ï¼Œç»“æœä¹‹é—´å®¹æ˜“ç›¸äº’æ¯”è¾ƒï¼Œæˆæœ¬ä½ä¸”æ˜“äºæ‰§è¡Œã€‚å°½ç®¡æœ‰è¯¸å¤šé™åˆ¶ï¼ŒåŸºå‡†æµ‹è¯•è¿˜æ˜¯éå¸¸æœ‰ç”¨çš„ï¼ˆåªè¦ææ¸…æ¥šæµ‹è¯•çš„åŸç†ï¼Œå¹¶ä¸”äº†è§£å¦‚ä½•åˆ†æç»“æœæ‰€ä»£è¡¨çš„æ„ä¹‰ï¼‰ã€‚&lt;/p>
&lt;h1 id="22åŸºå‡†æµ‹è¯•çš„ç­–ç•¥">
 2.2ã€€åŸºå‡†æµ‹è¯•çš„ç­–ç•¥
 &lt;a class="anchor" href="#22%e5%9f%ba%e5%87%86%e6%b5%8b%e8%af%95%e7%9a%84%e7%ad%96%e7%95%a5">#&lt;/a>
&lt;/h1>
&lt;p>åŸºå‡†æµ‹è¯•æœ‰ä¸¤ç§ä¸»è¦çš„ç­–ç•¥ï¼šä¸€æ˜¯é’ˆå¯¹æ•´ä¸ªç³»ç»Ÿçš„æ•´ä½“æµ‹è¯•ï¼Œå¦å¤–æ˜¯å•ç‹¬æµ‹è¯•MySQLã€‚è¿™ä¸¤ç§ç­–ç•¥ä¹Ÿè¢«ç§°ä¸ºé›†æˆå¼ï¼ˆfull-stackï¼‰ä»¥åŠå•ç»„ä»¶å¼ï¼ˆsingle-componentï¼‰åŸºå‡†æµ‹è¯•ã€‚é’ˆå¯¹æ•´ä¸ªç³»ç»Ÿåšé›†æˆå¼æµ‹è¯•ï¼Œè€Œä¸æ˜¯å•ç‹¬æµ‹è¯•MySQLçš„åŸå› ä¸»è¦æœ‰ä»¥ä¸‹å‡ ç‚¹ï¼š&lt;/p>
&lt;ul>
&lt;li>æµ‹è¯•æ•´ä¸ªåº”ç”¨ç³»ç»Ÿï¼ŒåŒ…æ‹¬WebæœåŠ¡å™¨ã€åº”ç”¨ä»£ç ã€ç½‘ç»œå’Œæ•°æ®åº“æ˜¯éå¸¸æœ‰ç”¨çš„ï¼Œå› ä¸ºç”¨æˆ·å…³æ³¨çš„å¹¶ä¸ä»…ä»…æ˜¯MySQLæœ¬èº«çš„æ€§èƒ½ï¼Œè€Œæ˜¯åº”ç”¨æ•´ä½“çš„æ€§èƒ½ã€‚&lt;/li>
&lt;li>MySQLå¹¶éæ€»æ˜¯åº”ç”¨çš„ç“¶é¢ˆï¼Œé€šè¿‡æ•´ä½“çš„æµ‹è¯•å¯ä»¥æ­ç¤ºè¿™ä¸€ç‚¹ã€‚&lt;/li>
&lt;li>åªæœ‰å¯¹åº”ç”¨åšæ•´ä½“æµ‹è¯•ï¼Œæ‰èƒ½å‘ç°å„éƒ¨åˆ†ä¹‹é—´çš„ç¼“å­˜å¸¦æ¥çš„å½±å“ã€‚&lt;/li>
&lt;li>æ•´ä½“åº”ç”¨çš„é›†æˆå¼æµ‹è¯•æ›´èƒ½æ­ç¤ºåº”ç”¨çš„çœŸå®è¡¨ç°ï¼Œè€Œå•ç‹¬ç»„ä»¶çš„æµ‹è¯•å¾ˆéš¾åšåˆ°è¿™ä¸€ç‚¹ã€‚&lt;/li>
&lt;/ul>
&lt;p>å¦å¤–ä¸€æ–¹é¢ï¼Œåº”ç”¨çš„æ•´ä½“åŸºå‡†æµ‹è¯•å¾ˆéš¾å»ºç«‹ï¼Œç”šè‡³å¾ˆéš¾æ­£ç¡®è®¾ç½®ã€‚å¦‚æœåŸºå‡†æµ‹è¯•çš„è®¾è®¡æœ‰é—®é¢˜ï¼Œé‚£ä¹ˆç»“æœå°±æ— æ³•åæ˜ çœŸå®çš„æƒ…å†µï¼Œä»è€ŒåŸºäºæ­¤åšçš„å†³ç­–ä¹Ÿå°±å¯èƒ½æ˜¯é”™è¯¯çš„ã€‚&lt;/p>
&lt;p>ä¸è¿‡ï¼Œæœ‰æ—¶å€™ä¸éœ€è¦äº†è§£æ•´ä¸ªåº”ç”¨çš„æƒ…å†µï¼Œè€Œåªéœ€è¦å…³æ³¨MySQLçš„æ€§èƒ½ï¼Œè‡³å°‘åœ¨é¡¹ç›®åˆæœŸå¯ä»¥è¿™æ ·åšã€‚åŸºäºä»¥ä¸‹æƒ…å†µï¼Œå¯ä»¥é€‰æ‹©åªæµ‹è¯•MySQLï¼š&lt;/p>
&lt;ul>
&lt;li>éœ€è¦æ¯”è¾ƒä¸åŒçš„schemaæˆ–æŸ¥è¯¢çš„æ€§èƒ½ã€‚&lt;/li>
&lt;li>é’ˆå¯¹åº”ç”¨ä¸­æŸä¸ªå…·ä½“é—®é¢˜çš„æµ‹è¯•ã€‚&lt;/li>
&lt;li>ä¸ºäº†é¿å…æ¼«é•¿çš„åŸºå‡†æµ‹è¯•ï¼Œå¯ä»¥é€šè¿‡ä¸€ä¸ªçŸ­æœŸçš„åŸºå‡†æµ‹è¯•ï¼Œåšå¿«é€Ÿçš„â€œå‘¨æœŸå¾ªç¯â€ï¼Œæ¥æ£€æµ‹å‡ºæŸäº›è°ƒæ•´åçš„æ•ˆæœã€‚&lt;/li>
&lt;/ul>
&lt;p>å¦å¤–ï¼Œå¦‚æœèƒ½å¤Ÿåœ¨çœŸå®çš„æ•°æ®é›†ä¸Šæ‰§è¡Œé‡å¤çš„æŸ¥è¯¢ï¼Œé‚£ä¹ˆé’ˆå¯¹MySQLçš„åŸºå‡†æµ‹è¯•ä¹Ÿæ˜¯æœ‰ç”¨çš„ï¼Œä½†æ˜¯æ•°æ®æœ¬èº«å’Œæ•°æ®é›†çš„å¤§å°éƒ½åº”è¯¥æ˜¯çœŸå®çš„ã€‚å¦‚æœå¯èƒ½ï¼Œå¯ä»¥é‡‡ç”¨ç”Ÿäº§ç¯å¢ƒçš„æ•°æ®å¿«ç…§ã€‚&lt;/p>
&lt;p>ä¸å¹¸çš„æ˜¯ï¼Œè®¾ç½®ä¸€ä¸ªåŸºäºçœŸå®æ•°æ®çš„åŸºå‡†æµ‹è¯•å¤æ‚è€Œä¸”è€—æ—¶ã€‚å¦‚æœèƒ½å¾—åˆ°ä¸€ä»½ç”Ÿäº§æ•°æ®é›†çš„æ‹·è´ï¼Œå½“ç„¶å¾ˆå¹¸è¿ï¼Œä½†è¿™é€šå¸¸ä¸å¤ªå¯èƒ½ã€‚æ¯”å¦‚è¦æµ‹è¯•çš„æ˜¯ä¸€ä¸ªåˆšå¼€å‘çš„æ–°åº”ç”¨ï¼Œå®ƒåªæœ‰å¾ˆå°‘çš„ç”¨æˆ·å’Œæ•°æ®ã€‚å¦‚æœæƒ³æµ‹è¯•è¯¥åº”ç”¨åœ¨è§„æ¨¡æ‰©å¼ åˆ°å¾ˆå¤§ä»¥åçš„æ€§èƒ½è¡¨ç°ï¼Œå°±åªèƒ½é€šè¿‡æ¨¡æ‹Ÿå¤§é‡çš„æ•°æ®å’Œå‹åŠ›æ¥è¿›è¡Œã€‚&lt;/p>
&lt;h2 id="221æµ‹è¯•ä½•ç§æŒ‡æ ‡">
 2.2.1ã€€æµ‹è¯•ä½•ç§æŒ‡æ ‡
 &lt;a class="anchor" href="#221%e6%b5%8b%e8%af%95%e4%bd%95%e7%a7%8d%e6%8c%87%e6%a0%87">#&lt;/a>
&lt;/h2>
&lt;p>åœ¨å¼€å§‹æ‰§è¡Œç”šè‡³æ˜¯åœ¨è®¾è®¡åŸºå‡†æµ‹è¯•ä¹‹å‰ï¼Œéœ€è¦å…ˆæ˜ç¡®æµ‹è¯•çš„ç›®æ ‡ã€‚æµ‹è¯•ç›®æ ‡å†³å®šäº†é€‰æ‹©ä»€ä¹ˆæ ·çš„æµ‹è¯•å·¥å…·å’ŒæŠ€æœ¯ï¼Œä»¥è·å¾—ç²¾ç¡®è€Œæœ‰æ„ä¹‰çš„æµ‹è¯•ç»“æœã€‚å¯ä»¥å°†æµ‹è¯•ç›®æ ‡ç»†åŒ–ä¸ºä¸€ç³»åˆ—çš„é—®é¢˜ï¼Œæ¯”å¦‚ï¼Œâ€œè¿™ç§CPUæ˜¯å¦æ¯”å¦å¤–ä¸€ç§è¦å¿«ï¼Ÿâ€ï¼Œæˆ–â€œæ–°ç´¢å¼•æ˜¯å¦æ¯”å½“å‰ç´¢å¼•æ€§èƒ½æ›´å¥½ï¼Ÿâ€&lt;/p>
&lt;p>æœ‰æ—¶å€™éœ€è¦ç”¨ä¸åŒçš„æ–¹æ³•æµ‹è¯•ä¸åŒçš„æŒ‡æ ‡ã€‚æ¯”å¦‚ï¼Œé’ˆå¯¹å»¶è¿Ÿï¼ˆlatencyï¼‰å’Œååé‡ï¼ˆthroughputï¼‰å°±éœ€è¦é‡‡ç”¨ä¸åŒçš„æµ‹è¯•æ–¹æ³•ã€‚&lt;/p>
&lt;p>è¯·è€ƒè™‘ä»¥ä¸‹æŒ‡æ ‡ï¼Œçœ‹çœ‹å¦‚ä½•æ»¡è¶³æµ‹è¯•çš„éœ€æ±‚ã€‚&lt;/p>
&lt;p>ååé‡&lt;/p>
&lt;p>ååé‡æŒ‡çš„æ˜¯å•ä½æ—¶é—´å†…çš„äº‹åŠ¡å¤„ç†æ•°ã€‚è¿™ä¸€ç›´æ˜¯ç»å…¸çš„æ•°æ®åº“åº”ç”¨æµ‹è¯•æŒ‡æ ‡ã€‚ä¸€äº›æ ‡å‡†çš„åŸºå‡†æµ‹è¯•è¢«å¹¿æ³›åœ°å¼•ç”¨ï¼Œå¦‚TPC-Cï¼ˆå‚è€ƒ&lt;em>&lt;a href="http://www.tpc.org">http://www.tpc.org&lt;/a>&lt;/em>ï¼‰ï¼Œè€Œä¸”å¾ˆå¤šæ•°æ®åº“å‚å•†éƒ½åŠªåŠ›äº‰å–åœ¨è¿™äº›æµ‹è¯•ä¸­å–å¾—å¥½æˆç»©ã€‚è¿™ç±»åŸºå‡†æµ‹è¯•ä¸»è¦é’ˆå¯¹åœ¨çº¿äº‹åŠ¡å¤„ç†ï¼ˆOLTPï¼‰çš„ååé‡ï¼Œéå¸¸é€‚ç”¨äºå¤šç”¨æˆ·çš„äº¤äº’å¼åº”ç”¨ã€‚å¸¸ç”¨çš„æµ‹è¯•å•ä½æ˜¯æ¯ç§’äº‹åŠ¡æ•°ï¼ˆTPSï¼‰ï¼Œæœ‰äº›ä¹Ÿé‡‡ç”¨æ¯åˆ†é’Ÿäº‹åŠ¡æ•°ï¼ˆTPMï¼‰ã€‚&lt;/p>
&lt;p>å“åº”æ—¶é—´æˆ–è€…å»¶è¿Ÿ&lt;/p>
&lt;p>è¿™ä¸ªæŒ‡æ ‡ç”¨äºæµ‹è¯•ä»»åŠ¡æ‰€éœ€çš„æ•´ä½“æ—¶é—´ã€‚æ ¹æ®å…·ä½“çš„åº”ç”¨ï¼Œæµ‹è¯•çš„æ—¶é—´å•ä½å¯èƒ½æ˜¯å¾®ç§’ã€æ¯«ç§’ã€ç§’æˆ–è€…åˆ†é’Ÿã€‚æ ¹æ®ä¸åŒçš„æ—¶é—´å•ä½å¯ä»¥è®¡ç®—å‡ºå¹³å‡å“åº”æ—¶é—´ã€æœ€å°å“åº”æ—¶é—´ã€æœ€å¤§å“åº”æ—¶é—´å’Œæ‰€å ç™¾åˆ†æ¯”ã€‚æœ€å¤§å“åº”æ—¶é—´é€šå¸¸æ„ä¹‰ä¸å¤§ï¼Œå› ä¸ºæµ‹è¯•æ—¶é—´è¶Šé•¿ï¼Œæœ€å¤§å“åº”æ—¶é—´ä¹Ÿå¯èƒ½è¶Šå¤§ã€‚è€Œä¸”å…¶ç»“æœé€šå¸¸ä¸å¯é‡å¤ï¼Œæ¯æ¬¡æµ‹è¯•éƒ½å¯èƒ½å¾—åˆ°ä¸åŒçš„æœ€å¤§å“åº”æ—¶é—´ã€‚å› æ­¤ï¼Œé€šå¸¸å¯ä»¥ä½¿ç”¨ç™¾åˆ†æ¯”å“åº”æ—¶é—´ï¼ˆpercentile response timeï¼‰æ¥æ›¿ä»£æœ€å¤§å“åº”æ—¶é—´ã€‚ä¾‹å¦‚ï¼Œå¦‚æœ95ï¼…çš„å“åº”æ—¶é—´éƒ½æ˜¯5æ¯«ç§’ï¼Œåˆ™è¡¨ç¤ºä»»åŠ¡åœ¨95ï¼…çš„æ—¶é—´æ®µå†…éƒ½å¯ä»¥åœ¨5æ¯«ç§’ä¹‹å†…å®Œæˆã€‚&lt;/p>
&lt;p>ä½¿ç”¨å›¾è¡¨æœ‰åŠ©äºç†è§£æµ‹è¯•ç»“æœã€‚å¯ä»¥å°†æµ‹è¯•ç»“æœç»˜åˆ¶æˆæŠ˜çº¿å›¾ï¼ˆæ¯”å¦‚å¹³å‡å€¼æŠ˜çº¿æˆ–è€…95ï¼…ç™¾åˆ†æ¯”æŠ˜çº¿ï¼‰æˆ–è€…æ•£ç‚¹å›¾ï¼Œç›´è§‚åœ°è¡¨ç°æ•°æ®ç»“æœé›†çš„åˆ†å¸ƒæƒ…å†µã€‚é€šè¿‡è¿™äº›å›¾å¯ä»¥å‘ç°é•¿æ—¶é—´æµ‹è¯•çš„è¶‹åŠ¿ã€‚æœ¬ç« åé¢å°†æ›´è¯¦ç»†åœ°è®¨è®ºè¿™ä¸€ç‚¹ã€‚&lt;/p>
&lt;p>å¹¶å‘æ€§&lt;/p>
&lt;p>å¹¶å‘æ€§æ˜¯ä¸€ä¸ªéå¸¸é‡è¦åˆç»å¸¸è¢«è¯¯è§£å’Œè¯¯ç”¨çš„æŒ‡æ ‡ã€‚ä¾‹å¦‚ï¼Œå®ƒç»å¸¸è¢«è¡¨ç¤ºæˆå¤šå°‘ç”¨æˆ·åœ¨åŒä¸€æ—¶é—´æµè§ˆä¸€ä¸ªWebç«™ç‚¹ï¼Œç»å¸¸ä½¿ç”¨çš„æŒ‡æ ‡æ˜¯æœ‰å¤šå°‘ä¸ªä¼šè¯(1)ã€‚ç„¶è€Œï¼ŒHTTPåè®®æ˜¯æ— çŠ¶æ€çš„ï¼Œå¤§å¤šæ•°ç”¨æˆ·åªæ˜¯ç®€å•åœ°è¯»å–æµè§ˆå™¨ä¸Šæ˜¾ç¤ºçš„ä¿¡æ¯ï¼Œè¿™å¹¶ä¸ç­‰åŒäºWebæœåŠ¡å™¨çš„å¹¶å‘æ€§ã€‚è€Œä¸”ï¼ŒWebæœåŠ¡å™¨çš„å¹¶å‘æ€§ä¹Ÿä¸ç­‰åŒäºæ•°æ®åº“çš„å¹¶å‘æ€§ï¼Œè€Œä»…ä»…åªè¡¨ç¤ºä¼šè¯å­˜å‚¨æœºåˆ¶å¯ä»¥å¤„ç†å¤šå°‘æ•°æ®çš„èƒ½åŠ›ã€‚WebæœåŠ¡å™¨çš„å¹¶å‘æ€§æ›´å‡†ç¡®çš„åº¦é‡æŒ‡æ ‡ï¼Œåº”è¯¥æ˜¯åœ¨ä»»æ„æ—¶é—´æœ‰å¤šå°‘åŒæ—¶å‘ç”Ÿçš„å¹¶å‘è¯·æ±‚ã€‚&lt;/p>
&lt;p>åœ¨åº”ç”¨çš„ä¸åŒç¯èŠ‚éƒ½å¯ä»¥æµ‹é‡ç›¸åº”çš„å¹¶å‘æ€§ã€‚WebæœåŠ¡å™¨çš„é«˜å¹¶å‘ï¼Œä¸€èˆ¬ä¹Ÿä¼šå¯¼è‡´æ•°æ®åº“çš„é«˜å¹¶å‘ï¼Œä½†æœåŠ¡å™¨é‡‡ç”¨çš„è¯­è¨€å’Œå·¥å…·é›†å¯¹æ­¤éƒ½ä¼šæœ‰å½±å“ã€‚æ³¨æ„ä¸è¦å°†åˆ›å»ºæ•°æ®åº“è¿æ¥å’Œå¹¶å‘æ€§ææ··æ·†ã€‚ä¸€ä¸ªè®¾è®¡è‰¯å¥½çš„åº”ç”¨ï¼ŒåŒæ—¶å¯ä»¥æ‰“å¼€æˆç™¾ä¸Šåƒä¸ªMySQLæ•°æ®åº“æœåŠ¡å™¨è¿æ¥ï¼Œä½†å¯èƒ½åŒæ—¶åªæœ‰å°‘æ•°è¿æ¥åœ¨æ‰§è¡ŒæŸ¥è¯¢ã€‚æ‰€ä»¥è¯´ï¼Œä¸€ä¸ªWebç«™ç‚¹â€œåŒæ—¶æœ‰50000ä¸ªç”¨æˆ·â€è®¿é—®ï¼Œå´å¯èƒ½åªæœ‰10ï½15ä¸ªå¹¶å‘è¯·æ±‚åˆ°MySQLæ•°æ®åº“ã€‚&lt;/p>
&lt;p>æ¢å¥è¯è¯´ï¼Œå¹¶å‘æ€§åŸºå‡†æµ‹è¯•éœ€è¦å…³æ³¨çš„æ˜¯æ­£åœ¨å·¥ä½œä¸­çš„å¹¶å‘æ“ä½œï¼Œæˆ–è€…æ˜¯åŒæ—¶å·¥ä½œä¸­çš„çº¿ç¨‹æ•°æˆ–è€…è¿æ¥æ•°ã€‚å½“å¹¶å‘æ€§å¢åŠ æ—¶ï¼Œéœ€è¦æµ‹é‡ååé‡æ˜¯å¦ä¸‹é™ï¼Œå“åº”æ—¶é—´æ˜¯å¦å˜é•¿ï¼Œå¦‚æœæ˜¯è¿™æ ·ï¼Œåº”ç”¨å¯èƒ½å°±æ— æ³•å¤„ç†å³°å€¼å‹åŠ›ã€‚&lt;/p>
&lt;p>å¹¶å‘æ€§çš„æµ‹é‡å®Œå…¨ä¸åŒäºå“åº”æ—¶é—´å’Œååé‡ã€‚å®ƒä¸åƒæ˜¯ä¸€ä¸ªç»“æœï¼Œè€Œæ›´åƒæ˜¯è®¾ç½®åŸºå‡†æµ‹è¯•çš„ä¸€ç§å±æ€§ã€‚å¹¶å‘æ€§æµ‹è¯•é€šå¸¸ä¸æ˜¯ä¸ºäº†æµ‹è¯•åº”ç”¨èƒ½è¾¾åˆ°çš„å¹¶å‘åº¦ï¼Œè€Œæ˜¯ä¸ºäº†æµ‹è¯•åº”ç”¨åœ¨ä¸åŒå¹¶å‘ä¸‹çš„æ€§èƒ½ã€‚å½“ç„¶ï¼Œæ•°æ®åº“çš„å¹¶å‘æ€§è¿˜æ˜¯éœ€è¦æµ‹é‡çš„ã€‚å¯ä»¥é€šè¿‡&lt;em>sysbench&lt;/em>æŒ‡å®š32ã€64æˆ–è€…128ä¸ªçº¿ç¨‹çš„æµ‹è¯•ï¼Œç„¶ååœ¨æµ‹è¯•æœŸé—´è®°å½•MySQLæ•°æ®åº“çš„Threads_runningçŠ¶æ€å€¼ã€‚åœ¨ç¬¬11ç« å°†è®¨è®ºè¿™ä¸ªæŒ‡æ ‡å¯¹å®¹é‡è§„åˆ’çš„å½±å“ã€‚&lt;/p>
&lt;p>å¯æ‰©å±•æ€§&lt;/p>
&lt;p>åœ¨ç³»ç»Ÿçš„ä¸šåŠ¡å‹åŠ›å¯èƒ½å‘ç”Ÿå˜åŒ–çš„æƒ…å†µä¸‹ï¼Œæµ‹è¯•å¯æ‰©å±•æ€§å°±éå¸¸å¿…è¦äº†ã€‚ç¬¬11ç« å°†æ›´è¿›ä¸€æ­¥è®¨è®ºå¯æ‰©å±•æ€§çš„è¯é¢˜ã€‚ç®€å•åœ°è¯´ï¼Œå¯æ‰©å±•æ€§æŒ‡çš„æ˜¯ï¼Œç»™ç³»ç»Ÿå¢åŠ ä¸€å€çš„å·¥ä½œï¼Œåœ¨ç†æƒ³æƒ…å†µä¸‹å°±èƒ½è·å¾—ä¸¤å€çš„ç»“æœï¼ˆå³ååé‡å¢åŠ ä¸€å€ï¼‰ã€‚æˆ–è€…è¯´ï¼Œç»™ç³»ç»Ÿå¢åŠ ä¸€å€çš„èµ„æºï¼ˆæ¯”å¦‚ä¸¤å€çš„CPUæ•°ï¼‰ï¼Œå°±å¯ä»¥è·å¾—ä¸¤å€çš„ååé‡ã€‚å½“ç„¶ï¼ŒåŒæ—¶æ€§èƒ½ï¼ˆå“åº”æ—¶é—´ï¼‰ä¹Ÿå¿…é¡»åœ¨å¯ä»¥æ¥å—çš„èŒƒå›´å†…ã€‚å¤§å¤šæ•°ç³»ç»Ÿæ˜¯æ— æ³•åšåˆ°å¦‚æ­¤ç†æƒ³çš„çº¿æ€§æ‰©å±•çš„ã€‚éšç€å‹åŠ›çš„å˜åŒ–ï¼Œååé‡å’Œæ€§èƒ½éƒ½å¯èƒ½è¶Šæ¥è¶Šå·®ã€‚&lt;/p>
&lt;p>å¯æ‰©å±•æ€§æŒ‡æ ‡å¯¹äºå®¹é‡è§„èŒƒéå¸¸æœ‰ç”¨ï¼Œå®ƒå¯ä»¥æä¾›å…¶ä»–æµ‹è¯•æ— æ³•æä¾›çš„ä¿¡æ¯ï¼Œæ¥å¸®åŠ©å‘ç°åº”ç”¨çš„ç“¶é¢ˆã€‚æ¯”å¦‚ï¼Œå¦‚æœç³»ç»Ÿæ˜¯åŸºäºå•ä¸ªç”¨æˆ·çš„å“åº”æ—¶é—´æµ‹è¯•ï¼ˆè¿™æ˜¯ä¸€ä¸ªå¾ˆç³Ÿç³•çš„æµ‹è¯•ç­–ç•¥ï¼‰è®¾è®¡çš„ï¼Œè™½ç„¶æµ‹è¯•çš„ç»“æœå¾ˆå¥½ï¼Œä½†å½“å¹¶å‘åº¦å¢åŠ æ—¶ï¼Œç³»ç»Ÿçš„æ€§èƒ½æœ‰å¯èƒ½å˜å¾—éå¸¸ç³Ÿç³•ã€‚è€Œä¸€ä¸ªåŸºäºä¸æ–­å¢åŠ ç”¨æˆ·è¿æ¥çš„æƒ…å†µä¸‹çš„å“åº”æ—¶é—´æµ‹è¯•åˆ™å¯ä»¥å‘ç°è¿™ä¸ªé—®é¢˜ã€‚&lt;/p>
&lt;p>ä¸€äº›ä»»åŠ¡ï¼Œæ¯”å¦‚ä»ç»†ç²’åº¦æ•°æ®åˆ›å»ºæ±‡æ€»è¡¨çš„æ‰¹é‡å·¥ä½œï¼Œéœ€è¦çš„æ˜¯å‘¨æœŸæ€§çš„å¿«é€Ÿå“åº”æ—¶é—´ã€‚å½“ç„¶ä¹Ÿå¯ä»¥æµ‹è¯•è¿™äº›ä»»åŠ¡çº¯ç²¹çš„å“åº”æ—¶é—´ï¼Œä½†è¦æ³¨æ„è€ƒè™‘è¿™äº›ä»»åŠ¡ä¹‹é—´çš„ç›¸äº’å½±å“ã€‚æ‰¹é‡å·¥ä½œå¯èƒ½å¯¼è‡´ç›¸äº’ä¹‹é—´æœ‰å½±å“çš„æŸ¥è¯¢æ€§èƒ½å˜å·®ï¼Œåä¹‹äº¦ç„¶ã€‚&lt;/p>
&lt;p>å½’æ ¹ç»“åº•ï¼Œåº”è¯¥æµ‹è¯•é‚£äº›å¯¹ç”¨æˆ·æ¥è¯´æœ€é‡è¦çš„æŒ‡æ ‡ã€‚å› æ­¤åº”è¯¥å°½å¯èƒ½åœ°å»æ”¶é›†ä¸€äº›éœ€æ±‚ï¼Œæ¯”å¦‚ï¼Œä»€ä¹ˆæ ·çš„å“åº”æ—¶é—´æ˜¯å¯ä»¥æ¥å—çš„ï¼ŒæœŸå¾…å¤šå°‘çš„å¹¶å‘æ€§ï¼Œç­‰ç­‰ã€‚ç„¶ååŸºäºè¿™äº›éœ€æ±‚æ¥è®¾è®¡åŸºå‡†æµ‹è¯•ï¼Œé¿å…ç›®å…‰çŸ­æµ…åœ°åªå…³æ³¨éƒ¨åˆ†æŒ‡æ ‡ï¼Œè€Œå¿½ç•¥å…¶ä»–æŒ‡æ ‡ã€‚&lt;/p>
&lt;h1 id="23åŸºå‡†æµ‹è¯•æ–¹æ³•">
 2.3ã€€åŸºå‡†æµ‹è¯•æ–¹æ³•
 &lt;a class="anchor" href="#23%e5%9f%ba%e5%87%86%e6%b5%8b%e8%af%95%e6%96%b9%e6%b3%95">#&lt;/a>
&lt;/h1>
&lt;p>åœ¨äº†è§£åŸºæœ¬æ¦‚å¿µä¹‹åï¼Œç°åœ¨å¯ä»¥æ¥å…·ä½“è®¨è®ºä¸€ä¸‹å¦‚ä½•è®¾è®¡å’Œæ‰§è¡ŒåŸºå‡†æµ‹è¯•ã€‚ä½†åœ¨è®¨è®ºå¦‚ä½•è®¾è®¡å¥½çš„åŸºå‡†æµ‹è¯•ä¹‹å‰ï¼Œå…ˆæ¥çœ‹ä¸€ä¸‹å¦‚ä½•é¿å…ä¸€äº›å¸¸è§çš„é”™è¯¯ï¼Œè¿™äº›é”™è¯¯å¯èƒ½å¯¼è‡´æµ‹è¯•ç»“æœæ— ç”¨æˆ–è€…ä¸ç²¾ç¡®ï¼š&lt;/p>
&lt;ul>
&lt;li>ä½¿ç”¨çœŸå®æ•°æ®çš„å­é›†è€Œä¸æ˜¯å…¨é›†ã€‚ä¾‹å¦‚åº”ç”¨éœ€è¦å¤„ç†å‡ ç™¾GBçš„æ•°æ®ï¼Œä½†æµ‹è¯•åªæœ‰1GBæ•°æ®ï¼›æˆ–è€…åªä½¿ç”¨å½“å‰æ•°æ®è¿›è¡Œæµ‹è¯•ï¼Œå´å¸Œæœ›æ¨¡æ‹Ÿæœªæ¥ä¸šåŠ¡å¤§å¹…åº¦å¢é•¿åçš„æƒ…å†µã€‚&lt;/li>
&lt;li>ä½¿ç”¨é”™è¯¯çš„æ•°æ®åˆ†å¸ƒã€‚ä¾‹å¦‚ä½¿ç”¨å‡åŒ€åˆ†å¸ƒçš„æ•°æ®æµ‹è¯•ï¼Œè€Œç³»ç»Ÿçš„çœŸå®æ•°æ®æœ‰å¾ˆå¤šçƒ­ç‚¹åŒºåŸŸï¼ˆéšæœºç”Ÿæˆçš„æµ‹è¯•æ•°æ®é€šå¸¸æ— æ³•æ¨¡æ‹ŸçœŸå®çš„æ•°æ®åˆ†å¸ƒï¼‰ã€‚&lt;/li>
&lt;li>ä½¿ç”¨ä¸çœŸå®çš„åˆ†å¸ƒå‚æ•°ï¼Œä¾‹å¦‚å‡å®šæ‰€æœ‰ç”¨æˆ·çš„ä¸ªäººä¿¡æ¯ï¼ˆprofileï¼‰éƒ½ä¼šè¢«å¹³å‡åœ°è¯»å–(2)ã€‚&lt;/li>
&lt;li>åœ¨å¤šç”¨æˆ·åœºæ™¯ä¸­ï¼Œåªåšå•ç”¨æˆ·çš„æµ‹è¯•ã€‚&lt;/li>
&lt;li>åœ¨å•æœåŠ¡å™¨ä¸Šæµ‹è¯•åˆ†å¸ƒå¼åº”ç”¨ã€‚&lt;/li>
&lt;li>ä¸çœŸå®ç”¨æˆ·è¡Œä¸ºä¸åŒ¹é…ã€‚ä¾‹å¦‚Webé¡µé¢ä¸­çš„â€œæ€è€ƒæ—¶é—´â€ã€‚çœŸå®ç”¨æˆ·åœ¨è¯·æ±‚åˆ°ä¸€ä¸ªé¡µé¢åä¼šé˜…è¯»ä¸€æ®µæ—¶é—´ï¼Œè€Œä¸æ˜¯ä¸åœé¡¿åœ°ä¸€ä¸ªæ¥ä¸€ä¸ªç‚¹å‡»ç›¸å…³é“¾æ¥ã€‚&lt;/li>
&lt;li>åå¤æ‰§è¡ŒåŒä¸€ä¸ªæŸ¥è¯¢ã€‚çœŸå®çš„æŸ¥è¯¢æ˜¯ä¸å°½ç›¸åŒçš„ï¼Œè¿™å¯èƒ½ä¼šå¯¼è‡´ç¼“å­˜å‘½ä¸­ç‡é™ä½ã€‚è€Œåå¤æ‰§è¡ŒåŒä¸€ä¸ªæŸ¥è¯¢åœ¨æŸç§ç¨‹åº¦ä¸Šï¼Œä¼šå…¨éƒ¨æˆ–è€…éƒ¨åˆ†ç¼“å­˜ç»“æœã€‚&lt;/li>
&lt;li>æ²¡æœ‰æ£€æŸ¥é”™è¯¯ã€‚å¦‚æœæµ‹è¯•çš„ç»“æœæ— æ³•å¾—åˆ°åˆç†çš„è§£é‡Šï¼Œæ¯”å¦‚ä¸€ä¸ªæœ¬åº”è¯¥å¾ˆæ…¢çš„æŸ¥è¯¢çªç„¶å˜å¿«äº†ï¼Œå°±åº”è¯¥æ£€æŸ¥æ˜¯å¦æœ‰é”™è¯¯äº§ç”Ÿã€‚å¦åˆ™å¯èƒ½åªæ˜¯æµ‹è¯•äº†MySQLæ£€æµ‹è¯­æ³•é”™è¯¯çš„é€Ÿåº¦äº†ã€‚åŸºå‡†æµ‹è¯•å®Œæˆåï¼Œä¸€å®šè¦æ£€æŸ¥ä¸€ä¸‹é”™è¯¯æ—¥å¿—ï¼Œè¿™åº”å½“æ˜¯åŸºæœ¬çš„è¦æ±‚ã€‚&lt;/li>
&lt;li>å¿½ç•¥äº†ç³»ç»Ÿé¢„çƒ­ï¼ˆwarm upï¼‰çš„è¿‡ç¨‹ã€‚ä¾‹å¦‚ç³»ç»Ÿé‡å¯åé©¬ä¸Šè¿›è¡Œæµ‹è¯•ã€‚æœ‰æ—¶å€™éœ€è¦äº†è§£ç³»ç»Ÿé‡å¯åéœ€è¦å¤šé•¿æ—¶é—´æ‰èƒ½è¾¾åˆ°æ­£å¸¸çš„æ€§èƒ½å®¹é‡ï¼Œè¦ç‰¹åˆ«ç•™æ„é¢„çƒ­çš„æ—¶é•¿ã€‚åè¿‡æ¥è¯´ï¼Œå¦‚æœè¦æƒ³åˆ†ææ­£å¸¸çš„æ€§èƒ½ï¼Œéœ€è¦æ³¨æ„ï¼Œè‹¥åŸºå‡†æµ‹è¯•åœ¨é‡å¯ä»¥åé©¬ä¸Šå¯åŠ¨ï¼Œåˆ™ç¼“å­˜æ˜¯å†·çš„ã€è¿˜æ²¡æœ‰æ•°æ®ï¼Œè¿™æ—¶å³ä½¿æµ‹è¯•çš„å‹åŠ›ç›¸åŒï¼Œå¾—åˆ°çš„ç»“æœä¹Ÿå’Œç¼“å­˜å·²ç»è£…æ»¡æ•°æ®æ—¶æ˜¯ä¸åŒçš„ã€‚&lt;/li>
&lt;li>ä½¿ç”¨é»˜è®¤çš„æœåŠ¡å™¨é…ç½®ã€‚ç¬¬3ç« å°†è¯¦ç»†åœ°è®¨è®ºæœåŠ¡å™¨çš„ä¼˜åŒ–é…ç½®ã€‚&lt;/li>
&lt;li>æµ‹è¯•æ—¶é—´å¤ªçŸ­ã€‚åŸºå‡†æµ‹è¯•éœ€è¦æŒç»­ä¸€å®šçš„æ—¶é—´ã€‚åé¢ä¼šç»§ç»­è®¨è®ºè¿™ä¸ªè¯é¢˜ã€‚&lt;/li>
&lt;/ul>
&lt;p>åªæœ‰é¿å…äº†ä¸Šè¿°é”™è¯¯ï¼Œæ‰èƒ½èµ°ä¸Šæ”¹è¿›æµ‹è¯•è´¨é‡çš„æ¼«æ¼«é•¿è·¯ã€‚&lt;/p></description></item><item><title>ç¬¬1ç« MySQLæ¶æ„ä¸å†å²</title><link>https://lwmfjc.github.io/zh/docs/technology/MySQL/_%E9%AB%98%E6%80%A7%E8%83%BDMySQL_/%E7%AC%AC1%E7%AB%A0MySQL%E6%9E%B6%E6%9E%84%E4%B8%8E%E5%8E%86%E5%8F%B2/</link><pubDate>Sun, 05 Jan 2025 08:42:11 +0800</pubDate><guid>https://lwmfjc.github.io/zh/docs/technology/MySQL/_%E9%AB%98%E6%80%A7%E8%83%BDMySQL_/%E7%AC%AC1%E7%AB%A0MySQL%E6%9E%B6%E6%9E%84%E4%B8%8E%E5%8E%86%E5%8F%B2/</guid><description>&lt;p>ç¬¬1ç« ã€€MySQLæ¶æ„ä¸å†å²&lt;/p>
&lt;p>å’Œå…¶ä»–æ•°æ®åº“ç³»ç»Ÿç›¸æ¯”ï¼ŒMySQLæœ‰ç‚¹ä¸ä¼—ä¸åŒï¼Œå®ƒçš„æ¶æ„å¯ä»¥åœ¨å¤šç§ä¸åŒåœºæ™¯ä¸­åº”ç”¨å¹¶å‘æŒ¥å¥½çš„ä½œç”¨ï¼Œä½†åŒæ—¶ä¹Ÿä¼šå¸¦æ¥ä¸€ç‚¹é€‰æ‹©ä¸Šçš„å›°éš¾ã€‚MySQLå¹¶ä¸å®Œç¾ï¼Œå´è¶³å¤Ÿçµæ´»ï¼Œèƒ½å¤Ÿé€‚åº”é«˜è¦æ±‚çš„ç¯å¢ƒï¼Œä¾‹å¦‚Webç±»åº”ç”¨ã€‚åŒæ—¶ï¼ŒMySQLæ—¢å¯ä»¥åµŒå…¥åˆ°åº”ç”¨ç¨‹åºä¸­ï¼Œä¹Ÿå¯ä»¥æ”¯æŒæ•°æ®ä»“åº“ã€å†…å®¹ç´¢å¼•å’Œéƒ¨ç½²è½¯ä»¶ã€é«˜å¯ç”¨çš„å†—ä½™ç³»ç»Ÿã€åœ¨çº¿äº‹åŠ¡å¤„ç†ç³»ç»Ÿï¼ˆOLTPï¼‰ç­‰å„ç§åº”ç”¨ç±»å‹ã€‚&lt;/p>
&lt;p>ä¸ºäº†å……åˆ†å‘æŒ¥MySQLçš„æ€§èƒ½å¹¶é¡ºåˆ©åœ°ä½¿ç”¨ï¼Œå°±å¿…é¡»ç†è§£å…¶è®¾è®¡ã€‚MySQLçš„çµæ´»æ€§ä½“ç°åœ¨å¾ˆå¤šæ–¹é¢ã€‚ä¾‹å¦‚ï¼Œä½ å¯ä»¥é€šè¿‡é…ç½®ä½¿å®ƒåœ¨ä¸åŒçš„ç¡¬ä»¶ä¸Šéƒ½è¿è¡Œå¾—å¾ˆå¥½ï¼Œä¹Ÿå¯ä»¥æ”¯æŒå¤šç§ä¸åŒçš„æ•°æ®ç±»å‹ã€‚ä½†æ˜¯ï¼ŒMySQLæœ€é‡è¦ã€æœ€ä¸ä¼—ä¸åŒçš„ç‰¹æ€§æ˜¯å®ƒçš„å­˜å‚¨å¼•æ“æ¶æ„ï¼Œè¿™ç§æ¶æ„çš„è®¾è®¡å°†æŸ¥è¯¢å¤„ç†ï¼ˆQuery Processingï¼‰åŠå…¶ä»–ç³»ç»Ÿä»»åŠ¡ï¼ˆServer Taskï¼‰å’Œæ•°æ®çš„å­˜å‚¨/æå–ç›¸åˆ†ç¦»ã€‚è¿™ç§å¤„ç†å’Œå­˜å‚¨åˆ†ç¦»çš„è®¾è®¡å¯ä»¥åœ¨ä½¿ç”¨æ—¶æ ¹æ®æ€§èƒ½ã€ç‰¹æ€§ï¼Œä»¥åŠå…¶ä»–éœ€æ±‚æ¥é€‰æ‹©æ•°æ®å­˜å‚¨çš„æ–¹å¼ã€‚&lt;/p>
&lt;p>æœ¬ç« æ¦‚è¦åœ°æè¿°äº†MySQLçš„æœåŠ¡å™¨æ¶æ„ã€å„ç§å­˜å‚¨å¼•æ“ä¹‹é—´çš„ä¸»è¦åŒºåˆ«ï¼Œä»¥åŠè¿™äº›åŒºåˆ«çš„é‡è¦æ€§ã€‚å¦å¤–ä¹Ÿä¼šå›é¡¾ä¸€ä¸‹MySQLçš„å†å²èƒŒæ™¯å’ŒåŸºå‡†æµ‹è¯•ï¼Œå¹¶è¯•å›¾é€šè¿‡ç®€åŒ–ç»†èŠ‚å’Œæ¼”ç¤ºæ¡ˆä¾‹æ¥è®¨è®ºMySQLçš„åŸç†ã€‚è¿™äº›è®¨è®ºæ— è®ºæ˜¯å¯¹æ•°æ®åº“ä¸€æ— æ‰€çŸ¥çš„æ–°æ‰‹ï¼Œè¿˜æ˜¯ç†ŸçŸ¥å…¶ä»–æ•°æ®åº“çš„ä¸“å®¶ï¼Œéƒ½ä¸æ— è£¨ç›Šã€‚&lt;/p>
&lt;h1 id="11mysqlé€»è¾‘æ¶æ„">
 1.1ã€€MySQLé€»è¾‘æ¶æ„
 &lt;a class="anchor" href="#11mysql%e9%80%bb%e8%be%91%e6%9e%b6%e6%9e%84">#&lt;/a>
&lt;/h1>
&lt;p>å¦‚æœèƒ½åœ¨å¤´è„‘ä¸­æ„å»ºå‡ºä¸€å¹…MySQLå„ç»„ä»¶ä¹‹é—´å¦‚ä½•ååŒå·¥ä½œçš„æ¶æ„å›¾ï¼Œå°±ä¼šæœ‰åŠ©äºæ·±å…¥ç†è§£MySQLæœåŠ¡å™¨ã€‚å›¾1-1å±•ç¤ºäº†MySQLçš„é€»è¾‘æ¶æ„å›¾ã€‚&lt;/p>
&lt;p>&lt;img src="img/000002.jpeg" alt="" />
&lt;strong>å›¾1-1ï¼šMySQLæœåŠ¡å™¨é€»è¾‘æ¶æ„å›¾&lt;/strong>&lt;/p>
&lt;p>æœ€ä¸Šå±‚çš„æœåŠ¡å¹¶ä¸æ˜¯MySQLæ‰€ç‹¬æœ‰çš„ï¼Œå¤§å¤šæ•°åŸºäºç½‘ç»œçš„å®¢æˆ·ç«¯/æœåŠ¡å™¨çš„å·¥å…·æˆ–è€…æœåŠ¡éƒ½æœ‰ç±»ä¼¼çš„æ¶æ„ã€‚æ¯”å¦‚è¿æ¥å¤„ç†ã€æˆæƒè®¤è¯ã€å®‰å…¨ç­‰ç­‰ã€‚&lt;/p>
&lt;p>ç¬¬äºŒå±‚æ¶æ„æ˜¯MySQLæ¯”è¾ƒæœ‰æ„æ€çš„éƒ¨åˆ†ã€‚å¤§å¤šæ•°MySQLçš„æ ¸å¿ƒæœåŠ¡åŠŸèƒ½éƒ½åœ¨è¿™ä¸€å±‚ï¼ŒåŒ…æ‹¬æŸ¥è¯¢è§£æã€åˆ†æã€ä¼˜åŒ–ã€ç¼“å­˜ä»¥åŠæ‰€æœ‰çš„å†…ç½®å‡½æ•°ï¼ˆä¾‹å¦‚ï¼Œæ—¥æœŸã€æ—¶é—´ã€æ•°å­¦å’ŒåŠ å¯†å‡½æ•°ï¼‰ï¼Œæ‰€æœ‰è·¨å­˜å‚¨å¼•æ“çš„åŠŸèƒ½éƒ½åœ¨è¿™ä¸€å±‚å®ç°ï¼šå­˜å‚¨è¿‡ç¨‹ã€è§¦å‘å™¨ã€è§†å›¾ç­‰ã€‚&lt;/p>
&lt;p>ç¬¬ä¸‰å±‚åŒ…å«äº†å­˜å‚¨å¼•æ“ã€‚å­˜å‚¨å¼•æ“è´Ÿè´£MySQLä¸­æ•°æ®çš„å­˜å‚¨å’Œæå–ã€‚å’ŒGNU/Linuxä¸‹çš„å„ç§æ–‡ä»¶ç³»ç»Ÿä¸€æ ·ï¼Œæ¯ä¸ªå­˜å‚¨å¼•æ“éƒ½æœ‰å®ƒçš„ä¼˜åŠ¿å’ŒåŠ£åŠ¿ã€‚æœåŠ¡å™¨é€šè¿‡APIä¸å­˜å‚¨å¼•æ“è¿›è¡Œé€šä¿¡ã€‚è¿™äº›æ¥å£å±è”½äº†ä¸åŒå­˜å‚¨å¼•æ“ä¹‹é—´çš„å·®å¼‚ï¼Œä½¿å¾—è¿™äº›å·®å¼‚å¯¹ä¸Šå±‚çš„æŸ¥è¯¢è¿‡ç¨‹é€æ˜ã€‚å­˜å‚¨å¼•æ“APIåŒ…å«å‡ åä¸ªåº•å±‚å‡½æ•°ï¼Œç”¨äºæ‰§è¡Œè¯¸å¦‚â€œå¼€å§‹ä¸€ä¸ªäº‹åŠ¡â€æˆ–è€…â€œæ ¹æ®ä¸»é”®æå–ä¸€è¡Œè®°å½•â€ç­‰æ“ä½œã€‚ä½†å­˜å‚¨å¼•æ“ä¸ä¼šå»è§£æSQL(1)ï¼Œä¸åŒå­˜å‚¨å¼•æ“ä¹‹é—´ä¹Ÿä¸ä¼šç›¸äº’é€šä¿¡ï¼Œè€Œåªæ˜¯ç®€å•åœ°å“åº”ä¸Šå±‚æœåŠ¡å™¨çš„è¯·æ±‚ã€‚&lt;/p>
&lt;h2 id="111è¿æ¥ç®¡ç†ä¸å®‰å…¨æ€§">
 1.1.1ã€€è¿æ¥ç®¡ç†ä¸å®‰å…¨æ€§
 &lt;a class="anchor" href="#111%e8%bf%9e%e6%8e%a5%e7%ae%a1%e7%90%86%e4%b8%8e%e5%ae%89%e5%85%a8%e6%80%a7">#&lt;/a>
&lt;/h2>
&lt;p>æ¯ä¸ªå®¢æˆ·ç«¯è¿æ¥éƒ½ä¼šåœ¨æœåŠ¡å™¨è¿›ç¨‹ä¸­æ‹¥æœ‰ä¸€ä¸ªçº¿ç¨‹ï¼Œè¿™ä¸ªè¿æ¥çš„æŸ¥è¯¢åªä¼šåœ¨è¿™ä¸ªå•ç‹¬çš„çº¿ç¨‹ä¸­æ‰§è¡Œï¼Œè¯¥çº¿ç¨‹åªèƒ½è½®æµåœ¨æŸä¸ªCPUæ ¸å¿ƒæˆ–è€…CPUä¸­è¿è¡Œã€‚æœåŠ¡å™¨ä¼šè´Ÿè´£ç¼“å­˜çº¿ç¨‹ï¼Œå› æ­¤ä¸éœ€è¦ä¸ºæ¯ä¸€ä¸ªæ–°å»ºçš„è¿æ¥åˆ›å»ºæˆ–è€…é”€æ¯çº¿ç¨‹(2)ã€‚&lt;/p>
&lt;p>å½“å®¢æˆ·ç«¯ï¼ˆåº”ç”¨ï¼‰è¿æ¥åˆ°MySQLæœåŠ¡å™¨æ—¶ï¼ŒæœåŠ¡å™¨éœ€è¦å¯¹å…¶è¿›è¡Œè®¤è¯ã€‚è®¤è¯åŸºäºç”¨æˆ·åã€åŸå§‹ä¸»æœºä¿¡æ¯å’Œå¯†ç ã€‚å¦‚æœä½¿ç”¨äº†å®‰å…¨å¥—æ¥å­—ï¼ˆSSLï¼‰çš„æ–¹å¼è¿æ¥ï¼Œè¿˜å¯ä»¥ä½¿ç”¨X.509è¯ä¹¦è®¤è¯ã€‚ä¸€æ—¦å®¢æˆ·ç«¯è¿æ¥æˆåŠŸï¼ŒæœåŠ¡å™¨ä¼šç»§ç»­éªŒè¯è¯¥å®¢æˆ·ç«¯æ˜¯å¦å…·æœ‰æ‰§è¡ŒæŸä¸ªç‰¹å®šæŸ¥è¯¢çš„æƒé™ï¼ˆä¾‹å¦‚ï¼Œæ˜¯å¦å…è®¸å®¢æˆ·ç«¯å¯¹worldæ•°æ®åº“çš„Countryè¡¨æ‰§è¡ŒSELECTè¯­å¥ï¼‰ã€‚&lt;/p>
&lt;h2 id="112ä¼˜åŒ–ä¸æ‰§è¡Œ">
 1.1.2ã€€ä¼˜åŒ–ä¸æ‰§è¡Œ
 &lt;a class="anchor" href="#112%e4%bc%98%e5%8c%96%e4%b8%8e%e6%89%a7%e8%a1%8c">#&lt;/a>
&lt;/h2>
&lt;p>MySQLä¼šè§£ææŸ¥è¯¢ï¼Œå¹¶åˆ›å»ºå†…éƒ¨æ•°æ®ç»“æ„ï¼ˆè§£ææ ‘ï¼‰ï¼Œç„¶åå¯¹å…¶è¿›è¡Œå„ç§ä¼˜åŒ–ï¼ŒåŒ…æ‹¬é‡å†™æŸ¥è¯¢ã€å†³å®šè¡¨çš„è¯»å–é¡ºåºï¼Œä»¥åŠé€‰æ‹©åˆé€‚çš„ç´¢å¼•ç­‰ã€‚ç”¨æˆ·å¯ä»¥é€šè¿‡ç‰¹æ®Šçš„å…³é”®å­—æç¤ºï¼ˆhintï¼‰ä¼˜åŒ–å™¨ï¼Œå½±å“å®ƒçš„å†³ç­–è¿‡ç¨‹ã€‚ä¹Ÿå¯ä»¥è¯·æ±‚ä¼˜åŒ–å™¨è§£é‡Šï¼ˆexplainï¼‰ä¼˜åŒ–è¿‡ç¨‹çš„å„ä¸ªå› ç´ ï¼Œä½¿ç”¨æˆ·å¯ä»¥çŸ¥é“æœåŠ¡å™¨æ˜¯å¦‚ä½•è¿›è¡Œä¼˜åŒ–å†³ç­–çš„ï¼Œå¹¶æä¾›ä¸€ä¸ªå‚è€ƒåŸºå‡†ï¼Œä¾¿äºç”¨æˆ·é‡æ„æŸ¥è¯¢å’Œschemaã€ä¿®æ”¹ç›¸å…³é…ç½®ï¼Œä½¿åº”ç”¨å°½å¯èƒ½é«˜æ•ˆè¿è¡Œã€‚ç¬¬6ç« æˆ‘ä»¬å°†è®¨è®ºæ›´å¤šä¼˜åŒ–å™¨çš„ç»†èŠ‚ã€‚&lt;/p>
&lt;p>ä¼˜åŒ–å™¨å¹¶ä¸å…³å¿ƒè¡¨ä½¿ç”¨çš„æ˜¯ä»€ä¹ˆå­˜å‚¨å¼•æ“ï¼Œä½†å­˜å‚¨å¼•æ“å¯¹äºä¼˜åŒ–æŸ¥è¯¢æ˜¯æœ‰å½±å“çš„ã€‚ä¼˜åŒ–å™¨ä¼šè¯·æ±‚å­˜å‚¨å¼•æ“æä¾›å®¹é‡æˆ–æŸä¸ªå…·ä½“æ“ä½œçš„å¼€é”€ä¿¡æ¯ï¼Œä»¥åŠè¡¨æ•°æ®çš„ç»Ÿè®¡ä¿¡æ¯ç­‰ã€‚ä¾‹å¦‚ï¼ŒæŸäº›å­˜å‚¨å¼•æ“çš„æŸç§ç´¢å¼•ï¼Œå¯èƒ½å¯¹ä¸€äº›ç‰¹å®šçš„æŸ¥è¯¢æœ‰ä¼˜åŒ–ã€‚å…³äºç´¢å¼•ä¸schemaçš„ä¼˜åŒ–ï¼Œè¯·å‚è§ç¬¬4ç« å’Œç¬¬5ç« ã€‚&lt;/p>
&lt;p>å¯¹äºSELECTè¯­å¥ï¼Œåœ¨è§£ææŸ¥è¯¢ä¹‹å‰ï¼ŒæœåŠ¡å™¨ä¼šå…ˆæ£€æŸ¥æŸ¥è¯¢ç¼“å­˜ï¼ˆQuery Cacheï¼‰ï¼Œå¦‚æœèƒ½å¤Ÿåœ¨å…¶ä¸­æ‰¾åˆ°å¯¹åº”çš„æŸ¥è¯¢ï¼ŒæœåŠ¡å™¨å°±ä¸å¿…å†æ‰§è¡ŒæŸ¥è¯¢è§£æã€ä¼˜åŒ–å’Œæ‰§è¡Œçš„æ•´ä¸ªè¿‡ç¨‹ï¼Œè€Œæ˜¯ç›´æ¥è¿”å›æŸ¥è¯¢ç¼“å­˜ä¸­çš„ç»“æœé›†ã€‚ç¬¬7ç« è¯¦ç»†è®¨è®ºäº†ç›¸å…³å†…å®¹ã€‚&lt;/p>
&lt;h1 id="12å¹¶å‘æ§åˆ¶">
 1.2ã€€å¹¶å‘æ§åˆ¶
 &lt;a class="anchor" href="#12%e5%b9%b6%e5%8f%91%e6%8e%a7%e5%88%b6">#&lt;/a>
&lt;/h1>
&lt;p>æ— è®ºä½•æ—¶ï¼Œåªè¦æœ‰å¤šä¸ªæŸ¥è¯¢éœ€è¦åœ¨åŒä¸€æ—¶åˆ»ä¿®æ”¹æ•°æ®ï¼Œéƒ½ä¼šäº§ç”Ÿå¹¶å‘æ§åˆ¶çš„é—®é¢˜ã€‚æœ¬ç« çš„ç›®çš„æ˜¯è®¨è®ºMySQLåœ¨ä¸¤ä¸ªå±‚é¢çš„å¹¶å‘æ§åˆ¶ï¼šæœåŠ¡å™¨å±‚ä¸å­˜å‚¨å¼•æ“å±‚ã€‚å¹¶å‘æ§åˆ¶æ˜¯ä¸€ä¸ªå†…å®¹åºå¤§çš„è¯é¢˜ï¼Œæœ‰å¤§é‡çš„ç†è®ºæ–‡çŒ®å¯¹å…¶è¿›è¡Œè¿‡è¯¦ç»†çš„è®ºè¿°ã€‚æœ¬ç« åªç®€è¦åœ°è®¨è®ºMySQLå¦‚ä½•æ§åˆ¶å¹¶å‘è¯»å†™ï¼Œå› æ­¤è¯»è€…éœ€è¦æœ‰ç›¸å…³çš„çŸ¥è¯†æ¥ç†è§£æœ¬ç« æ¥ä¸‹æ¥çš„å†…å®¹ã€‚&lt;/p>
&lt;p>ä»¥Unixç³»ç»Ÿçš„email boxä¸ºä¾‹ï¼Œå…¸å‹çš„&lt;em>mbox&lt;/em>æ–‡ä»¶æ ¼å¼æ˜¯éå¸¸ç®€å•çš„ã€‚ä¸€ä¸ª&lt;em>mbox&lt;/em>é‚®ç®±ä¸­çš„æ‰€æœ‰é‚®ä»¶éƒ½ä¸²è¡Œåœ¨ä¸€èµ·ï¼Œå½¼æ­¤é¦–å°¾ç›¸è¿ã€‚è¿™ç§æ ¼å¼å¯¹äºè¯»å–å’Œåˆ†æé‚®ä»¶ä¿¡æ¯éå¸¸å‹å¥½ï¼ŒåŒæ—¶æŠ•é€’é‚®ä»¶ä¹Ÿå¾ˆå®¹æ˜“ï¼Œåªè¦åœ¨æ–‡ä»¶æœ«å°¾é™„åŠ æ–°çš„é‚®ä»¶å†…å®¹å³å¯ã€‚&lt;/p>
&lt;p>ä½†å¦‚æœä¸¤ä¸ªè¿›ç¨‹åœ¨åŒä¸€æ—¶åˆ»å¯¹åŒä¸€ä¸ªé‚®ç®±æŠ•é€’é‚®ä»¶ï¼Œä¼šå‘ç”Ÿä»€ä¹ˆæƒ…å†µï¼Ÿæ˜¾ç„¶ï¼Œé‚®ç®±çš„æ•°æ®ä¼šè¢«ç ´åï¼Œä¸¤å°é‚®ä»¶çš„å†…å®¹ä¼šäº¤å‰åœ°é™„åŠ åœ¨é‚®ç®±æ–‡ä»¶çš„æœ«å°¾ã€‚è®¾è®¡è‰¯å¥½çš„é‚®ç®±æŠ•é€’ç³»ç»Ÿä¼šé€šè¿‡é”ï¼ˆlockï¼‰æ¥é˜²æ­¢æ•°æ®æŸåã€‚å¦‚æœå®¢æˆ·è¯•å›¾æŠ•é€’é‚®ä»¶ï¼Œè€Œé‚®ç®±å·²ç»è¢«å…¶ä»–å®¢æˆ·é”ä½ï¼Œé‚£å°±å¿…é¡»ç­‰å¾…ï¼Œç›´åˆ°é”é‡Šæ”¾æ‰èƒ½è¿›è¡ŒæŠ•é€’ã€‚&lt;/p>
&lt;p>è¿™ç§é”çš„æ–¹æ¡ˆåœ¨å®é™…åº”ç”¨ç¯å¢ƒä¸­è™½ç„¶å·¥ä½œè‰¯å¥½ï¼Œä½†å¹¶ä¸æ”¯æŒå¹¶å‘å¤„ç†ã€‚å› ä¸ºåœ¨ä»»æ„ä¸€ä¸ªæ—¶åˆ»ï¼Œåªæœ‰ä¸€ä¸ªè¿›ç¨‹å¯ä»¥ä¿®æ”¹é‚®ç®±çš„æ•°æ®ï¼Œè¿™åœ¨å¤§å®¹é‡çš„é‚®ç®±ç³»ç»Ÿä¸­æ˜¯ä¸ªé—®é¢˜ã€‚&lt;/p>
&lt;h2 id="121è¯»å†™é”">
 1.2.1ã€€è¯»å†™é”
 &lt;a class="anchor" href="#121%e8%af%bb%e5%86%99%e9%94%81">#&lt;/a>
&lt;/h2>
&lt;p>ä»é‚®ç®±ä¸­è¯»å–æ•°æ®æ²¡æœ‰è¿™æ ·çš„éº»çƒ¦ï¼Œå³ä½¿åŒä¸€æ—¶åˆ»å¤šä¸ªç”¨æˆ·å¹¶å‘è¯»å–ä¹Ÿä¸ä¼šæœ‰ä»€ä¹ˆé—®é¢˜ã€‚å› ä¸ºè¯»å–ä¸ä¼šä¿®æ”¹æ•°æ®ï¼Œæ‰€ä»¥ä¸ä¼šå‡ºé”™ã€‚ä½†å¦‚æœæŸä¸ªå®¢æˆ·æ­£åœ¨è¯»å–é‚®ç®±ï¼ŒåŒæ—¶å¦å¤–ä¸€ä¸ªç”¨æˆ·è¯•å›¾åˆ é™¤ç¼–å·ä¸º25çš„é‚®ä»¶ï¼Œä¼šäº§ç”Ÿä»€ä¹ˆç»“æœï¼Ÿç»“è®ºæ˜¯ä¸ç¡®å®šï¼Œè¯»çš„å®¢æˆ·å¯èƒ½ä¼šæŠ¥é”™é€€å‡ºï¼Œä¹Ÿå¯èƒ½è¯»å–åˆ°ä¸ä¸€è‡´çš„é‚®ç®±æ•°æ®ã€‚æ‰€ä»¥ï¼Œä¸ºå®‰å…¨èµ·è§ï¼Œå³ä½¿æ˜¯è¯»å–é‚®ç®±ä¹Ÿéœ€è¦ç‰¹åˆ«æ³¨æ„ã€‚&lt;/p>
&lt;p>å¦‚æœæŠŠä¸Šè¿°çš„é‚®ç®±å½“æˆæ•°æ®åº“ä¸­çš„ä¸€å¼ è¡¨ï¼ŒæŠŠé‚®ä»¶å½“æˆè¡¨ä¸­çš„ä¸€è¡Œè®°å½•ï¼Œå°±å¾ˆå®¹æ˜“çœ‹å‡ºï¼ŒåŒæ ·çš„é—®é¢˜ä¾ç„¶å­˜åœ¨ã€‚ä»å¾ˆå¤šæ–¹é¢æ¥è¯´ï¼Œé‚®ç®±å°±æ˜¯ä¸€å¼ ç®€å•çš„æ•°æ®åº“è¡¨ã€‚ä¿®æ”¹æ•°æ®åº“è¡¨ä¸­çš„è®°å½•ï¼Œå’Œåˆ é™¤æˆ–è€…ä¿®æ”¹é‚®ç®±ä¸­çš„é‚®ä»¶ä¿¡æ¯ï¼Œååˆ†ç±»ä¼¼ã€‚&lt;/p>
&lt;p>è§£å†³è¿™ç±»ç»å…¸é—®é¢˜çš„æ–¹æ³•å°±æ˜¯å¹¶å‘æ§åˆ¶ï¼Œå…¶å®éå¸¸ç®€å•ã€‚åœ¨å¤„ç†å¹¶å‘è¯»æˆ–è€…å†™æ—¶ï¼Œå¯ä»¥é€šè¿‡å®ç°ä¸€ä¸ªç”±ä¸¤ç§ç±»å‹çš„é”ç»„æˆçš„é”ç³»ç»Ÿæ¥è§£å†³é—®é¢˜ã€‚è¿™ä¸¤ç§ç±»å‹çš„é”é€šå¸¸è¢«ç§°ä¸ºå…±äº«é”ï¼ˆshared lockï¼‰å’Œæ’ä»–é”ï¼ˆexclusive lockï¼‰ï¼Œä¹Ÿå«è¯»é”ï¼ˆread lockï¼‰å’Œå†™é”ï¼ˆwrite lockï¼‰ã€‚&lt;/p>
&lt;p>è¿™é‡Œå…ˆä¸è®¨è®ºé”çš„å…·ä½“å®ç°ï¼Œæè¿°ä¸€ä¸‹é”çš„æ¦‚å¿µå¦‚ä¸‹ï¼šè¯»é”æ˜¯å…±äº«çš„ï¼Œæˆ–è€…è¯´æ˜¯ç›¸äº’ä¸é˜»å¡çš„ã€‚å¤šä¸ªå®¢æˆ·åœ¨åŒä¸€æ—¶åˆ»å¯ä»¥åŒæ—¶è¯»å–åŒä¸€ä¸ªèµ„æºï¼Œè€Œäº’ä¸å¹²æ‰°ã€‚å†™é”åˆ™æ˜¯æ’ä»–çš„ï¼Œä¹Ÿå°±æ˜¯è¯´ä¸€ä¸ªå†™é”ä¼šé˜»å¡å…¶ä»–çš„å†™é”å’Œè¯»é”ï¼Œè¿™æ˜¯å‡ºäºå®‰å…¨ç­–ç•¥çš„è€ƒè™‘ï¼Œåªæœ‰è¿™æ ·ï¼Œæ‰èƒ½ç¡®ä¿åœ¨ç»™å®šçš„æ—¶é—´é‡Œï¼Œåªæœ‰ä¸€ä¸ªç”¨æˆ·èƒ½æ‰§è¡Œå†™å…¥ï¼Œå¹¶é˜²æ­¢å…¶ä»–ç”¨æˆ·è¯»å–æ­£åœ¨å†™å…¥çš„åŒä¸€èµ„æºã€‚&lt;/p>
&lt;p>åœ¨å®é™…çš„æ•°æ®åº“ç³»ç»Ÿä¸­ï¼Œæ¯æ—¶æ¯åˆ»éƒ½åœ¨å‘ç”Ÿé”å®šï¼Œå½“æŸä¸ªç”¨æˆ·åœ¨ä¿®æ”¹æŸä¸€éƒ¨åˆ†æ•°æ®æ—¶ï¼ŒMySQLä¼šé€šè¿‡é”å®šé˜²æ­¢å…¶ä»–ç”¨æˆ·è¯»å–åŒä¸€æ•°æ®ã€‚å¤§å¤šæ•°æ—¶å€™ï¼ŒMySQLé”çš„å†…éƒ¨ç®¡ç†éƒ½æ˜¯é€æ˜çš„ã€‚&lt;/p>
&lt;h2 id="122é”ç²’åº¦">
 1.2.2ã€€é”ç²’åº¦
 &lt;a class="anchor" href="#122%e9%94%81%e7%b2%92%e5%ba%a6">#&lt;/a>
&lt;/h2>
&lt;p>ä¸€ç§æé«˜å…±äº«èµ„æºå¹¶å‘æ€§çš„æ–¹å¼å°±æ˜¯è®©é”å®šå¯¹è±¡æ›´æœ‰é€‰æ‹©æ€§ã€‚å°½é‡åªé”å®šéœ€è¦ä¿®æ”¹çš„éƒ¨åˆ†æ•°æ®ï¼Œè€Œä¸æ˜¯æ‰€æœ‰çš„èµ„æºã€‚æ›´ç†æƒ³çš„æ–¹å¼æ˜¯ï¼Œåªå¯¹ä¼šä¿®æ”¹çš„æ•°æ®ç‰‡è¿›è¡Œç²¾ç¡®çš„é”å®šã€‚ä»»ä½•æ—¶å€™ï¼Œåœ¨ç»™å®šçš„èµ„æºä¸Šï¼Œé”å®šçš„æ•°æ®é‡è¶Šå°‘ï¼Œåˆ™ç³»ç»Ÿçš„å¹¶å‘ç¨‹åº¦è¶Šé«˜ï¼Œåªè¦ç›¸äº’ä¹‹é—´ä¸å‘ç”Ÿå†²çªå³å¯ã€‚&lt;/p>
&lt;p>é—®é¢˜æ˜¯åŠ é”ä¹Ÿéœ€è¦æ¶ˆè€—èµ„æºã€‚é”çš„å„ç§æ“ä½œï¼ŒåŒ…æ‹¬è·å¾—é”ã€æ£€æŸ¥é”æ˜¯å¦å·²ç»è§£é™¤ã€é‡Šæ”¾é”ç­‰ï¼Œéƒ½ä¼šå¢åŠ ç³»ç»Ÿçš„å¼€é”€ã€‚å¦‚æœç³»ç»ŸèŠ±è´¹å¤§é‡çš„æ—¶é—´æ¥ç®¡ç†é”ï¼Œè€Œä¸æ˜¯å­˜å–æ•°æ®ï¼Œé‚£ä¹ˆç³»ç»Ÿçš„æ€§èƒ½å¯èƒ½ä¼šå› æ­¤å—åˆ°å½±å“ã€‚&lt;/p>
&lt;p>æ‰€è°“çš„é”ç­–ç•¥ï¼Œå°±æ˜¯åœ¨é”çš„å¼€é”€å’Œæ•°æ®çš„å®‰å…¨æ€§ä¹‹é—´å¯»æ±‚å¹³è¡¡ï¼Œè¿™ç§å¹³è¡¡å½“ç„¶ä¹Ÿä¼šå½±å“åˆ°æ€§èƒ½ã€‚å¤§å¤šæ•°å•†ä¸šæ•°æ®åº“ç³»ç»Ÿæ²¡æœ‰æä¾›æ›´å¤šçš„é€‰æ‹©ï¼Œä¸€èˆ¬éƒ½æ˜¯åœ¨è¡¨ä¸Šæ–½åŠ è¡Œçº§é”ï¼ˆrow-level lockï¼‰ï¼Œå¹¶ä»¥å„ç§å¤æ‚çš„æ–¹å¼æ¥å®ç°ï¼Œä»¥ä¾¿åœ¨é”æ¯”è¾ƒå¤šçš„æƒ…å†µä¸‹å°½å¯èƒ½åœ°æä¾›æ›´å¥½çš„æ€§èƒ½ã€‚&lt;/p>
&lt;p>è€ŒMySQLåˆ™æä¾›äº†å¤šç§é€‰æ‹©ã€‚æ¯ç§MySQLå­˜å‚¨å¼•æ“éƒ½å¯ä»¥å®ç°è‡ªå·±çš„é”ç­–ç•¥å’Œé”ç²’åº¦ã€‚åœ¨å­˜å‚¨å¼•æ“çš„è®¾è®¡ä¸­ï¼Œé”ç®¡ç†æ˜¯ä¸ªéå¸¸é‡è¦çš„å†³å®šã€‚å°†é”ç²’åº¦å›ºå®šåœ¨æŸä¸ªçº§åˆ«ï¼Œå¯ä»¥ä¸ºæŸäº›ç‰¹å®šçš„åº”ç”¨åœºæ™¯æä¾›æ›´å¥½çš„æ€§èƒ½ï¼Œä½†åŒæ—¶å´ä¼šå¤±å»å¯¹å¦å¤–ä¸€äº›åº”ç”¨åœºæ™¯çš„è‰¯å¥½æ”¯æŒã€‚å¥½åœ¨MySQLæ”¯æŒå¤šä¸ªå­˜å‚¨å¼•æ“çš„æ¶æ„ï¼Œæ‰€ä»¥ä¸éœ€è¦å•ä¸€çš„é€šç”¨è§£å†³æ–¹æ¡ˆã€‚ä¸‹é¢å°†ä»‹ç»ä¸¤ç§æœ€é‡è¦çš„é”ç­–ç•¥ã€‚&lt;/p>
&lt;h3 id="è¡¨é”table-lock">
 è¡¨é”ï¼ˆtable lockï¼‰
 &lt;a class="anchor" href="#%e8%a1%a8%e9%94%81table-lock">#&lt;/a>
&lt;/h3>
&lt;p>è¡¨é”æ˜¯MySQLä¸­æœ€åŸºæœ¬çš„é”ç­–ç•¥ï¼Œå¹¶ä¸”æ˜¯å¼€é”€æœ€å°çš„ç­–ç•¥ã€‚è¡¨é”éå¸¸ç±»ä¼¼äºå‰æ–‡æè¿°çš„é‚®ç®±åŠ é”æœºåˆ¶ï¼šå®ƒä¼šé”å®šæ•´å¼ è¡¨ã€‚ä¸€ä¸ªç”¨æˆ·åœ¨å¯¹è¡¨è¿›è¡Œå†™æ“ä½œï¼ˆæ’å…¥ã€åˆ é™¤ã€æ›´æ–°ç­‰ï¼‰å‰ï¼Œéœ€è¦å…ˆè·å¾—å†™é”ï¼Œè¿™ä¼šé˜»å¡å…¶ä»–ç”¨æˆ·å¯¹è¯¥è¡¨çš„æ‰€æœ‰è¯»å†™æ“ä½œã€‚åªæœ‰æ²¡æœ‰å†™é”æ—¶ï¼Œå…¶ä»–è¯»å–çš„ç”¨æˆ·æ‰èƒ½è·å¾—è¯»é”ï¼Œè¯»é”ä¹‹é—´æ˜¯ä¸ç›¸äº’é˜»å¡çš„ã€‚&lt;/p>
&lt;p>åœ¨ç‰¹å®šçš„åœºæ™¯ä¸­ï¼Œè¡¨é”ä¹Ÿå¯èƒ½æœ‰è‰¯å¥½çš„æ€§èƒ½ã€‚ä¾‹å¦‚ï¼ŒREAD LOCALè¡¨é”æ”¯æŒæŸäº›ç±»å‹çš„å¹¶å‘å†™æ“ä½œã€‚å¦å¤–ï¼Œå†™é”ä¹Ÿæ¯”è¯»é”æœ‰æ›´é«˜çš„ä¼˜å…ˆçº§ï¼Œå› æ­¤ä¸€ä¸ªå†™é”è¯·æ±‚å¯èƒ½ä¼šè¢«æ’å…¥åˆ°è¯»é”é˜Ÿåˆ—çš„å‰é¢ï¼ˆå†™é”å¯ä»¥æ’å…¥åˆ°é”é˜Ÿåˆ—ä¸­è¯»é”çš„å‰é¢ï¼Œåä¹‹è¯»é”åˆ™ä¸èƒ½æ’å…¥åˆ°å†™é”çš„å‰é¢ï¼‰ã€‚&lt;/p></description></item><item><title>ç¬¬13ç« äº‘ç«¯çš„MySQL</title><link>https://lwmfjc.github.io/zh/docs/technology/MySQL/_%E9%AB%98%E6%80%A7%E8%83%BDMySQL_/%E7%AC%AC13%E7%AB%A0%E4%BA%91%E7%AB%AF%E7%9A%84MySQL/</link><pubDate>Sun, 05 Jan 2025 08:42:07 +0800</pubDate><guid>https://lwmfjc.github.io/zh/docs/technology/MySQL/_%E9%AB%98%E6%80%A7%E8%83%BDMySQL_/%E7%AC%AC13%E7%AB%A0%E4%BA%91%E7%AB%AF%E7%9A%84MySQL/</guid><description>&lt;p>ç¬¬13ç« ã€€äº‘ç«¯çš„MySQL&lt;/p>
&lt;p>è®¸å¤šäººåœ¨äº‘ä¸­ä½¿ç”¨MySQLï¼Œæœ‰æ—¶å€™è§„æ¨¡è¿˜éå¸¸åºå¤§ï¼Œè¿™å¹¶ä¸å¥‡æ€ªã€‚ä»æˆ‘ä»¬çš„ç»éªŒæ¥çœ‹ï¼Œå¤§å¤šæ•°äººä½¿ç”¨çš„æ˜¯Amazon Web Serviceså¹³å°ï¼ˆAWSï¼‰ï¼šç‰¹åˆ«æ˜¯Amazonçš„å¼¹æ€§è®¡ç®—äº‘ï¼ˆElastic Compute Cloudï¼ŒEC2ï¼‰ï¼Œå¼¹æ€§å—å­˜å‚¨ï¼ˆElastic Block Storeï¼ŒEBSï¼‰ï¼Œä»¥åŠæ›´å°ä¼—çš„å…³ç³»æ•°æ®åº“æœåŠ¡ï¼ˆRelational Database Serviceï¼ŒRDSï¼‰ã€‚&lt;/p>
&lt;p>ä¸ºäº†ä¾¿äºè®¨è®ºMySQLåœ¨äº‘ä¸­çš„åº”ç”¨ï¼Œå¯ä»¥å°†å…¶ç²—ç•¥åˆ†ä¸ºä¸¤ç±»ã€‚&lt;/p>
&lt;p>IaaSï¼ˆåŸºç¡€è®¾æ–½å³æœåŠ¡ï¼‰&lt;/p>
&lt;p>&lt;em>Iaas&lt;/em>æ˜¯ç”¨äºæ‰˜ç®¡è‡ªæœ‰çš„MySQLæœåŠ¡å™¨çš„äº‘ç«¯åŸºç¡€æ¶æ„ã€‚å¯ä»¥åœ¨äº‘ç«¯è´­ä¹°è™šæ‹Ÿçš„æœåŠ¡å™¨èµ„æºæ¥å®‰è£…è¿è¡ŒMySQLå®ä¾‹ã€‚ä¹Ÿå¯ä»¥æ ¹æ®éœ€æ±‚éšæ„é…ç½®MySQLå’Œæ“ä½œç³»ç»Ÿï¼Œä½†æ²¡æœ‰æƒé™ä¹Ÿæ— æ³•çœ‹åˆ°å¤„äºåº•å±‚çš„ç‰©ç†ç¡¬ä»¶è®¾å¤‡ã€‚&lt;/p>
&lt;p>&lt;em>DBaaS&lt;/em>ï¼ˆæ•°æ®åº“å³æœåŠ¡ï¼‰&lt;/p>
&lt;p>MySQLæœ¬èº«ä½œä¸ºç”±äº‘ç«¯ç®¡ç†çš„èµ„æºã€‚ç”¨æˆ·éœ€è¦å…ˆæ”¶åˆ°MySQLæœåŠ¡å™¨çš„è®¿é—®è®¸å¯ï¼ˆé€šå¸¸æ˜¯ä¸€ä¸ªè¿æ¥ä¸²ï¼‰æ‰èƒ½è®¿é—®ã€‚ä¹Ÿå¯ä»¥é…ç½®ä¸€äº›MySQLé€‰é¡¹ï¼Œä½†æ²¡æœ‰æƒé™å»æ§åˆ¶æˆ–æŸ¥çœ‹åº•å±‚çš„æ“ä½œç³»ç»Ÿæˆ–è™šæ‹ŸæœåŠ¡å™¨å®ä¾‹ã€‚ä¾‹å¦‚ Amazonè¿è¡ŒMySQLçš„RDSã€‚å…¶ä¸­ä¸€äº›æœåŠ¡å™¨å¹¶éçœŸçš„ä½¿ç”¨MySQLï¼Œä½†å®ƒä»¬èƒ½å…¼å®¹MySQLåè®®å’ŒæŸ¥è¯¢è¯­è¨€ã€‚&lt;/p>
&lt;p>æˆ‘ä»¬è®¨è®ºçš„é‡ç‚¹ä¸»è¦é›†ä¸­åœ¨ç¬¬ä¸€ç±»ï¼šäº‘æ‰˜ç®¡å¹³å°ï¼Œä¾‹å¦‚AWSã€Rackspace Cloudä»¥åŠJoyent(1)ã€‚æœ‰è®¸å¤šå¾ˆå¥½çš„èµ„æºä»‹ç»å¦‚ä½•éƒ¨ç½²å’Œç®¡ç†MySQLåŠå…¶è¿è¡Œæ‰€éœ€è¦çš„èµ„æºï¼Œå¹¶ä¸”ä¹Ÿæœ‰éå¸¸å¤šçš„å¹³å°æ¥å®Œå…¨æ»¡è¶³è¿™æ ·çš„éœ€æ±‚ï¼Œæ‰€ä»¥æˆ‘ä»¬ä¸ä¼šå±•ç¤ºä»£ç æ ·ä¾‹æˆ–è®¨è®ºå…·ä½“çš„æ“ä½œæŠ€æœ¯ã€‚å› æ­¤ï¼Œæœ¬ç« å…³æ³¨çš„é‡ç‚¹æ˜¯ï¼Œåœ¨äº‘ç«¯è¿è¡ŒMySQLè¿˜æ˜¯åœ¨ä¼ ç»ŸæœåŠ¡å™¨ä¸Šéƒ¨ç½²MySQLï¼Œå®ƒä»¬åœ¨æœ€ç»ˆç»æµä¸Šå’Œæ€§èƒ½ç‰¹æ€§ä¸Šçš„å…³é”®åŒºåˆ«æ˜¯ä»€ä¹ˆã€‚æˆ‘ä»¬å‡å®šä½ å¯¹äº‘è®¡ç®—å¾ˆç†Ÿæ‚‰ã€‚è¿™é‡Œä¸æ˜¯å¯¹äº‘è®¡ç®—æ¦‚å¿µçš„ç®€å•ä»‹ç»ï¼Œæˆ‘ä»¬çš„ç›®çš„åªæ˜¯å¸®åŠ©é‚£äº›è¿˜ä¸ç†Ÿæ‚‰åœ¨äº‘ç«¯éƒ¨ç½²MySQLçš„ç”¨æˆ·åœ¨ä½¿ç”¨æ—¶é¿å…ä¸€äº›å¯èƒ½é‡åˆ°çš„é™·é˜±ã€‚&lt;/p>
&lt;p>ä¸€èˆ¬æ¥è¯´ï¼ŒMySQLèƒ½å¤Ÿåœ¨äº‘ä¸­å¾ˆå¥½åœ°è¿è¡Œã€‚åœ¨äº‘ä¸­è¿è¡ŒMySQLå¹¶ä¸æ¯”åœ¨å…¶ä»–å¹³å°å›°éš¾ï¼Œä½†æœ‰ä¸€äº›éå¸¸é‡è¦çš„å·®åˆ«ã€‚ä½ éœ€è¦æ³¨æ„è¿™äº›å·®åˆ«å¹¶æ®æ­¤è®¾è®¡åº”ç”¨å’Œæ¶æ„æ¥è·å¾—å¥½çš„æ•ˆæœã€‚æŸäº›åœºæ™¯ä¸‹åœ¨äº‘ç«¯æ‰˜ç®¡MySQLå¹¶ä¸æ˜¯éå¸¸é€‚åˆï¼Œæœ‰æ—¶å€™åˆ™å¾ˆé€‚åˆï¼Œä½†å¤§å¤šæ•°æ—¶å€™äº‘ä»…ä»…æ˜¯å¦å¤–ä¸€ä¸ªéƒ¨ç½²å¹³å°è€Œå·²ã€‚&lt;/p>
&lt;p>äº‘æ˜¯ä¸€ä¸ªéƒ¨ç½²å¹³å°ï¼Œè€Œä¸æ˜¯ä¸€ç§æ¶æ„ï¼Œç†è§£è¿™ä¸€ç‚¹å¾ˆé‡è¦ã€‚æ¶æ„ä¼šå—å¹³å°çš„å½±å“ï¼Œä½†å¹³å°å’Œæ¶æ„æ˜æ˜¾ä¸åŒã€‚å¦‚æœä½ æŠŠæ¶æ„å’Œå¹³å°ææ··äº†ï¼Œå°±å¯èƒ½ä¼šåšå‡ºä¸åˆé€‚çš„é€‰æ‹©è€Œç»™ä»¥åå¸¦æ¥éº»çƒ¦ã€‚è¿™ä¹Ÿæ­£æ˜¯æˆ‘ä»¬è¦èŠ±æ—¶é—´è®¨è®ºäº‘ç«¯çš„MySQLåˆ°åº•æœ‰ä»€ä¹ˆä¸åŒçš„åŸå› ã€‚&lt;/p>
&lt;h1 id="131äº‘çš„ä¼˜ç‚¹ç¼ºç‚¹å’Œç›¸å…³è¯¯è§£">
 13.1ã€€äº‘çš„ä¼˜ç‚¹ã€ç¼ºç‚¹å’Œç›¸å…³è¯¯è§£
 &lt;a class="anchor" href="#131%e4%ba%91%e7%9a%84%e4%bc%98%e7%82%b9%e7%bc%ba%e7%82%b9%e5%92%8c%e7%9b%b8%e5%85%b3%e8%af%af%e8%a7%a3">#&lt;/a>
&lt;/h1>
&lt;p>äº‘è®¡ç®—æœ‰è®¸å¤šä¼˜ç‚¹ï¼Œä½†å¾ˆå°‘æ˜¯ä¸ºMySQLç‰¹åˆ«è®¾è®¡ã€‚æœ‰ä¸€äº›ä¹¦ç±å·²ç»ä»‹ç»äº†ç›¸å…³çš„è¯é¢˜(2)ï¼Œè¿™é‡Œæˆ‘ä»¬ä¸å†èµ˜è¿°ã€‚ä¸è¿‡æˆ‘ä»¬ä¼šåˆ—å‡ºä¸€äº›æ¯”è¾ƒé‡è¦çš„æ¡ç›®ä¾›å‚è€ƒï¼Œå› ä¸ºæ¥ä¸‹æ¥ä¼šè®¨è®ºåˆ°äº‘è®¡ç®—çš„ç¼ºç‚¹ï¼Œæˆ‘ä»¬ä¸å¸Œæœ›ä½ è®¤ä¸ºæˆ‘ä»¬æ˜¯åœ¨è¿‡åˆ†è‹›æ±‚äº‘è®¡ç®—ã€‚&lt;/p>
&lt;ul>
&lt;li>äº‘æ˜¯ä¸€ç§å°†åŸºç¡€è®¾æ–½å¤–åŒ…å‡ºå»æ— é¡»è‡ªå·±ç®¡ç†çš„æ–¹æ³•ã€‚ä½ ä¸éœ€è¦å¯»æ‰¾ä¾›åº”å•†è´­ä¹°ç¡¬ä»¶ï¼Œä¹Ÿä¸éœ€è¦ç»´æŠ¤å’Œä¾›åº”å•†ä¹‹é—´çš„å…³ç³»ï¼Œæ›´æ— é¡»æ›¿æ¢å¤±æ•ˆçš„ç¡¬ç›˜é©±åŠ¨å™¨ç­‰ã€‚&lt;/li>
&lt;li>äº‘ä¸€èˆ¬æ˜¯æŒ‰ç…§å³ç”¨å³ä»˜çš„æ–¹å¼æ”¯ä»˜ï¼Œå¯ä»¥æŠŠå‰æœŸçš„å¤§é‡èµ„æœ¬æ”¯å‡ºè½¬æ¢ä¸ºæŒç»­çš„è¿è¥æˆæœ¬ã€‚&lt;/li>
&lt;li>éšç€ä¾›åº”å•†å‘å¸ƒæ–°çš„æœåŠ¡å’Œæˆæœ¬é™ä½ï¼Œäº‘æä¾›çš„ä»·å€¼è¶Šæ¥è¶Šå¤§ã€‚ä½ è‡ªå·±æ— é¡»åšä»»ä½•äº‹æƒ…ï¼ˆä¾‹å¦‚å‡çº§æœåŠ¡å™¨ï¼‰ï¼Œå°±å¯ä»¥ä»è¿™äº›æå‡ä¸­è·ç›Šï¼›éšç€æ—¶é—´æ¨ç§»ä½ ä¼šå¾ˆå®¹æ˜“åœ°è·å¾—æ›´å¤šæ›´å¥½çš„é€‰æ‹©å¹¶ä¸”è´¹ç”¨æ›´ä½ã€‚&lt;/li>
&lt;li>äº‘èƒ½å¤Ÿå¸®åŠ©ä½ è½»æ¾åœ°å‡†å¤‡å¥½æœåŠ¡å™¨å’Œå…¶ä»–èµ„æºï¼Œåœ¨ç”¨å®Œåç›´æ¥å°†å…¶å…³é—­ï¼Œè€Œæ— é¡»å…³æ³¨æ€ä¹ˆå¤„ç†å®ƒä»¬ï¼Œæˆ–è€…æ€ä¹ˆå–æ‰å®ƒä»¬æ”¶å›æˆæœ¬ã€‚&lt;/li>
&lt;li>äº‘ä»£è¡¨äº†å¯¹åŸºç¡€è®¾æ–½çš„å¦ä¸€ç§æ€è€ƒæ–¹å¼â€”â€”ä½œä¸ºé€šè¿‡APIæ¥å®šä¹‰å’Œæ§åˆ¶çš„èµ„æºâ€”â€”æ”¯æŒæ›´å¤šçš„è‡ªåŠ¨åŒ–æ“ä½œã€‚ä»â€œç§æœ‰äº‘â€ä¸­ä¹Ÿå¯ä»¥è·å¾—è¿™äº›å¥½å¤„ã€‚&lt;/li>
&lt;/ul>
&lt;p>å½“ç„¶ï¼Œä¸æ˜¯æ‰€æœ‰è·Ÿäº‘ç›¸å…³çš„ä¸œè¥¿éƒ½æ˜¯å¥½çš„ã€‚è¿™é‡Œæœ‰ä¸€äº›ç¼ºç‚¹å¯èƒ½ä¼šæ„æˆæŒ‘æˆ˜ï¼ˆåœ¨æœ¬ç« ç¨åéƒ¨åˆ†æˆ‘ä»¬ä¼šåˆ—å‡ºMySQLç‰¹æœ‰çš„ç¼ºç‚¹ï¼‰ã€‚&lt;/p>
&lt;ul>
&lt;li>èµ„æºæ˜¯å…±äº«å¹¶ä¸”ä¸å¯é¢„æµ‹çš„ï¼Œå®é™…ä¸Šä½ å¯ä»¥è·å¾—æ¯”ä½ æ”¯ä»˜çš„æ›´å¤šçš„èµ„æºã€‚è¿™å¬èµ·æ¥å¾ˆä¸é”™ï¼Œä½†å´å¯¼è‡´å®¹é‡è§„åˆ’å¾ˆéš¾åšã€‚å¦‚æœä½ åœ¨ä¸çŸ¥æƒ…çš„æƒ…å†µä¸‹è·å¾—äº†æ¯”ç†åº”äº«å—åˆ°çš„æ›´å¤šçš„è®¡ç®—èµ„æºï¼Œé‚£ä¹ˆå°±å­˜åœ¨è¿™æ ·çš„é£é™©ï¼šåˆ«äººä¹Ÿè®¸ä¼šç´¢è¦ä»–ä»¬åº”å¾—çš„èµ„æºï¼Œè¿™ä¼šä½¿ä½ çš„åº”ç”¨æ€§èƒ½é€€åŒ–åˆ°åº”æœ‰çš„æ°´å¹³ã€‚ä¸€èˆ¬æ¥è¯´ï¼Œå¾ˆéš¾ç¡®åˆ‡åœ°çŸ¥é“æœ¬æ¥åº”è¯¥å¾—åˆ°å¤šå°‘ï¼ˆèµ„æºï¼‰ï¼Œå¤§å¤šæ•°äº‘æ‰˜ç®¡æœåŠ¡æä¾›å•†ä¸ä¼šå¯¹æ­¤ç»™å‡ºç¡®åˆ‡çš„ç­”æ¡ˆã€‚&lt;/li>
&lt;li>æ— æ³•ä¿è¯å®¹é‡å’Œå¯ç”¨æ€§ã€‚ä½ å¯èƒ½ä»¥ä¸ºè¿˜å¯ä»¥è·å¾—æ–°å®ä¾‹ï¼Œä½†å¦‚æœä¾›åº”å•†å·²ç»è¶…é¢é”€å”®äº†å‘¢ï¼Ÿè¿™åœ¨æœ‰å¾ˆå¤šå…±äº«èµ„æºçš„æƒ…å†µä¸‹ä¼šå‘ç”Ÿï¼ŒåŒæ ·ä¹Ÿä¼šå‘ç”Ÿåœ¨äº‘ä¸­ã€‚&lt;/li>
&lt;li>è™šæ‹Ÿçš„å…±äº«èµ„æºå¯¼è‡´æ’æŸ¥æ•…éšœæ›´åŠ å›°éš¾ï¼Œç‰¹åˆ«æ˜¯åœ¨æ— æ³•è®¿é—®åº•å±‚ç‰©ç†ç¡¬ä»¶çš„æƒ…å†µä¸‹æ— æ³•æ£€æŸ¥å¹¶å¼„æ¸…åˆ°åº•å‘ç”Ÿäº†ä»€ä¹ˆã€‚ä¾‹å¦‚ï¼Œæˆ‘ä»¬æ›¾ç»çœ‹åˆ°è¿‡ä¸€äº›ç³»ç»Ÿçš„&lt;em>iostat&lt;/em>æ˜¾ç¤ºçš„I/Oå¾ˆæ­£å¸¸æˆ–è€…&lt;em>vmstat&lt;/em>æ˜¾ç¤ºçš„CPUå¾ˆæ­£å¸¸ï¼Œè€Œå½“å®é™…è¡¡é‡å®Œæˆä¸€ä¸ªä»»åŠ¡éœ€è¦çš„æ—¶é—´æ—¶ï¼Œèµ„æºå´è¢«ç³»ç»Ÿä¸Šçš„å…¶ä»–ä¸œè¥¿ä¸¥é‡å ç”¨äº†ã€‚å¦‚æœåœ¨äº‘å¹³å°ä¸Šå‡ºç°äº†æ€§èƒ½é—®é¢˜ï¼Œå°¤å…¶éœ€è¦å»ä»”ç»†åœ°åˆ†ææ£€æµ‹ã€‚å¦‚æœå¯¹æ­¤å¹¶ä¸æ“…é•¿ï¼Œå¯èƒ½å°±æ— æ³•ç¡®è®¤åˆ°åº•æ˜¯åº•å±‚ç³»ç»Ÿæ€§èƒ½å·®ï¼Œè¿˜æ˜¯ä½ åšäº†ä»€ä¹ˆäº‹æƒ…å¯¼è‡´åº”ç”¨å‡ºç°ä¸åˆç†çš„èµ„æºéœ€æ±‚ã€‚&lt;/li>
&lt;/ul>
&lt;p>æ€»çš„æ¥è¯´ï¼Œäº‘å¹³å°ä¸Šå¯¹æ€§èƒ½ã€å¯ç”¨æ€§å’Œå®¹é‡çš„é€æ˜æ€§å’Œæ§åˆ¶åŠ›éƒ½æœ‰æ‰€ä¸‹é™ã€‚æœ€åï¼Œè¿˜æœ‰ä¸€äº›å¯¹äº‘çš„è¯¯è§£éœ€è¦è®°ä½ã€‚&lt;/p>
&lt;p>äº‘å¤©ç”Ÿå…·å¤‡æ›´å¥½çš„å¯æ‰©å±•æ€§&lt;/p>
&lt;p>åº”ç”¨ã€äº‘çš„æ¶æ„ï¼Œä»¥åŠç®¡ç†äº‘æœåŠ¡çš„ç»„ç»‡æ˜¯ä¸æ˜¯éƒ½æ˜¯å¯æ‰©å±•çš„ã€‚äº‘å¹¶ä¸æ˜¯å¤©ç”Ÿå¯æ‰©å±•çš„ï¼Œäº‘ä¹Ÿä»…ä»…æ˜¯äº‘è€Œå·²ï¼Œé€‰æ‹©ä¸€ä¸ªå¯æ‰©å±•çš„å¹³å°å¹¶ä¸èƒ½è‡ªåŠ¨ä½¿åº”ç”¨å˜å¾—å¯æ‰©å±•ã€‚çš„ç¡®ï¼Œå¦‚æœäº‘æ‰˜ç®¡æä¾›å•†æ²¡æœ‰è¶…å”®ï¼Œé‚£ä¹ˆä½ å¯ä»¥æ ¹æ®éœ€æ±‚æ¥è´­ä¹°èµ„æºï¼Œä½†åœ¨éœ€è¦æ—¶èƒ½å¤Ÿè·å¾—èµ„æºä»…ä»…æ˜¯æ‰©å±•æ€§çš„ä¸€ä¸ªæ–¹é¢è€Œå·²ã€‚&lt;/p>
&lt;p>äº‘å¯ä»¥è‡ªåŠ¨æ”¹å–„ç”šè‡³ä¿è¯å¯ç”¨æ—¶é—´&lt;/p>
&lt;p>ä¸€èˆ¬æ¥è¯´ï¼Œä¸ªåˆ«åœ¨äº‘ç«¯æ‰˜ç®¡çš„æœåŠ¡å™¨æ¯”é‚£äº›ç»è¿‡è‰¯å¥½è®¾è®¡çš„ä¸“ç”¨åŸºç¡€è®¾æ–½æ›´å®¹æ˜“å‘ç”Ÿæ•…éšœæˆ–è¿è¡Œä¸­æ–­ã€‚ä½†æ˜¯è®¸å¤šäººå¹¶æ²¡æœ‰æ„è¯†åˆ°è¿™ä¸€ç‚¹ã€‚ä¾‹å¦‚ï¼Œæœ‰äººè¿™æ ·å†™é“ï¼šâ€œæˆ‘ä»¬å°†åŸºç¡€è®¾æ–½å‡çº§åˆ°åŸºäºäº‘æ„å»ºçš„ç³»ç»Ÿä»¥ä¿è¯100ï¼…çš„å¯ç”¨æ—¶é—´å’Œå¯æ‰©å±•æ€§â€ã€‚è€Œå°±åœ¨è¿™ä¹‹å‰AWSé­å—äº†ä¸¤æ¬¡å¤§è§„æ¨¡çš„è¿è¡Œä¸­æ–­æ•…éšœï¼Œå¯¼è‡´å¾ˆå¤§ä¸€éƒ¨åˆ†ç”¨æˆ·å—å½±å“ã€‚å¥½çš„æ¶æ„èƒ½å¤Ÿç”¨ä¸å¯é çš„ç»„ä»¶è®¾è®¡å‡ºå¯é çš„ç³»ç»Ÿï¼Œä½†é€šå¸¸æ›´å¯é çš„åŸºç¡€è®¾æ–½å¯ä»¥è·å¾—æ›´é«˜çš„å¯ç”¨æ€§ã€‚ï¼ˆå½“ç„¶ä¸å¯èƒ½æœ‰100ï¼…çš„å¯ç”¨æ—¶é—´çš„ç³»ç»Ÿã€‚ï¼‰&lt;/p>
&lt;p>å¦ä¸€æ–¹é¢ï¼Œè´­ä¹°äº‘è®¡ç®—æœåŠ¡ï¼Œå®é™…ä¸Šæ˜¯è´­ä¹°ä¸€ä¸ªç”±ä¸“å®¶æ„å»ºçš„å¹³å°ã€‚ä»–ä»¬å·²ç»è€ƒè™‘äº†è®¸å¤šåº•å±‚çš„ä¸œè¥¿ï¼Œè¿™æ„å‘³ç€ä½ å¯ä»¥æ›´ä¸“æ³¨äºä¸Šå±‚å·¥ä½œã€‚å¦‚æœæ„å»ºè‡ªå·±çš„å¹³å°è€Œå¯¹å…¶ä¸­çš„é‚£äº›ç»†ææœ«èŠ‚å¹¶ä¸ç²¾é€šï¼Œå°±å¯èƒ½çŠ¯ä¸€äº›åˆå­¦è€…çš„é”™è¯¯ï¼Œæ—©æ™šä¼šå¯¼è‡´ä¸€äº›å®•æœºæ—¶é—´ã€‚ä»è¿™ä¸€ç‚¹æ¥è¯´ï¼Œäº‘è®¡ç®—èƒ½å¤Ÿå¸®åŠ©æ”¹å–„å¯ç”¨æ—¶é—´ã€‚&lt;/p>
&lt;p>äº‘æ˜¯å”¯ä¸€èƒ½æä¾›[è¿™é‡Œå¡«å…¥ä»»æ„çš„ä¼˜ç‚¹]çš„ä¸œè¥¿&lt;/p>
&lt;p>äº‹å®ä¸Šï¼Œè®¸å¤šäº‘çš„ä¼˜ç‚¹æ˜¯ç»§æ‰¿è‡ªæ„å»ºäº‘å¹³å°æ‰€ç”¨åˆ°çš„æŠ€æœ¯ï¼Œå³ä½¿ä¸ä½¿ç”¨äº‘ä¹Ÿå¯ä»¥è·å¾—(3)ã€‚ä¾‹å¦‚ï¼Œé€šè¿‡ç®¡ç†å¾—å½“çš„è™šæ‹ŸåŒ–å’Œå®¹é‡è§„åˆ’ï¼Œå¯ä»¥åƒä»»ä½•ä¸€ä¸ªäº‘å¹³å°é‚£æ ·ç®€å•å¿«é€Ÿåœ°å¯åŠ¨ï¼ˆspin upï¼‰ä¸€å°æ–°çš„æœºå™¨ã€‚å®Œå…¨æ²¡å¿…è¦ä¸“é—¨ä½¿ç”¨äº‘æ¥åšåˆ°è¿™ä¸€ç‚¹ã€‚&lt;/p>
&lt;p>äº‘æ˜¯ä¸€ä¸ªâ€œé“¶å¼¹â€ï¼ˆsilver bulletï¼‰&lt;/p>
&lt;p>è™½ç„¶å¤§éƒ¨åˆ†äººä¼šè®¤ä¸ºè¿™å¾ˆè’è°¬ï¼Œä½†ç¡®å®æœ‰äººä¼šè¿™ä¹ˆè®¤ä¸ºã€‚å®é™…ä¸Šå®Œå…¨æ²¡æœ‰è¿™å›äº‹ã€‚&lt;/p>
&lt;p>æ— å¯å¦è®¤ï¼Œäº‘è®¡ç®—æä¾›äº†ç‹¬ç‰¹çš„ä¼˜ç‚¹ï¼Œéšç€æ—¶é—´çš„æ¨ç§»ï¼Œå…³äºäº‘è®¡ç®—æ˜¯ä»€ä¹ˆï¼Œä»¥åŠå®ƒä»¬åœ¨ä»€ä¹ˆæƒ…å†µä¸‹ä¼šæœ‰å¸®åŠ©ï¼Œæˆ‘ä»¬ä¼šè·å¾—æ›´å¤šçš„å…±è¯†ã€‚ä½†æœ‰ä¸€ç‚¹éå¸¸è‚¯å®šï¼šå®ƒæ˜¯å…¨æ–°çš„ï¼Œæˆ‘ä»¬ç°åœ¨æ‰€åšçš„ä»»ä½•é¢„æµ‹éƒ½æœªå¿…ç»å¾—èµ·æ—¶é—´çš„è€ƒéªŒã€‚æˆ‘ä»¬ä¼šåœ¨æœ¬ä¹¦è®¨è®ºç›¸å¯¹å®‰å…¨çš„éƒ¨åˆ†ï¼Œè€Œå°†å‰©ä¸‹çš„éƒ¨åˆ†ç•™ç»™è¯»è€…è®¨è®ºã€‚&lt;/p>
&lt;h1 id="132mysqlåœ¨äº‘ç«¯çš„ç»æµä»·å€¼">
 13.2ã€€MySQLåœ¨äº‘ç«¯çš„ç»æµä»·å€¼
 &lt;a class="anchor" href="#132mysql%e5%9c%a8%e4%ba%91%e7%ab%af%e7%9a%84%e7%bb%8f%e6%b5%8e%e4%bb%b7%e5%80%bc">#&lt;/a>
&lt;/h1>
&lt;p>åœ¨ä¸€äº›åœºæ™¯ä¸‹äº‘æ‰˜ç®¡æ¯”ä¼ ç»Ÿçš„æœåŠ¡å™¨éƒ¨ç½²æ–¹å¼æ›´ç»æµã€‚ä»¥æˆ‘ä»¬çš„ç»éªŒæ¥çœ‹ï¼Œäº‘æ‰˜ç®¡æ¯”è¾ƒé€‚åˆå°šå¤„äºåˆçº§é˜¶æ®µçš„ä¼ä¸šï¼Œæˆ–è€…é‚£äº›æŒç»­æ¥è§¦æ–°æ¦‚å¿µå¹¶ä¸”æœ¬è´¨ä¸Šæ˜¯ä»¥é€‚ç”¨ä¸ºä¸»çš„ä¼ä¸šï¼Œä¾‹å¦‚ç§»åŠ¨åº”ç”¨å¼€å‘è€…æˆ–æ¸¸æˆå¼€å‘è€…ã€‚è¿™äº›æŠ€æœ¯çš„å¸‚åœºéšç€ç§»åŠ¨è®¡ç®—çš„æ‰©å¼ å‡ºç°äº†çˆ†ç‚¸å¼å¢é•¿ï¼Œå¹¶ä¸”ä»ç„¶æ˜¯å¿«é€Ÿå‘å±•çš„é¢†åŸŸã€‚åœ¨è®¸å¤šæƒ…å†µä¸‹ï¼ŒæˆåŠŸçš„å› ç´ å¹¶ä¸ä¸ºå¼€å‘è€…æ‰€æ§åˆ¶ï¼Œä¾‹å¦‚å£å£ç›¸ä¼ çš„æ¨èæˆ–è€…æ°é€¢é‡è¦å›½é™…äº‹ä»¶çš„æ—¶æœºã€‚&lt;/p>
&lt;p>æˆ‘ä»¬å·²ç»å¸®åŠ©å¾ˆå¤šå…¬å¸åœ¨äº‘ä¸­æ„å»ºç§»åŠ¨åº”ç”¨ã€ç¤¾äº¤ç½‘ç»œä»¥åŠæ¸¸æˆåº”ç”¨ã€‚å…¶ä¸­ä¸€ä¸ªä»–ä»¬å¤§é‡ä½¿ç”¨çš„ç­–ç•¥æ˜¯å°½å¯èƒ½åˆå¿«åˆä¾¿å®œåœ°å¼€å‘å’Œå‘å¸ƒåº”ç”¨ã€‚å¦‚æœä¸€ä¸ªåº”ç”¨ç¢°å·§å˜å¾—æµè¡Œäº†ï¼Œå…¬å¸å°†æŠ•å…¥èµ„æºæ‰©å¤§å…¶è§„æ¨¡ï¼›å¦åˆ™å°±ä¼šå¾ˆå¿«ç»ˆç»“è¿™äº›åº”ç”¨ã€‚ä¸€äº›å…¬å¸æ„å»ºå¹¶å‘å¸ƒçš„åº”ç”¨çš„ç”Ÿå‘½å‘¨æœŸç”šè‡³åªæœ‰å‡ ä¸ªæ˜ŸæœŸï¼Œåœ¨è¿™æ ·çš„ç¯å¢ƒä¸‹ï¼Œå¯ä»¥æ¯«ä¸çŠ¹è±«åœ°é€‰æ‹©äº‘æ‰˜ç®¡ã€‚&lt;/p>
&lt;p>å¦‚æœæ˜¯ä¸€ä¸ªå°è§„æ¨¡çš„å…¬å¸ï¼Œå¯èƒ½æ— æ³•æä¾›è¶³å¤Ÿçš„ç¡¬ä»¶æ¥è‡ªå»ºæ•°æ®ä¸­å¿ƒä»¥æ»¡è¶³ä¸€ä¸ªéå¸¸æµè¡Œçš„Facebookåº”ç”¨çš„å‘å±•æ›²çº¿ã€‚æˆ‘ä»¬ä¹ŸååŠ©è¿‡ä¸€äº›å¤§å‹çš„Facebookåº”ç”¨è¿›è¡Œæ‰©å±•ï¼Œå®ƒä»¬èƒ½å¤Ÿä»¥ä»ŠäººæƒŠè®¶çš„é€Ÿåº¦å¢é•¿â€”â€”æœ‰æ—¶ç”šè‡³ä¼šå¿«åˆ°è®©ä¸€ä¸ªä¸»æœºæ‰˜ç®¡å…¬å¸è€—å°½èµ„æºã€‚æ›´ä¸ºä¸¥é‡çš„æ˜¯ï¼Œè¿™äº›åº”ç”¨çš„å¢é•¿æ˜¯å®Œå…¨æ— æ³•é¢„æµ‹çš„ï¼›å®ƒä»¬å¯èƒ½åªæœ‰æå°‘é‡çš„ç”¨æˆ·ï¼ˆä¹Ÿå¯èƒ½çªç„¶æœ‰äº†çˆ†ç‚¸æ€§çš„ç”¨æˆ·æ•°é‡å¢é•¿ï¼‰ã€‚æˆ‘ä»¬åœ¨æ•°æ®ä¸­å¿ƒå’Œäº‘ä¸­éƒ½é‡åˆ°è¿‡è¿™æ ·çš„åº”ç”¨ã€‚å¦‚æœæ˜¯ä¸€ä¸ªå°å…¬å¸ï¼Œäº‘å¯ä»¥å¸®ä½ é¿å…å‰æœŸå¿«é€Ÿæ³¨å…¥å¤§é‡çš„èµ„é‡‘æ¥è·å¾—æ›´å¿«æ›´å¤§è§„æ¨¡çš„é£é™©ã€‚&lt;/p>
&lt;p>äº‘çš„å¦ä¸€ç§æ½œåœ¨çš„å¤§ç”¨é€”æ˜¯è¿è¡Œä¸æ˜¯å¾ˆé‡è¦çš„åŸºç¡€è®¾æ–½ï¼Œä¾‹å¦‚é›†æˆç¯å¢ƒã€å¼€å‘æµ‹è¯•å¹³å°ï¼Œä»¥åŠè¯„ä¼°ç¯å¢ƒã€‚å‡è®¾éƒ¨ç½²å‘¨æœŸæ˜¯ä¸¤ä¸ªæ˜ŸæœŸã€‚ä½ ä¼šæ¯å¤©æ¯ä¸ªå°æ—¶éƒ½æµ‹è¯•éƒ¨ç½²ä¸€æ¬¡ï¼Œè¿˜æ˜¯åªåœ¨é¡¹ç›®æœ€åçš„å†²åˆºæ—¶æµ‹è¯•ï¼Ÿè®¸å¤šç”¨æˆ·åªæ˜¯å¶å°”éœ€è¦ç­¹åˆ’å’Œéƒ¨ç½²æµ‹è¯•ç¯å¢ƒã€‚åœ¨è¿™ç§åœºæ™¯ä¸‹ï¼Œäº‘å¯ä»¥å¸®åŠ©èŠ‚çº¦ä¸å°‘é’±ã€‚&lt;/p>
&lt;p>ä»¥ä¸‹æ˜¯æˆ‘ä»¬ä½¿ç”¨äº‘çš„ä¸¤ç§æ–¹å¼ã€‚ç¬¬ä¸€ä¸ªæ˜¯ä½œä¸ºæˆ‘ä»¬å¯¹æŠ€æœ¯èŒå‘˜é¢è¯•çš„ä¸€éƒ¨åˆ†ï¼Œæˆ‘ä»¬ä¼šè¯¢é—®å¦‚ä½•è§£å†³ä¸€äº›å®é™…çš„é—®é¢˜ã€‚æˆ‘ä»¬ä½¿ç”¨AMIï¼ˆAmazon Machine Imagesï¼‰æ¥æ¨¡æ‹Ÿä¸€äº›è¢«â€œç ´åâ€çš„æœºå™¨ï¼Œç„¶åè®©æ±‚èŒè€…ç™»å½•å¹¶åœ¨æœåŠ¡å™¨ä¸Šæ‰§è¡Œä¸€ç³»åˆ—ä»»åŠ¡ã€‚æˆ‘ä»¬ä¸å¿…å¼€æ”¾ä»–ä»¬åˆ°å†…éƒ¨ç½‘ç»œçš„æˆæƒï¼Œè¿™ç§æ–¹æ¡ˆæ˜¾ç„¶è¦æ–¹ä¾¿å¾—å¤šã€‚å¦ä¸€ä¸ªæ˜¯ä½œä¸ºæ–°é¡¹ç›®çš„å·¥ä½œå¹³å°å’Œå¼€å‘æœåŠ¡å™¨ã€‚æœ‰ä¸€ä¸ªè¿™æ ·çš„é¡¹ç›®å·²ç»åœ¨ä¸€å°äº‘ç«¯å¼€å‘æœåŠ¡å™¨ä¸Šè¿è¡Œäº†æ•°ä¸ªæœˆï¼Œè€ŒèŠ±è´¹ä¸è¶³ä¸€ç¾å…ƒï¼è¿™åœ¨æˆ‘ä»¬è‡ªå·±çš„åŸºç¡€è®¾æ–½ä¸Šæ˜¯ä¸å¯èƒ½åšåˆ°çš„ã€‚å•æ˜¯å‘é€ä¸€å°é‚®ä»¶ç»™ç³»ç»Ÿç®¡ç†å‘˜ç”³è¯·å¼€å‘æœåŠ¡å™¨çš„æ—¶é—´ä»·å€¼å°±ä¸æ­¢ä¸€ç¾å…ƒã€‚&lt;/p>
&lt;p>ä½†æ˜¯å¦ä¸€æ–¹é¢ï¼Œäº‘æ‰˜ç®¡å¯¹äºé•¿æœŸé¡¹ç›®è€Œè¨€å¯èƒ½ä¼šæ›´åŠ æ˜‚è´µã€‚å¦‚æœæ‰“ç®—é•¿è¿œåœ°ä½¿ç”¨äº‘ï¼Œå°±éœ€è¦èŠ±æ—¶é—´æ¥è®¡ç®—ä¸€ä¸‹ï¼ˆå®ƒæ˜¯å¦åˆ’ç®—ï¼‰ã€‚é™¤äº†çŒœæƒ³æœªæ¥çš„åˆ›æ–°èƒ½ç»™äº‘è®¡ç®—å’Œå•†ç”¨ç¡¬ä»¶å¸¦æ¥ä»€ä¹ˆï¼Œè¿˜éœ€è¦åšåŸºå‡†æµ‹è¯•ä»¥åŠä¸€ä¸ªå®Œæ•´çš„æ€»ä½“æŒæœ‰æˆæœ¬ï¼ˆTCOï¼‰è´¦å•ã€‚ä¸ºäº†ç†æ¸…äº‹æƒ…çš„æœ¬è´¨å¹¶è€ƒè™‘å…¨é¢æ‰€æœ‰ç›¸å…³çš„ç»†èŠ‚ï¼Œä½ éœ€è¦æŠŠæ‰€æœ‰çš„äº‹æƒ…æœ€ç»ˆå½’ç»“ä¸ºä¸€ä¸ªæ•°å­—ï¼šæ¯ç¾å…ƒçš„ä¸šåŠ¡äº¤æ˜“æ•°ã€‚äº‹æƒ…å˜åŒ–å¾—å¤ªå¿«ï¼Œæ‰€ä»¥æˆ‘ä»¬å°†è¿™ä¸ªç•™ç»™è¯»è€…æ€è€ƒã€‚&lt;/p>
&lt;h1 id="133äº‘ä¸­çš„mysqlçš„å¯æ‰©å±•æ€§å’Œé«˜å¯ç”¨æ€§">
 13.3ã€€äº‘ä¸­çš„MySQLçš„å¯æ‰©å±•æ€§å’Œé«˜å¯ç”¨æ€§
 &lt;a class="anchor" href="#133%e4%ba%91%e4%b8%ad%e7%9a%84mysql%e7%9a%84%e5%8f%af%e6%89%a9%e5%b1%95%e6%80%a7%e5%92%8c%e9%ab%98%e5%8f%af%e7%94%a8%e6%80%a7">#&lt;/a>
&lt;/h1>
&lt;p>æ­£å¦‚æˆ‘ä»¬ä¹‹å‰æåˆ°çš„ï¼ŒMySQLå¹¶ä¸ä¼šåœ¨äº‘ç«¯è‡ªåŠ¨å˜å¾—æ›´å…·æ‰©å±•æ€§ã€‚äº‹å®ä¸Šï¼Œå¦‚æœæœºå™¨çš„æ€§èƒ½è¾ƒå·®ï¼Œä¼šå¯¼è‡´è¿‡æ—©ä½¿ç”¨æ¨ªå‘æ‰©å±•ç­–ç•¥ã€‚å†µä¸”äº‘æ‰˜ç®¡æœåŠ¡å™¨ç›¸æ¯”ä¸“ç”¨çš„ç¡¬ä»¶å¯é æ€§å’Œå¯é¢„æµ‹æ€§è¦æ›´å·®äº›ï¼Œæ‰€ä»¥æƒ³åœ¨äº‘ç«¯è·å¾—é«˜å¯ç”¨æ€§éœ€è¦æ›´å¤šçš„åˆ›æ–°ã€‚&lt;/p>
&lt;p>ä½†æ˜¯æ€»çš„æ¥è¯´ï¼Œåœ¨äº‘ç«¯ä¸­æ‰©å±•MySQLå’Œåœ¨å…¶ä»–åœ°æ–¹æ‰©å±•æ²¡æœ‰å¤ªå¤šçš„å·®åˆ«ã€‚æœ€å¤§çš„ä¸åŒå°±æ˜¯æŒ‰éœ€æä¾›æœåŠ¡å™¨çš„èƒ½åŠ›ã€‚ä½†æ˜¯ä¹Ÿæœ‰æŸäº›é™åˆ¶ä¼šå¯¼è‡´æ‰©å±•å’Œé«˜å¯ç”¨å®ç°èµ·æ¥æœ‰ç‚¹éº»çƒ¦ï¼Œè‡³å°‘åœ¨æœ‰äº›äº‘ç¯å¢ƒä¸­æ˜¯è¿™æ ·çš„ã€‚ä¾‹å¦‚ï¼Œåœ¨AWSäº‘å¹³å°ä¸­ï¼Œæ— æ³•ä½¿ç”¨ç±»ä¼¼è™šæ‹ŸIPåœ°å€çš„åŠŸèƒ½æ¥å®Œæˆå¿«é€ŸåŸå­æ•…éšœè½¬ç§»ã€‚åƒè¿™ç§å¯¹èµ„æºçš„æœ‰é™æ§åˆ¶æ„å‘³ç€ä½ éœ€è¦ä½¿ç”¨å…¶ä»–åŠæ³•ï¼Œä¾‹å¦‚ä»£ç†ã€‚ï¼ˆScaleBaseä¹Ÿå€¼å¾—å»çœ‹çœ‹ã€‚ï¼‰&lt;/p>
&lt;p>äº‘å¦å¤–ä¸€ä¸ªè¿·æƒ‘äººçš„åœ°æ–¹æ˜¯æ¢¦æƒ³ä¸­çš„è‡ªåŠ¨æ‰©å±•â€”â€”å°±æ˜¯æ ¹æ®éœ€æ±‚çš„å¢åŠ æˆ–å‡å°‘æ¥å¯åŠ¨æˆ–å…³é—­å®ä¾‹ã€‚å°½ç®¡å¯¹äºè¯¸å¦‚WebæœåŠ¡å™¨è¿™æ ·çš„æ— çŠ¶æ€éƒ¨åˆ†æ˜¯å¯è¡Œçš„ï¼Œä½†å¯¹äºæ•°æ®åº“æœåŠ¡å™¨è€Œè¨€åˆ™å¾ˆéš¾åšåˆ°ï¼Œå› ä¸ºå®ƒæ˜¯æœ‰çŠ¶æ€çš„ã€‚å¯¹äºä¸€äº›ç‰¹å®šçš„åœºæ™¯ï¼Œä¾‹å¦‚ä»¥è¯»ä¸ºä¸»çš„åº”ç”¨ï¼Œå¯ä»¥é€šè¿‡å¢åŠ å¤‡åº“çš„æ–¹å¼æ¥è·å¾—æœ‰é™çš„è‡ªåŠ¨æ‰©å±•(4)ï¼Œä½†è¿™å¹¶ä¸æ˜¯ä¸€ä¸ªé€šç”¨çš„è§£å†³æ–¹æ¡ˆã€‚å®é™…ä¸Šï¼Œè™½ç„¶è®¸å¤šåº”ç”¨åœ¨Webå±‚ä½¿ç”¨äº†è‡ªåŠ¨æ‰©å±•ï¼Œä½†MySQLå¹¶ä¸å…·å¤‡åœ¨ä¸€ä¸ªæ— å…±äº«ï¼ˆShared Nothingï¼‰é›†ç¾¤ä¸­çš„å¯¹ç­‰è§’è‰²æœåŠ¡å™¨ä¹‹é—´è¿ç§»çš„èƒ½åŠ›ã€‚ä½ å¯ä»¥é€šè¿‡åˆ†ç‰‡æ¶æ„æ¥è‡ªåŠ¨é‡æ–°åˆ†ç‰‡å¹¶è‡ªåŠ¨å¢é•¿æˆ–æ”¶ç¼©(5)ï¼Œä½†MySQLæœ¬èº«æ˜¯æ— æ³•è‡ªåŠ¨æ‰©å±•çš„ã€‚&lt;/p>
&lt;p>äº‹å®ä¸Šï¼Œå› ä¸ºæ•°æ®åº“é€šå¸¸æ˜¯ä¸€ä¸ªåº”ç”¨ç³»ç»Ÿä¸­ä¸»è¦æˆ–å”¯ä¸€çš„æœ‰çŠ¶æ€å¹¶ä¸”æŒä¹…åŒ–çš„ç»„ä»¶ï¼Œæ‰€ä»¥æŠŠåº”ç”¨æœåŠ¡è¿ç§»åˆ°äº‘ç«¯æ˜¯å¾ˆæ™®éçš„äº‹æƒ…ï¼Œå› ä¸ºé™¤æ•°æ®åº“ä¹‹å¤–çš„æ‰€æœ‰éƒ¨åˆ†éƒ½å¯ä»¥ä»äº‘ä¸­æ”¶ç›Šâ€”â€”WebæœåŠ¡å™¨ã€å·¥ä½œé˜Ÿåˆ—æœåŠ¡å™¨ã€ç¼“å­˜ç­‰â€”â€”è€ŒMySQLåªéœ€è¦å¤„ç†å‰©ä¸‹çš„ä¸œè¥¿ã€‚æ¯•ç«Ÿï¼Œæ•°æ®åº“å¹¶éä¸–ç•Œçš„ä¸­å¿ƒã€‚å¦‚æœåº”ç”¨ç³»ç»Ÿå…¶ä»–éƒ¨åˆ†è·å¾—çš„å¥½å¤„ï¼Œè¶…è¿‡äº†è®©MySQLè¿è¡Œå¾—è¶³å¤Ÿå¥½è€ŒæŠ•å…¥çš„é¢å¤–å¼€é”€å’Œå¿…éœ€çš„å·¥ä½œé‡ï¼Œé‚£è¿™ä¸æ˜¯ä¸€ä¸ªæ˜¯å¦ä¼šå‘ç”Ÿçš„é—®é¢˜ï¼Œè€Œæ˜¯æ€ä¹ˆå‘ç”Ÿçš„é—®é¢˜ã€‚è¦å›ç­”è¿™ä¸ªé—®é¢˜ï¼Œæœ€å¥½å…ˆäº†è§£ä½ åœ¨äº‘ä¸­å¯èƒ½ç¢°åˆ°çš„é¢å¤–çš„æŒ‘æˆ˜ã€‚è¿™äº›é€šå¸¸å›´ç»•ç€æ•°æ®åº“æœåŠ¡å™¨çš„å¯ç”¨èµ„æºã€‚&lt;/p>
&lt;h1 id="134å››ç§åŸºç¡€èµ„æº">
 13.4ã€€å››ç§åŸºç¡€èµ„æº
 &lt;a class="anchor" href="#134%e5%9b%9b%e7%a7%8d%e5%9f%ba%e7%a1%80%e8%b5%84%e6%ba%90">#&lt;/a>
&lt;/h1>
&lt;p>MySQLéœ€è¦å››ç§åŸºç¡€èµ„æºæ¥å®Œæˆå·¥ä½œï¼šCPUå‘¨æœŸã€å†…å­˜ã€I/Oï¼Œä»¥åŠç½‘ç»œã€‚è¿™å››ç§èµ„æºçš„ç‰¹æ€§å’Œé‡è¦ç¨‹åº¦åœ¨ä¸åŒçš„äº‘å¹³å°ä¸Šå„ä¸ç›¸åŒã€‚å¯ä»¥é€šè¿‡äº†è§£å®ƒä»¬çš„ä¸åŒä¹‹å¤„å’Œå¯¹MySQLçš„å½±å“ï¼Œä»¥å†³å®šæ˜¯å¦é€‰æ‹©åœ¨äº‘ä¸­æ‰˜ç®¡MySQLã€‚&lt;/p></description></item><item><title>ç¬¬12ç« é«˜å¯ç”¨æ€§</title><link>https://lwmfjc.github.io/zh/docs/technology/MySQL/_%E9%AB%98%E6%80%A7%E8%83%BDMySQL_/%E7%AC%AC12%E7%AB%A0%E9%AB%98%E5%8F%AF%E7%94%A8%E6%80%A7/</link><pubDate>Sun, 05 Jan 2025 08:42:06 +0800</pubDate><guid>https://lwmfjc.github.io/zh/docs/technology/MySQL/_%E9%AB%98%E6%80%A7%E8%83%BDMySQL_/%E7%AC%AC12%E7%AB%A0%E9%AB%98%E5%8F%AF%E7%94%A8%E6%80%A7/</guid><description>&lt;p>ç¬¬12ç« ã€€é«˜å¯ç”¨æ€§&lt;/p>
&lt;p>æœ¬ç« å°†è®²è¿°æˆ‘ä»¬æåˆ°çš„å¤åˆ¶ã€å¯æ‰©å±•æ€§ä»¥åŠé«˜å¯ç”¨æ€§ä¸‰ä¸ªä¸»é¢˜ä¸­çš„ç¬¬ä¸‰ä¸ªã€‚å½’æ ¹ç»“åº•ï¼Œé«˜å¯ç”¨æ€§å®é™…ä¸Šæ„å‘³ç€â€œæ›´å°‘çš„å®•æœºæ—¶é—´â€ã€‚ç„¶è€Œç³Ÿç³•çš„æ˜¯ï¼Œé«˜å¯ç”¨æ€§ç»å¸¸å’Œå…¶ä»–ç›¸å…³çš„æ¦‚å¿µæ··æ·†ï¼Œä¾‹å¦‚å†—ä½™ã€ä¿éšœæ•°æ®ä¸ä¸¢å¤±ï¼Œä»¥åŠè´Ÿè½½å‡è¡¡ã€‚æˆ‘ä»¬å¸Œæœ›ä¹‹å‰çš„ä¸¤ç« å·²ç»ä¸ºæ¸…æ¥šåœ°ç†è§£é«˜å¯ç”¨æ€§åšäº†è¶³å¤Ÿçš„é“ºå«ã€‚è·Ÿå…¶ä»–ä¸¤ç« ä¸€æ ·ï¼Œè¿™ä¸€ç« ä¹Ÿä¸ä»…ä»…æ˜¯å…³æ³¨é«˜å¯ç”¨æ€§çš„å†…å®¹ï¼Œä¸€äº›ç›¸å…³çš„è¯é¢˜ä¹Ÿä¼šç»¼åˆé˜è¿°ã€‚&lt;/p>
&lt;h1 id="121ä»€ä¹ˆæ˜¯é«˜å¯ç”¨æ€§">
 12.1ã€€ä»€ä¹ˆæ˜¯é«˜å¯ç”¨æ€§
 &lt;a class="anchor" href="#121%e4%bb%80%e4%b9%88%e6%98%af%e9%ab%98%e5%8f%af%e7%94%a8%e6%80%a7">#&lt;/a>
&lt;/h1>
&lt;p>é«˜å¯ç”¨æ€§å®é™…ä¸Šæœ‰ç‚¹åƒç¥ç§˜çš„é‡å…½ã€‚å®ƒé€šå¸¸ä»¥ç™¾åˆ†æ¯”è¡¨ç¤ºï¼Œè¿™æœ¬èº«ä¹Ÿæ˜¯ä¸€ç§æš—ç¤ºï¼šé«˜å¯ç”¨æ€§ä¸æ˜¯ç»å¯¹çš„ï¼Œåªæœ‰ç›¸å¯¹æ›´é«˜çš„å¯ç”¨æ€§ã€‚100ï¼…çš„å¯ç”¨æ€§æ˜¯ä¸å¯èƒ½è¾¾åˆ°çš„ã€‚å¯ç”¨æ€§çš„â€œ9â€è§„åˆ™æ˜¯è¡¨ç¤ºå¯ç”¨æ€§ç›®æ ‡æœ€æ™®éçš„æ–¹æ³•ã€‚ä½ å¯èƒ½ä¹ŸçŸ¥é“ï¼Œâ€œ5ä¸ª9â€è¡¨ç¤º99.999ï¼…çš„æ­£å¸¸å¯ç”¨æ—¶é—´ã€‚æ¢å¥è¯è¯´ï¼Œæ¯å¹´åªå…è®¸5åˆ†é’Ÿçš„å®•æœºæ—¶é—´ã€‚å¯¹äºå¤§å¤šæ•°åº”ç”¨è¿™å·²ç»æ˜¯ä»¤äººæƒŠå¹çš„æ•°å­—ï¼Œå°½ç®¡è¿˜æœ‰ä¸€äº›äººè¯•å›¾è·å¾—æ›´å¤šçš„â€œ9â€ã€‚&lt;/p>
&lt;p>æ¯ä¸ªåº”ç”¨å¯¹å¯ç”¨æ€§çš„éœ€æ±‚å„ä¸ç›¸åŒã€‚åœ¨è®¾å®šä¸€ä¸ªå¯ç”¨æ—¶é—´çš„ç›®æ ‡ä¹‹å‰ï¼Œå…ˆé—®é—®è‡ªå·±ï¼Œæ˜¯ä¸æ˜¯ç¡®å®éœ€è¦è¾¾åˆ°è¿™ä¸ªç›®æ ‡ã€‚å¯ç”¨æ€§æ¯æé«˜ä¸€ç‚¹ï¼Œæ‰€èŠ±è´¹çš„æˆæœ¬éƒ½ä¼šè¿œè¶…ä¹‹å‰ï¼›å¯ç”¨æ€§çš„æ•ˆæœå’Œå¼€é”€çš„æ¯”ä¾‹å¹¶ä¸æ˜¯çº¿æ€§çš„ã€‚éœ€è¦ä¿è¯å¤šå°‘å¯ç”¨æ—¶é—´ï¼Œå–å†³äºèƒ½å¤Ÿæ‰¿æ‹…å¤šå°‘æˆæœ¬ã€‚é«˜å¯ç”¨æ€§å®é™…ä¸Šæ˜¯åœ¨å®•æœºé€ æˆçš„æŸå¤±ä¸é™ä½å®•æœºæ—¶é—´æ‰€èŠ±è´¹çš„æˆæœ¬ä¹‹é—´å–ä¸€ä¸ªå¹³è¡¡ã€‚æ¢å¥è¯è¯´ï¼Œå¦‚æœéœ€è¦èŠ±å¤§é‡é‡‘é’±å»è·å¾—æ›´å¥½çš„å¯ç”¨æ—¶é—´ï¼Œä½†æ‰€å¸¦æ¥çš„æ”¶ç›Šå´å¾ˆä½ï¼Œå¯èƒ½å°±ä¸å€¼å¾—å»åšã€‚æ€»çš„æ¥è¯´ï¼Œåº”ç”¨åœ¨è¶…è¿‡ä¸€å®šçš„ç‚¹ä»¥åè¿½æ±‚æ›´é«˜çš„å¯ç”¨æ€§æ˜¯éå¸¸å›°éš¾çš„ï¼Œæˆæœ¬ä¹Ÿä¼šå¾ˆé«˜ï¼Œå› æ­¤æˆ‘ä»¬å»ºè®®è®¾å®šä¸€ä¸ªæ›´ç°å®çš„ç›®æ ‡å¹¶ä¸”é¿å…è¿‡åº¦è®¾è®¡ã€‚å¹¸è¿çš„æ˜¯ï¼Œå»ºç«‹2ä¸ª9æˆ–3ä¸ª9çš„å¯ç”¨æ—¶é—´çš„ç›®æ ‡å¯èƒ½å¹¶ä¸å›°éš¾ï¼Œå…·ä½“æƒ…å†µå–å†³äºåº”ç”¨ã€‚&lt;/p>
&lt;p>æœ‰æ—¶å€™äººä»¬å°†å¯ç”¨æ€§å®šä¹‰æˆæœåŠ¡æ­£åœ¨è¿è¡Œçš„æ—¶é—´æ®µã€‚æˆ‘ä»¬è®¤ä¸ºå¯ç”¨æ€§çš„å®šä¹‰è¿˜åº”è¯¥åŒ…æ‹¬åº”ç”¨æ˜¯å¦èƒ½ä»¥è¶³å¤Ÿå¥½çš„æ€§èƒ½å¤„ç†è¯·æ±‚ã€‚æœ‰è®¸å¤šæ–¹æ³•å¯ä»¥è®©ä¸€ä¸ªæœåŠ¡å™¨ä¿æŒè¿è¡Œï¼Œä½†æœåŠ¡å¹¶ä¸æ˜¯çœŸæ­£å¯ç”¨ã€‚å¯¹ä¸€ä¸ªå¾ˆå¤§çš„æœåŠ¡å™¨è€Œè¨€ï¼Œé‡å¯MySQLä¹‹åï¼Œå¯èƒ½éœ€è¦å‡ ä¸ªå°æ—¶æ‰èƒ½å……åˆ†é¢„çƒ­ä»¥ä¿è¯æŸ¥è¯¢è¯·æ±‚çš„å“åº”æ—¶é—´æ˜¯å¯ä»¥æ¥å—çš„ï¼Œå³ä½¿æœåŠ¡å™¨åªæ¥æ”¶äº†æ­£å¸¸æµé‡çš„ä¸€å°éƒ¨åˆ†ä¹Ÿæ˜¯å¦‚æ­¤ã€‚&lt;/p>
&lt;p>å¦ä¸€ä¸ªéœ€è¦è€ƒè™‘çš„é—®é¢˜æ˜¯ï¼Œå³ä½¿åº”ç”¨å¹¶æ²¡æœ‰åœæ­¢æœåŠ¡ï¼Œä½†æ˜¯å¦å¯èƒ½ä¸¢å¤±äº†æ•°æ®ã€‚å¦‚æœæœåŠ¡å™¨é­é‡ç¾éš¾æ€§æ•…éšœï¼Œå¯èƒ½å¤šå°‘éƒ½ä¼šä¸¢å¤±ä¸€äº›æ•°æ®ï¼Œä¾‹å¦‚æœ€è¿‘å·²ç»å†™å…¥ï¼ˆæœ€æ–°ä¸¢å¤±çš„ï¼‰äºŒè¿›åˆ¶æ—¥å¿—ä½†å°šæœªä¼ é€’åˆ°å¤‡åº“çš„ä¸­ç»§æ—¥å¿—ä¸­çš„äº‹åŠ¡ã€‚ä½ èƒ½å¤Ÿå®¹å¿å—ï¼Ÿå¤§å¤šæ•°åº”ç”¨èƒ½å¤Ÿå®¹å¿ï¼›å› ä¸ºæ›¿ä»£æ–¹æ¡ˆå¤§å¤šéå¸¸æ˜‚è´µä¸”å¤æ‚ï¼Œæˆ–è€…æœ‰ä¸€äº›æ€§èƒ½å¼€é”€ã€‚ä¾‹å¦‚ï¼Œå¯ä»¥ä½¿ç”¨åŒæ­¥å¤åˆ¶ï¼Œæˆ–æ˜¯å°†äºŒè¿›åˆ¶æ—¥å¿—æ”¾åˆ°ä¸€ä¸ªé€šè¿‡DRBDè¿›è¡Œå¤åˆ¶çš„è®¾å¤‡ä¸Šï¼Œè¿™æ ·å°±ç®—æœåŠ¡å™¨å®Œå…¨å¤±æ•ˆä¹Ÿä¸ç”¨æ‹…å¿ƒä¸¢å¤±æ•°æ®ã€‚ï¼ˆä½†æ˜¯æ•´ä¸ªæ•°æ®ä¸­å¿ƒä¹Ÿæœ‰å¯èƒ½ä¼šæ‰ç”µã€‚ï¼‰&lt;/p>
&lt;p>ä¸€ä¸ªè‰¯å¥½çš„åº”ç”¨æ¶æ„é€šå¸¸å¯ä»¥é™ä½å¯ç”¨æ€§æ–¹é¢çš„éœ€æ±‚ï¼Œè‡³å°‘å¯¹éƒ¨åˆ†ç³»ç»Ÿè€Œè¨€æ˜¯è¿™æ ·çš„ï¼Œè‰¯å¥½çš„æ¶æ„ä¹Ÿæ›´å®¹æ˜“åšåˆ°é«˜å¯ç”¨ã€‚å°†åº”ç”¨ä¸­é‡è¦å’Œä¸é‡è¦çš„éƒ¨åˆ†è¿›è¡Œåˆ†ç¦»å¯ä»¥èŠ‚çº¦ä¸å°‘å·¥ä½œé‡å’Œé‡‘é’±ï¼Œå› ä¸ºå¯¹äºä¸€ä¸ªæ›´å°çš„ç³»ç»Ÿæ”¹è¿›å¯ç”¨æ€§ä¼šæ›´å®¹æ˜“ã€‚å¯ä»¥é€šè¿‡è®¡ç®—â€œé£é™©æ•å£ï¼ˆrisk exposureï¼‰â€ï¼Œå°†å¤±æ•ˆæ¦‚ç‡ä¸å¤±æ•ˆä»£ä»·ç›¸ä¹˜æ¥ç¡®è®¤é«˜ä¼˜å…ˆçº§çš„é£é™©ã€‚ç”»ä¸€ä¸ªç®€å•çš„é£é™©è®¡ç®—è¡¨ï¼Œä»¥æ¦‚ç‡ã€ä»£ä»·å’Œé£é™©æ•å£ä½œä¸ºåˆ—ï¼Œè¿™æ ·å¾ˆå®¹æ˜“æ‰¾åˆ°éœ€è¦ä¼˜å…ˆå¤„ç†çš„é¡¹ç›®ã€‚&lt;/p>
&lt;p>åœ¨å‰ä¸€ç« æˆ‘ä»¬é€šè¿‡è®¨è®ºå¦‚ä½•é¿å…å¯¼è‡´ç³Ÿç³•çš„å¯æ‰©å±•æ€§çš„åŸå› ï¼Œæ¥æ¨å‡ºå¦‚ä½•è·å¾—æ›´å¥½çš„å¯æ‰©å±•æ€§ã€‚è¿™é‡Œä¹Ÿä¼šä½¿ç”¨ç›¸ä¼¼çš„æ–¹æ³•æ¥è®¨è®ºå¯ç”¨æ€§ï¼Œå› ä¸ºæˆ‘ä»¬ç›¸ä¿¡ï¼Œç†è§£å¯ç”¨æ€§æœ€å¥½çš„æ–¹æ³•å°±æ˜¯ç ”ç©¶å®ƒçš„åé¢â€”â€”å®•æœºæ—¶é—´ã€‚æ¥ä¸‹æ¥çš„å°èŠ‚æˆ‘ä»¬ä¼šè®¨è®ºä¸ºä»€ä¹ˆä¼šå‡ºç°å®•æœºã€‚&lt;/p>
&lt;h1 id="122å¯¼è‡´å®•æœºçš„åŸå› ">
 12.2ã€€å¯¼è‡´å®•æœºçš„åŸå› 
 &lt;a class="anchor" href="#122%e5%af%bc%e8%87%b4%e5%ae%95%e6%9c%ba%e7%9a%84%e5%8e%9f%e5%9b%a0">#&lt;/a>
&lt;/h1>
&lt;p>æˆ‘ä»¬ç»å¸¸å¬åˆ°å¯¼è‡´æ•°æ®åº“å®•æœºæœ€ä¸»è¦çš„åŸå› æ˜¯ç¼–å†™çš„SQLæŸ¥è¯¢æ€§èƒ½å¾ˆå·®ï¼ŒçœŸçš„æ˜¯è¿™æ ·å—ï¼Ÿ2009å¹´æˆ‘ä»¬å†³å®šåˆ†ææˆ‘ä»¬å®¢æˆ·çš„æ•°æ®åº“æ‰€é‡åˆ°çš„é—®é¢˜ï¼Œä»¥æ‰¾å‡ºé‚£äº›çœŸæ­£å¼•èµ·å®•æœºçš„é—®é¢˜ï¼Œä»¥åŠå¦‚ä½•é¿å…è¿™äº›é—®é¢˜(1)ã€‚ç»“æœè¯å®äº†ä¸€äº›æˆ‘ä»¬å·²æœ‰çš„çŒœæƒ³ï¼Œä½†ä¹Ÿå¦å®šäº†ä¸€äº›ï¼ˆé”™è¯¯çš„ï¼‰è®¤è¯†ï¼Œæˆ‘ä»¬ä»ä¸­å­¦åˆ°äº†å¾ˆå¤šã€‚&lt;/p>
&lt;p>æˆ‘ä»¬é¦–å…ˆå¯¹å®•æœºäº‹ä»¶æŒ‰è¡¨ç°æ–¹å¼è€Œéå¯¼è‡´çš„åŸå› è¿›è¡Œåˆ†ç±»ã€‚ä¸€èˆ¬æ¥è¯´ï¼Œâ€œè¿è¡Œç¯å¢ƒâ€æ˜¯æ’åç¬¬ä¸€çš„å®•æœºç±»åˆ«ï¼Œå¤§çº¦35ï¼…çš„äº‹ä»¶å±äºè¿™ä¸€ç±»ã€‚è¿è¡Œç¯å¢ƒå¯ä»¥çœ‹ä½œæ˜¯æ”¯æŒæ•°æ®åº“æœåŠ¡å™¨è¿è¡Œçš„ç³»ç»Ÿå’Œèµ„æºé›†åˆï¼ŒåŒ…æ‹¬æ“ä½œç³»ç»Ÿã€ç¡¬ç›˜ä»¥åŠç½‘ç»œç­‰ã€‚æ€§èƒ½é—®é¢˜ç´§éšå…¶åï¼Œä¹Ÿæ˜¯çº¦å 35ï¼…ï¼›ç„¶åæ˜¯å¤åˆ¶ï¼Œå 20ï¼…ï¼›æœ€åå‰©ä¸‹çš„10ï¼…åŒ…å«å„ç§ç±»å‹çš„æ•°æ®ä¸¢å¤±æˆ–æŸåï¼Œä»¥åŠå…¶ä»–é—®é¢˜ã€‚&lt;/p>
&lt;p>æˆ‘ä»¬å¯¹äº‹ä»¶æŒ‰ç±»å‹è¿›è¡Œåˆ†ç±»åï¼Œç¡®å®šäº†å¯¼è‡´è¿™äº›äº‹ä»¶çš„åŸå› ã€‚ä»¥ä¸‹æ˜¯ä¸€äº›éœ€è¦æ³¨æ„çš„åœ°æ–¹ï¼š&lt;/p>
&lt;ul>
&lt;li>åœ¨è¿è¡Œç¯å¢ƒçš„é—®é¢˜ä¸­ï¼Œæœ€æ™®éçš„é—®é¢˜æ˜¯ç£ç›˜ç©ºé—´è€—å°½ã€‚&lt;/li>
&lt;li>åœ¨æ€§èƒ½é—®é¢˜ä¸­ï¼Œæœ€æ™®éçš„å®•æœºåŸå› ç¡®å®æ˜¯è¿è¡Œå¾ˆç³Ÿç³•çš„SQLï¼Œä½†ä¹Ÿä¸ä¸€å®šéƒ½æ˜¯è¿™ä¸ªåŸå› ï¼Œæ¯”å¦‚ä¹Ÿæœ‰å¾ˆå¤šé—®é¢˜æ˜¯ç”±äºæœåŠ¡å™¨Bugæˆ–é”™è¯¯çš„è¡Œä¸ºå¯¼è‡´çš„ã€‚&lt;/li>
&lt;li>ç³Ÿç³•çš„Schemaå’Œç´¢å¼•è®¾è®¡æ˜¯ç¬¬äºŒå¤§å½±å“æ€§èƒ½çš„é—®é¢˜ã€‚&lt;/li>
&lt;li>å¤åˆ¶é—®é¢˜é€šå¸¸ç”±äºä¸»å¤‡æ•°æ®ä¸ä¸€è‡´å¯¼è‡´ã€‚&lt;/li>
&lt;li>æ•°æ®ä¸¢å¤±é—®é¢˜é€šå¸¸ç”±äºDROP TABLEçš„è¯¯æ“ä½œå¯¼è‡´ï¼Œå¹¶æ€»æ˜¯ä¼´éšç€ç¼ºå°‘å¯ç”¨å¤‡ä»½çš„é—®é¢˜ã€‚&lt;/li>
&lt;/ul>
&lt;p>å¤åˆ¶è™½ç„¶å¸¸è¢«äººä»¬ç”¨æ¥æ”¹å–„å¯ç”¨æ—¶é—´ï¼Œä½†å´ä¹Ÿå¯èƒ½å¯¼è‡´å®•æœºã€‚è¿™ä¸»è¦æ˜¯ç”±äºä¸æ­£ç¡®çš„ä½¿ç”¨å¯¼è‡´çš„ï¼Œå³ä¾¿å¦‚æ­¤ï¼Œå®ƒä¹Ÿé˜æ˜äº†ä¸€ä¸ªæ™®éçš„æƒ…å†µï¼šè®¸å¤šé«˜å¯ç”¨æ€§ç­–ç•¥å¯èƒ½ä¼šäº§ç”Ÿåä½œç”¨ï¼Œæˆ‘ä»¬ä¼šåœ¨åé¢è®¨è®ºè¿™ä¸ªè¯é¢˜ã€‚&lt;/p>
&lt;p>ç°åœ¨æˆ‘ä»¬å·²ç»çŸ¥é“äº†ä¸»è¦å®•æœºç±»åˆ«ï¼Œä»¥åŠæœ‰ä»€ä¹ˆéœ€è¦æ³¨æ„ï¼Œä¸‹é¢æˆ‘ä»¬å°†ä¸“é—¨ä»‹ç»å¦‚ä½•è·å¾—é«˜å¯ç”¨æ€§ã€‚&lt;/p>
&lt;h1 id="123å¦‚ä½•å®ç°é«˜å¯ç”¨æ€§">
 12.3ã€€å¦‚ä½•å®ç°é«˜å¯ç”¨æ€§
 &lt;a class="anchor" href="#123%e5%a6%82%e4%bd%95%e5%ae%9e%e7%8e%b0%e9%ab%98%e5%8f%af%e7%94%a8%e6%80%a7">#&lt;/a>
&lt;/h1>
&lt;p>å¯ä»¥é€šè¿‡åŒæ—¶è¿›è¡Œä»¥ä¸‹ä¸¤æ­¥æ¥è·å¾—é«˜å¯ç”¨æ€§ã€‚é¦–å…ˆï¼Œå¯ä»¥å°è¯•é¿å…å¯¼è‡´å®•æœºçš„åŸå› æ¥å‡å°‘å®•æœºæ—¶é—´ã€‚è®¸å¤šé—®é¢˜å…¶å®å¾ˆå®¹æ˜“é¿å…ï¼Œä¾‹å¦‚é€šè¿‡é€‚å½“çš„é…ç½®ã€ç›‘æ§ï¼Œä»¥åŠè§„èŒƒæˆ–å®‰å…¨ä¿éšœæªæ–½æ¥é¿å…äººä¸ºé”™è¯¯ã€‚ç¬¬äºŒï¼Œå°½é‡ä¿è¯åœ¨å‘ç”Ÿå®•æœºæ—¶èƒ½å¤Ÿå¿«é€Ÿæ¢å¤ã€‚æœ€å¸¸è§çš„ç­–ç•¥æ˜¯åœ¨ç³»ç»Ÿä¸­åˆ¶é€ å†—ä½™ï¼Œå¹¶ä¸”å…·å¤‡æ•…éšœè½¬ç§»èƒ½åŠ›ã€‚è¿™ä¸¤ä¸ªç»´åº¦çš„é«˜å¯ç”¨æ€§å¯ä»¥é€šè¿‡ä¸¤ä¸ªç›¸å…³çš„åº¦é‡æ¥ç¡®å®šï¼šå¹³å‡å¤±æ•ˆæ—¶é—´ï¼ˆMTBFï¼‰å’Œå¹³å‡æ¢å¤æ—¶é—´ï¼ˆMTTRï¼‰ã€‚ä¸€äº›ç»„ç»‡ä¼šéå¸¸ä»”ç»†åœ°è¿½è¸ªè¿™äº›åº¦é‡å€¼ã€‚&lt;/p>
&lt;p>ç¬¬äºŒæ­¥â€”â€”é€šè¿‡å†—ä½™å¿«é€Ÿæ¢å¤â€”â€”å¾ˆä¸å¹¸ï¼Œè¿™é‡Œæ˜¯æœ€åº”è¯¥æ³¨æ„çš„åœ°æ–¹ï¼Œä½†é¢„é˜²æªæ–½çš„æŠ•èµ„å›æŠ¥ç‡ä¼šå¾ˆé«˜ã€‚æ¥ä¸‹æ¥æˆ‘ä»¬æ¥æ¢è®¨ä¸€äº›é¢„é˜²æªæ–½ã€‚&lt;/p>
&lt;h2 id="1231æå‡å¹³å‡å¤±æ•ˆæ—¶é—´mtbf">
 12.3.1ã€€æå‡å¹³å‡å¤±æ•ˆæ—¶é—´ï¼ˆMTBFï¼‰
 &lt;a class="anchor" href="#1231%e6%8f%90%e5%8d%87%e5%b9%b3%e5%9d%87%e5%a4%b1%e6%95%88%e6%97%b6%e9%97%b4mtbf">#&lt;/a>
&lt;/h2>
&lt;p>å…¶å®åªè¦å°½èŒå°½è´£åœ°åšå¥½ä¸€äº›åº”åšçš„äº‹æƒ…ï¼Œå°±å¯ä»¥é¿å…å¾ˆå¤šå®•æœºã€‚åœ¨åˆ†ç±»æ•´ç†å®•æœºäº‹ä»¶å¹¶è¿½æŸ¥å¯¼è‡´å®•æœºçš„æ ¹æºæ—¶ï¼Œæˆ‘ä»¬è¿˜å‘ç°ï¼Œå¾ˆå¤šå®•æœºæœ¬æ¥æ˜¯æœ‰ä¸€äº›æ–¹æ³•å¯ä»¥é¿å…çš„ã€‚æˆ‘ä»¬å‘ç°å¤§éƒ¨åˆ†å®•æœºäº‹ä»¶éƒ½å¯ä»¥é€šè¿‡å…¨é¢çš„å¸¸è¯†æ€§ç³»ç»Ÿç®¡ç†åŠæ³•æ¥é¿å…ã€‚ä»¥ä¸‹æ˜¯ä»æˆ‘ä»¬çš„ç™½çš®ä¹¦ä¸­æ‘˜å½•çš„æŒ‡å¯¼æ€§å»ºè®®ï¼Œåœ¨ç™½çš®ä¹¦ä¸­æœ‰æˆ‘ä»¬è¯¦ç»†çš„åˆ†æç»“æœã€‚&lt;/p>
&lt;ul>
&lt;li>æµ‹è¯•æ¢å¤å·¥å…·å’Œæµç¨‹ï¼ŒåŒ…æ‹¬ä»å¤‡ä»½ä¸­æ¢å¤æ•°æ®ã€‚&lt;/li>
&lt;li>éµä»æœ€å°æƒé™åŸåˆ™ã€‚&lt;/li>
&lt;li>ä¿æŒç³»ç»Ÿå¹²å‡€ã€æ•´æ´ã€‚&lt;/li>
&lt;li>ä½¿ç”¨å¥½çš„å‘½åå’Œç»„ç»‡çº¦å®šæ¥é¿å…äº§ç”Ÿæ··ä¹±ï¼Œä¾‹å¦‚æœåŠ¡å™¨æ˜¯ç”¨äºå¼€å‘è¿˜æ˜¯ç”¨äºç”Ÿäº§ç¯å¢ƒã€‚&lt;/li>
&lt;li>è°¨æ…å®‰æ’å‡çº§æ•°æ®åº“æœåŠ¡å™¨ã€‚&lt;/li>
&lt;li>åœ¨å‡çº§å‰ï¼Œä½¿ç”¨è¯¸å¦‚Percona Toolkitä¸­çš„&lt;em>pt-upgrade&lt;/em>ä¹‹ç±»çš„å·¥å…·ä»”ç»†æ£€æŸ¥ç³»ç»Ÿã€‚&lt;/li>
&lt;li>ä½¿ç”¨InnoDBå¹¶è¿›è¡Œé€‚å½“çš„é…ç½®ï¼Œç¡®ä¿InnoDBæ˜¯é»˜è®¤å­˜å‚¨å¼•æ“ã€‚å¦‚æœå­˜å‚¨å¼•æ“è¢«ç¦æ­¢ï¼ŒæœåŠ¡å™¨å°±æ— æ³•å¯åŠ¨ã€‚&lt;/li>
&lt;li>ç¡®è®¤åŸºæœ¬çš„æœåŠ¡å™¨é…ç½®æ˜¯æ­£ç¡®çš„ã€‚&lt;/li>
&lt;li>é€šè¿‡skip_name_resolveç¦æ­¢DNSã€‚&lt;/li>
&lt;li>é™¤éèƒ½è¯æ˜æœ‰æ•ˆï¼Œå¦åˆ™ç¦ç”¨æŸ¥è¯¢ç¼“å­˜ã€‚&lt;/li>
&lt;li>é¿å…ä½¿ç”¨å¤æ‚çš„ç‰¹æ€§ï¼Œä¾‹å¦‚å¤åˆ¶è¿‡æ»¤å’Œè§¦å‘å™¨ï¼Œé™¤éç¡®å®éœ€è¦ã€‚&lt;/li>
&lt;li>ç›‘æ§é‡è¦çš„ç»„ä»¶å’ŒåŠŸèƒ½ï¼Œç‰¹åˆ«æ˜¯åƒç£ç›˜ç©ºé—´å’ŒRAIDå·çŠ¶æ€è¿™æ ·çš„å…³é”®é¡¹ç›®ï¼Œä½†ä¹Ÿè¦é¿å…è¯¯æŠ¥ï¼Œåªæœ‰å½“ç¡®å®å‘ç”Ÿé—®é¢˜æ—¶æ‰å‘é€å‘Šè­¦ã€‚&lt;/li>
&lt;li>å°½é‡è®°å½•æœåŠ¡å™¨çš„çŠ¶æ€å’Œæ€§èƒ½æŒ‡æ•°ï¼Œå¦‚æœå¯èƒ½å°±å°½é‡ä¹…åœ°ä¿å­˜ã€‚&lt;/li>
&lt;li>å®šæœŸæ£€æŸ¥å¤åˆ¶å®Œæ•´æ€§ã€‚&lt;/li>
&lt;li>å°†å¤‡åº“è®¾ç½®ä¸ºåªè¯»ï¼Œä¸è¦è®©å¤åˆ¶è‡ªåŠ¨å¯åŠ¨ã€‚&lt;/li>
&lt;li>å®šæœŸè¿›è¡ŒæŸ¥è¯¢è¯­å¥å®¡æŸ¥ã€‚&lt;/li>
&lt;li>å½’æ¡£å¹¶æ¸…ç†ä¸éœ€è¦çš„æ•°æ®ã€‚&lt;/li>
&lt;li>ä¸ºæ–‡ä»¶ç³»ç»Ÿä¿ç•™ä¸€äº›ç©ºé—´ã€‚åœ¨GNU/Linuxä¸­ï¼Œå¯ä»¥ä½¿ç”¨-&lt;em>m&lt;/em>é€‰é¡¹æ¥ä¸ºæ–‡ä»¶ç³»ç»Ÿæœ¬èº«ä¿ç•™ç©ºé—´ã€‚è¿˜å¯ä»¥åœ¨LVMå·ç»„ä¸­ç•™ä¸‹ä¸€äº›ç©ºé—²ç©ºé—´ã€‚æˆ–è€…ï¼Œæ›´ç®€å•çš„æ–¹æ³•ï¼Œä»…ä»…åˆ›å»ºä¸€ä¸ªå·¨å¤§çš„ç©ºæ–‡ä»¶ï¼Œåœ¨æ–‡ä»¶ç³»ç»Ÿå¿«æ»¡æ—¶ï¼Œç›´æ¥å°†å…¶åˆ é™¤ã€‚(2)&lt;/li>
&lt;li>å…»æˆä¹ æƒ¯ï¼Œè¯„ä¼°å’Œç®¡ç†ç³»ç»Ÿçš„æ”¹å˜ã€çŠ¶æ€ä»¥åŠæ€§èƒ½ä¿¡æ¯ã€‚&lt;/li>
&lt;/ul>
&lt;p>æˆ‘ä»¬å‘ç°å¯¹ç³»ç»Ÿå˜æ›´ç®¡ç†çš„ç¼ºå¤±æ˜¯æ‰€æœ‰å¯¼è‡´å®•æœºçš„äº‹ä»¶ä¸­æœ€æ™®éçš„åŸå› ã€‚å…¸å‹çš„é”™è¯¯åŒ…æ‹¬ç²—å¿ƒçš„å‡çº§å¯¼è‡´å‡çº§å¤±è´¥å¹¶é­é‡ä¸€äº›Bugï¼Œæˆ–æ˜¯å°šæœªæµ‹è¯•å°±å°†Schemaæˆ–æŸ¥è¯¢è¯­å¥çš„æ›´æ”¹ç›´æ¥è¿è¡Œåˆ°çº¿ä¸Šï¼Œæˆ–è€…æ²¡æœ‰ä¸ºä¸€äº›å¤±è´¥çš„æƒ…å†µåˆ¶å®šè®¡åˆ’ï¼Œä¾‹å¦‚è¾¾åˆ°äº†ç£ç›˜å®¹é‡é™åˆ¶ã€‚å¦å¤–ä¸€ä¸ªå¯¼è‡´é—®é¢˜çš„ä¸»è¦åŸå› æ˜¯ç¼ºå°‘ä¸¥æ ¼çš„è¯„ä¼°ï¼Œä¾‹å¦‚å› ä¸ºç–å¿½æ²¡æœ‰ç¡®è®¤å¤‡ä»½æ˜¯å¦æ˜¯å¯ä»¥æ¢å¤çš„ã€‚æœ€åï¼Œå¯èƒ½æ²¡æœ‰æ­£ç¡®åœ°ç›‘æ§MySQLçš„ç›¸å…³ä¿¡æ¯ã€‚ä¾‹å¦‚ç¼“å­˜å‘½ä¸­ç‡æŠ¥è­¦å¹¶ä¸èƒ½è¯´æ˜å‡ºç°é—®é¢˜ï¼Œå¹¶ä¸”å¯èƒ½äº§ç”Ÿå¤§é‡çš„è¯¯æŠ¥ï¼Œè¿™ä¼šä½¿ç›‘æ§ç³»ç»Ÿè¢«è®¤ä¸ºä¸å¤ªæœ‰ç”¨ï¼Œäºæ˜¯ä¸€äº›äººå°±ä¼šå¿½ç•¥æŠ¥è­¦ã€‚æœ‰æ—¶å€™ç›‘æ§ç³»ç»Ÿå¤±æ•ˆäº†ï¼Œç”šè‡³æ²¡äººä¼šæ³¨æ„åˆ°ï¼Œç›´è‡³ä½ çš„è€æ¿è´¨é—®ä½ ï¼Œâ€œä¸ºä»€ä¹ˆNagiosæ²¡æœ‰å‘Šè¯‰æˆ‘ä»¬ç£ç›˜å·²ç»æ»¡äº†â€ã€‚&lt;/p>
&lt;h2 id="1232é™ä½å¹³å‡æ¢å¤æ—¶é—´mttr">
 12.3.2ã€€é™ä½å¹³å‡æ¢å¤æ—¶é—´ï¼ˆMTTRï¼‰
 &lt;a class="anchor" href="#1232%e9%99%8d%e4%bd%8e%e5%b9%b3%e5%9d%87%e6%81%a2%e5%a4%8d%e6%97%b6%e9%97%b4mttr">#&lt;/a>
&lt;/h2>
&lt;p>ä¹‹å‰æåˆ°ï¼Œå¯ä»¥é€šè¿‡å‡å°‘æ¢å¤æ—¶é—´æ¥è·å¾—é«˜å¯ç”¨æ€§ã€‚äº‹å®ä¸Šï¼Œä¸€äº›äººèµ°å¾—æ›´è¿œï¼Œåªä¸“æ³¨äºå‡å°‘æ¢å¤æ—¶é—´çš„æŸä¸ªæ–¹é¢ï¼šé€šè¿‡åœ¨ç³»ç»Ÿä¸­å»ºç«‹å†—ä½™æ¥é¿å…ç³»ç»Ÿå®Œå…¨å¤±æ•ˆï¼Œå¹¶é¿å…å•ç‚¹å¤±æ•ˆé—®é¢˜ã€‚&lt;/p>
&lt;p>åœ¨é™ä½æ¢å¤æ—¶é—´ä¸Šè¿›è¡ŒæŠ•èµ„éå¸¸é‡è¦ï¼Œä¸€ä¸ªèƒ½å¤Ÿæä¾›å†—ä½™å’Œæ•…éšœè½¬ç§»èƒ½åŠ›çš„ç³»ç»Ÿæ¶æ„ï¼Œåˆ™æ˜¯é™ä½æ¢å¤æ—¶é—´çš„å…³é”®ç¯èŠ‚ã€‚ä½†å®ç°é«˜å¯ç”¨æ€§ä¸å•å•æ˜¯ä¸€ä¸ªæŠ€æœ¯é—®é¢˜ï¼Œè¿˜æœ‰è®¸å¤šä¸ªäººå’Œç»„ç»‡çš„å› ç´ ã€‚ç»„ç»‡å’Œä¸ªäººåœ¨é¿å…å®•æœºå’Œä»å®•æœºäº‹ä»¶ä¸­æ¢å¤çš„æˆç†Ÿåº¦å’Œèƒ½åŠ›å±‚æ¬¡å„ä¸ç›¸åŒã€‚&lt;/p>
&lt;p>å›¢é˜Ÿæˆå‘˜æ˜¯æœ€é‡è¦çš„é«˜å¯ç”¨æ€§èµ„äº§ï¼Œæ‰€ä»¥ä¸ºæ¢å¤åˆ¶å®šä¸€ä¸ªå¥½çš„æµç¨‹éå¸¸é‡è¦ã€‚æ‹¥æœ‰ç†Ÿç»ƒæŠ€èƒ½ã€åº”å˜èƒ½åŠ›ã€è®­ç»ƒæœ‰ç´ çš„é›‡å‘˜ï¼Œä»¥åŠå¤„ç†ç´§æ€¥äº‹ä»¶çš„è¯¦ç»†æ–‡æ¡£å’Œç»è¿‡ä»”ç»†æµ‹è¯•çš„æµç¨‹ï¼Œå¯¹ä»å®•æœºä¸­æ¢å¤æœ‰å·¨å¤§çš„ä½œç”¨ã€‚ä½†ä¹Ÿä¸èƒ½å®Œå…¨ä¾èµ–å·¥å…·å’Œç³»ç»Ÿï¼Œå› ä¸ºå®ƒä»¬å¹¶ä¸èƒ½ç†è§£å®é™…æƒ…å†µçš„ç»†å¾®å·®åˆ«ï¼Œæœ‰æ—¶å€™å®ƒä»¬çš„è¡Œä¸ºåœ¨ä¸€èˆ¬æƒ…å†µä¸‹æ˜¯æ­£ç¡®çš„ï¼Œä½†åœ¨æŸäº›åœºæ™¯ä¸‹å´ä¼šæ˜¯ä¸ªç¾éš¾ï¼&lt;/p>
&lt;p>å¯¹å®•æœºäº‹ä»¶è¿›è¡Œè¯„ä¼°æœ‰åŠ©äºæå‡ç»„ç»‡å­¦ä¹ èƒ½åŠ›ï¼Œå¯ä»¥å¸®åŠ©é¿å…æœªæ¥å‘ç”Ÿç›¸ä¼¼çš„é”™è¯¯ï¼Œä½†æ˜¯ä¸è¦å¯¹â€œäº‹ååæ€â€æˆ–â€œäº‹åçš„è°ƒæŸ¥åˆ†æâ€æœŸå¾…å¤ªé«˜ã€‚åè§ä¹‹æ˜è¢«ä¸¥é‡æ›²è§£ï¼Œå¹¶ä¸”ä¸€å‘³æƒ³æ‰¾åˆ°å¯¼è‡´é—®é¢˜çš„å”¯ä¸€æ ¹æºï¼Œè¿™å¯èƒ½ä¼šå½±å“ä½ çš„åˆ¤æ–­åŠ›(3)ã€‚è®¸å¤šæµè¡Œçš„æ–¹æ³•ï¼Œä¾‹å¦‚â€œäº”ä¸ªä¸ºä»€ä¹ˆâ€ï¼Œå¯èƒ½ä¼šè¢«è¿‡åº¦ä½¿ç”¨ï¼Œå¯¼è‡´ä¸€äº›äººå°†ä»–ä»¬çš„ç²¾åŠ›é›†ä¸­åœ¨æ‰¾åˆ°å”¯ä¸€çš„æ›¿ç½ªç¾Šã€‚å¾ˆéš¾å»å›é¡¾æˆ‘ä»¬è§£å†³çš„é—®é¢˜å½“æ—¶æ‰€å¤„çš„çŠ¶å†µï¼Œä¹Ÿå¾ˆéš¾ç†è§£çœŸæ­£çš„åŸå› ï¼Œå› ä¸ºåŸå› é€šå¸¸æ˜¯å¤šæ–¹é¢çš„ã€‚å› æ­¤ï¼Œå°½ç®¡äº‹ååæ€å¯èƒ½æ˜¯æœ‰ç”¨çš„ï¼Œä½†ä¹Ÿåº”è¯¥å¯¹ç»“è®ºæœ‰æ‰€ä¿ç•™ã€‚å³ä½¿æ˜¯æˆ‘ä»¬ç»™å‡ºçš„å»ºè®®ï¼Œä¹Ÿæ˜¯åŸºäºé•¿æœŸç ”ç©¶å¯¼è‡´å®•æœºäº‹ä»¶çš„åŸå› ä»¥åŠå¦‚ä½•é¢„é˜²å®ƒä»¬æ‰€å¾—ï¼Œå¹¶ä¸”åªæ˜¯æˆ‘ä»¬çš„è§‚ç‚¹è€Œå·²ã€‚&lt;/p>
&lt;p>è¿™é‡Œæˆ‘ä»¬è¦åå¤æé†’ï¼šæ‰€æœ‰çš„å®•æœºäº‹ä»¶éƒ½æ˜¯ç”±å¤šæ–¹é¢çš„å¤±æ•ˆè”åˆåœ¨ä¸€èµ·å¯¼è‡´çš„ã€‚å› æ­¤ï¼Œå¯ä»¥é€šè¿‡åˆ©ç”¨åˆé€‚çš„æ–¹æ³•ç¡®ä¿å•ç‚¹çš„å®‰å…¨æ¥é¿å…ã€‚æ•´ä¸ªé“¾æ¡å¿…é¡»è¦æ‰“æ–­ï¼Œè€Œä¸ä»…ä»…æ˜¯å•ä¸ªç¯èŠ‚ã€‚ä¾‹å¦‚ï¼Œé‚£äº›å‘æˆ‘ä»¬æ±‚åŠ©æ¢å¤æ•°æ®çš„äººä¸ä»…é­å—æ•°æ®ä¸¢å¤±ï¼ˆå­˜å‚¨å¤±æ•ˆï¼ŒDBAè¯¯æ“ä½œç­‰ï¼‰ï¼ŒåŒæ—¶è¿˜ç¼ºå°‘ä¸€ä¸ªå¯ç”¨çš„å¤‡ä»½ã€‚&lt;/p></description></item><item><title>ç¬¬11ç« å¯æ‰©å±•çš„MySQL</title><link>https://lwmfjc.github.io/zh/docs/technology/MySQL/_%E9%AB%98%E6%80%A7%E8%83%BDMySQL_/%E7%AC%AC11%E7%AB%A0%E5%8F%AF%E6%89%A9%E5%B1%95%E7%9A%84MySQL/</link><pubDate>Sun, 05 Jan 2025 08:42:05 +0800</pubDate><guid>https://lwmfjc.github.io/zh/docs/technology/MySQL/_%E9%AB%98%E6%80%A7%E8%83%BDMySQL_/%E7%AC%AC11%E7%AB%A0%E5%8F%AF%E6%89%A9%E5%B1%95%E7%9A%84MySQL/</guid><description>&lt;p>ç¬¬11ç« ã€€å¯æ‰©å±•çš„MySQL&lt;/p>
&lt;p>æœ¬ç« å°†å±•ç¤ºå¦‚ä½•æ„å»ºä¸€ä¸ªåŸºäºMySQLçš„åº”ç”¨ï¼Œå¹¶ä¸”å½“è§„æ¨¡å˜å¾—è¶Šæ¥è¶Šåºå¤§æ—¶ï¼Œè¿˜èƒ½ä¿è¯å¿«é€Ÿã€é«˜æ•ˆå¹¶ä¸”ç»æµã€‚&lt;/p>
&lt;p>æœ‰äº›åº”ç”¨ä»…ä»…é€‚ç”¨äºä¸€å°æˆ–å°‘æ•°å‡ å°æœåŠ¡å™¨ï¼Œé‚£ä¹ˆå“ªäº›å¯æ‰©å±•æ€§å»ºè®®æ˜¯å’Œè¿™äº›åº”ç”¨ç›¸å…³çš„å‘¢ï¼Ÿå¤§å¤šæ•°äººä»ä¸ä¼šç»´æŠ¤è¶…å¤§è§„æ¨¡çš„ç³»ç»Ÿï¼Œå¹¶ä¸”é€šå¸¸ä¹Ÿæ— æ³•æ•ˆä»¿åœ¨ä¸»æµå¤§å…¬å¸æ‰€ä½¿ç”¨çš„ç­–ç•¥ã€‚æœ¬ç« ä¼šæ¶µç›–è¿™ä¸€ç³»åˆ—çš„ç­–ç•¥ã€‚æˆ‘ä»¬å·²ç»å»ºç«‹æˆ–è€…ååŠ©å»ºç«‹äº†è®¸å¤šåº”ç”¨ï¼ŒåŒ…æ‹¬ä»å•å°æˆ–å°‘é‡æœåŠ¡å™¨çš„åº”ç”¨åˆ°ä½¿ç”¨ä¸Šåƒå°æœåŠ¡å™¨çš„åº”ç”¨ã€‚é€‰æ‹©ä¸€ä¸ªåˆé€‚çš„ç­–ç•¥èƒ½å¤Ÿå¤§å¤§åœ°èŠ‚çº¦æ—¶é—´å’Œé‡‘é’±ã€‚&lt;/p>
&lt;p>MySQLç»å¸¸è¢«æ‰¹è¯„å¾ˆéš¾è¿›è¡Œæ‰©å±•ï¼Œæœ‰äº›æƒ…å†µä¸‹è¿™ç§çœ‹æ³•æ˜¯æ­£ç¡®çš„ï¼Œä½†å¦‚æœé€‰æ‹©æ­£ç¡®çš„æ¶æ„å¹¶å¾ˆå¥½åœ°å®ç°ï¼Œå°±èƒ½å¤Ÿéå¸¸å¥½åœ°æ‰©å±•MySQLã€‚ä½†æ˜¯æ‰©å±•æ€§å¹¶ä¸æ˜¯ä¸€ä¸ªå¾ˆå¥½ç†è§£çš„ä¸»é¢˜ï¼Œæ‰€ä»¥æˆ‘ä»¬å…ˆæ¥ç†æ¸…ä¸€äº›å®¹æ˜“æ··æ·†çš„åœ°æ–¹ã€‚&lt;/p>
&lt;h1 id="111ä»€ä¹ˆæ˜¯å¯æ‰©å±•æ€§">
 11.1ã€€ä»€ä¹ˆæ˜¯å¯æ‰©å±•æ€§
 &lt;a class="anchor" href="#111%e4%bb%80%e4%b9%88%e6%98%af%e5%8f%af%e6%89%a9%e5%b1%95%e6%80%a7">#&lt;/a>
&lt;/h1>
&lt;p>äººä»¬å¸¸å¸¸æŠŠè¯¸å¦‚â€œå¯æ‰©å±•æ€§â€ã€â€œé«˜å¯ç”¨æ€§â€ä»¥åŠâ€œæ€§èƒ½â€ç­‰æœ¯è¯­åœ¨ä¸€äº›éæ­£å¼çš„åœºåˆç”¨ä½œåŒä¹‰è¯ï¼Œä½†äº‹å®ä¸Šå®ƒä»¬æ˜¯å®Œå…¨ä¸åŒçš„ã€‚åœ¨ç¬¬3ç« å·²ç»è§£é‡Šè¿‡ï¼Œæˆ‘ä»¬å°†æ€§èƒ½å®šä¹‰ä¸ºå“åº”æ—¶é—´ã€‚æˆ‘ä»¬ä¹Ÿå¯ä»¥å¾ˆç²¾ç¡®åœ°å®šä¹‰å¯æ‰©å±•æ€§ï¼Œç¨åå°†å®Œæ•´è®¨è®ºã€‚ç®€è¦åœ°è¯´ï¼Œå¯æ‰©å±•æ€§è¡¨æ˜äº†å½“éœ€è¦å¢åŠ èµ„æºä»¥æ‰§è¡Œæ›´å¤šå·¥ä½œæ—¶ç³»ç»Ÿèƒ½å¤Ÿè·å¾—åˆ’ç®—çš„ç­‰åŒæå‡ï¼ˆequal bang for the buckï¼‰çš„èƒ½åŠ›ã€‚ç¼ºä¹æ‰©å±•èƒ½åŠ›çš„ç³»ç»Ÿåœ¨è¾¾åˆ°æ”¶ç›Šé€’å‡çš„è½¬æŠ˜ç‚¹åï¼Œå°†æ— æ³•è¿›ä¸€æ­¥å¢é•¿ã€‚&lt;/p>
&lt;p>å®¹é‡æ˜¯ä¸€ä¸ªå’Œå¯æ‰©å±•æ€§ç›¸å…³çš„æ¦‚å¿µã€‚ç³»ç»Ÿå®¹é‡è¡¨ç¤ºåœ¨ä¸€å®šæ—¶é—´å†…èƒ½å¤Ÿå®Œæˆçš„å·¥ä½œé‡(1)ï¼Œä½†å®¹é‡å¿…é¡»æ˜¯å¯ä»¥æœ‰æ•ˆåˆ©ç”¨çš„ã€‚ç³»ç»Ÿçš„æœ€å¤§ååé‡å¹¶ä¸ç­‰åŒäºå®¹é‡ã€‚å¤§å¤šæ•°åŸºå‡†æµ‹è¯•èƒ½å¤Ÿè¡¡é‡ä¸€ä¸ªç³»ç»Ÿçš„æœ€å¤§ååé‡ï¼Œä½†çœŸå®çš„ç³»ç»Ÿä¸€èˆ¬ä¸ä¼šä½¿ç”¨åˆ°æé™ã€‚å¦‚æœè¾¾åˆ°æœ€å¤§ååé‡ï¼Œåˆ™æ€§èƒ½ä¼šä¸‹é™ï¼Œå¹¶ä¸”å“åº”æ—¶é—´ä¼šå˜å¾—ä¸å¯æ¥å—åœ°å¤§ä¸”éå¸¸ä¸ç¨³å®šã€‚æˆ‘ä»¬å°†ç³»ç»Ÿçš„çœŸå®å®¹é‡å®šä¹‰ä¸ºåœ¨ä¿è¯å¯æ¥å—çš„æ€§èƒ½çš„æƒ…å†µä¸‹èƒ½å¤Ÿè¾¾åˆ°çš„ååé‡ã€‚è¿™å°±æ˜¯ä¸ºä»€ä¹ˆåŸºå‡†æµ‹è¯•çš„ç»“æœé€šå¸¸ä¸åº”è¯¥ç®€åŒ–ä¸ºä¸€ä¸ªå•ç‹¬çš„æ•°å­—ã€‚&lt;/p>
&lt;p>å®¹é‡å’Œå¯æ‰©å±•æ€§å¹¶ä¸ä¾èµ–äºæ€§èƒ½ã€‚ä»¥é«˜é€Ÿå…¬è·¯ä¸Šçš„æ±½è½¦æ¥ç±»æ¯”çš„è¯ï¼š&lt;/p>
&lt;ul>
&lt;li>æ€§èƒ½æ˜¯æ±½è½¦çš„æ—¶é€Ÿã€‚&lt;/li>
&lt;li>å®¹é‡æ˜¯è½¦é“æ•°ä¹˜ä»¥æœ€å¤§å®‰å…¨æ—¶é€Ÿã€‚&lt;/li>
&lt;li>å¯æ‰©å±•æ€§å°±æ˜¯åœ¨ä¸å‡æ…¢äº¤é€šçš„æƒ…å†µä¸‹ï¼Œèƒ½å¢åŠ æ›´å¤šè½¦å’Œè½¦é“çš„ç¨‹åº¦ã€‚&lt;/li>
&lt;/ul>
&lt;p>åœ¨è¿™ä¸ªç±»æ¯”ä¸­ï¼Œå¯æ‰©å±•æ€§ä¾èµ–äºå¤šä¸ªæ¡ä»¶ï¼šæ¢é“è®¾è®¡å¾—æ˜¯å¦åˆç†ã€è·¯ä¸Šæœ‰å¤šå°‘è½¦æŠ›é”šæˆ–è€…å‘ç”Ÿäº‹æ•…ï¼Œæ±½è½¦è¡Œé©¶é€Ÿåº¦æ˜¯å¦ä¸åŒæˆ–è€…æ˜¯å¦é¢‘ç¹å˜æ¢è½¦é“â€”â€”ä½†ä¸€èˆ¬æ¥è¯´å’Œæ±½è½¦çš„å¼•æ“æ˜¯å¦å¼ºå¤§æ— å…³ã€‚è¿™å¹¶ä¸æ˜¯è¯´æ€§èƒ½ä¸é‡è¦ï¼Œæ€§èƒ½ç¡®å®é‡è¦ï¼Œåªæ˜¯éœ€è¦æŒ‡å‡ºï¼Œå³ä½¿ç³»ç»Ÿæ€§èƒ½ä¸æ˜¯å¾ˆé«˜ä¹Ÿå¯ä»¥å…·å¤‡å¯æ‰©å±•æ€§ã€‚&lt;/p>
&lt;p>ä»è¾ƒé«˜å±‚æ¬¡çœ‹ï¼Œå¯æ‰©å±•æ€§å°±æ˜¯èƒ½å¤Ÿé€šè¿‡å¢åŠ èµ„æºæ¥æå‡å®¹é‡çš„èƒ½åŠ›ã€‚&lt;/p>
&lt;p>å³ä½¿MySQLæ¶æ„æ˜¯å¯æ‰©å±•çš„ï¼Œä½†åº”ç”¨æœ¬èº«ä¹Ÿå¯èƒ½æ— æ³•æ‰©å±•ï¼Œå¦‚æœå¾ˆéš¾å¢åŠ å®¹é‡ï¼Œä¸ç®¡åŸå› æ˜¯ä»€ä¹ˆï¼Œåº”ç”¨éƒ½æ˜¯ä¸å¯æ‰©å±•çš„ã€‚ä¹‹å‰æˆ‘ä»¬ä»ååé‡æ–¹é¢æ¥å®šä¹‰å®¹é‡ï¼Œä½†åŒæ ·ä¹Ÿéœ€è¦ä»è¾ƒé«˜çš„å±‚æ¬¡æ¥çœ‹å¾…å®¹é‡é—®é¢˜ã€‚ä»æœ‰åˆ©çš„è§’åº¦æ¥çœ‹ï¼Œå®¹é‡å¯ä»¥ç®€å•åœ°è®¤ä¸ºæ˜¯å¤„ç†è´Ÿè½½çš„èƒ½åŠ›ï¼Œä»ä¸åŒçš„è§’åº¦æ¥è€ƒè™‘è´Ÿè½½å¾ˆæœ‰å¸®åŠ©ã€‚&lt;/p>
&lt;p>æ•°æ®é‡&lt;/p>
&lt;p>åº”ç”¨æ‰€èƒ½ç´¯ç§¯çš„æ•°æ®é‡æ˜¯å¯æ‰©å±•æ€§æœ€æ™®éçš„æŒ‘æˆ˜ï¼Œç‰¹åˆ«æ˜¯å¯¹äºç°åœ¨çš„è®¸å¤šäº’è”ç½‘åº”ç”¨è€Œè¨€ï¼Œè¿™äº›åº”ç”¨ä»ä¸åˆ é™¤ä»»ä½•æ•°æ®ã€‚ä¾‹å¦‚ç¤¾äº¤ç½‘ç«™ï¼Œé€šå¸¸ä»ä¸ä¼šåˆ é™¤è€çš„æ¶ˆæ¯æˆ–è¯„è®ºã€‚&lt;/p>
&lt;p>ç”¨æˆ·é‡&lt;/p>
&lt;p>å³ä½¿æ¯ä¸ªç”¨æˆ·åªæœ‰å°‘é‡çš„æ•°æ®ï¼Œä½†åœ¨ç´¯è®¡åˆ°ä¸€å®šæ•°é‡çš„ç”¨æˆ·åï¼Œæ•°æ®é‡ä¹Ÿä¼šå¼€å§‹ä¸æˆæ¯”ä¾‹åœ°å¢é•¿ä¸”é€Ÿåº¦å¿«è¿‡ç”¨æˆ·æ•°å¢é•¿ã€‚æ›´å¤šçš„ç”¨æˆ·æ„å‘³ç€è¦å¤„ç†æ›´å¤šçš„äº‹åŠ¡ï¼Œå¹¶ä¸”äº‹åŠ¡æ•°å¯èƒ½å’Œç”¨æˆ·æ•°ä¸æˆæ¯”ä¾‹ã€‚æœ€åï¼Œå¤§é‡ç”¨æˆ·ï¼ˆä»¥åŠæ›´å¤šçš„æ•°æ®ï¼‰ä¹Ÿæ„å‘³ç€æ›´å¤šå¤æ‚çš„æŸ¥è¯¢ï¼Œç‰¹åˆ«æ˜¯æŸ¥è¯¢è·Ÿç”¨æˆ·å…³ç³»ç›¸å…³æ—¶ï¼ˆç”¨æˆ·é—´çš„å…³è”æ•°å¯ä»¥ç”¨NÃ—ï¼ˆNâˆ’1ï¼‰æ¥è®¡ç®—ï¼Œè¿™é‡ŒNè¡¨ç¤ºç”¨æˆ·æ•°ï¼‰ã€‚&lt;/p>
&lt;p>ç”¨æˆ·æ´»è·ƒåº¦&lt;/p>
&lt;p>ä¸æ˜¯æ‰€æœ‰çš„ç”¨æˆ·æ´»è·ƒåº¦éƒ½ç›¸åŒï¼Œå¹¶ä¸”ç”¨æˆ·æ´»è·ƒåº¦ä¹Ÿä¸æ€»æ˜¯ä¸å˜çš„ã€‚å¦‚æœç”¨æˆ·çªç„¶å˜å¾—æ´»è·ƒï¼Œä¾‹å¦‚ç”±äºå¢åŠ äº†ä¸€ä¸ªå¸å¼•äººçš„æ–°ç‰¹æ€§ï¼Œé‚£ä¹ˆè´Ÿè½½å¯èƒ½ä¼šæ˜æ˜¾æå‡ã€‚ç”¨æˆ·æ´»è·ƒåº¦ä¸ä»…ä»…æŒ‡é¡µé¢æµè§ˆæ•°ï¼Œå³ä½¿åŒæ ·çš„é¡µé¢æµè§ˆæ•°ï¼Œå¦‚æœç½‘ç«™çš„æŸä¸ªéœ€è¦æ‰§è¡Œå¤§é‡å·¥ä½œçš„éƒ¨åˆ†å˜å¾—æµè¡Œï¼Œä¹Ÿå¯èƒ½å¯¼è‡´æ›´å¤šçš„å·¥ä½œã€‚å¦å¤–ï¼ŒæŸäº›ç”¨æˆ·ä¹Ÿä¼šæ¯”å…¶ä»–ç”¨æˆ·æ›´æ´»è·ƒï¼šä»–ä»¬å¯èƒ½æ¯”ä¸€èˆ¬äººæœ‰æ›´å¤šçš„æœ‹å‹ã€æ¶ˆæ¯å’Œç…§ç‰‡ã€‚&lt;/p>
&lt;p>ç›¸å…³æ•°æ®é›†çš„å¤§å°&lt;/p>
&lt;p>å¦‚æœç”¨æˆ·é—´å­˜åœ¨å…³ç³»ï¼Œåº”ç”¨å¯èƒ½éœ€è¦åœ¨æ•´ä¸ªç›¸å…³è”ç”¨æˆ·ç¾¤ä½“ä¸Šæ‰§è¡ŒæŸ¥è¯¢å’Œè®¡ç®—ï¼Œè¿™æ¯”å¤„ç†ä¸€ä¸ªä¸€ä¸ªçš„ç”¨æˆ·å’Œç”¨æˆ·æ•°æ®è¦å¤æ‚å¾—å¤šã€‚ç¤¾äº¤ç½‘ç«™ç»å¸¸ä¼šé‡åˆ°ç”±é‚£äº›äººæ°”å¾ˆæ—ºçš„ç”¨æˆ·ç»„æˆ–æœ‹å‹å¾ˆå¤šçš„ç”¨æˆ·æ‰€å¸¦æ¥çš„æŒ‘æˆ˜(2)ã€‚&lt;/p>
&lt;h2 id="1111æ­£å¼çš„å¯æ‰©å±•æ€§å®šä¹‰">
 11.1.1ã€€æ­£å¼çš„å¯æ‰©å±•æ€§å®šä¹‰
 &lt;a class="anchor" href="#1111%e6%ad%a3%e5%bc%8f%e7%9a%84%e5%8f%af%e6%89%a9%e5%b1%95%e6%80%a7%e5%ae%9a%e4%b9%89">#&lt;/a>
&lt;/h2>
&lt;p>æœ‰å¿…è¦æ¢è®¨ä¸€ä¸‹å¯æ‰©å±•æ€§åœ¨æ•°å­¦ä¸Šçš„å®šä¹‰äº†ï¼Œè¿™æœ‰åŠ©äºåœ¨æ›´é«˜å±‚æ¬¡çš„æ¦‚å¿µä¸Šæ¸…æ™°åœ°ç†è§£å¯æ‰©å±•æ€§ã€‚å¦‚æœæ²¡æœ‰è¿™æ ·çš„åŸºç¡€ï¼Œå°±å¯èƒ½æ— æ³•ç†è§£æˆ–ç²¾ç¡®åœ°è¡¨è¾¾å¯æ‰©å±•æ€§ã€‚ä¸è¿‡ä¸ç”¨æ‹…å¿ƒï¼Œè¿™é‡Œä¸ä¼šæ¶‰åŠé«˜ç­‰æ•°å­¦ï¼Œå³ä½¿ä¸æ˜¯æ•°å­¦å¤©æ‰ï¼Œä¹Ÿèƒ½å¤Ÿå¾ˆç›´è§‚åœ°ç†è§£å®ƒã€‚&lt;/p>
&lt;p>å…³é”®æ˜¯ä¹‹å‰æˆ‘ä»¬ä½¿ç”¨çš„çŸ­è¯­ï¼šâ€œåˆ’ç®—çš„ç­‰åŒæå‡ï¼ˆequal bang for the buckï¼‰â€ã€‚å¦ä¸€ç§è¯´æ³•æ˜¯ï¼Œå¯æ‰©å±•æ€§æ˜¯å½“å¢åŠ èµ„æºä»¥å¤„ç†è´Ÿè½½å’Œå¢åŠ å®¹é‡æ—¶ç³»ç»Ÿèƒ½å¤Ÿè·å¾—çš„æŠ•èµ„äº§å‡ºç‡ï¼ˆROIï¼‰ã€‚å‡è®¾æœ‰ä¸€ä¸ªåªæœ‰ä¸€å°æœåŠ¡å™¨çš„ç³»ç»Ÿï¼Œå¹¶ä¸”èƒ½å¤Ÿæµ‹é‡å®ƒçš„æœ€å¤§å®¹é‡ï¼Œå¦‚å›¾11-1æ‰€ç¤ºã€‚&lt;/p>
&lt;p>&lt;img src="img/000001.jpeg" alt="" />
&lt;strong>å›¾11-1ï¼šä¸€ä¸ªåªæœ‰ä¸€å°æœåŠ¡å™¨çš„ç³»ç»Ÿ&lt;/strong>&lt;/p>
&lt;p>å‡è®¾ç°åœ¨æˆ‘ä»¬å¢åŠ ä¸€å°æœåŠ¡å™¨ï¼Œç³»ç»Ÿçš„èƒ½åŠ›åŠ å€ï¼Œå¦‚å›¾11-2æ‰€ç¤ºã€‚&lt;/p>
&lt;p>&lt;img src="img/000002.jpeg" alt="" />
&lt;strong>å›¾11-2ï¼šä¸€ä¸ªçº¿æ€§æ‰©å±•çš„ç³»ç»Ÿèƒ½ç”±ä¸¤å°æœåŠ¡å™¨è·å¾—ä¸¤å€å®¹é‡&lt;/strong>&lt;/p>
&lt;p>è¿™å°±æ˜¯çº¿æ€§æ‰©å±•ã€‚æˆ‘ä»¬å¢åŠ äº†ä¸€å€çš„æœåŠ¡å™¨ï¼Œç»“æœå¢åŠ äº†ä¸€å€çš„å®¹é‡ã€‚å¤§éƒ¨åˆ†ç³»ç»Ÿå¹¶ä¸æ˜¯çº¿æ€§æ‰©å±•çš„ï¼Œè€Œæ˜¯å¦‚å›¾11-3æ‰€ç¤ºçš„æ‰©å±•æ–¹å¼ã€‚&lt;/p>
&lt;p>&lt;img src="img/000003.jpeg" alt="" />
&lt;strong>å›¾11-3ï¼šä¸€ä¸ªéçº¿æ€§æ‰©å±•çš„ç³»ç»Ÿ&lt;/strong>&lt;/p>
&lt;p>å¤§éƒ¨åˆ†ç³»ç»Ÿéƒ½åªèƒ½ä»¥æ¯”çº¿æ€§æ‰©å±•ç•¥ä½çš„æ‰©å±•ç³»æ•°è¿›è¡Œæ‰©å±•ã€‚è¶Šé«˜çš„æ‰©å±•ç³»æ•°ä¼šå¯¼è‡´è¶Šå¤§çš„çº¿æ€§åå·®ã€‚äº‹å®ä¸Šï¼Œå¤šæ•°ç³»ç»Ÿæœ€ç»ˆä¼šè¾¾åˆ°ä¸€ä¸ªæœ€å¤§ååé‡ä¸´ç•Œç‚¹ï¼Œè¶…è¿‡è¿™ä¸ªç‚¹åå¢åŠ æŠ•å…¥åè€Œä¼šå¸¦æ¥è´Ÿå›æŠ¥â€”â€”ç»§ç»­å¢åŠ æ›´å¤šå·¥ä½œè´Ÿè½½ï¼Œå®é™…ä¸Šä¼šé™ä½ç³»ç»Ÿçš„ååé‡ã€‚(3)&lt;/p>
&lt;p>è¿™æ€ä¹ˆå¯èƒ½å‘¢ï¼Ÿè¿™äº›å¹´äº§ç”Ÿäº†è®¸å¤šå¯æ‰©å±•æ€§æ¨¡å‹ï¼Œå®ƒä»¬æœ‰ç€ä¸åŒç¨‹åº¦çš„è‰¯å¥½è¡¨ç°å’Œå®ç”¨æ€§ã€‚æˆ‘ä»¬è¿™é‡Œæ‰€è®²çš„å¯æ‰©å±•æ€§æ¨¡å‹æ˜¯åŸºäºæŸäº›èƒ½å¤Ÿå½±å“ç³»ç»Ÿæ‰©å±•çš„å†…åœ¨æœºåˆ¶ã€‚è¿™å°±æ˜¯Neil J. Guntheråšå£«æå‡ºçš„é€šç”¨å¯æ‰©å±•æ€§å®šå¾‹ï¼ˆUniversal Scalability Lawï¼ŒUSLï¼‰ã€‚Guntheråšå£«å°†è¿™äº›è¯¦å°½åœ°å†™åˆ°äº†ä»–çš„ä¹¦ä¸­ï¼ŒåŒ…æ‹¬&lt;em>Guerrilla Capacity Planning&lt;/em> ï¼ˆSpringerï¼‰ã€‚è¿™é‡Œæˆ‘ä»¬ä¸ä¼šæ·±å…¥åˆ°èƒŒåçš„æ•°å­¦ç†è®ºä¸­ï¼Œå¦‚æœä½ å¯¹æ­¤æ„Ÿå…´è¶£ï¼Œä»–æ’°å†™çš„ä¹¦ç±ä»¥åŠç”±ä»–çš„å…¬å¸Performance Dynamicsæä¾›çš„è®­ç»ƒè¯¾ç¨‹å¯èƒ½æ˜¯æ¯”è¾ƒå¥½çš„èµ„æºã€‚(4)&lt;/p>
&lt;p>ç®€è€Œè¨€ä¹‹ï¼ŒUSLè¯´çš„æ˜¯çº¿æ€§æ‰©å±•çš„åå·®å¯é€šè¿‡ä¸¤ä¸ªå› ç´ æ¥å»ºç«‹æ¨¡å‹ï¼šæ— æ³•å¹¶å‘æ‰§è¡Œçš„ä¸€éƒ¨åˆ†å·¥ä½œï¼Œä»¥åŠéœ€è¦äº¤äº’çš„å¦å¤–ä¸€éƒ¨åˆ†å·¥ä½œã€‚ä¸ºç¬¬ä¸€ä¸ªå› ç´ å»ºæ¨¡å°±æœ‰äº†è‘—åçš„Amdahlå®šå¾‹ï¼Œå®ƒä¼šå¯¼è‡´ååé‡è¶‹äºå¹³ç¼“ã€‚å¦‚æœéƒ¨åˆ†ä»»åŠ¡æ— æ³•å¹¶è¡Œï¼Œé‚£ä¹ˆä¸ç®¡ä½ å¦‚ä½•åˆ†è€Œæ²»ä¹‹ï¼Œè¯¥ä»»åŠ¡è‡³å°‘éœ€è¦ä¸²è¡Œéƒ¨åˆ†çš„æ—¶é—´ã€‚&lt;/p>
&lt;p>å¢åŠ ç¬¬äºŒä¸ªå› ç´ â€”â€”å†…éƒ¨èŠ‚ç‚¹é—´æˆ–è€…è¿›ç¨‹é—´çš„é€šä¿¡â€”â€”åˆ°Amdahlå®šå¾‹å°±å¾—å‡ºäº†USLã€‚è¿™ç§é€šä¿¡çš„ä»£ä»·å–å†³äºé€šä¿¡ä¿¡é“çš„æ•°é‡ï¼Œè€Œä¿¡é“çš„æ•°é‡å°†æŒ‰ç…§ç³»ç»Ÿå†…å·¥ä½œè€…æ•°é‡çš„äºŒæ¬¡æ–¹å¢é•¿ã€‚å› æ­¤æœ€ç»ˆå¼€é”€æ¯”å¸¦æ¥çš„æ”¶ç›Šå¢é•¿å¾—æ›´å¿«ï¼Œè¿™æ˜¯äº§ç”Ÿæ‰©å±•æ€§å€’é€€çš„åŸå› ã€‚å›¾11-4é˜æ˜äº†ç›®å‰è®¨è®ºåˆ°çš„ä¸‰ä¸ªæ¦‚å¿µï¼šçº¿æ€§æ‰©å±•ã€Amdahlæ‰©å±•ï¼Œä»¥åŠUSLæ‰©å±•ã€‚å¤§å¤šæ•°çœŸå®ç³»ç»Ÿçœ‹èµ·æ¥æ›´åƒUSLæ›²çº¿ã€‚&lt;/p>
&lt;p>&lt;img src="img/000004.jpeg" alt="" />
&lt;strong>å›¾11-4ï¼šçº¿æ€§æ‰©å±•ã€AmdahIæ‰©å±•ä»¥åŠUSLæ‰©å±•å®šå¾‹&lt;/strong>&lt;/p>
&lt;p>USLå¯ä»¥åº”ç”¨äºç¡¬ä»¶å’Œè½¯ä»¶é¢†åŸŸã€‚å¯¹äºç¡¬ä»¶ï¼Œæ¨ªè½´è¡¨ç¤ºç¡¬ä»¶çš„æ•°é‡ï¼Œä¾‹å¦‚æœåŠ¡å™¨æ•°é‡æˆ–CPUæ•°é‡ã€‚æ¯ä¸ªç¡¬ä»¶çš„å·¥ä½œé‡ã€æ•°æ®å¤§å°ä»¥åŠæŸ¥è¯¢çš„å¤æ‚åº¦å¿…é¡»ä¿æŒä¸ºå¸¸é‡(5)ã€‚å¯¹äºè½¯ä»¶ï¼Œæ¨ªè½´è¡¨ç¤ºå¹¶å‘åº¦ï¼Œä¾‹å¦‚ç”¨æˆ·æ•°æˆ–çº¿ç¨‹æ•°ã€‚æ¯ä¸ªå¹¶å‘çš„å·¥ä½œé‡å¿…é¡»ä¿æŒä¸ºå¸¸é‡ã€‚&lt;/p>
&lt;p>æœ‰ä¸€ç‚¹å¾ˆé‡è¦ï¼ŒUSLå¹¶ä¸èƒ½å®Œç¾åœ°æè¿°çœŸå®ç³»ç»Ÿï¼Œå®ƒåªæ˜¯ä¸€ä¸ªç®€åŒ–æ¨¡å‹ã€‚ä½†è¿™æ˜¯ä¸€ä¸ªå¾ˆå¥½çš„æ¡†æ¶ï¼Œå¯ç”¨äºç†è§£ä¸ºä»€ä¹ˆç³»ç»Ÿå¢é•¿æ— æ³•å¸¦æ¥ç­‰åŒçš„æ”¶ç›Šã€‚å®ƒä¹Ÿæ­ç¤ºäº†ä¸€ä¸ªæ„å»ºé«˜å¯æ‰©å±•æ€§ç³»ç»Ÿçš„é‡è¦åŸåˆ™ï¼šåœ¨ç³»ç»Ÿå†…å°½é‡é¿å…ä¸²è¡ŒåŒ–å’Œäº¤äº’ã€‚&lt;/p>
&lt;p>å¯ä»¥è¡¡é‡ä¸€ä¸ªç³»ç»Ÿå¹¶ä½¿ç”¨å›å½’æ¥ç¡®å®šä¸²è¡Œå’Œäº¤äº’çš„é‡ã€‚ä½ å¯ä»¥å°†å®ƒä½œä¸ºå®¹é‡è§„åˆ’å’Œæ€§èƒ½é¢„æµ‹è¯„ä¼°çš„æœ€ä¼˜ä¸Šé™å€¼ã€‚ä¹Ÿå¯ä»¥æ£€æŸ¥ç³»ç»Ÿæ˜¯æ€ä¹ˆåç¦»USLæ¨¡å‹çš„ï¼Œå°†å…¶ä½œä¸ºæœ€å·®ä¸‹é™å€¼ä»¥æŒ‡å‡ºç³»ç»Ÿçš„å“ªä¸€éƒ¨åˆ†æ²¡æœ‰è¡¨ç°å‡ºå®ƒåº”æœ‰çš„æ€§èƒ½ã€‚è¿™ä¸¤ç§æƒ…å†µä¸‹ï¼ŒUSLç»™å‡ºäº†ä¸€ä¸ªè®¨è®ºå¯æ‰©å±•æ€§çš„å‚è€ƒã€‚å¦‚æœæ²¡æœ‰USLï¼Œé‚£å³ä½¿ç›¯ç€ç³»ç»Ÿçœ‹ä¹Ÿæ— æ³•çŸ¥é“æœŸæœ›çš„ç»“æœæ˜¯ä»€ä¹ˆã€‚å¦‚æœæƒ³æ·±å…¥äº†è§£è¿™ä¸ªä¸»é¢˜ï¼Œæœ€å¥½å»çœ‹ä¸€ä¸‹å¯¹åº”çš„ä¹¦ç±ã€‚Guntheråšå£«å·²ç»å†™å¾—å¾ˆæ¸…æ¥šï¼Œå› æ­¤æˆ‘ä»¬ä¸ä¼šå†æ·±å…¥è®¨è®ºä¸‹å»ã€‚&lt;/p>
&lt;p>å¦å¤–ä¸€ä¸ªç†è§£å¯æ‰©å±•æ€§é—®é¢˜çš„æ¡†æ¶æ˜¯çº¦æŸç†è®ºï¼Œå®ƒè§£é‡Šäº†å¦‚ä½•é€šè¿‡å‡å°‘ä¾èµ–äº‹ä»¶å’Œç»Ÿè®¡å˜åŒ–ï¼ˆstatistical variationï¼‰æ¥æ”¹è¿›ç³»ç»Ÿçš„ååé‡å’Œæ€§èƒ½ã€‚è¿™åœ¨Eliyahu M. Goldrattæ‰€æ’°å†™çš„&lt;em>The Goal&lt;/em>ï¼ˆNorth Riverï¼‰ä¸€ä¹¦ä¸­æœ‰æè¿°ï¼Œå…¶ä¸­æœ‰ä¸€ä¸ªå…³äºç®¡ç†åˆ¶é€ ä¸šè®¾å¤‡çš„å»¶ä¼¸çš„æ¯”å–»ã€‚å°½ç®¡è¿™çœ‹èµ·æ¥å’Œæ•°æ®åº“æœåŠ¡å™¨æ²¡æœ‰ä»€ä¹ˆå…³è”ï¼Œä½†å…¶ä¸­åŒ…å«çš„æ³•åˆ™å’Œæ’é˜Ÿç†è®ºä»¥åŠå…¶ä»–è¿ç­¹å­¦æ–¹é¢æ˜¯ä¸€æ ·çš„ã€‚&lt;/p></description></item><item><title>ç¬¬10ç« å¤åˆ¶</title><link>https://lwmfjc.github.io/zh/docs/technology/MySQL/_%E9%AB%98%E6%80%A7%E8%83%BDMySQL_/%E7%AC%AC10%E7%AB%A0%E5%A4%8D%E5%88%B6/</link><pubDate>Sun, 05 Jan 2025 08:42:04 +0800</pubDate><guid>https://lwmfjc.github.io/zh/docs/technology/MySQL/_%E9%AB%98%E6%80%A7%E8%83%BDMySQL_/%E7%AC%AC10%E7%AB%A0%E5%A4%8D%E5%88%B6/</guid><description>&lt;p>ç¬¬10ç« ã€€å¤åˆ¶&lt;/p>
&lt;p>MySQLå†…å»ºçš„å¤åˆ¶åŠŸèƒ½æ˜¯æ„å»ºåŸºäºMySQLçš„å¤§è§„æ¨¡ã€é«˜æ€§èƒ½åº”ç”¨çš„åŸºç¡€ï¼Œè¿™ç±»åº”ç”¨ä½¿ç”¨æ‰€è°“çš„â€œæ°´å¹³æ‰©å±•â€çš„æ¶æ„ã€‚æˆ‘ä»¬å¯ä»¥é€šè¿‡ä¸ºæœåŠ¡å™¨é…ç½®ä¸€ä¸ªæˆ–å¤šä¸ªå¤‡åº“(1)çš„æ–¹å¼æ¥è¿›è¡Œæ•°æ®åŒæ­¥ã€‚å¤åˆ¶åŠŸèƒ½ä¸ä»…æœ‰åˆ©äºæ„å»ºé«˜æ€§èƒ½çš„åº”ç”¨ï¼ŒåŒæ—¶ä¹Ÿæ˜¯é«˜å¯ç”¨æ€§ã€å¯æ‰©å±•æ€§ã€ç¾éš¾æ¢å¤ã€å¤‡ä»½ä»¥åŠæ•°æ®ä»“åº“ç­‰å·¥ä½œçš„åŸºç¡€ã€‚äº‹å®ä¸Šï¼Œå¯æ‰©å±•æ€§å’Œé«˜å¯ç”¨æ€§é€šå¸¸æ˜¯ç›¸å…³è”çš„è¯é¢˜ï¼Œæˆ‘ä»¬ä¼šåœ¨æ¥ä¸‹æ¥çš„ä¸‰ç« è¯¦ç»†é˜è¿°ã€‚&lt;/p>
&lt;p>æœ¬ç« å°†é˜è¿°æ‰€æœ‰ä¸å¤åˆ¶ç›¸å…³çš„å†…å®¹ï¼Œé¦–å…ˆç®€è¦ä»‹ç»å¤åˆ¶å¦‚ä½•å·¥ä½œï¼Œç„¶åè®¨è®ºåŸºæœ¬çš„å¤åˆ¶æœåŠ¡æ­å»ºï¼ŒåŒ…æ‹¬ä¸å¤åˆ¶ç›¸å…³çš„é…ç½®ä»¥åŠå¦‚ä½•ç®¡ç†å’Œä¼˜åŒ–å¤åˆ¶æœåŠ¡å™¨ã€‚è™½ç„¶æœ¬ä¹¦çš„ä¸»é¢˜æ˜¯é«˜æ€§èƒ½ï¼Œä½†å¯¹äºå¤åˆ¶æ¥è¯´ï¼Œæˆ‘ä»¬åŒæ ·éœ€è¦å…³æ³¨å…¶å‡†ç¡®æ€§å’Œå¯é æ€§ï¼Œå› æ­¤æˆ‘ä»¬ä¹Ÿä¼šè®²è¿°å¤åˆ¶åœ¨ä»€ä¹ˆæƒ…å†µä¸‹ä¼šå¤±è´¥ï¼Œä»¥åŠå¦‚ä½•ä½¿å…¶æ›´å¥½åœ°å·¥ä½œã€‚&lt;/p>
&lt;h1 id="101å¤åˆ¶æ¦‚è¿°">
 10.1ã€€å¤åˆ¶æ¦‚è¿°
 &lt;a class="anchor" href="#101%e5%a4%8d%e5%88%b6%e6%a6%82%e8%bf%b0">#&lt;/a>
&lt;/h1>
&lt;p>å¤åˆ¶è§£å†³çš„åŸºæœ¬é—®é¢˜æ˜¯è®©ä¸€å°æœåŠ¡å™¨çš„æ•°æ®ä¸å…¶ä»–æœåŠ¡å™¨ä¿æŒåŒæ­¥ã€‚ä¸€å°ä¸»åº“çš„æ•°æ®å¯ä»¥åŒæ­¥åˆ°å¤šå°å¤‡åº“ä¸Šï¼Œå¤‡åº“æœ¬èº«ä¹Ÿå¯ä»¥è¢«é…ç½®æˆå¦å¤–ä¸€å°æœåŠ¡å™¨çš„ä¸»åº“ã€‚ä¸»åº“å’Œå¤‡åº“ä¹‹é—´å¯ä»¥æœ‰å¤šç§ä¸åŒçš„ç»„åˆæ–¹å¼ã€‚&lt;/p>
&lt;p>MySQLæ”¯æŒä¸¤ç§å¤åˆ¶æ–¹å¼ï¼šåŸºäºè¡Œçš„å¤åˆ¶å’ŒåŸºäºè¯­å¥çš„å¤åˆ¶ã€‚åŸºäºè¯­å¥çš„å¤åˆ¶ï¼ˆä¹Ÿç§°ä¸ºé€»è¾‘å¤åˆ¶ï¼‰æ—©åœ¨MySQL 3.23ç‰ˆæœ¬ä¸­å°±å­˜åœ¨ï¼Œè€ŒåŸºäºè¡Œçš„å¤åˆ¶æ–¹å¼åœ¨5.1ç‰ˆæœ¬ä¸­æ‰è¢«åŠ è¿›æ¥ã€‚è¿™ä¸¤ç§æ–¹å¼éƒ½æ˜¯é€šè¿‡åœ¨ä¸»åº“ä¸Šè®°å½•äºŒè¿›åˆ¶æ—¥å¿—(2)ã€åœ¨å¤‡åº“é‡æ”¾æ—¥å¿—çš„æ–¹å¼æ¥å®ç°å¼‚æ­¥çš„æ•°æ®å¤åˆ¶ã€‚è¿™æ„å‘³ç€ï¼Œåœ¨åŒä¸€æ—¶é—´ç‚¹å¤‡åº“ä¸Šçš„æ•°æ®å¯èƒ½ä¸ä¸»åº“å­˜åœ¨ä¸ä¸€è‡´ï¼Œå¹¶ä¸”æ— æ³•ä¿è¯ä¸»å¤‡ä¹‹é—´çš„å»¶è¿Ÿã€‚ä¸€äº›å¤§çš„è¯­å¥å¯èƒ½å¯¼è‡´å¤‡åº“äº§ç”Ÿå‡ ç§’ã€å‡ åˆ†é’Ÿç”šè‡³å‡ ä¸ªå°æ—¶çš„å»¶è¿Ÿã€‚&lt;/p>
&lt;p>MySQLå¤åˆ¶å¤§éƒ¨åˆ†æ˜¯å‘åå…¼å®¹çš„ï¼Œæ–°ç‰ˆæœ¬çš„æœåŠ¡å™¨å¯ä»¥ä½œä¸ºè€ç‰ˆæœ¬æœåŠ¡å™¨çš„å¤‡åº“ï¼Œä½†åè¿‡æ¥ï¼Œå°†è€ç‰ˆæœ¬ä½œä¸ºæ–°ç‰ˆæœ¬æœåŠ¡å™¨çš„å¤‡åº“é€šå¸¸æ˜¯ä¸å¯è¡Œçš„ï¼Œå› ä¸ºå®ƒå¯èƒ½æ— æ³•è§£ææ–°ç‰ˆæœ¬æ‰€é‡‡ç”¨çš„æ–°çš„ç‰¹æ€§æˆ–è¯­æ³•ï¼Œå¦å¤–æ‰€ä½¿ç”¨çš„äºŒè¿›åˆ¶æ–‡ä»¶çš„æ ¼å¼ä¹Ÿå¯èƒ½ä¸ç›¸åŒã€‚ä¾‹å¦‚ï¼Œä¸èƒ½ä»MySQL 5.1å¤åˆ¶åˆ°MySQL 4.0ã€‚åœ¨è¿›è¡Œå¤§çš„ç‰ˆæœ¬å‡çº§å‰ï¼Œä¾‹å¦‚ä»4.1å‡çº§åˆ°5.0ï¼Œæˆ–ä»5.1å‡çº§åˆ°5.5ï¼Œæœ€å¥½å…ˆå¯¹å¤åˆ¶çš„è®¾ç½®è¿›è¡Œæµ‹è¯•ã€‚ä½†å¯¹äºå°ç‰ˆæœ¬å·å‡çº§ï¼Œå¦‚ä»5.1.51å‡çº§åˆ°5.1.58ï¼Œåˆ™é€šå¸¸æ˜¯å…¼å®¹çš„ã€‚é€šè¿‡é˜…è¯»æ¯æ¬¡ç‰ˆæœ¬æ›´æ–°çš„ChangeLogå¯ä»¥æ‰¾åˆ°ä¸åŒç‰ˆæœ¬é—´åšäº†ä»€ä¹ˆä¿®æ”¹ã€‚&lt;/p>
&lt;p>å¤åˆ¶é€šå¸¸ä¸ä¼šå¢åŠ ä¸»åº“çš„å¼€é”€ï¼Œä¸»è¦æ˜¯å¯ç”¨äºŒè¿›åˆ¶æ—¥å¿—å¸¦æ¥çš„å¼€é”€ï¼Œä½†å‡ºäºå¤‡ä»½æˆ–åŠæ—¶ä»å´©æºƒä¸­æ¢å¤çš„ç›®çš„ï¼Œè¿™ç‚¹å¼€é”€ä¹Ÿæ˜¯å¿…è¦çš„ã€‚é™¤æ­¤ä¹‹å¤–ï¼Œæ¯ä¸ªå¤‡åº“ä¹Ÿä¼šå¯¹ä¸»åº“å¢åŠ ä¸€äº›è´Ÿè½½ï¼ˆä¾‹å¦‚ç½‘ç»œI/Oå¼€é”€ï¼‰ï¼Œå°¤å…¶å½“å¤‡åº“è¯·æ±‚ä»ä¸»åº“è¯»å–æ—§çš„äºŒè¿›åˆ¶æ—¥å¿—æ–‡ä»¶æ—¶ï¼Œå¯èƒ½ä¼šé€ æˆæ›´é«˜çš„I/Oå¼€é”€ã€‚å¦å¤–é”ç«äº‰ä¹Ÿå¯èƒ½é˜»ç¢äº‹åŠ¡çš„æäº¤ã€‚æœ€åï¼Œå¦‚æœæ˜¯ä»ä¸€ä¸ªé«˜ååé‡ï¼ˆä¾‹å¦‚5000æˆ–æ›´é«˜çš„TPSï¼‰çš„ä¸»åº“ä¸Šå¤åˆ¶åˆ°å¤šä¸ªå¤‡åº“ï¼Œå”¤é†’å¤šä¸ªå¤åˆ¶çº¿ç¨‹å‘é€äº‹ä»¶çš„å¼€é”€å°†ä¼šç´¯åŠ ã€‚&lt;/p>
&lt;p>é€šè¿‡å¤åˆ¶å¯ä»¥å°†è¯»æ“ä½œæŒ‡å‘å¤‡åº“æ¥è·å¾—æ›´å¥½çš„è¯»æ‰©å±•ï¼Œä½†å¯¹äºå†™æ“ä½œï¼Œé™¤éè®¾è®¡å¾—å½“ï¼Œå¦åˆ™å¹¶ä¸é€‚åˆé€šè¿‡å¤åˆ¶æ¥æ‰©å±•å†™æ“ä½œã€‚åœ¨ä¸€ä¸»åº“å¤šå¤‡åº“çš„æ¶æ„ä¸­ï¼Œå†™æ“ä½œä¼šè¢«æ‰§è¡Œå¤šæ¬¡ï¼Œè¿™æ—¶å€™æ•´ä¸ªç³»ç»Ÿçš„æ€§èƒ½å–å†³äºå†™å…¥æœ€æ…¢çš„é‚£éƒ¨åˆ†ã€‚&lt;/p>
&lt;p>å½“ä½¿ç”¨ä¸€ä¸»åº“å¤šå¤‡åº“çš„æ¶æ„æ—¶ï¼Œå¯èƒ½ä¼šé€ æˆä¸€äº›æµªè´¹ï¼Œå› ä¸ºæœ¬è´¨ä¸Šå®ƒä¼šå¤åˆ¶å¤§é‡ä¸å¿…è¦çš„é‡å¤æ•°æ®ã€‚ä¾‹å¦‚ï¼Œå¯¹äºä¸€å°ä¸»åº“å’Œ10å°å¤‡åº“ï¼Œä¼šæœ‰11ä»½æ•°æ®æ‹·è´ï¼Œå¹¶ä¸”è¿™11å°æœåŠ¡å™¨çš„ç¼“å­˜ä¸­å­˜å‚¨äº†å¤§éƒ¨åˆ†ç›¸åŒçš„æ•°æ®ã€‚è¿™å’Œåœ¨æœåŠ¡å™¨ä¸Šæœ‰11è·¯RAID 1ç±»ä¼¼ã€‚è¿™ä¸æ˜¯ä¸€ç§ç»æµçš„ç¡¬ä»¶ä½¿ç”¨æ–¹å¼ï¼Œä½†è¿™ç§å¤åˆ¶æ¶æ„å´å¾ˆå¸¸è§ï¼Œæœ¬ç« æˆ‘ä»¬å°†è®¨è®ºè§£å†³è¿™ä¸ªé—®é¢˜çš„æ–¹æ³•ã€‚&lt;/p>
&lt;h2 id="1011å¤åˆ¶è§£å†³çš„é—®é¢˜">
 10.1.1ã€€å¤åˆ¶è§£å†³çš„é—®é¢˜
 &lt;a class="anchor" href="#1011%e5%a4%8d%e5%88%b6%e8%a7%a3%e5%86%b3%e7%9a%84%e9%97%ae%e9%a2%98">#&lt;/a>
&lt;/h2>
&lt;p>ä¸‹é¢æ˜¯å¤åˆ¶æ¯”è¾ƒå¸¸è§çš„ç”¨é€”ï¼š&lt;/p>
&lt;p>æ•°æ®åˆ†å¸ƒ&lt;/p>
&lt;p>MySQLå¤åˆ¶é€šå¸¸ä¸ä¼šå¯¹å¸¦å®½é€ æˆå¾ˆå¤§çš„å‹åŠ›ï¼Œä½†åœ¨5.1ç‰ˆæœ¬å¼•å…¥çš„åŸºäºè¡Œçš„å¤åˆ¶ä¼šæ¯”ä¼ ç»Ÿçš„åŸºäºè¯­å¥çš„å¤åˆ¶æ¨¡å¼çš„å¸¦å®½å‹åŠ›æ›´å¤§ã€‚ä½ å¯ä»¥éšæ„åœ°åœæ­¢æˆ–å¼€å§‹å¤åˆ¶ï¼Œå¹¶åœ¨ä¸åŒçš„åœ°ç†ä½ç½®æ¥åˆ†å¸ƒæ•°æ®å¤‡ä»½ï¼Œä¾‹å¦‚ä¸åŒçš„æ•°æ®ä¸­å¿ƒã€‚å³ä½¿åœ¨ä¸ç¨³å®šçš„ç½‘ç»œç¯å¢ƒä¸‹ï¼Œè¿œç¨‹å¤åˆ¶ä¹Ÿå¯ä»¥å·¥ä½œã€‚ä½†å¦‚æœä¸ºäº†ä¿æŒå¾ˆä½çš„å¤åˆ¶å»¶è¿Ÿï¼Œæœ€å¥½æœ‰ä¸€ä¸ªç¨³å®šçš„ã€ä½å»¶è¿Ÿè¿æ¥ã€‚&lt;/p>
&lt;p>è´Ÿè½½å‡è¡¡&lt;/p>
&lt;p>é€šè¿‡MySQLå¤åˆ¶å¯ä»¥å°†è¯»æ“ä½œåˆ†å¸ƒåˆ°å¤šä¸ªæœåŠ¡å™¨ä¸Šï¼Œå®ç°å¯¹è¯»å¯†é›†å‹åº”ç”¨çš„ä¼˜åŒ–ï¼Œå¹¶ä¸”å®ç°å¾ˆæ–¹ä¾¿ï¼Œé€šè¿‡ç®€å•çš„ä»£ç ä¿®æ”¹å°±èƒ½å®ç°åŸºæœ¬çš„è´Ÿè½½å‡è¡¡ã€‚å¯¹äºå°è§„æ¨¡çš„åº”ç”¨ï¼Œå¯ä»¥ç®€å•åœ°å¯¹æœºå™¨ååšç¡¬ç¼–ç æˆ–ä½¿ç”¨DNSè½®è¯¢ï¼ˆå°†ä¸€ä¸ªæœºå™¨åæŒ‡å‘å¤šä¸ªIPåœ°å€ï¼‰ã€‚å½“ç„¶ä¹Ÿå¯ä»¥ä½¿ç”¨æ›´å¤æ‚çš„æ–¹æ³•ï¼Œä¾‹å¦‚ç½‘ç»œè´Ÿè½½å‡è¡¡è¿™ä¸€ç±»çš„æ ‡å‡†è´Ÿè½½å‡è¡¡è§£å†³æ–¹æ¡ˆï¼Œèƒ½å¤Ÿå¾ˆå¥½åœ°å°†è´Ÿè½½åˆ†é…åˆ°ä¸åŒçš„MySQLæœåŠ¡å™¨ä¸Šã€‚Linuxè™šæ‹ŸæœåŠ¡å™¨ï¼ˆLinux Virtual Serverï¼ŒLVSï¼‰ä¹Ÿèƒ½å¤Ÿå¾ˆå¥½åœ°å·¥ä½œï¼Œç¬¬11ç« å°†è¯¦ç»†åœ°è®¨è®ºè´Ÿè½½å‡è¡¡ã€‚&lt;/p>
&lt;p>å¤‡ä»½&lt;/p>
&lt;p>å¯¹äºå¤‡ä»½æ¥è¯´ï¼Œå¤åˆ¶æ˜¯ä¸€é¡¹å¾ˆæœ‰æ„ä¹‰çš„æŠ€æœ¯è¡¥å……ï¼Œä½†å¤åˆ¶æ—¢ä¸æ˜¯å¤‡ä»½ä¹Ÿä¸èƒ½å¤Ÿå–ä»£å¤‡ä»½ã€‚&lt;/p>
&lt;p>é«˜å¯ç”¨æ€§å’Œæ•…éšœåˆ‡æ¢&lt;/p>
&lt;p>å¤åˆ¶èƒ½å¤Ÿå¸®åŠ©åº”ç”¨ç¨‹åºé¿å…MySQLå•ç‚¹å¤±è´¥ï¼Œä¸€ä¸ªåŒ…å«å¤åˆ¶çš„è®¾è®¡è‰¯å¥½çš„æ•…éšœåˆ‡æ¢ç³»ç»Ÿèƒ½å¤Ÿæ˜¾è‘—åœ°ç¼©çŸ­å®•æœºæ—¶é—´ï¼Œæˆ‘ä»¬å°†åœ¨ç¬¬12ç« è®¨è®ºæ•…éšœåˆ‡æ¢ã€‚&lt;/p>
&lt;p>MySQLå‡çº§æµ‹è¯•&lt;/p>
&lt;p>è¿™ç§åšæ³•æ¯”è¾ƒæ™®éï¼Œä½¿ç”¨ä¸€ä¸ªæ›´é«˜ç‰ˆæœ¬çš„MySQLä½œä¸ºå¤‡åº“ï¼Œä¿è¯åœ¨å‡çº§å…¨éƒ¨å®ä¾‹å‰ï¼ŒæŸ¥è¯¢èƒ½å¤Ÿåœ¨å¤‡åº“æŒ‰ç…§é¢„æœŸæ‰§è¡Œã€‚&lt;/p>
&lt;h2 id="1012å¤åˆ¶å¦‚ä½•å·¥ä½œ">
 10.1.2ã€€å¤åˆ¶å¦‚ä½•å·¥ä½œ
 &lt;a class="anchor" href="#1012%e5%a4%8d%e5%88%b6%e5%a6%82%e4%bd%95%e5%b7%a5%e4%bd%9c">#&lt;/a>
&lt;/h2>
&lt;p>åœ¨è¯¦ç»†ä»‹ç»å¦‚ä½•è®¾ç½®å¤åˆ¶ä¹‹å‰ï¼Œè®©æˆ‘ä»¬å…ˆçœ‹çœ‹MySQLå®é™…ä¸Šæ˜¯å¦‚ä½•å¤åˆ¶æ•°æ®çš„ã€‚æ€»çš„æ¥è¯´ï¼Œå¤åˆ¶æœ‰ä¸‰ä¸ªæ­¥éª¤ï¼š&lt;/p>
&lt;ol>
&lt;li>åœ¨ä¸»åº“ä¸ŠæŠŠæ•°æ®æ›´æ”¹è®°å½•åˆ°äºŒè¿›åˆ¶æ—¥å¿—ï¼ˆBinary Logï¼‰ä¸­ï¼ˆè¿™äº›è®°å½•è¢«ç§°ä¸ºäºŒè¿›åˆ¶æ—¥å¿—äº‹ä»¶ï¼‰ã€‚&lt;/li>
&lt;li>å¤‡åº“å°†ä¸»åº“ä¸Šçš„æ—¥å¿—å¤åˆ¶åˆ°è‡ªå·±çš„ä¸­ç»§æ—¥å¿—ï¼ˆRelay Logï¼‰ä¸­ã€‚&lt;/li>
&lt;li>å¤‡åº“è¯»å–ä¸­ç»§æ—¥å¿—ä¸­çš„äº‹ä»¶ï¼Œå°†å…¶é‡æ”¾åˆ°å¤‡åº“æ•°æ®ä¹‹ä¸Šã€‚&lt;/li>
&lt;/ol>
&lt;p>ä»¥ä¸Šåªæ˜¯æ¦‚è¿°ï¼Œå®é™…ä¸Šæ¯ä¸€æ­¥éƒ½å¾ˆå¤æ‚ï¼Œå›¾10-1æ›´è¯¦ç»†åœ°æè¿°äº†å¤åˆ¶çš„ç»†èŠ‚ã€‚&lt;/p>
&lt;p>&lt;img src="img/000002.jpeg" alt="" />
&lt;strong>å›¾10-1ï¼šMySQLå¤åˆ¶å¦‚ä½•å·¥ä½œ&lt;/strong>&lt;/p>
&lt;p>ç¬¬ä¸€æ­¥æ˜¯åœ¨ä¸»åº“ä¸Šè®°å½•äºŒè¿›åˆ¶æ—¥å¿—ï¼ˆç¨åä»‹ç»å¦‚ä½•è®¾ç½®ï¼‰ã€‚åœ¨æ¯æ¬¡å‡†å¤‡æäº¤äº‹åŠ¡å®Œæˆæ•°æ®æ›´æ–°å‰ï¼Œä¸»åº“å°†æ•°æ®æ›´æ–°çš„äº‹ä»¶è®°å½•åˆ°äºŒè¿›åˆ¶æ—¥å¿—ä¸­ã€‚MySQLä¼šæŒ‰äº‹åŠ¡æäº¤çš„é¡ºåºè€Œéæ¯æ¡è¯­å¥çš„æ‰§è¡Œé¡ºåºæ¥è®°å½•äºŒè¿›åˆ¶æ—¥å¿—ã€‚åœ¨è®°å½•äºŒè¿›åˆ¶æ—¥å¿—åï¼Œä¸»åº“ä¼šå‘Šè¯‰å­˜å‚¨å¼•æ“å¯ä»¥æäº¤äº‹åŠ¡äº†ã€‚&lt;/p>
&lt;p>ä¸‹ä¸€æ­¥ï¼Œå¤‡åº“å°†ä¸»åº“çš„äºŒè¿›åˆ¶æ—¥å¿—å¤åˆ¶åˆ°å…¶æœ¬åœ°çš„ä¸­ç»§æ—¥å¿—ä¸­ã€‚é¦–å…ˆï¼Œå¤‡åº“ä¼šå¯åŠ¨ä¸€ä¸ªå·¥ä½œçº¿ç¨‹ï¼Œç§°ä¸ºI/Oçº¿ç¨‹ï¼ŒI/Oçº¿ç¨‹è·Ÿä¸»åº“å»ºç«‹ä¸€ä¸ªæ™®é€šçš„å®¢æˆ·ç«¯è¿æ¥ï¼Œç„¶ååœ¨ä¸»åº“ä¸Šå¯åŠ¨ä¸€ä¸ªç‰¹æ®Šçš„äºŒè¿›åˆ¶è½¬å‚¨ï¼ˆ&lt;em>binlog dump&lt;/em>ï¼‰çº¿ç¨‹ï¼ˆè¯¥çº¿ç¨‹æ²¡æœ‰å¯¹åº”çš„SQLå‘½ä»¤ï¼‰ï¼Œè¿™ä¸ªäºŒè¿›åˆ¶è½¬å‚¨çº¿ç¨‹ä¼šè¯»å–ä¸»åº“ä¸ŠäºŒè¿›åˆ¶æ—¥å¿—ä¸­çš„äº‹ä»¶ã€‚å®ƒä¸ä¼šå¯¹äº‹ä»¶è¿›è¡Œè½®è¯¢ã€‚å¦‚æœè¯¥çº¿ç¨‹è¿½èµ¶ä¸Šäº†ä¸»åº“ï¼Œå®ƒå°†è¿›å…¥ç¡çœ çŠ¶æ€ï¼Œç›´åˆ°ä¸»åº“å‘é€ä¿¡å·é‡é€šçŸ¥å…¶æœ‰æ–°çš„äº‹ä»¶äº§ç”Ÿæ—¶æ‰ä¼šè¢«å”¤é†’ï¼Œå¤‡åº“I/Oçº¿ç¨‹ä¼šå°†æ¥æ”¶åˆ°çš„äº‹ä»¶è®°å½•åˆ°ä¸­ç»§æ—¥å¿—ä¸­ã€‚&lt;/p>
&lt;p>&lt;img src="img/000001.jpeg" alt="" />MySQL 4.0ä¹‹å‰çš„å¤åˆ¶ä¸ä¹‹åçš„ç‰ˆæœ¬ç›¸æ¯”æ”¹å˜å¾ˆå¤§ï¼Œä¾‹å¦‚MySQLæœ€åˆçš„å¤åˆ¶åŠŸèƒ½æ²¡æœ‰ä½¿ç”¨ä¸­ç»§æ—¥å¿—ï¼Œæ‰€ä»¥å¤åˆ¶åªç”¨åˆ°äº†ä¸¤ä¸ªçº¿ç¨‹ï¼Œè€Œä¸æ˜¯ç°åœ¨çš„ä¸‰ä¸ªçº¿ç¨‹ã€‚ç›®å‰å¤§éƒ¨åˆ†äººéƒ½æ˜¯ä½¿ç”¨çš„æœ€æ–°ç‰ˆæœ¬ï¼Œå› æ­¤åœ¨æœ¬ç« æˆ‘ä»¬ä¸ä¼šå»è®¨è®ºå…³äºè€ç‰ˆæœ¬å¤åˆ¶çš„æ›´å¤šç»†èŠ‚ã€‚&lt;/p>
&lt;p>å¤‡åº“çš„SQLçº¿ç¨‹æ‰§è¡Œæœ€åä¸€æ­¥ï¼Œè¯¥çº¿ç¨‹ä»ä¸­ç»§æ—¥å¿—ä¸­è¯»å–äº‹ä»¶å¹¶åœ¨å¤‡åº“æ‰§è¡Œï¼Œä»è€Œå®ç°å¤‡åº“æ•°æ®çš„æ›´æ–°ã€‚å½“SQLçº¿ç¨‹è¿½èµ¶ä¸ŠI/Oçº¿ç¨‹æ—¶ï¼Œä¸­ç»§æ—¥å¿—é€šå¸¸å·²ç»åœ¨ç³»ç»Ÿç¼“å­˜ä¸­ï¼Œæ‰€ä»¥ä¸­ç»§æ—¥å¿—çš„å¼€é”€å¾ˆä½ã€‚SQLçº¿ç¨‹æ‰§è¡Œçš„äº‹ä»¶ä¹Ÿå¯ä»¥é€šè¿‡é…ç½®é€‰é¡¹æ¥å†³å®šæ˜¯å¦å†™å…¥å…¶è‡ªå·±çš„äºŒè¿›åˆ¶æ—¥å¿—ä¸­ï¼Œå®ƒå¯¹äºæˆ‘ä»¬ç¨åæåˆ°çš„åœºæ™¯éå¸¸æœ‰ç”¨ã€‚&lt;/p>
&lt;p>å›¾10-1æ˜¾ç¤ºäº†åœ¨å¤‡åº“æœ‰ä¸¤ä¸ªè¿è¡Œçš„çº¿ç¨‹ï¼Œåœ¨ä¸»åº“ä¸Šä¹Ÿæœ‰ä¸€ä¸ªè¿è¡Œçš„çº¿ç¨‹ï¼šå’Œå…¶ä»–æ™®é€šè¿æ¥ä¸€æ ·ï¼Œç”±å¤‡åº“å‘èµ·çš„è¿æ¥ï¼Œåœ¨ä¸»åº“ä¸ŠåŒæ ·æ‹¥æœ‰ä¸€ä¸ªçº¿ç¨‹ã€‚&lt;/p>
&lt;p>è¿™ç§å¤åˆ¶æ¶æ„å®ç°äº†è·å–äº‹ä»¶å’Œé‡æ”¾äº‹ä»¶çš„è§£è€¦ï¼Œå…è®¸è¿™ä¸¤ä¸ªè¿‡ç¨‹å¼‚æ­¥è¿›è¡Œã€‚ä¹Ÿå°±æ˜¯è¯´I/Oçº¿ç¨‹èƒ½å¤Ÿç‹¬ç«‹äºSQLçº¿ç¨‹ä¹‹å¤–å·¥ä½œã€‚ä½†è¿™ç§æ¶æ„ä¹Ÿé™åˆ¶äº†å¤åˆ¶çš„è¿‡ç¨‹ï¼Œå…¶ä¸­æœ€é‡è¦çš„ä¸€ç‚¹æ˜¯åœ¨ä¸»åº“ä¸Šå¹¶å‘è¿è¡Œçš„æŸ¥è¯¢åœ¨å¤‡åº“åªèƒ½ä¸²è¡ŒåŒ–æ‰§è¡Œï¼Œå› ä¸ºåªæœ‰ä¸€ä¸ªSQLçº¿ç¨‹æ¥é‡æ”¾ä¸­ç»§æ—¥å¿—ä¸­çš„äº‹ä»¶ã€‚åé¢æˆ‘ä»¬å°†ä¼šçœ‹åˆ°ï¼Œè¿™æ˜¯å¾ˆå¤šå·¥ä½œè´Ÿè½½çš„æ€§èƒ½ç“¶é¢ˆæ‰€åœ¨ã€‚è™½ç„¶æœ‰ä¸€äº›é’ˆå¯¹è¯¥é—®é¢˜çš„è§£å†³æ–¹æ¡ˆï¼Œä½†å¤§å¤šæ•°ç”¨æˆ·ä»ç„¶å—åˆ¶äºå•çº¿ç¨‹ã€‚&lt;/p>
&lt;h1 id="102é…ç½®å¤åˆ¶">
 10.2ã€€é…ç½®å¤åˆ¶
 &lt;a class="anchor" href="#102%e9%85%8d%e7%bd%ae%e5%a4%8d%e5%88%b6">#&lt;/a>
&lt;/h1>
&lt;p>ä¸ºMySQLæœåŠ¡å™¨é…ç½®å¤åˆ¶éå¸¸ç®€å•ã€‚ä½†ç”±äºåœºæ™¯ä¸åŒï¼ŒåŸºæœ¬çš„æ­¥éª¤è¿˜æ˜¯æœ‰æ‰€å·®å¼‚ã€‚æœ€åŸºæœ¬çš„åœºæ™¯æ˜¯æ–°å®‰è£…çš„ä¸»åº“å’Œå¤‡åº“ï¼Œæ€»çš„æ¥è¯´åˆ†ä¸ºä»¥ä¸‹å‡ æ­¥ï¼š&lt;/p>
&lt;ol>
&lt;li>åœ¨æ¯å°(3)æœåŠ¡å™¨ä¸Šåˆ›å»ºå¤åˆ¶è´¦å·ã€‚&lt;/li>
&lt;li>é…ç½®ä¸»åº“å’Œå¤‡åº“ã€‚&lt;/li>
&lt;li>é€šçŸ¥å¤‡åº“è¿æ¥åˆ°ä¸»åº“å¹¶ä»ä¸»åº“å¤åˆ¶æ•°æ®ã€‚&lt;/li>
&lt;/ol>
&lt;p>è¿™é‡Œæˆ‘ä»¬å‡å®šå¤§éƒ¨åˆ†é…ç½®é‡‡ç”¨é»˜è®¤å€¼å³å¯ï¼Œåœ¨ä¸»åº“å’Œå¤‡åº“éƒ½æ˜¯å…¨æ–°å®‰è£…å¹¶ä¸”æ‹¥æœ‰åŒæ ·çš„æ•°æ®ï¼ˆé»˜è®¤MySQLæ•°æ®åº“ï¼‰æ—¶è¿™æ ·çš„å‡è®¾æ˜¯åˆç†çš„ã€‚æ¥ä¸‹æ¥æˆ‘ä»¬å°†å±•ç¤ºå¦‚ä½•ä¸€æ­¥æ­¥é…ç½®å¤åˆ¶ï¼šå‡è®¾æœ‰æœåŠ¡å™¨server1ï¼ˆIPåœ°å€192.168.0.1ï¼‰å’ŒæœåŠ¡å™¨server2ï¼ˆIPåœ°å€192.168.0.2ï¼‰ï¼Œæˆ‘ä»¬å°†è§£é‡Šå¦‚ä½•ç»™ä¸€ä¸ªå·²ç»è¿è¡Œçš„æœåŠ¡å™¨é…ç½®å¤‡åº“ï¼Œå¹¶æ¢è®¨æ¨èçš„å¤åˆ¶é…ç½®ã€‚&lt;/p>
&lt;h2 id="1021åˆ›å»ºå¤åˆ¶è´¦å·">
 10.2.1ã€€åˆ›å»ºå¤åˆ¶è´¦å·
 &lt;a class="anchor" href="#1021%e5%88%9b%e5%bb%ba%e5%a4%8d%e5%88%b6%e8%b4%a6%e5%8f%b7">#&lt;/a>
&lt;/h2>
&lt;p>MySQLä¼šèµ‹äºˆä¸€äº›ç‰¹æ®Šçš„æƒé™ç»™å¤åˆ¶çº¿ç¨‹ã€‚åœ¨å¤‡åº“è¿è¡Œçš„I/Oçº¿ç¨‹ä¼šå»ºç«‹ä¸€ä¸ªåˆ°ä¸»åº“çš„TCP/IPè¿æ¥ï¼Œè¿™æ„å‘³ç€å¿…é¡»åœ¨ä¸»åº“åˆ›å»ºä¸€ä¸ªç”¨æˆ·ï¼Œå¹¶èµ‹äºˆå…¶åˆé€‚çš„æƒé™ã€‚å¤‡åº“I/Oçº¿ç¨‹ä»¥è¯¥ç”¨æˆ·åè¿æ¥åˆ°ä¸»åº“å¹¶è¯»å–å…¶äºŒè¿›åˆ¶æ—¥å¿—ã€‚é€šè¿‡å¦‚ä¸‹è¯­å¥åˆ›å»ºç”¨æˆ·è´¦å·ï¼š&lt;/p></description></item></channel></rss>