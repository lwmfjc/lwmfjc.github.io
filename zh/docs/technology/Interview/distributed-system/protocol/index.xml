<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>éšè®°</title><link>https://lwmfjc.github.io/zh/docs/technology/Interview/distributed-system/protocol/</link><description>Recent content on éšè®°</description><generator>Hugo</generator><language>zh</language><atom:link href="https://lwmfjc.github.io/zh/docs/technology/Interview/distributed-system/protocol/index.xml" rel="self" type="application/rss+xml"/><item><title>CAP &amp; BASEç†è®ºè¯¦è§£</title><link>https://lwmfjc.github.io/zh/docs/technology/Interview/distributed-system/protocol/cap-and-base-theorem/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://lwmfjc.github.io/zh/docs/technology/Interview/distributed-system/protocol/cap-and-base-theorem/</guid><description>&lt;p>ç»å†è¿‡æŠ€æœ¯é¢è¯•çš„å°ä¼™ä¼´æƒ³å¿…å¯¹ CAP &amp;amp; BASE è¿™ä¸ªä¸¤ä¸ªç†è®ºå·²ç»å†ç†Ÿæ‚‰ä¸è¿‡äº†ï¼&lt;/p>
&lt;p>æˆ‘å½“å¹´å‚åŠ é¢è¯•çš„æ—¶å€™ï¼Œä¸å¤¸å¼ åœ°è¯´ï¼Œåªè¦é—®åˆ°åˆ†å¸ƒå¼ç›¸å…³çš„å†…å®¹ï¼Œé¢è¯•å®˜å‡ ä¹æ˜¯å¿…å®šä¼šé—®è¿™ä¸¤ä¸ªåˆ†å¸ƒå¼ç›¸å…³çš„ç†è®ºã€‚ä¸€æ˜¯å› ä¸ºè¿™ä¸¤ä¸ªåˆ†å¸ƒå¼åŸºç¡€ç†è®ºæ˜¯å­¦ä¹ åˆ†å¸ƒå¼çŸ¥è¯†çš„å¿…å¤‡å‰ç½®åŸºç¡€ï¼ŒäºŒæ˜¯å› ä¸ºå¾ˆå¤šé¢è¯•å®˜è‡ªå·±æ¯”è¾ƒç†Ÿæ‚‰è¿™ä¸¤ä¸ªç†è®ºï¼ˆæ–¹ä¾¿æé—®ï¼‰ã€‚&lt;/p>
&lt;p>æˆ‘ä»¬éå¸¸æœ‰å¿…è¦å°†è¿™ä¸¤ä¸ªç†è®ºææ‡‚ï¼Œå¹¶ä¸”èƒ½å¤Ÿç”¨è‡ªå·±çš„ç†è§£ç»™åˆ«äººè®²å‡ºæ¥ã€‚&lt;/p>
&lt;h2 id="cap-ç†è®º">CAP ç†è®º&lt;a class="anchor" href="#cap-%e7%90%86%e8%ae%ba">#&lt;/a>&lt;/h2>
&lt;p>
&lt;a target="_blank" href="https://zh.wikipedia.org/wiki/CAP%E5%AE%9A%E7%90%86">CAP ç†è®º/å®šç†&lt;/a>èµ·æºäº 2000 å¹´ï¼Œç”±åŠ å·å¤§å­¦ä¼¯å…‹åˆ©åˆ†æ ¡çš„ Eric Brewer æ•™æˆåœ¨åˆ†å¸ƒå¼è®¡ç®—åŸç†ç ”è®¨ä¼šï¼ˆPODCï¼‰ä¸Šæå‡ºï¼Œå› æ­¤ CAP å®šç†åˆè¢«ç§°ä½œ &lt;mark>å¸ƒé²å°”å®šç†ï¼ˆBrewerâ€™s theoremï¼‰&lt;/mark>&lt;/p>
&lt;p>2 å¹´åï¼Œéº»çœç†å·¥å­¦é™¢çš„ Seth Gilbert å’Œ Nancy Lynch å‘è¡¨äº†å¸ƒé²å°”çŒœæƒ³çš„è¯æ˜ï¼ŒCAP ç†è®ºæ­£å¼æˆä¸ºåˆ†å¸ƒå¼é¢†åŸŸçš„å®šç†ã€‚&lt;/p>
&lt;h3 id="ç®€ä»‹">ç®€ä»‹&lt;a class="anchor" href="#%e7%ae%80%e4%bb%8b">#&lt;/a>&lt;/h3>
&lt;p>&lt;mark>CAP&lt;/mark> ä¹Ÿå°±æ˜¯ &lt;mark>Consistencyï¼ˆä¸€è‡´æ€§ï¼‰&lt;/mark>ã€&lt;mark>Availabilityï¼ˆå¯ç”¨æ€§ï¼‰&lt;/mark>ã€&lt;mark>Partition Toleranceï¼ˆåˆ†åŒºå®¹é”™æ€§ï¼‰&lt;/mark> è¿™ä¸‰ä¸ªå•è¯é¦–å­—æ¯ç»„åˆã€‚&lt;/p>
&lt;p>&lt;img src="img/f051d08591c181c1a0908e705777ebf5_MD5.jpg" alt="" />&lt;/p>
&lt;p>CAP ç†è®ºçš„æå‡ºè€…å¸ƒé²å°”åœ¨æå‡º CAP çŒœæƒ³çš„æ—¶å€™ï¼Œå¹¶æ²¡æœ‰è¯¦ç»†å®šä¹‰ &lt;mark>Consistency&lt;/mark>ã€&lt;mark>Availability&lt;/mark>ã€&lt;mark>Partition Tolerance&lt;/mark> ä¸‰ä¸ªå•è¯çš„æ˜ç¡®å®šä¹‰ã€‚&lt;/p>
&lt;p>å› æ­¤ï¼Œå¯¹äº CAP çš„æ°‘é—´è§£è¯»æœ‰å¾ˆå¤šï¼Œä¸€èˆ¬æ¯”è¾ƒè¢«å¤§å®¶æ¨èçš„æ˜¯ä¸‹é¢ ğŸ‘‡ è¿™ç§ç‰ˆæœ¬çš„è§£è¯»ã€‚&lt;/p>
&lt;p>åœ¨ç†è®ºè®¡ç®—æœºç§‘å­¦ä¸­ï¼ŒCAP å®šç†ï¼ˆCAP theoremï¼‰æŒ‡å‡ºå¯¹äºä¸€ä¸ªåˆ†å¸ƒå¼ç³»ç»Ÿæ¥è¯´ï¼Œå½“è®¾è®¡è¯»å†™æ“ä½œæ—¶ï¼Œåªèƒ½åŒæ—¶æ»¡è¶³ä»¥ä¸‹ä¸‰ç‚¹ä¸­çš„ä¸¤ä¸ªï¼š&lt;/p>
&lt;ul>
&lt;li>&lt;mark>ä¸€è‡´æ€§ï¼ˆConsistencyï¼‰&lt;/mark> : æ‰€æœ‰èŠ‚ç‚¹è®¿é—®åŒä¸€ä»½æœ€æ–°çš„æ•°æ®å‰¯æœ¬&lt;/li>
&lt;li>&lt;mark>å¯ç”¨æ€§ï¼ˆAvailabilityï¼‰&lt;/mark>: éæ•…éšœçš„èŠ‚ç‚¹åœ¨åˆç†çš„æ—¶é—´å†…è¿”å›åˆç†çš„å“åº”ï¼ˆä¸æ˜¯é”™è¯¯æˆ–è€…è¶…æ—¶çš„å“åº”ï¼‰ã€‚&lt;/li>
&lt;li>&lt;mark>åˆ†åŒºå®¹é”™æ€§ï¼ˆPartition Toleranceï¼‰&lt;/mark> : åˆ†å¸ƒå¼ç³»ç»Ÿå‡ºç°ç½‘ç»œåˆ†åŒºçš„æ—¶å€™ï¼Œä»ç„¶èƒ½å¤Ÿå¯¹å¤–æä¾›æœåŠ¡ã€‚&lt;/li>
&lt;/ul>
&lt;p>&lt;mark>ä»€ä¹ˆæ˜¯ç½‘ç»œåˆ†åŒºï¼Ÿ&lt;/mark>&lt;/p>
&lt;p>åˆ†å¸ƒå¼ç³»ç»Ÿä¸­ï¼Œå¤šä¸ªèŠ‚ç‚¹ä¹‹é—´çš„ç½‘ç»œæœ¬æ¥æ˜¯è¿é€šçš„ï¼Œä½†æ˜¯å› ä¸ºæŸäº›æ•…éšœï¼ˆæ¯”å¦‚éƒ¨åˆ†èŠ‚ç‚¹ç½‘ç»œå‡ºäº†é—®é¢˜ï¼‰æŸäº›èŠ‚ç‚¹ä¹‹é—´ä¸è¿é€šäº†ï¼Œæ•´ä¸ªç½‘ç»œå°±åˆ†æˆäº†å‡ å—åŒºåŸŸï¼Œè¿™å°±å« &lt;mark>ç½‘ç»œåˆ†åŒº&lt;/mark>ã€‚&lt;/p>
&lt;p>&lt;img src="img/09697793be408e1fcaf6ddf700fe3a19_MD5.jpg" alt="partition-tolerance" />&lt;/p>
&lt;h3 id="ä¸æ˜¯æ‰€è°“çš„3-é€‰-2">ä¸æ˜¯æ‰€è°“çš„â€œ3 é€‰ 2â€&lt;a class="anchor" href="#%e4%b8%8d%e6%98%af%e6%89%80%e8%b0%93%e7%9a%843-%e9%80%89-2">#&lt;/a>&lt;/h3>
&lt;p>å¤§éƒ¨åˆ†äººè§£é‡Šè¿™ä¸€å®šå¾‹æ—¶ï¼Œå¸¸å¸¸ç®€å•çš„è¡¨è¿°ä¸ºï¼šâ€œä¸€è‡´æ€§ã€å¯ç”¨æ€§ã€åˆ†åŒºå®¹å¿æ€§ä¸‰è€…ä½ åªèƒ½åŒæ—¶è¾¾åˆ°å…¶ä¸­ä¸¤ä¸ªï¼Œä¸å¯èƒ½åŒæ—¶è¾¾åˆ°â€ã€‚å®é™…ä¸Šè¿™æ˜¯ä¸€ä¸ªéå¸¸å…·æœ‰è¯¯å¯¼æ€§è´¨çš„è¯´æ³•ï¼Œè€Œä¸”åœ¨ CAP ç†è®ºè¯ç”Ÿ 12 å¹´ä¹‹åï¼ŒCAP ä¹‹çˆ¶ä¹Ÿåœ¨ 2012 å¹´é‡å†™äº†ä¹‹å‰çš„è®ºæ–‡ã€‚&lt;/p></description></item><item><title>Gossip åè®®è¯¦è§£</title><link>https://lwmfjc.github.io/zh/docs/technology/Interview/distributed-system/protocol/gossip-protocl/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://lwmfjc.github.io/zh/docs/technology/Interview/distributed-system/protocol/gossip-protocl/</guid><description>&lt;h2 id="èƒŒæ™¯">èƒŒæ™¯&lt;a class="anchor" href="#%e8%83%8c%e6%99%af">#&lt;/a>&lt;/h2>
&lt;p>åœ¨åˆ†å¸ƒå¼ç³»ç»Ÿä¸­ï¼Œä¸åŒçš„èŠ‚ç‚¹è¿›è¡Œæ•°æ®/ä¿¡æ¯å…±äº«æ˜¯ä¸€ä¸ªåŸºæœ¬çš„éœ€æ±‚ã€‚&lt;/p>
&lt;p>ä¸€ç§æ¯”è¾ƒç®€å•ç²—æš´çš„æ–¹æ³•å°±æ˜¯ &lt;mark>é›†ä¸­å¼å‘æ•£æ¶ˆæ¯&lt;/mark>ï¼Œç®€å•æ¥è¯´å°±æ˜¯ä¸€ä¸ªä¸»èŠ‚ç‚¹åŒæ—¶å…±äº«æœ€æ–°ä¿¡æ¯ç»™å…¶ä»–æ‰€æœ‰èŠ‚ç‚¹ï¼Œæ¯”è¾ƒé€‚åˆä¸­å¿ƒåŒ–ç³»ç»Ÿã€‚è¿™ç§æ–¹æ³•çš„ç¼ºé™·ä¹Ÿå¾ˆæ˜æ˜¾ï¼ŒèŠ‚ç‚¹å¤šçš„æ—¶å€™ä¸å…‰åŒæ­¥æ¶ˆæ¯çš„æ•ˆç‡ä½ï¼Œè¿˜å¤ªä¾èµ–ä¸ä¸­å¿ƒèŠ‚ç‚¹ï¼Œå­˜åœ¨å•ç‚¹é£é™©é—®é¢˜ã€‚&lt;/p>
&lt;p>äºæ˜¯ï¼Œ&lt;mark>åˆ†æ•£å¼å‘æ•£æ¶ˆæ¯&lt;/mark> çš„ &lt;mark>Gossip åè®®&lt;/mark> å°±è¯ç”Ÿäº†ã€‚&lt;/p>
&lt;h2 id="gossip-åè®®ä»‹ç»">Gossip åè®®ä»‹ç»&lt;a class="anchor" href="#gossip-%e5%8d%8f%e8%ae%ae%e4%bb%8b%e7%bb%8d">#&lt;/a>&lt;/h2>
&lt;p>Gossip ç›´è¯‘è¿‡æ¥å°±æ˜¯é—²è¯ã€æµè¨€èœšè¯­çš„æ„æ€ã€‚æµè¨€èœšè¯­æœ‰ä»€ä¹ˆç‰¹ç‚¹å‘¢ï¼Ÿå®¹æ˜“è¢«ä¼ æ’­ä¸”ä¼ æ’­é€Ÿåº¦è¿˜å¿«ï¼Œä½ ä¼ æˆ‘æˆ‘ä¼ ä»–ï¼Œç„¶åå¤§å®¶éƒ½çŸ¥é“äº†ã€‚&lt;/p>
&lt;p>&lt;img src="./images/gossip/gossip.png" alt="" />&lt;/p>
&lt;p>&lt;mark>Gossip åè®®&lt;/mark> ä¹Ÿå« Epidemic åè®®ï¼ˆæµè¡Œç—…åè®®ï¼‰æˆ–è€… Epidemic propagation ç®—æ³•ï¼ˆç–«æƒ…ä¼ æ’­ç®—æ³•ï¼‰ï¼Œåˆ«åå¾ˆå¤šã€‚ä¸è¿‡ï¼Œè¿™äº›åå­—çš„ç‰¹ç‚¹éƒ½å…·æœ‰ &lt;mark>éšæœºä¼ æ’­ç‰¹æ€§&lt;/mark> ï¼ˆè”æƒ³ä¸€ä¸‹ç—…æ¯’ä¼ æ’­ã€ç™Œç»†èƒæ‰©æ•£ç­‰ç”Ÿæ´»ä¸­å¸¸è§çš„æƒ…æ™¯ï¼‰ï¼Œè¿™ä¹Ÿæ­£æ˜¯ Gossip åè®®æœ€ä¸»è¦çš„ç‰¹ç‚¹ã€‚&lt;/p>
&lt;p>Gossip åè®®æœ€æ—©æ˜¯åœ¨ ACM ä¸Šçš„ä¸€ç¯‡ 1987 å¹´å‘è¡¨çš„è®ºæ–‡ 
&lt;a target="_blank" href="https://dl.acm.org/doi/10.1145/41840.41841">ã€ŠEpidemic Algorithms for Replicated Database Maintenanceã€‹&lt;/a>ä¸­è¢«æå‡ºçš„ã€‚æ ¹æ®è®ºæ–‡æ ‡é¢˜ï¼Œæˆ‘ä»¬å¤§æ¦‚å°±èƒ½çŸ¥é“ Gossip åè®®å½“æ—¶æå‡ºçš„ä¸»è¦åº”ç”¨æ˜¯åœ¨åˆ†å¸ƒå¼æ•°æ®åº“ç³»ç»Ÿä¸­å„ä¸ªå‰¯æœ¬èŠ‚ç‚¹åŒæ­¥æ•°æ®ã€‚&lt;/p>
&lt;p>æ­£å¦‚ Gossip åè®®å…¶åä¸€æ ·ï¼Œè¿™æ˜¯ä¸€ç§éšæœºä¸”å¸¦æœ‰ä¼ æŸ“æ€§çš„æ–¹å¼å°†ä¿¡æ¯ä¼ æ’­åˆ°æ•´ä¸ªç½‘ç»œä¸­ï¼Œå¹¶åœ¨ä¸€å®šæ—¶é—´å†…ï¼Œä½¿å¾—ç³»ç»Ÿå†…çš„æ‰€æœ‰èŠ‚ç‚¹æ•°æ®ä¸€è‡´ã€‚&lt;/p>
&lt;p>åœ¨ Gossip åè®®ä¸‹ï¼Œæ²¡æœ‰æ‰€è°“çš„ä¸­å¿ƒèŠ‚ç‚¹ï¼Œæ¯ä¸ªèŠ‚ç‚¹å‘¨æœŸæ€§åœ°éšæœºæ‰¾ä¸€ä¸ªèŠ‚ç‚¹äº’ç›¸åŒæ­¥å½¼æ­¤çš„ä¿¡æ¯ï¼Œç†è®ºä¸Šæ¥è¯´ï¼Œå„ä¸ªèŠ‚ç‚¹çš„çŠ¶æ€æœ€ç»ˆä¼šä¿æŒä¸€è‡´ã€‚&lt;/p>
&lt;p>ä¸‹é¢æˆ‘ä»¬æ¥å¯¹ Gossip åè®®çš„å®šä¹‰åšä¸€ä¸ªæ€»ç»“ï¼š&lt;mark>Gossip åè®®æ˜¯ä¸€ç§å…è®¸åœ¨åˆ†å¸ƒå¼ç³»ç»Ÿä¸­å…±äº«çŠ¶æ€çš„å»ä¸­å¿ƒåŒ–é€šä¿¡åè®®ï¼Œé€šè¿‡è¿™ç§é€šä¿¡åè®®ï¼Œæˆ‘ä»¬å¯ä»¥å°†ä¿¡æ¯ä¼ æ’­ç»™ç½‘ç»œæˆ–é›†ç¾¤ä¸­çš„æ‰€æœ‰æˆå‘˜ã€‚&lt;/mark>&lt;/p>
&lt;h2 id="gossip-åè®®åº”ç”¨">Gossip åè®®åº”ç”¨&lt;a class="anchor" href="#gossip-%e5%8d%8f%e8%ae%ae%e5%ba%94%e7%94%a8">#&lt;/a>&lt;/h2>
&lt;p>NoSQL æ•°æ®åº“ Redis å’Œ Apache Cassandraã€æœåŠ¡ç½‘æ ¼è§£å†³æ–¹æ¡ˆ Consul ç­‰çŸ¥åé¡¹ç›®éƒ½ç”¨åˆ°äº† Gossip åè®®ï¼Œå­¦ä¹  Gossip åè®®æœ‰åŠ©äºæˆ‘ä»¬ææ¸…å¾ˆå¤šæŠ€æœ¯çš„åº•å±‚åŸç†ã€‚&lt;/p>
&lt;p>æˆ‘ä»¬è¿™é‡Œä»¥ Redis Cluster ä¸ºä¾‹è¯´æ˜ Gossip åè®®çš„å®é™…åº”ç”¨ã€‚&lt;/p></description></item><item><title>Paxos ç®—æ³•è¯¦è§£</title><link>https://lwmfjc.github.io/zh/docs/technology/Interview/distributed-system/protocol/paxos-algorithm/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://lwmfjc.github.io/zh/docs/technology/Interview/distributed-system/protocol/paxos-algorithm/</guid><description>&lt;h2 id="èƒŒæ™¯">èƒŒæ™¯&lt;a class="anchor" href="#%e8%83%8c%e6%99%af">#&lt;/a>&lt;/h2>
&lt;p>Paxos ç®—æ³•æ˜¯ Leslie Lamportï¼ˆ
&lt;a target="_blank" href="https://zh.wikipedia.org/wiki/%E8%8E%B1%E6%96%AF%E5%88%A9%C2%B7%E5%85%B0%E4%BC%AF%E7%89%B9">è±æ–¯åˆ©Â·å…°ä¼¯ç‰¹&lt;/a>ï¼‰åœ¨ &lt;mark>1990&lt;/mark> å¹´æå‡ºäº†ä¸€ç§åˆ†å¸ƒå¼ç³»ç»Ÿ &lt;mark>å…±è¯†&lt;/mark> ç®—æ³•ã€‚è¿™ä¹Ÿæ˜¯ç¬¬ä¸€ä¸ªè¢«è¯æ˜å®Œå¤‡çš„å…±è¯†ç®—æ³•ï¼ˆå‰ææ˜¯ä¸å­˜åœ¨æ‹œå åº­å°†å†›é—®é¢˜ï¼Œä¹Ÿå°±æ˜¯æ²¡æœ‰æ¶æ„èŠ‚ç‚¹ï¼‰ã€‚&lt;/p>
&lt;p>ä¸ºäº†ä»‹ç» Paxos ç®—æ³•ï¼Œå…°ä¼¯ç‰¹ä¸“é—¨å†™äº†ä¸€ç¯‡å¹½é»˜é£è¶£çš„è®ºæ–‡ã€‚åœ¨è¿™ç¯‡è®ºæ–‡ä¸­ï¼Œä»–è™šæ‹Ÿäº†ä¸€ä¸ªå«åš Paxos çš„å¸Œè…ŠåŸé‚¦æ¥æ›´å½¢è±¡åŒ–åœ°ä»‹ç» Paxos ç®—æ³•ã€‚&lt;/p>
&lt;p>ä¸è¿‡ï¼Œå®¡ç¨¿äººå¹¶ä¸è®¤å¯è¿™ç¯‡è®ºæ–‡çš„å¹½é»˜ã€‚äºæ˜¯ï¼Œä»–ä»¬å°±ç»™å…°ä¼¯ç‰¹è¯´ï¼šâ€œå¦‚æœä½ æƒ³è¦æˆåŠŸå‘è¡¨è¿™ç¯‡è®ºæ–‡çš„è¯ï¼Œå¿…é¡»åˆ é™¤æ‰€æœ‰ Paxos ç›¸å…³çš„æ•…äº‹èƒŒæ™¯â€ã€‚å…°ä¼¯ç‰¹ä¸€å¬å°±ä¸å¼€å¿ƒäº†ï¼šâ€œæˆ‘å‡­ä»€ä¹ˆä¿®æ”¹å•Šï¼Œä½ ä»¬è¿™äº›å®¡ç¨¿äººå°±æ˜¯ç¼ºä¹å¹½é»˜ç»†èƒï¼Œå‘ä¸äº†å°±ä¸å‘äº†å‘—ï¼â€ã€‚&lt;/p>
&lt;p>äºæ˜¯ä¹ï¼Œæå‡º Paxos ç®—æ³•çš„é‚£ç¯‡è®ºæ–‡åœ¨å½“æ—¶å¹¶æ²¡æœ‰è¢«æˆåŠŸå‘è¡¨ã€‚&lt;/p>
&lt;p>ç›´åˆ° 1998 å¹´ï¼Œç³»ç»Ÿç ”ç©¶ä¸­å¿ƒ (Systems Research Centerï¼ŒSRCï¼‰çš„ä¸¤ä¸ªæŠ€æœ¯ç ”ç©¶å‘˜éœ€è¦æ‰¾ä¸€äº›åˆé€‚çš„åˆ†å¸ƒå¼ç®—æ³•æ¥æœåŠ¡ä»–ä»¬æ­£åœ¨æ„å»ºçš„åˆ†å¸ƒå¼ç³»ç»Ÿï¼ŒPaxos ç®—æ³•åˆšå¥½å¯ä»¥è§£å†³ä»–ä»¬çš„éƒ¨åˆ†éœ€æ±‚ã€‚å› æ­¤ï¼Œå…°ä¼¯ç‰¹å°±æŠŠè®ºæ–‡å‘ç»™äº†ä»–ä»¬ã€‚åœ¨çœ‹äº†è®ºæ–‡ä¹‹åï¼Œè¿™ä¿©å¤§ä½¬è§‰å¾—è®ºæ–‡è¿˜æ˜¯æŒºä¸é”™çš„ã€‚äºæ˜¯ï¼Œå…°ä¼¯ç‰¹åœ¨ &lt;mark>1998&lt;/mark> å¹´é‡æ–°å‘è¡¨è®ºæ–‡ 
&lt;a target="_blank" href="http://lamport.azurewebsites.net/pubs/lamport-paxos.pdf">ã€ŠThe Part-Time Parliamentã€‹&lt;/a>ã€‚&lt;/p>
&lt;p>è®ºæ–‡å‘è¡¨ä¹‹åï¼Œå„è·¯å­¦è€…ç›´å‘¼çœ‹ä¸æ‡‚ï¼Œè¨€è¯­ä¸­è¿˜ç•¥æ˜¾è°ƒä¾ƒä¹‹æ„ã€‚è¿™è°å¿å¾—äº†ï¼Œåœ¨ &lt;mark>2001&lt;/mark> å¹´çš„æ—¶å€™ï¼Œå…°ä¼¯ç‰¹ä¸“é—¨åˆå†™äº†ä¸€ç¯‡ 
&lt;a target="_blank" href="http://lamport.azurewebsites.net/pubs/paxos-simple.pdf">ã€ŠPaxos Made Simpleã€‹&lt;/a> çš„è®ºæ–‡æ¥ç®€åŒ–å¯¹ Paxos çš„ä»‹ç»ï¼Œä¸»è¦è®²è¿°ä¸¤é˜¶æ®µå…±è¯†åè®®éƒ¨åˆ†ï¼Œé¡ºä¾¿è¿˜ä¸å¿˜å˜²è®½ä¸€ä¸‹è¿™ç¾¤å­¦è€…ã€‚&lt;/p>
&lt;p>ã€ŠPaxos Made Simpleã€‹è¿™ç¯‡è®ºæ–‡å°± 14 é¡µï¼Œç›¸æ¯”äº ã€ŠThe Part-Time Parliamentã€‹çš„ 33 é¡µç²¾ç®€äº†ä¸å°‘ã€‚æœ€å…³é”®çš„æ˜¯è¿™ç¯‡è®ºæ–‡çš„æ‘˜è¦å°±ä¸€å¥è¯ï¼š&lt;/p>
&lt;p>&lt;img src="./images/paxos/paxos-made-simple.png" alt="" />&lt;/p>
&lt;blockquote class='book-hint '>
&lt;p>The Paxos algorithm, when presented in plain English, is very simple.&lt;/p>&lt;/blockquote>&lt;p>ç¿»è¯‘è¿‡æ¥çš„æ„æ€å¤§æ¦‚å°±æ˜¯ï¼šå½“æˆ‘ç”¨æ— ä¿®é¥°çš„è‹±æ–‡æ¥æè¿°æ—¶ï¼ŒPaxos ç®—æ³•çœŸå¿ƒç®€å•ï¼&lt;/p>
&lt;p>æœ‰æ²¡æœ‰æ„Ÿè§‰åˆ°æ¥è‡ªå…°ä¼¯ç‰¹å¤§ä½¬æ»¡æ»¡åœ°å˜²è®½çš„å‘³é“ï¼Ÿ&lt;/p>
&lt;h2 id="ä»‹ç»">ä»‹ç»&lt;a class="anchor" href="#%e4%bb%8b%e7%bb%8d">#&lt;/a>&lt;/h2>
&lt;p>Paxos ç®—æ³•æ˜¯ç¬¬ä¸€ä¸ªè¢«è¯æ˜å®Œå¤‡çš„åˆ†å¸ƒå¼ç³»ç»Ÿå…±è¯†ç®—æ³•ã€‚å…±è¯†ç®—æ³•çš„ä½œç”¨æ˜¯è®©åˆ†å¸ƒå¼ç³»ç»Ÿä¸­çš„å¤šä¸ªèŠ‚ç‚¹ä¹‹é—´å¯¹æŸä¸ªææ¡ˆï¼ˆProposalï¼‰è¾¾æˆä¸€è‡´çš„çœ‹æ³•ã€‚ææ¡ˆçš„å«ä¹‰åœ¨åˆ†å¸ƒå¼ç³»ç»Ÿä¸­ååˆ†å®½æ³›ï¼Œåƒå“ªä¸€ä¸ªèŠ‚ç‚¹æ˜¯ Leader èŠ‚ç‚¹ã€å¤šä¸ªäº‹ä»¶å‘ç”Ÿçš„é¡ºåºç­‰ç­‰éƒ½å¯ä»¥æ˜¯ä¸€ä¸ªææ¡ˆã€‚&lt;/p></description></item><item><title>Raft ç®—æ³•è¯¦è§£</title><link>https://lwmfjc.github.io/zh/docs/technology/Interview/distributed-system/protocol/raft-algorithm/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://lwmfjc.github.io/zh/docs/technology/Interview/distributed-system/protocol/raft-algorithm/</guid><description>&lt;blockquote class='book-hint '>
&lt;p>æœ¬æ–‡ç”± 
&lt;a target="_blank" href="https://github.com/Snailclimb">SnailClimb&lt;/a> å’Œ 
&lt;a target="_blank" href="https://github.com/jun0315">Xieqijun&lt;/a> å…±åŒå®Œæˆã€‚&lt;/p>&lt;/blockquote>&lt;h2 id="1-èƒŒæ™¯">1 èƒŒæ™¯&lt;a class="anchor" href="#1-%e8%83%8c%e6%99%af">#&lt;/a>&lt;/h2>
&lt;p>å½“ä»Šçš„æ•°æ®ä¸­å¿ƒå’Œåº”ç”¨ç¨‹åºåœ¨é«˜åº¦åŠ¨æ€çš„ç¯å¢ƒä¸­è¿è¡Œï¼Œä¸ºäº†åº”å¯¹é«˜åº¦åŠ¨æ€çš„ç¯å¢ƒï¼Œå®ƒä»¬é€šè¿‡é¢å¤–çš„æœåŠ¡å™¨è¿›è¡Œæ¨ªå‘æ‰©å±•ï¼Œå¹¶ä¸”æ ¹æ®éœ€æ±‚è¿›è¡Œæ‰©å±•å’Œæ”¶ç¼©ã€‚åŒæ—¶ï¼ŒæœåŠ¡å™¨å’Œç½‘ç»œæ•…éšœä¹Ÿå¾ˆå¸¸è§ã€‚&lt;/p>
&lt;p>å› æ­¤ï¼Œç³»ç»Ÿå¿…é¡»åœ¨æ­£å¸¸æ“ä½œæœŸé—´å¤„ç†æœåŠ¡å™¨çš„ä¸Šä¸‹çº¿ã€‚å®ƒä»¬å¿…é¡»å¯¹å˜æ•…åšå‡ºååº”å¹¶åœ¨å‡ ç§’é’Ÿå†…è‡ªåŠ¨é€‚åº”ï¼›å¯¹å®¢æˆ·æ¥è¯´çš„è¯ï¼Œæ˜æ˜¾çš„ä¸­æ–­é€šå¸¸æ˜¯ä¸å¯æ¥å—çš„ã€‚&lt;/p>
&lt;p>å¹¸è¿çš„æ˜¯ï¼Œåˆ†å¸ƒå¼å…±è¯†å¯ä»¥å¸®åŠ©åº”å¯¹è¿™äº›æŒ‘æˆ˜ã€‚&lt;/p>
&lt;h3 id="11-æ‹œå åº­å°†å†›">1.1 æ‹œå åº­å°†å†›&lt;a class="anchor" href="#11-%e6%8b%9c%e5%8d%a0%e5%ba%ad%e5%b0%86%e5%86%9b">#&lt;/a>&lt;/h3>
&lt;p>åœ¨ä»‹ç»å…±è¯†ç®—æ³•ä¹‹å‰ï¼Œå…ˆä»‹ç»ä¸€ä¸ªç®€åŒ–ç‰ˆæ‹œå åº­å°†å†›çš„ä¾‹å­æ¥å¸®åŠ©ç†è§£å…±è¯†ç®—æ³•ã€‚&lt;/p>
&lt;blockquote class='book-hint '>
&lt;p>å‡è®¾å¤šä½æ‹œå åº­å°†å†›ä¸­æ²¡æœ‰å›å†›ï¼Œä¿¡ä½¿çš„ä¿¡æ¯å¯é ä½†æœ‰å¯èƒ½è¢«æš—æ€çš„æƒ…å†µä¸‹ï¼Œå°†å†›ä»¬å¦‚ä½•è¾¾æˆæ˜¯å¦è¦è¿›æ”»çš„ä¸€è‡´æ€§å†³å®šï¼Ÿ&lt;/p>&lt;/blockquote>&lt;p>è§£å†³æ–¹æ¡ˆå¤§è‡´å¯ä»¥ç†è§£æˆï¼šå…ˆåœ¨æ‰€æœ‰çš„å°†å†›ä¸­é€‰å‡ºä¸€ä¸ªå¤§å°†å†›ï¼Œç”¨æ¥åšå‡ºæ‰€æœ‰çš„å†³å®šã€‚&lt;/p>
&lt;p>ä¸¾ä¾‹å¦‚ä¸‹ï¼šå‡å¦‚ç°åœ¨ä¸€å…±æœ‰ 3 ä¸ªå°†å†› Aï¼ŒB å’Œ Cï¼Œæ¯ä¸ªå°†å†›éƒ½æœ‰ä¸€ä¸ªéšæœºæ—¶é—´çš„å€’è®¡æ—¶å™¨ï¼Œå€’è®¡æ—¶ä¸€ç»“æŸï¼Œè¿™ä¸ªå°†å†›å°±æŠŠè‡ªå·±å½“æˆå¤§å°†å†›å€™é€‰äººï¼Œç„¶åæ´¾ä¿¡ä½¿ä¼ é€’é€‰ä¸¾æŠ•ç¥¨çš„ä¿¡æ¯ç»™å°†å†› B å’Œ Cï¼Œå¦‚æœå°†å†› B å’Œ C è¿˜æ²¡æœ‰æŠŠè‡ªå·±å½“ä½œå€™é€‰äººï¼ˆè‡ªå·±çš„å€’è®¡æ—¶è¿˜æ²¡æœ‰ç»“æŸï¼‰ï¼Œå¹¶ä¸”æ²¡æœ‰æŠŠé€‰ä¸¾ç¥¨æŠ•ç»™å…¶ä»–äººï¼Œå®ƒä»¬å°±ä¼šæŠŠç¥¨æŠ•ç»™å°†å†› Aï¼Œä¿¡ä½¿å›åˆ°å°†å†› A æ—¶ï¼Œå°†å†› A çŸ¥é“è‡ªå·±æ”¶åˆ°äº†è¶³å¤Ÿçš„ç¥¨æ•°ï¼Œæˆä¸ºå¤§å°†å†›ã€‚åœ¨æœ‰äº†å¤§å°†å†›ä¹‹åï¼Œæ˜¯å¦éœ€è¦è¿›æ”»å°±ç”±å¤§å°†å†› A å†³å®šï¼Œç„¶åå†å»æ´¾ä¿¡ä½¿é€šçŸ¥å¦å¤–ä¸¤ä¸ªå°†å†›ï¼Œè‡ªå·±å·²ç»æˆä¸ºäº†å¤§å°†å†›ã€‚å¦‚æœä¸€æ®µæ—¶é—´è¿˜æ²¡æ”¶åˆ°å°†å†› B å’Œ C çš„å›å¤ï¼ˆä¿¡ä½¿å¯èƒ½ä¼šè¢«æš—æ€ï¼‰ï¼Œé‚£å°±å†é‡æ´¾ä¸€ä¸ªä¿¡ä½¿ï¼Œç›´åˆ°æ”¶åˆ°å›å¤ã€‚&lt;/p>
&lt;h3 id="12-å…±è¯†ç®—æ³•">1.2 å…±è¯†ç®—æ³•&lt;a class="anchor" href="#12-%e5%85%b1%e8%af%86%e7%ae%97%e6%b3%95">#&lt;/a>&lt;/h3>
&lt;p>å…±è¯†æ˜¯å¯å®¹é”™ç³»ç»Ÿä¸­çš„ä¸€ä¸ªåŸºæœ¬é—®é¢˜ï¼šå³ä½¿é¢å¯¹æ•…éšœï¼ŒæœåŠ¡å™¨ä¹Ÿå¯ä»¥åœ¨å…±äº«çŠ¶æ€ä¸Šè¾¾æˆä¸€è‡´ã€‚&lt;/p>
&lt;p>å…±è¯†ç®—æ³•å…è®¸ä¸€ç»„èŠ‚ç‚¹åƒä¸€ä¸ªæ•´ä½“ä¸€æ ·ä¸€èµ·å·¥ä½œï¼Œå³ä½¿å…¶ä¸­çš„ä¸€äº›èŠ‚ç‚¹å‡ºç°æ•…éšœä¹Ÿèƒ½å¤Ÿç»§ç»­å·¥ä½œä¸‹å»ï¼Œå…¶æ­£ç¡®æ€§ä¸»è¦æ˜¯æºäºå¤åˆ¶çŠ¶æ€æœºçš„æ€§è´¨ï¼šä¸€ç»„&lt;code>Server&lt;/code>çš„çŠ¶æ€æœºè®¡ç®—ç›¸åŒçŠ¶æ€çš„å‰¯æœ¬ï¼Œå³ä½¿æœ‰ä¸€éƒ¨åˆ†çš„&lt;code>Server&lt;/code>å®•æœºäº†å®ƒä»¬ä»ç„¶èƒ½å¤Ÿç»§ç»­è¿è¡Œã€‚&lt;/p>
&lt;p>&lt;img src="img/e53237d8af56aa6747ea8c2520070fbd_MD5.jpg" alt="rsm-architecture.png" />&lt;/p>
&lt;p>&lt;code>å›¾-1 å¤åˆ¶çŠ¶æ€æœºæ¶æ„&lt;/code>&lt;/p>
&lt;p>ä¸€èˆ¬é€šè¿‡ä½¿ç”¨å¤åˆ¶æ—¥å¿—æ¥å®ç°å¤åˆ¶çŠ¶æ€æœºã€‚æ¯ä¸ª&lt;code>Server&lt;/code>å­˜å‚¨ç€ä¸€ä»½åŒ…æ‹¬å‘½ä»¤åºåˆ—çš„æ—¥å¿—æ–‡ä»¶ï¼ŒçŠ¶æ€æœºä¼šæŒ‰é¡ºåºæ‰§è¡Œè¿™äº›å‘½ä»¤ã€‚å› ä¸ºæ¯ä¸ªæ—¥å¿—åŒ…å«ç›¸åŒçš„å‘½ä»¤ï¼Œå¹¶ä¸”é¡ºåºä¹Ÿç›¸åŒï¼Œæ‰€ä»¥æ¯ä¸ªçŠ¶æ€æœºå¤„ç†ç›¸åŒçš„å‘½ä»¤åºåˆ—ã€‚ç”±äºçŠ¶æ€æœºæ˜¯ç¡®å®šæ€§çš„ï¼Œæ‰€ä»¥å¤„ç†ç›¸åŒçš„çŠ¶æ€ï¼Œå¾—åˆ°ç›¸åŒçš„è¾“å‡ºã€‚&lt;/p>
&lt;p>å› æ­¤å…±è¯†ç®—æ³•çš„å·¥ä½œå°±æ˜¯ä¿æŒå¤åˆ¶æ—¥å¿—çš„ä¸€è‡´æ€§ã€‚æœåŠ¡å™¨ä¸Šçš„å…±è¯†æ¨¡å—ä»å®¢æˆ·ç«¯æ¥æ”¶å‘½ä»¤å¹¶å°†å®ƒä»¬æ·»åŠ åˆ°æ—¥å¿—ä¸­ã€‚å®ƒä¸å…¶ä»–æœåŠ¡å™¨ä¸Šçš„å…±è¯†æ¨¡å—é€šä¿¡ï¼Œä»¥ç¡®ä¿å³ä½¿æŸäº›æœåŠ¡å™¨å‘ç”Ÿæ•…éšœã€‚æ¯ä¸ªæ—¥å¿—æœ€ç»ˆåŒ…å«ç›¸åŒé¡ºåºçš„è¯·æ±‚ã€‚ä¸€æ—¦å‘½ä»¤è¢«æ­£ç¡®åœ°å¤åˆ¶ï¼Œå®ƒä»¬å°±è¢«ç§°ä¸ºå·²æäº¤ã€‚æ¯ä¸ªæœåŠ¡å™¨çš„çŠ¶æ€æœºæŒ‰ç…§æ—¥å¿—é¡ºåºå¤„ç†å·²æäº¤çš„å‘½ä»¤ï¼Œå¹¶å°†è¾“å‡ºè¿”å›ç»™å®¢æˆ·ç«¯ï¼Œå› æ­¤ï¼Œè¿™äº›æœåŠ¡å™¨å½¢æˆäº†ä¸€ä¸ªå•ä¸€çš„ã€é«˜åº¦å¯é çš„çŠ¶æ€æœºã€‚&lt;/p>
&lt;p>é€‚ç”¨äºå®é™…ç³»ç»Ÿçš„å…±è¯†ç®—æ³•é€šå¸¸å…·æœ‰ä»¥ä¸‹ç‰¹æ€§ï¼š&lt;/p>
&lt;ul>
&lt;li>
&lt;p>å®‰å…¨ã€‚ç¡®ä¿åœ¨éæ‹œå åº­æ¡ä»¶ï¼ˆä¹Ÿå°±æ˜¯ä¸Šæ–‡ä¸­æåˆ°çš„ç®€æ˜“ç‰ˆæ‹œå åº­ï¼‰ä¸‹çš„å®‰å…¨æ€§ï¼ŒåŒ…æ‹¬ç½‘ç»œå»¶è¿Ÿã€åˆ†åŒºã€åŒ…ä¸¢å¤±ã€å¤åˆ¶å’Œé‡æ–°æ’åºã€‚&lt;/p>
&lt;/li>
&lt;li>
&lt;p>é«˜å¯ç”¨ã€‚åªè¦å¤§å¤šæ•°æœåŠ¡å™¨éƒ½æ˜¯å¯æ“ä½œçš„ï¼Œå¹¶ä¸”å¯ä»¥ç›¸äº’é€šä¿¡ï¼Œä¹Ÿå¯ä»¥ä¸å®¢æˆ·ç«¯è¿›è¡Œé€šä¿¡ï¼Œé‚£ä¹ˆè¿™äº›æœåŠ¡å™¨å°±å¯ä»¥çœ‹ä½œå®Œå…¨åŠŸèƒ½å¯ç”¨çš„ã€‚å› æ­¤ï¼Œä¸€ä¸ªå…¸å‹çš„ç”±äº”å°æœåŠ¡å™¨ç»„æˆçš„é›†ç¾¤å¯ä»¥å®¹å¿ä»»ä½•ä¸¤å°æœåŠ¡å™¨ç«¯æ•…éšœã€‚å‡è®¾æœåŠ¡å™¨å› åœæ­¢è€Œå‘ç”Ÿæ•…éšœï¼›å®ƒä»¬ç¨åå¯èƒ½ä¼šä»ç¨³å®šå­˜å‚¨ä¸Šçš„çŠ¶æ€ä¸­æ¢å¤å¹¶é‡æ–°åŠ å…¥é›†ç¾¤ã€‚&lt;/p>
&lt;/li>
&lt;li>
&lt;p>ä¸€è‡´æ€§ä¸ä¾èµ–æ—¶åºã€‚é”™è¯¯çš„æ—¶é’Ÿå’Œæç«¯çš„æ¶ˆæ¯å»¶è¿Ÿï¼Œåœ¨æœ€åçš„æƒ…å†µä¸‹ä¹Ÿåªä¼šé€ æˆå¯ç”¨æ€§é—®é¢˜ï¼Œè€Œä¸ä¼šäº§ç”Ÿä¸€è‡´æ€§é—®é¢˜ã€‚&lt;/p>
&lt;/li>
&lt;li>
&lt;p>åœ¨é›†ç¾¤ä¸­å¤§å¤šæ•°æœåŠ¡å™¨å“åº”ï¼Œå‘½ä»¤å°±å¯ä»¥å®Œæˆï¼Œä¸ä¼šè¢«å°‘æ•°è¿è¡Œç¼“æ…¢çš„æœåŠ¡å™¨æ¥å½±å“æ•´ä½“ç³»ç»Ÿæ€§èƒ½ã€‚&lt;/p>
&lt;/li>
&lt;/ul>
&lt;h2 id="2-åŸºç¡€">2 åŸºç¡€&lt;a class="anchor" href="#2-%e5%9f%ba%e7%a1%80">#&lt;/a>&lt;/h2>
&lt;h3 id="21-èŠ‚ç‚¹ç±»å‹">2.1 èŠ‚ç‚¹ç±»å‹&lt;a class="anchor" href="#21-%e8%8a%82%e7%82%b9%e7%b1%bb%e5%9e%8b">#&lt;/a>&lt;/h3>
&lt;p>ä¸€ä¸ª Raft é›†ç¾¤åŒ…æ‹¬è‹¥å¹²æœåŠ¡å™¨ï¼Œä»¥å…¸å‹çš„ 5 æœåŠ¡å™¨é›†ç¾¤ä¸¾ä¾‹ã€‚åœ¨ä»»æ„çš„æ—¶é—´ï¼Œæ¯ä¸ªæœåŠ¡å™¨ä¸€å®šä¼šå¤„äºä»¥ä¸‹ä¸‰ä¸ªçŠ¶æ€ä¸­çš„ä¸€ä¸ªï¼š&lt;/p>
&lt;ul>
&lt;li>&lt;code>Leader&lt;/code>ï¼šè´Ÿè´£å‘èµ·å¿ƒè·³ï¼Œå“åº”å®¢æˆ·ç«¯ï¼Œåˆ›å»ºæ—¥å¿—ï¼ŒåŒæ­¥æ—¥å¿—ã€‚&lt;/li>
&lt;li>&lt;code>Candidate&lt;/code>ï¼šLeader é€‰ä¸¾è¿‡ç¨‹ä¸­çš„ä¸´æ—¶è§’è‰²ï¼Œç”± Follower è½¬åŒ–è€Œæ¥ï¼Œå‘èµ·æŠ•ç¥¨å‚ä¸ç«é€‰ã€‚&lt;/li>
&lt;li>&lt;code>Follower&lt;/code>ï¼šæ¥å— Leader çš„å¿ƒè·³å’Œæ—¥å¿—åŒæ­¥æ•°æ®ï¼ŒæŠ•ç¥¨ç»™ Candidateã€‚&lt;/li>
&lt;/ul>
&lt;p>åœ¨æ­£å¸¸çš„æƒ…å†µä¸‹ï¼Œåªæœ‰ä¸€ä¸ªæœåŠ¡å™¨æ˜¯ Leaderï¼Œå‰©ä¸‹çš„æœåŠ¡å™¨æ˜¯ Followerã€‚Follower æ˜¯è¢«åŠ¨çš„ï¼Œå®ƒä»¬ä¸ä¼šå‘é€ä»»ä½•è¯·æ±‚ï¼Œåªæ˜¯å“åº”æ¥è‡ª Leader å’Œ Candidate çš„è¯·æ±‚ã€‚&lt;/p></description></item></channel></rss>