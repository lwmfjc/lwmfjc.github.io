<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>éšè®°</title><link>https://lwmfjc.github.io/zh/docs/technology/MySQL/MySQL%E6%98%AF%E6%80%8E%E6%A0%B7%E8%BF%90%E8%A1%8C%E7%9A%84/</link><description>Recent content on éšè®°</description><generator>Hugo</generator><language>zh</language><lastBuildDate>Sat, 11 Jan 2025 16:40:21 +0800</lastBuildDate><atom:link href="https://lwmfjc.github.io/zh/docs/technology/MySQL/MySQL%E6%98%AF%E6%80%8E%E6%A0%B7%E8%BF%90%E8%A1%8C%E7%9A%84/index.xml" rel="self" type="application/rss+xml"/><item><title>ç¬¬26ç« _å†™ä½œæœ¬ä¹¦æ—¶ç”¨åˆ°çš„ä¸€äº›é‡è¦çš„å‚è€ƒèµ„æ–™</title><link>https://lwmfjc.github.io/zh/docs/technology/MySQL/MySQL%E6%98%AF%E6%80%8E%E6%A0%B7%E8%BF%90%E8%A1%8C%E7%9A%84/%E7%AC%AC26%E7%AB%A0_%E5%86%99%E4%BD%9C%E6%9C%AC%E4%B9%A6%E6%97%B6%E7%94%A8%E5%88%B0%E7%9A%84%E4%B8%80%E4%BA%9B%E9%87%8D%E8%A6%81%E7%9A%84%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99/</link><pubDate>Sat, 11 Jan 2025 16:40:21 +0800</pubDate><guid>https://lwmfjc.github.io/zh/docs/technology/MySQL/MySQL%E6%98%AF%E6%80%8E%E6%A0%B7%E8%BF%90%E8%A1%8C%E7%9A%84/%E7%AC%AC26%E7%AB%A0_%E5%86%99%E4%BD%9C%E6%9C%AC%E4%B9%A6%E6%97%B6%E7%94%A8%E5%88%B0%E7%9A%84%E4%B8%80%E4%BA%9B%E9%87%8D%E8%A6%81%E7%9A%84%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99/</guid><description>&lt;h1 id="ç¬¬26ç« -å†™ä½œæœ¬ä¹¦æ—¶ç”¨åˆ°çš„ä¸€äº›é‡è¦çš„å‚è€ƒèµ„æ–™">
 ç¬¬26ç«  å†™ä½œæœ¬ä¹¦æ—¶ç”¨åˆ°çš„ä¸€äº›é‡è¦çš„å‚è€ƒèµ„æ–™
 &lt;a class="anchor" href="#%e7%ac%ac26%e7%ab%a0-%e5%86%99%e4%bd%9c%e6%9c%ac%e4%b9%a6%e6%97%b6%e7%94%a8%e5%88%b0%e7%9a%84%e4%b8%80%e4%ba%9b%e9%87%8d%e8%a6%81%e7%9a%84%e5%8f%82%e8%80%83%e8%b5%84%e6%96%99">#&lt;/a>
&lt;/h1>
&lt;p>æ„Ÿè°¢&lt;/p>
&lt;p>æˆ‘ä¸ç”Ÿäº§çŸ¥è¯†ï¼Œåªæ˜¯çŸ¥è¯†çš„æ¬è¿å·¥ã€‚å†™ä½œæœ¬å°å†Œçš„æ—¶é—´ä¸»è¦ç”¨åœ¨äº†ä¸¤ä¸ªæ–¹é¢ï¼š&lt;/p>
&lt;ul>
&lt;li>&lt;/li>
&lt;/ul>
&lt;p>ææ¸…æ¥šäº‹æƒ…çš„æœ¬è´¨æ˜¯ä»€ä¹ˆã€‚&lt;/p>
&lt;p>è¿™ä¸ªè¿‡ç¨‹å°±æ˜¯ç ”ç©¶æºç ã€ä¹¦ç±å’Œèµ„æ–™ã€‚&lt;/p>
&lt;ul>
&lt;li>&lt;/li>
&lt;/ul>
&lt;p>å¦‚ä½•æŠŠæˆ‘å·²ç»çŸ¥é“çš„çŸ¥è¯†è¡¨è¾¾å‡ºæ¥ã€‚&lt;/p>
&lt;p>è¿™ä¸ªè¿‡ç¨‹å°±æ˜¯æˆ‘ä¸åœçš„åœ¨åœ°ä¸Šèµ°è¿‡æ¥èµ°è¿‡å»ï¼Œæ¢³ç†çŸ¥è¯†ç»“æ„ï¼Œæ–Ÿé…Œç”¨è¯ç”¨å¥ï¼Œä¸åœçš„å°†å·²ç»å†™å¥½çš„æ–‡ç« æ¨å€’é‡æ¥ï¼Œåªæ˜¯æƒ³ç»™å¤§å®¶ä¸€ä¸ªä¸é”™çš„ç”¨æˆ·ä½“éªŒã€‚&lt;/p>
&lt;p>è¿™ä¸¤ä¸ªæ–¹é¢ç”¨çš„æ—¶é—´åŸºæœ¬ä¸Šæ˜¯ä¸€åŠä¸€åŠå§ï¼Œåœ¨ææ¸…æ¥šäº‹æƒ…çš„æœ¬è´¨æ˜¯ä»€ä¹ˆé˜¶æ®µï¼Œé™¤äº†ç›´æ¥é˜…è¯»&lt;code>MySQL&lt;/code>çš„æºç ä¹‹å¤–ï¼ŒæŸ¥çœ‹å‚è€ƒèµ„æ–™ä¹Ÿæ˜¯ä¸€ç§æ¯”è¾ƒå·æ‡’çš„å­¦ä¹ æ–¹å¼ã€‚æœ¬ä¹¦åªæ˜¯&lt;code>MySQL&lt;/code>è¿›é˜¶çš„ä¸€ä¸ªå…¥é—¨ï¼Œæƒ³äº†è§£æ›´å¤šå…³äº&lt;code>MySQL&lt;/code>çš„çŸ¥è¯†ï¼Œå¤§å®¶å¯ä»¥ä»ä¸‹é¢è¿™äº›èµ„æ–™é‡Œæ‰¾ç‚¹çµæ„Ÿã€‚&lt;/p>
&lt;p>ä¸€äº›é“¾æ¥&lt;/p>
&lt;ul>
&lt;li>&lt;/li>
&lt;/ul>
&lt;p>MySQLå®˜æ–¹æ–‡æ¡£ï¼š&lt;a href="https://dev.mysql.com/doc/refman/5.7/en/">https://dev.mysql.com/doc/refman/5.7/en/&lt;/a>&lt;/p>
&lt;p>&lt;code>MySQL&lt;/code>å®˜æ–¹æ–‡æ¡£æ˜¯å†™ä½œæœ¬ä¹¦æ—¶å‚è€ƒæœ€å¤šçš„ä¸€ä¸ªèµ„æ–™ã€‚è¯´å®è¯ï¼Œæ–‡æ¡£å†™çš„éå¸¸é€šä¿—æ˜“æ‡‚ï¼Œå”¯ä¸€çš„ç¼ºç‚¹å°±æ˜¯å¤ªé•¿äº†ï¼Œå¯¼è‡´å¤§å®¶çœ‹çš„æ—¶å€™æ— ä»ä¸‹æ‰‹ã€‚&lt;/p>
&lt;ul>
&lt;li>&lt;/li>
&lt;/ul>
&lt;p>MySQL Internals Manualï¼š&lt;a href="https://dev.mysql.com/doc/internals/en/">https://dev.mysql.com/doc/internals/en/&lt;/a>&lt;/p>
&lt;p>ä»‹ç»MySQLå¦‚ä½•å®ç°å„ç§åŠŸèƒ½çš„æ–‡æ¡£ï¼Œå†™çš„æ¯”è¾ƒå¥½ï¼Œä½†æ˜¯å¤ªå°‘äº†ï¼Œæœ‰å¾ˆå¤šç« èŠ‚ç›´æ¥è·³è¿‡äº†ã€‚&lt;/p>
&lt;ul>
&lt;li>&lt;/li>
&lt;/ul>
&lt;p>ä½•ç™»æˆçš„githubï¼š&lt;a href="https://github.com/hedengcheng/tech">https://github.com/hedengcheng/tech&lt;/a>&lt;/p>
&lt;p>ç™»åšçš„åšå®¢éå¸¸å¥½ï¼Œå¯¹äº‹åŠ¡ã€ä¼˜åŒ–è¿™è®¨è®ºçš„ç»†èŠ‚ä¹Ÿéå¸¸å¤šï¼Œä¸è¿‡ç”±äºå¤§å¤šæ˜¯PPTç»“æ„ï¼Œå­—å¤ªå°‘ï¼Œå¯¹ä¸Šä¸‹æ–‡ä¸æ¸…æ¥šçš„åŒå­¦å¯èƒ½ä¼šä¸€è„¸æ‡µé€¼ã€‚&lt;/p>
&lt;ul>
&lt;li>&lt;/li>
&lt;/ul>
&lt;p>orczhouçš„åšå®¢ï¼š&lt;a href="http://www.orczhou.com/">http://www.orczhou.com/&lt;/a>&lt;/p>
&lt;ul>
&lt;li>&lt;/li>
&lt;/ul>
&lt;p>Jeremy Coleçš„åšå®¢ï¼š&lt;a href="https://blog.jcole.us/innodb/">https://blog.jcole.us/innodb/&lt;/a>&lt;/p>
&lt;p>Jeremy Coleå¤§ç¥ä¸ä»…å†™ä½œäº†&lt;code>innodb_ruby&lt;/code>è¿™ä¸ªéå¸¸æ£’çš„è§£æ&lt;code>InnoDB&lt;/code>å­˜å‚¨ç»“æ„çš„å·¥å…·ï¼Œè¿˜å¯¹è¿™äº›å­˜å‚¨ç»“æ„å†™äº†ä¸€ç³»åˆ—çš„åšå®¢ï¼Œåœ¨æˆ‘å‡ ä¹è¦æ”¾å¼ƒæ·±å…¥ç ”ç©¶è¡¨ç©ºé—´ç»“æ„çš„æ—¶å€™ï¼Œæ˜¯ä»–è€äººå®¶çš„åšå®¢æŠŠæˆ‘åˆä»æ·±æ¸Šé‡Œæ‹‰äº†å›æ¥ã€‚&lt;/p>
&lt;ul>
&lt;li>&lt;/li>
&lt;/ul>
&lt;p>é‚£æµ·è“è“ï¼ˆææµ·ç¿”ï¼‰çš„åšå®¢ï¼š&lt;a href="https://blog.csdn.net/fly2nn">https://blog.csdn.net/fly2nn&lt;/a>&lt;/p>
&lt;ul>
&lt;li>&lt;/li>
&lt;/ul>
&lt;p>taobaoæœˆæŠ¥ï¼š&lt;a href="http://mysql.taobao.org/monthly/">http://mysql.taobao.org/monthly/&lt;/a>&lt;/p>
&lt;p>å› ä¸ºMySQLçš„æºç éå¸¸å¤šï¼Œç»å¸¸è®©å¤§å®¶æ— ä»ä¸‹æ‰‹ï¼Œè€ŒtaobaoæœˆæŠ¥å°±æ˜¯ä¸€ä¸ªéå¸¸å¥½çš„æºç é˜…è¯»æŒ‡å—ã€‚&lt;/p>
&lt;p>&lt;code>åæ§½ä¸€ä¸‹ï¼Œè¿™ä¸ªtaobaoæœˆæŠ¥ä¹Ÿåªèƒ½å½“ä½œæºç é˜…è¯»æŒ‡å—çœ‹ï¼Œå¦‚æœçœŸçš„ä¸çœ‹æºç å…‰çœ‹æœˆæŠ¥ï¼Œé‚£åªèƒ½å½“ä½œå¤©ä¹¦çœ‹ï¼Œåæœ‰å…«ä¹è¢«ç»•è¿›å»å‡ºä¸æ¥äº†ã€‚&lt;/code>&lt;/p>
&lt;ul>
&lt;li>&lt;/li>
&lt;/ul>
&lt;p>MySQL Server Blogï¼š&lt;a href="http://mysqlserverteam.com/">http://mysqlserverteam.com/&lt;/a>&lt;/p>
&lt;p>MySQL teamçš„åšå®¢ï¼Œä¸€æ‰‹èµ„æ–™ï¼Œåœ¨æˆ‘ä¸çŸ¥é“çœ‹ä»€ä¹ˆçš„æ—¶å€™ç»™äº†å¾ˆå¤šå¯ç¤ºã€‚&lt;/p>
&lt;ul>
&lt;li>&lt;/li>
&lt;/ul>
&lt;p>mysql_loverçš„åšå®¢ï¼š&lt;a href="https://blog.csdn.net/mysql_lover/">https://blog.csdn.net/mysql_lover/&lt;/a>&lt;/p>
&lt;ul>
&lt;li>Jorgen&amp;rsquo;s point of viewï¼š&lt;a href="https://jorgenloland.blogspot.com/">https://jorgenloland.blogspot.com/&lt;/a>&lt;/li>
&lt;li>&lt;/li>
&lt;/ul>
&lt;p>mariadbçš„å…³äºæŸ¥è¯¢ä¼˜åŒ–çš„æ–‡æ¡£ï¼š&lt;a href="https://mariadb.com/kb/en/library/query-optimizations/">https://mariadb.com/kb/en/library/query-optimizations/&lt;/a>&lt;/p>
&lt;p>ä¸å¾—ä¸è¯´mariadbçš„æ–‡æ¡£ç›¸æ¯”MySQLçš„æ¥è¯´å°±éå¸¸æœ‰è‰ºæœ¯æ€§äº†ï¼ˆé‡Œè¾¹å„¿æœ‰å¾ˆå¤šæ¼‚äº®çš„æ’å›¾ï¼‰ï¼Œæˆ‘å¾ˆæ€€ç–‘MySQLæ–‡æ¡£æ˜¯ç¨‹åºå‘˜ç›´æ¥å†™çš„ï¼Œmariadbçš„æ–‡æ¡£æ˜¯äº§å“ç»ç†å†™çš„ã€‚å½“æˆ‘ä»¬æƒ³ç ”ç©¶æŸä¸ªåŠŸèƒ½çš„åŸç†ï¼Œåœ¨MySQLæ–‡æ¡£å¹²å·´å·´çš„è¯´æ˜ä¸­æ‰¾ä¸åˆ°å¤´è„‘æ—¶ï¼Œå¯ä»¥å‚è€ƒä¸€ä¸‹mariadbå¨“å¨“é“æ¥çš„é£æ ¼ã€‚&lt;/p>
&lt;ul>
&lt;li>&lt;/li>
&lt;/ul>
&lt;p>Reconstructing Data Manipulation Queries from Redo Logsï¼š&lt;a href="https://www.sba-research.org/wp-content/uploads/publications/WSDF2012_InnoDB.pdf">https://www.sba-research.org/wp-content/uploads/publications/WSDF2012_InnoDB.pdf&lt;/a>&lt;/p>
&lt;ul>
&lt;li>å…³äºInnoDBäº‹åŠ¡çš„ä¸€ä¸ªPPTï¼š&lt;a href="https://mariadb.org/wp-content/uploads/2018/02/Deep-Dive_-InnoDB-Transactions-and-Write-Paths.pdf">https://mariadb.org/wp-content/uploads/2018/02/Deep-Dive_-InnoDB-Transactions-and-Write-Paths.pdf&lt;/a>&lt;/li>
&lt;li>&lt;/li>
&lt;/ul>
&lt;p>éå®˜æ–¹ä¼˜åŒ–æ–‡æ¡£ï¼š&lt;a href="http://www.unofficialmysqlguide.com/optimizer-trace.html">http://www.unofficialmysqlguide.com/optimizer-trace.html&lt;/a>&lt;/p>
&lt;p>è¿™ä¸ªæ–‡æ¡£éå¸¸å¥½ï¼Œéå¸¸éå¸¸å¥½ï½&lt;/p>
&lt;ul>
&lt;li>&lt;/li>
&lt;/ul>
&lt;p>MySQL8.0çš„æºç æ–‡æ¡£ï¼š&lt;a href="https://dev.mysql.com/doc/dev/mysql-server">https://dev.mysql.com/doc/dev/mysql-server&lt;/a>&lt;/p>
&lt;p>ä¸€äº›ä¹¦ç±&lt;/p>
&lt;ul>
&lt;li>&lt;/li>
&lt;/ul>
&lt;p>ã€Šæ•°æ®åº“æŸ¥è¯¢ä¼˜åŒ–å™¨çš„è‰ºæœ¯ã€‹ææµ·ç¿”è‘—&lt;/p></description></item><item><title>ç¬¬25ç« _å·¥ä½œé¢è¯•è€å¤§éš¾-é”</title><link>https://lwmfjc.github.io/zh/docs/technology/MySQL/MySQL%E6%98%AF%E6%80%8E%E6%A0%B7%E8%BF%90%E8%A1%8C%E7%9A%84/%E7%AC%AC25%E7%AB%A0_%E5%B7%A5%E4%BD%9C%E9%9D%A2%E8%AF%95%E8%80%81%E5%A4%A7%E9%9A%BE-%E9%94%81/</link><pubDate>Sat, 11 Jan 2025 16:40:20 +0800</pubDate><guid>https://lwmfjc.github.io/zh/docs/technology/MySQL/MySQL%E6%98%AF%E6%80%8E%E6%A0%B7%E8%BF%90%E8%A1%8C%E7%9A%84/%E7%AC%AC25%E7%AB%A0_%E5%B7%A5%E4%BD%9C%E9%9D%A2%E8%AF%95%E8%80%81%E5%A4%A7%E9%9A%BE-%E9%94%81/</guid><description>&lt;h1 id="ç¬¬25ç« -å·¥ä½œé¢è¯•è€å¤§éš¾-é”">
 ç¬¬25ç«  å·¥ä½œé¢è¯•è€å¤§éš¾-é”
 &lt;a class="anchor" href="#%e7%ac%ac25%e7%ab%a0-%e5%b7%a5%e4%bd%9c%e9%9d%a2%e8%af%95%e8%80%81%e5%a4%a7%e9%9a%be-%e9%94%81">#&lt;/a>
&lt;/h1>
&lt;p>è§£å†³å¹¶å‘äº‹åŠ¡å¸¦æ¥é—®é¢˜çš„ä¸¤ç§åŸºæœ¬æ–¹å¼&lt;/p>
&lt;p>ä¸Šä¸€ç« ä»‹ç»äº†äº‹åŠ¡å¹¶å‘æ‰§è¡Œæ—¶å¯èƒ½å¸¦æ¥çš„å„ç§é—®é¢˜ï¼Œå¹¶å‘äº‹åŠ¡è®¿é—®ç›¸åŒè®°å½•çš„æƒ…å†µå¤§è‡´å¯ä»¥åˆ’åˆ†ä¸º3ç§ï¼š&lt;/p>
&lt;ul>
&lt;li>&lt;/li>
&lt;/ul>
&lt;p>&lt;code>è¯»-è¯»&lt;/code>æƒ…å†µï¼šå³å¹¶å‘äº‹åŠ¡ç›¸ç»§è¯»å–ç›¸åŒçš„è®°å½•ã€‚&lt;/p>
&lt;p>è¯»å–æ“ä½œæœ¬èº«ä¸ä¼šå¯¹è®°å½•æœ‰ä¸€æ¯›é’±å½±å“ï¼Œå¹¶ä¸ä¼šå¼•èµ·ä»€ä¹ˆé—®é¢˜ï¼Œæ‰€ä»¥å…è®¸è¿™ç§æƒ…å†µçš„å‘ç”Ÿã€‚&lt;/p>
&lt;ul>
&lt;li>&lt;/li>
&lt;/ul>
&lt;p>&lt;code>å†™-å†™&lt;/code>æƒ…å†µï¼šå³å¹¶å‘äº‹åŠ¡ç›¸ç»§å¯¹ç›¸åŒçš„è®°å½•åšå‡ºæ”¹åŠ¨ã€‚&lt;/p>
&lt;p>æˆ‘ä»¬å‰é¢è¯´è¿‡ï¼Œåœ¨è¿™ç§æƒ…å†µä¸‹ä¼šå‘ç”Ÿ&lt;code>è„å†™&lt;/code>çš„é—®é¢˜ï¼Œä»»ä½•ä¸€ç§éš”ç¦»çº§åˆ«éƒ½ä¸å…è®¸è¿™ç§é—®é¢˜çš„å‘ç”Ÿã€‚æ‰€ä»¥åœ¨å¤šä¸ªæœªæäº¤äº‹åŠ¡ç›¸ç»§å¯¹ä¸€æ¡è®°å½•åšæ”¹åŠ¨æ—¶ï¼Œéœ€è¦è®©å®ƒä»¬æ’é˜Ÿæ‰§è¡Œï¼Œè¿™ä¸ªæ’é˜Ÿçš„è¿‡ç¨‹å…¶å®æ˜¯é€šè¿‡&lt;code>é”&lt;/code>æ¥å®ç°çš„ã€‚è¿™ä¸ªæ‰€è°“çš„&lt;code>é”&lt;/code>å…¶å®æ˜¯ä¸€ä¸ªå†…å­˜ä¸­çš„ç»“æ„ï¼Œåœ¨äº‹åŠ¡æ‰§è¡Œå‰æœ¬æ¥æ˜¯æ²¡æœ‰é”çš„ï¼Œä¹Ÿå°±æ˜¯è¯´ä¸€å¼€å§‹æ˜¯æ²¡æœ‰&lt;code>é”ç»“æ„&lt;/code>å’Œè®°å½•è¿›è¡Œå…³è”çš„ï¼Œå¦‚å›¾æ‰€ç¤ºï¼š&lt;/p>
&lt;p>&lt;img src="img/25-01.png" alt="" />&lt;/p>
&lt;p>å½“ä¸€ä¸ªäº‹åŠ¡æƒ³å¯¹è¿™æ¡è®°å½•åšæ”¹åŠ¨æ—¶ï¼Œé¦–å…ˆä¼šçœ‹çœ‹å†…å­˜ä¸­æœ‰æ²¡æœ‰ä¸è¿™æ¡è®°å½•å…³è”çš„&lt;code>é”ç»“æ„&lt;/code>ï¼Œå½“æ²¡æœ‰çš„æ—¶å€™å°±ä¼šåœ¨å†…å­˜ä¸­ç”Ÿæˆä¸€ä¸ª&lt;code>é”ç»“æ„&lt;/code>ä¸ä¹‹å…³è”ã€‚æ¯”æ–¹è¯´äº‹åŠ¡&lt;code>T1&lt;/code>è¦å¯¹è¿™æ¡è®°å½•åšæ”¹åŠ¨ï¼Œå°±éœ€è¦ç”Ÿæˆä¸€ä¸ª&lt;code>é”ç»“æ„&lt;/code>ä¸ä¹‹å…³è”ï¼š&lt;/p>
&lt;p>&lt;img src="img/25-02.png" alt="" />&lt;/p>
&lt;p>å…¶å®åœ¨&lt;code>é”ç»“æ„&lt;/code>é‡Œæœ‰å¾ˆå¤šä¿¡æ¯ï¼Œä¸è¿‡ä¸ºäº†ç®€åŒ–ç†è§£ï¼Œæˆ‘ä»¬ç°åœ¨åªæŠŠä¸¤ä¸ªæ¯”è¾ƒé‡è¦çš„å±æ€§æ‹¿äº†å‡ºæ¥ï¼š - &lt;code>trxä¿¡æ¯&lt;/code>ï¼šä»£è¡¨è¿™ä¸ªé”ç»“æ„æ˜¯å“ªä¸ªäº‹åŠ¡ç”Ÿæˆçš„ã€‚ - &lt;code>is_waiting&lt;/code>ï¼šä»£è¡¨å½“å‰äº‹åŠ¡æ˜¯å¦åœ¨ç­‰å¾…ã€‚&lt;/p>
&lt;p>å¦‚å›¾æ‰€ç¤ºï¼Œå½“äº‹åŠ¡&lt;code>T1&lt;/code>æ”¹åŠ¨äº†è¿™æ¡è®°å½•åï¼Œå°±ç”Ÿæˆäº†ä¸€ä¸ª&lt;code>é”ç»“æ„&lt;/code>ä¸è¯¥è®°å½•å…³è”ï¼Œå› ä¸ºä¹‹å‰æ²¡æœ‰åˆ«çš„äº‹åŠ¡ä¸ºè¿™æ¡è®°å½•åŠ é”ï¼Œæ‰€ä»¥&lt;code>is_waiting&lt;/code>å±æ€§å°±æ˜¯&lt;code>false&lt;/code>ï¼Œæˆ‘ä»¬æŠŠè¿™ä¸ªåœºæ™¯å°±ç§°ä¹‹ä¸º&lt;strong>è·å–é”æˆåŠŸï¼Œæˆ–è€…åŠ é”æˆåŠŸ&lt;/strong>ï¼Œç„¶åå°±å¯ä»¥ç»§ç»­æ‰§è¡Œæ“ä½œäº†ã€‚&lt;/p>
&lt;p>åœ¨äº‹åŠ¡&lt;code>T1&lt;/code>æäº¤ä¹‹å‰ï¼Œå¦ä¸€ä¸ªäº‹åŠ¡&lt;code>T2&lt;/code>ä¹Ÿæƒ³å¯¹è¯¥è®°å½•åšæ”¹åŠ¨ï¼Œé‚£ä¹ˆå…ˆå»çœ‹çœ‹æœ‰æ²¡æœ‰&lt;code>é”ç»“æ„&lt;/code>ä¸è¿™æ¡è®°å½•å…³è”ï¼Œå‘ç°æœ‰ä¸€ä¸ª&lt;code>é”ç»“æ„&lt;/code>ä¸ä¹‹å…³è”åï¼Œç„¶åä¹Ÿç”Ÿæˆäº†ä¸€ä¸ª&lt;code>é”ç»“æ„&lt;/code>ä¸è¿™æ¡è®°å½•å…³è”ï¼Œä¸è¿‡&lt;code>é”ç»“æ„&lt;/code>çš„&lt;code>is_waiting&lt;/code>å±æ€§å€¼ä¸º&lt;code>true&lt;/code>ï¼Œè¡¨ç¤ºå½“å‰äº‹åŠ¡éœ€è¦ç­‰å¾…ï¼Œæˆ‘ä»¬æŠŠè¿™ä¸ªåœºæ™¯å°±ç§°ä¹‹ä¸º&lt;strong>è·å–é”å¤±è´¥ï¼Œæˆ–è€…åŠ é”å¤±è´¥ï¼Œæˆ–è€…æ²¡æœ‰æˆåŠŸçš„è·å–åˆ°é”&lt;/strong>ï¼Œç”»ä¸ªå›¾è¡¨ç¤ºå°±æ˜¯è¿™æ ·ï¼š&lt;/p>
&lt;p>&lt;img src="img/25-03.png" alt="" />&lt;/p>
&lt;p>åœ¨äº‹åŠ¡&lt;code>T1&lt;/code>æäº¤ä¹‹åï¼Œå°±ä¼šæŠŠè¯¥äº‹åŠ¡ç”Ÿæˆçš„&lt;code>é”ç»“æ„&lt;/code>é‡Šæ”¾æ‰ï¼Œç„¶åçœ‹çœ‹è¿˜æœ‰æ²¡æœ‰åˆ«çš„äº‹åŠ¡åœ¨ç­‰å¾…è·å–é”ï¼Œå‘ç°äº†äº‹åŠ¡&lt;code>T2&lt;/code>è¿˜åœ¨ç­‰å¾…è·å–é”ï¼Œæ‰€ä»¥æŠŠäº‹åŠ¡&lt;code>T2&lt;/code>å¯¹åº”çš„é”ç»“æ„çš„&lt;code>is_waiting&lt;/code>å±æ€§è®¾ç½®ä¸º&lt;code>false&lt;/code>ï¼Œç„¶åæŠŠè¯¥äº‹åŠ¡å¯¹åº”çš„çº¿ç¨‹å”¤é†’ï¼Œè®©å®ƒç»§ç»­æ‰§è¡Œï¼Œæ­¤æ—¶äº‹åŠ¡&lt;code>T2&lt;/code>å°±ç®—è·å–åˆ°é”äº†ã€‚æ•ˆæœå›¾å°±æ˜¯è¿™æ ·ï¼š&lt;/p>
&lt;p>&lt;img src="img/25-04.png" alt="" />&lt;/p>
&lt;p>æˆ‘ä»¬æ€»ç»“ä¸€ä¸‹åç»­å†…å®¹ä¸­å¯èƒ½ç”¨åˆ°çš„å‡ ç§è¯´æ³•ï¼Œä»¥å…å¤§å®¶æ··æ·†ï¼š&lt;/p>
&lt;pre>&lt;code>+ 
&lt;/code>&lt;/pre>
&lt;p>ä¸åŠ é”&lt;/p>
&lt;p>æ„æ€å°±æ˜¯ä¸éœ€è¦åœ¨å†…å­˜ä¸­ç”Ÿæˆå¯¹åº”çš„&lt;code>é”ç»“æ„&lt;/code>ï¼Œå¯ä»¥ç›´æ¥æ‰§è¡Œæ“ä½œã€‚&lt;/p>
&lt;pre>&lt;code>+ 
&lt;/code>&lt;/pre>
&lt;p>è·å–é”æˆåŠŸï¼Œæˆ–è€…åŠ é”æˆåŠŸ&lt;/p>
&lt;p>æ„æ€å°±æ˜¯åœ¨å†…å­˜ä¸­ç”Ÿæˆäº†å¯¹åº”çš„&lt;code>é”ç»“æ„&lt;/code>ï¼Œè€Œä¸”é”ç»“æ„çš„&lt;code>is_waiting&lt;/code>å±æ€§ä¸º&lt;code>false&lt;/code>ï¼Œä¹Ÿå°±æ˜¯äº‹åŠ¡å¯ä»¥ç»§ç»­æ‰§è¡Œæ“ä½œã€‚&lt;/p>
&lt;pre>&lt;code>+ 
&lt;/code>&lt;/pre>
&lt;p>è·å–é”å¤±è´¥ï¼Œæˆ–è€…åŠ é”å¤±è´¥ï¼Œæˆ–è€…æ²¡æœ‰è·å–åˆ°é”&lt;/p>
&lt;p>æ„æ€å°±æ˜¯åœ¨å†…å­˜ä¸­ç”Ÿæˆäº†å¯¹åº”çš„&lt;code>é”ç»“æ„&lt;/code>ï¼Œä¸è¿‡é”ç»“æ„çš„&lt;code>is_waiting&lt;/code>å±æ€§ä¸º&lt;code>true&lt;/code>ï¼Œä¹Ÿå°±æ˜¯äº‹åŠ¡éœ€è¦ç­‰å¾…ï¼Œä¸å¯ä»¥ç»§ç»­æ‰§è¡Œæ“ä½œã€‚&lt;/p>
&lt;p>&lt;code>å°è´´å£«ï¼šè¿™é‡Œåªæ˜¯å¯¹é”ç»“æ„åšäº†ä¸€ä¸ªéå¸¸ç®€å•çš„æè¿°ï¼Œæˆ‘ä»¬åè¾¹ä¼šè¯¦ç»†ä»‹ç»ä»‹ç»é”ç»“æ„çš„ï¼Œç¨å®‰å‹¿èºã€‚&lt;/code>&lt;/p>
&lt;ul>
&lt;li>&lt;/li>
&lt;/ul>
&lt;p>&lt;code>è¯»-å†™&lt;/code>æˆ–&lt;code>å†™-è¯»&lt;/code>æƒ…å†µï¼šä¹Ÿå°±æ˜¯ä¸€ä¸ªäº‹åŠ¡è¿›è¡Œè¯»å–æ“ä½œï¼Œå¦ä¸€ä¸ªè¿›è¡Œæ”¹åŠ¨æ“ä½œã€‚&lt;/p>
&lt;p>æˆ‘ä»¬å‰é¢è¯´è¿‡ï¼Œè¿™ç§æƒ…å†µä¸‹å¯èƒ½å‘ç”Ÿ&lt;code>è„è¯»&lt;/code>ã€&lt;code>ä¸å¯é‡å¤è¯»&lt;/code>ã€&lt;code>å¹»è¯»&lt;/code>çš„é—®é¢˜ã€‚&lt;/p>
&lt;p>&lt;code>å°è´´å£«ï¼šå¹»è¯»é—®é¢˜çš„äº§ç”Ÿæ˜¯å› ä¸ºæŸä¸ªäº‹åŠ¡è¯»äº†ä¸€ä¸ªèŒƒå›´çš„è®°å½•ï¼Œä¹‹ååˆ«çš„äº‹åŠ¡åœ¨è¯¥èŒƒå›´å†…æ’å…¥äº†æ–°è®°å½•ï¼Œè¯¥äº‹åŠ¡å†æ¬¡è¯»å–è¯¥èŒƒå›´çš„è®°å½•æ—¶ï¼Œå¯ä»¥è¯»åˆ°æ–°æ’å…¥çš„è®°å½•ï¼Œæ‰€ä»¥å¹»è¯»é—®é¢˜å‡†ç¡®çš„è¯´å¹¶ä¸æ˜¯å› ä¸ºè¯»å–å’Œå†™å…¥ä¸€æ¡ç›¸åŒè®°å½•è€Œäº§ç”Ÿçš„ï¼Œè¿™ä¸€ç‚¹è¦æ³¨æ„ä¸€ä¸‹ã€‚&lt;/code>&lt;/p>
&lt;p>&lt;code>SQLæ ‡å‡†&lt;/code>è§„å®šä¸åŒéš”ç¦»çº§åˆ«ä¸‹å¯èƒ½å‘ç”Ÿçš„é—®é¢˜ä¸ä¸€æ ·ï¼š - åœ¨&lt;code>READ UNCOMMITTED&lt;/code>éš”ç¦»çº§åˆ«ä¸‹ï¼Œ&lt;code>è„è¯»&lt;/code>ã€&lt;code>ä¸å¯é‡å¤è¯»&lt;/code>ã€&lt;code>å¹»è¯»&lt;/code>éƒ½å¯èƒ½å‘ç”Ÿã€‚ - åœ¨&lt;code>READ COMMITTED&lt;/code>éš”ç¦»çº§åˆ«ä¸‹ï¼Œ&lt;code>ä¸å¯é‡å¤è¯»&lt;/code>ã€&lt;code>å¹»è¯»&lt;/code>å¯èƒ½å‘ç”Ÿï¼Œ&lt;code>è„è¯»&lt;/code>ä¸å¯ä»¥å‘ç”Ÿã€‚ - åœ¨&lt;code>REPEATABLE READ&lt;/code>éš”ç¦»çº§åˆ«ä¸‹ï¼Œ&lt;code>å¹»è¯»&lt;/code>å¯èƒ½å‘ç”Ÿï¼Œ&lt;code>è„è¯»&lt;/code>å’Œ&lt;code>ä¸å¯é‡å¤è¯»&lt;/code>ä¸å¯ä»¥å‘ç”Ÿã€‚ - åœ¨&lt;code>SERIALIZABLE&lt;/code>éš”ç¦»çº§åˆ«ä¸‹ï¼Œä¸Šè¿°é—®é¢˜éƒ½ä¸å¯ä»¥å‘ç”Ÿã€‚&lt;/p>
&lt;p>ä¸è¿‡å„ä¸ªæ•°æ®åº“å‚å•†å¯¹&lt;code>SQLæ ‡å‡†&lt;/code>çš„æ”¯æŒéƒ½å¯èƒ½ä¸ä¸€æ ·ï¼Œä¸&lt;code>SQLæ ‡å‡†&lt;/code>ä¸åŒçš„ä¸€ç‚¹å°±æ˜¯ï¼Œ&lt;code>MySQL&lt;/code>åœ¨&lt;code>REPEATABLE READ&lt;/code>éš”ç¦»çº§åˆ«å®é™…ä¸Šå°±å·²ç»è§£å†³äº†&lt;code>å¹»è¯»&lt;/code>é—®é¢˜ã€‚&lt;/p>
&lt;p>æ€ä¹ˆè§£å†³&lt;code>è„è¯»&lt;/code>ã€&lt;code>ä¸å¯é‡å¤è¯»&lt;/code>ã€&lt;code>å¹»è¯»&lt;/code>è¿™äº›é—®é¢˜å‘¢ï¼Ÿå…¶å®æœ‰ä¸¤ç§å¯é€‰çš„è§£å†³æ–¹æ¡ˆï¼š&lt;/p>
&lt;pre>&lt;code>+ 
&lt;/code>&lt;/pre>
&lt;p>æ–¹æ¡ˆä¸€ï¼šè¯»æ“ä½œåˆ©ç”¨å¤šç‰ˆæœ¬å¹¶å‘æ§åˆ¶ï¼ˆ&lt;code>MVCC&lt;/code>ï¼‰ï¼Œå†™æ“ä½œè¿›è¡Œ&lt;code>åŠ é”&lt;/code>ã€‚&lt;/p>
&lt;p>æ‰€è°“çš„&lt;code>MVCC&lt;/code>æˆ‘ä»¬åœ¨å‰ä¸€ç« æœ‰è¿‡è¯¦ç»†çš„æè¿°ï¼Œå°±æ˜¯é€šè¿‡ç”Ÿæˆä¸€ä¸ª&lt;code>ReadView&lt;/code>ï¼Œç„¶åé€šè¿‡&lt;code>ReadView&lt;/code>æ‰¾åˆ°ç¬¦åˆæ¡ä»¶çš„è®°å½•ç‰ˆæœ¬ï¼ˆå†å²ç‰ˆæœ¬æ˜¯ç”±&lt;code>undoæ—¥å¿—&lt;/code>æ„å»ºçš„ï¼‰ï¼Œå…¶å®å°±åƒæ˜¯åœ¨ç”Ÿæˆ&lt;code>ReadView&lt;/code>çš„é‚£ä¸ªæ—¶åˆ»åšäº†ä¸€æ¬¡æ—¶é—´é™æ­¢ï¼ˆå°±åƒç”¨ç›¸æœºæ‹äº†ä¸€ä¸ªå¿«ç…§ï¼‰ï¼ŒæŸ¥è¯¢è¯­å¥åªèƒ½è¯»åˆ°åœ¨ç”Ÿæˆ&lt;code>ReadView&lt;/code>ä¹‹å‰å·²æäº¤äº‹åŠ¡æ‰€åšçš„æ›´æ”¹ï¼Œåœ¨ç”Ÿæˆ&lt;code>ReadView&lt;/code>ä¹‹å‰æœªæäº¤çš„äº‹åŠ¡æˆ–è€…ä¹‹åæ‰å¼€å¯çš„äº‹åŠ¡æ‰€åšçš„æ›´æ”¹æ˜¯çœ‹ä¸åˆ°çš„ã€‚è€Œå†™æ“ä½œè‚¯å®šé’ˆå¯¹çš„æ˜¯æœ€æ–°ç‰ˆæœ¬çš„è®°å½•ï¼Œè¯»è®°å½•çš„å†å²ç‰ˆæœ¬å’Œæ”¹åŠ¨è®°å½•çš„æœ€æ–°ç‰ˆæœ¬æœ¬èº«å¹¶ä¸å†²çªï¼Œä¹Ÿå°±æ˜¯é‡‡ç”¨&lt;code>MVCC&lt;/code>æ—¶ï¼Œ&lt;code>è¯»-å†™&lt;/code>æ“ä½œå¹¶ä¸å†²çªã€‚&lt;/p>
&lt;p>&lt;code>å°è´´å£«ï¼šæˆ‘ä»¬è¯´è¿‡æ™®é€šçš„SELECTè¯­å¥åœ¨READ COMMITTEDå’ŒREPEATABLE READéš”ç¦»çº§åˆ«ä¸‹ä¼šä½¿ç”¨åˆ°MVCCè¯»å–è®°å½•ã€‚åœ¨READ COMMITTEDéš”ç¦»çº§åˆ«ä¸‹ï¼Œä¸€ä¸ªäº‹åŠ¡åœ¨æ‰§è¡Œè¿‡ç¨‹ä¸­æ¯æ¬¡æ‰§è¡ŒSELECTæ“ä½œæ—¶éƒ½ä¼šç”Ÿæˆä¸€ä¸ªReadViewï¼ŒReadViewçš„å­˜åœ¨æœ¬èº«å°±ä¿è¯äº†äº‹åŠ¡ä¸å¯ä»¥è¯»å–åˆ°æœªæäº¤çš„äº‹åŠ¡æ‰€åšçš„æ›´æ”¹ï¼Œä¹Ÿå°±æ˜¯é¿å…äº†è„è¯»ç°è±¡ï¼›REPEATABLE READéš”ç¦»çº§åˆ«ä¸‹ï¼Œä¸€ä¸ªäº‹åŠ¡åœ¨æ‰§è¡Œè¿‡ç¨‹ä¸­åªæœ‰ç¬¬ä¸€æ¬¡æ‰§è¡ŒSELECTæ“ä½œæ‰ä¼šç”Ÿæˆä¸€ä¸ªReadViewï¼Œä¹‹åçš„SELECTæ“ä½œéƒ½å¤ç”¨è¿™ä¸ªReadViewï¼Œè¿™æ ·ä¹Ÿå°±é¿å…äº†ä¸å¯é‡å¤è¯»å’Œå¹»è¯»çš„é—®é¢˜ã€‚&lt;/code>&lt;/p></description></item><item><title>ç¬¬24ç« _ä¸€æ¡è®°å½•çš„å¤šå¹…é¢å­”-äº‹åŠ¡çš„éš”ç¦»çº§åˆ«ä¸MVCC</title><link>https://lwmfjc.github.io/zh/docs/technology/MySQL/MySQL%E6%98%AF%E6%80%8E%E6%A0%B7%E8%BF%90%E8%A1%8C%E7%9A%84/%E7%AC%AC24%E7%AB%A0_%E4%B8%80%E6%9D%A1%E8%AE%B0%E5%BD%95%E7%9A%84%E5%A4%9A%E5%B9%85%E9%9D%A2%E5%AD%94-%E4%BA%8B%E5%8A%A1%E7%9A%84%E9%9A%94%E7%A6%BB%E7%BA%A7%E5%88%AB%E4%B8%8EMVCC/</link><pubDate>Sat, 11 Jan 2025 16:40:19 +0800</pubDate><guid>https://lwmfjc.github.io/zh/docs/technology/MySQL/MySQL%E6%98%AF%E6%80%8E%E6%A0%B7%E8%BF%90%E8%A1%8C%E7%9A%84/%E7%AC%AC24%E7%AB%A0_%E4%B8%80%E6%9D%A1%E8%AE%B0%E5%BD%95%E7%9A%84%E5%A4%9A%E5%B9%85%E9%9D%A2%E5%AD%94-%E4%BA%8B%E5%8A%A1%E7%9A%84%E9%9A%94%E7%A6%BB%E7%BA%A7%E5%88%AB%E4%B8%8EMVCC/</guid><description>&lt;h1 id="ç¬¬24ç« -ä¸€æ¡è®°å½•çš„å¤šå¹…é¢å­”-äº‹åŠ¡çš„éš”ç¦»çº§åˆ«ä¸mvcc">
 ç¬¬24ç«  ä¸€æ¡è®°å½•çš„å¤šå¹…é¢å­”-äº‹åŠ¡çš„éš”ç¦»çº§åˆ«ä¸MVCC
 &lt;a class="anchor" href="#%e7%ac%ac24%e7%ab%a0-%e4%b8%80%e6%9d%a1%e8%ae%b0%e5%bd%95%e7%9a%84%e5%a4%9a%e5%b9%85%e9%9d%a2%e5%ad%94-%e4%ba%8b%e5%8a%a1%e7%9a%84%e9%9a%94%e7%a6%bb%e7%ba%a7%e5%88%ab%e4%b8%8emvcc">#&lt;/a>
&lt;/h1>
&lt;p>äº‹å‰å‡†å¤‡&lt;/p>
&lt;p>ä¸ºäº†æ•…äº‹çš„é¡ºåˆ©å‘å±•ï¼Œæˆ‘ä»¬éœ€è¦åˆ›å»ºä¸€ä¸ªè¡¨ï¼š &lt;code>CREATE TABLE hero ( number INT, name VARCHAR(100), country varchar(100), PRIMARY KEY (number) ) Engine=InnoDB CHARSET=utf8;&lt;/code> &lt;code>å°è´´å£«ï¼šæ³¨æ„æˆ‘ä»¬æŠŠè¿™ä¸ªheroè¡¨çš„ä¸»é”®å‘½åä¸ºnumberï¼Œè€Œä¸æ˜¯idï¼Œä¸»è¦æ˜¯æƒ³å’Œåè¾¹è¦ç”¨åˆ°çš„äº‹åŠ¡idåšåŒºåˆ«ï¼Œå¤§å®¶ä¸ç”¨å¤§æƒŠå°æ€ªï½&lt;/code> ç„¶åå‘è¿™ä¸ªè¡¨é‡Œæ’å…¥ä¸€æ¡æ•°æ®ï¼š &lt;code>INSERT INTO hero VALUES(1, 'åˆ˜å¤‡', 'èœ€');&lt;/code> ç°åœ¨è¡¨é‡Œçš„æ•°æ®å°±æ˜¯è¿™æ ·çš„ï¼š &lt;code>mysql&amp;gt; SELECT * FROM hero; +--------+--------+---------+ | number | name | country | +--------+--------+---------+ | 1 | åˆ˜å¤‡ | èœ€ | +--------+--------+---------+ 1 row in set (0.00 sec)&lt;/code>&lt;/p>
&lt;p>äº‹åŠ¡éš”ç¦»çº§åˆ«&lt;/p>
&lt;p>æˆ‘ä»¬çŸ¥é“&lt;code>MySQL&lt;/code>æ˜¯ä¸€ä¸ª&lt;code>å®¢æˆ·ç«¯ï¼æœåŠ¡å™¨&lt;/code>æ¶æ„çš„è½¯ä»¶ï¼Œå¯¹äºåŒä¸€ä¸ªæœåŠ¡å™¨æ¥è¯´ï¼Œå¯ä»¥æœ‰è‹¥å¹²ä¸ªå®¢æˆ·ç«¯ä¸ä¹‹è¿æ¥ï¼Œæ¯ä¸ªå®¢æˆ·ç«¯ä¸æœåŠ¡å™¨è¿æ¥ä¸Šä¹‹åï¼Œå°±å¯ä»¥ç§°ä¹‹ä¸ºä¸€ä¸ªä¼šè¯ï¼ˆ&lt;code>Session&lt;/code>ï¼‰ã€‚æ¯ä¸ªå®¢æˆ·ç«¯éƒ½å¯ä»¥åœ¨è‡ªå·±çš„ä¼šè¯ä¸­å‘æœåŠ¡å™¨å‘å‡ºè¯·æ±‚è¯­å¥ï¼Œä¸€ä¸ªè¯·æ±‚è¯­å¥å¯èƒ½æ˜¯æŸä¸ªäº‹åŠ¡çš„ä¸€éƒ¨åˆ†ï¼Œä¹Ÿå°±æ˜¯å¯¹äºæœåŠ¡å™¨æ¥è¯´å¯èƒ½åŒæ—¶å¤„ç†å¤šä¸ªäº‹åŠ¡ã€‚åœ¨äº‹åŠ¡ç®€ä»‹çš„ç« èŠ‚ä¸­æˆ‘ä»¬è¯´è¿‡äº‹åŠ¡æœ‰ä¸€ä¸ªç§°ä¹‹ä¸º&lt;code>éš”ç¦»æ€§&lt;/code>çš„ç‰¹æ€§ï¼Œç†è®ºä¸Šåœ¨æŸä¸ªäº‹åŠ¡å¯¹æŸä¸ªæ•°æ®è¿›è¡Œè®¿é—®æ—¶ï¼Œå…¶ä»–äº‹åŠ¡åº”è¯¥è¿›è¡Œæ’é˜Ÿï¼Œå½“è¯¥äº‹åŠ¡æäº¤ä¹‹åï¼Œå…¶ä»–äº‹åŠ¡æ‰å¯ä»¥ç»§ç»­è®¿é—®è¿™ä¸ªæ•°æ®ã€‚ä½†æ˜¯è¿™æ ·å­çš„è¯å¯¹æ€§èƒ½å½±å“å¤ªå¤§ï¼Œæˆ‘ä»¬æ—¢æƒ³ä¿æŒäº‹åŠ¡çš„&lt;code>éš”ç¦»æ€§&lt;/code>ï¼Œåˆæƒ³è®©æœåŠ¡å™¨åœ¨å¤„ç†è®¿é—®åŒä¸€æ•°æ®çš„å¤šä¸ªäº‹åŠ¡æ—¶æ€§èƒ½å°½é‡é«˜äº›ï¼Œé±¼å’Œç†ŠæŒä¸å¯å¾—å…¼ï¼Œèˆä¸€éƒ¨åˆ†&lt;code>éš”ç¦»æ€§&lt;/code>è€Œå–æ€§èƒ½è€…ä¹Ÿã€‚&lt;/p>
&lt;h1 id="äº‹åŠ¡å¹¶å‘æ‰§è¡Œé‡åˆ°çš„é—®é¢˜">
 äº‹åŠ¡å¹¶å‘æ‰§è¡Œé‡åˆ°çš„é—®é¢˜
 &lt;a class="anchor" href="#%e4%ba%8b%e5%8a%a1%e5%b9%b6%e5%8f%91%e6%89%a7%e8%a1%8c%e9%81%87%e5%88%b0%e7%9a%84%e9%97%ae%e9%a2%98">#&lt;/a>
&lt;/h1>
&lt;p>æ€ä¹ˆä¸ªèˆå¼ƒæ³•å‘¢ï¼Ÿæˆ‘ä»¬å…ˆå¾—çœ‹ä¸€ä¸‹è®¿é—®ç›¸åŒæ•°æ®çš„äº‹åŠ¡åœ¨ä¸ä¿è¯ä¸²è¡Œæ‰§è¡Œï¼ˆä¹Ÿå°±æ˜¯æ‰§è¡Œå®Œä¸€ä¸ªå†æ‰§è¡Œå¦ä¸€ä¸ªï¼‰çš„æƒ…å†µä¸‹å¯èƒ½ä¼šå‡ºç°å“ªäº›é—®é¢˜ï¼š&lt;/p>
&lt;ul>
&lt;li>&lt;/li>
&lt;/ul>
&lt;p>è„å†™ï¼ˆ&lt;code>Dirty Write&lt;/code>ï¼‰&lt;/p>
&lt;p>å¦‚æœ&lt;strong>ä¸€ä¸ªäº‹åŠ¡ä¿®æ”¹äº†å¦ä¸€ä¸ªæœªæäº¤äº‹åŠ¡ä¿®æ”¹è¿‡çš„æ•°æ®&lt;/strong>ï¼Œé‚£å°±æ„å‘³ç€å‘ç”Ÿäº†&lt;code>è„å†™&lt;/code>ï¼Œç¤ºæ„å›¾å¦‚ä¸‹ï¼š&lt;/p>
&lt;p>&lt;img src="img/24-01.png" alt="" />&lt;/p></description></item><item><title>ç¬¬22ç« _åæ‚”äº†æ€ä¹ˆåŠ-undoæ—¥å¿—(ä¸Š)</title><link>https://lwmfjc.github.io/zh/docs/technology/MySQL/MySQL%E6%98%AF%E6%80%8E%E6%A0%B7%E8%BF%90%E8%A1%8C%E7%9A%84/%E7%AC%AC22%E7%AB%A0_%E5%90%8E%E6%82%94%E4%BA%86%E6%80%8E%E4%B9%88%E5%8A%9E-undo%E6%97%A5%E5%BF%97%E4%B8%8A/</link><pubDate>Sat, 11 Jan 2025 16:40:18 +0800</pubDate><guid>https://lwmfjc.github.io/zh/docs/technology/MySQL/MySQL%E6%98%AF%E6%80%8E%E6%A0%B7%E8%BF%90%E8%A1%8C%E7%9A%84/%E7%AC%AC22%E7%AB%A0_%E5%90%8E%E6%82%94%E4%BA%86%E6%80%8E%E4%B9%88%E5%8A%9E-undo%E6%97%A5%E5%BF%97%E4%B8%8A/</guid><description>&lt;h1 id="ç¬¬22ç« -åæ‚”äº†æ€ä¹ˆåŠ-undoæ—¥å¿—ä¸Š">
 ç¬¬22ç«  åæ‚”äº†æ€ä¹ˆåŠ-undoæ—¥å¿—ï¼ˆä¸Šï¼‰
 &lt;a class="anchor" href="#%e7%ac%ac22%e7%ab%a0-%e5%90%8e%e6%82%94%e4%ba%86%e6%80%8e%e4%b9%88%e5%8a%9e-undo%e6%97%a5%e5%bf%97%e4%b8%8a">#&lt;/a>
&lt;/h1>
&lt;p>äº‹åŠ¡å›æ»šçš„éœ€æ±‚&lt;/p>
&lt;p>æˆ‘ä»¬è¯´è¿‡&lt;code>äº‹åŠ¡&lt;/code>éœ€è¦ä¿è¯&lt;code>åŸå­æ€§&lt;/code>ï¼Œä¹Ÿå°±æ˜¯äº‹åŠ¡ä¸­çš„æ“ä½œè¦ä¹ˆå…¨éƒ¨å®Œæˆï¼Œè¦ä¹ˆä»€ä¹ˆä¹Ÿä¸åšã€‚ä½†æ˜¯ååæœ‰æ—¶å€™äº‹åŠ¡æ‰§è¡Œåˆ°ä¸€åŠä¼šå‡ºç°ä¸€äº›æƒ…å†µï¼Œæ¯”å¦‚ï¼š - æƒ…å†µä¸€ï¼šäº‹åŠ¡æ‰§è¡Œè¿‡ç¨‹ä¸­å¯èƒ½é‡åˆ°å„ç§é”™è¯¯ï¼Œæ¯”å¦‚æœåŠ¡å™¨æœ¬èº«çš„é”™è¯¯ï¼Œæ“ä½œç³»ç»Ÿé”™è¯¯ï¼Œç”šè‡³æ˜¯çªç„¶æ–­ç”µå¯¼è‡´çš„é”™è¯¯ã€‚ - æƒ…å†µäºŒï¼šç¨‹åºå‘˜å¯ä»¥åœ¨äº‹åŠ¡æ‰§è¡Œè¿‡ç¨‹ä¸­æ‰‹åŠ¨è¾“å…¥&lt;code>ROLLBACK&lt;/code>è¯­å¥ç»“æŸå½“å‰çš„äº‹åŠ¡çš„æ‰§è¡Œã€‚&lt;/p>
&lt;p>è¿™ä¸¤ç§æƒ…å†µéƒ½ä¼šå¯¼è‡´äº‹åŠ¡æ‰§è¡Œåˆ°ä¸€åŠå°±ç»“æŸï¼Œä½†æ˜¯äº‹åŠ¡æ‰§è¡Œè¿‡ç¨‹ä¸­å¯èƒ½å·²ç»ä¿®æ”¹äº†å¾ˆå¤šä¸œè¥¿ï¼Œä¸ºäº†ä¿è¯äº‹åŠ¡çš„åŸå­æ€§ï¼Œæˆ‘ä»¬éœ€è¦æŠŠä¸œè¥¿æ”¹å›åŸå…ˆçš„æ ·å­ï¼Œè¿™ä¸ªè¿‡ç¨‹å°±ç§°ä¹‹ä¸º&lt;code>å›æ»š&lt;/code>ï¼ˆè‹±æ–‡åï¼š&lt;code>rollback&lt;/code>ï¼‰ï¼Œè¿™æ ·å°±å¯ä»¥é€ æˆä¸€ä¸ªå‡è±¡ï¼š&lt;strong>è¿™ä¸ªäº‹åŠ¡çœ‹èµ·æ¥ä»€ä¹ˆéƒ½æ²¡åš&lt;/strong>ï¼Œæ‰€ä»¥ç¬¦åˆ&lt;code>åŸå­æ€§&lt;/code>è¦æ±‚ã€‚&lt;/p>
&lt;p>å°æ—¶å€™æˆ‘éå¸¸ç—´è¿·äºè±¡æ£‹ï¼Œæ€»æ˜¯æƒ³æ‰¾å‰å®³çš„å¤§äººä¸‹æ£‹ï¼Œèµ¢æ£‹æ˜¯ä¸å¯èƒ½èµ¢æ£‹çš„ï¼Œè¿™è¾ˆå­éƒ½ä¸å¯èƒ½èµ¢æ£‹çš„ï¼Œåˆä¸æƒ³è®¤è¾“ï¼Œåªèƒ½å·å·çš„æ‚”æ£‹æ‰èƒ½å‹‰å¼ºç©çš„ä¸‹å»ã€‚&lt;code>æ‚”æ£‹&lt;/code>å°±æ˜¯ä¸€ç§éå¸¸å…¸å‹çš„&lt;code>å›æ»š&lt;/code>æ“ä½œï¼Œæ¯”å¦‚æ£‹å­å¾€å‰èµ°ä¸¤æ­¥ï¼Œ&lt;code>æ‚”æ£‹&lt;/code>å¯¹åº”çš„æ“ä½œå°±æ˜¯å‘åèµ°ä¸¤æ­¥ï¼›æ¯”å¦‚æ£‹å­å¾€å·¦èµ°ä¸€æ­¥ï¼Œ&lt;code>æ‚”æ£‹&lt;/code>å¯¹åº”çš„æ“ä½œå°±æ˜¯å‘å³èµ°ä¸€æ­¥ã€‚æ•°æ®åº“ä¸­çš„å›æ»šè·Ÿ&lt;code>æ‚”æ£‹&lt;/code>å·®ä¸å¤šï¼Œä½ æ’å…¥äº†ä¸€æ¡è®°å½•ï¼Œ&lt;code>å›æ»š&lt;/code>æ“ä½œå¯¹åº”çš„å°±æ˜¯æŠŠè¿™æ¡è®°å½•åˆ é™¤æ‰ï¼›ä½ æ›´æ–°äº†ä¸€æ¡è®°å½•ï¼Œ&lt;code>å›æ»š&lt;/code>æ“ä½œå¯¹åº”çš„å°±æ˜¯æŠŠè¯¥è®°å½•æ›´æ–°ä¸ºæ—§å€¼ï¼›ä½ åˆ é™¤äº†ä¸€æ¡è®°å½•ï¼Œ&lt;code>å›æ»š&lt;/code>æ“ä½œå¯¹åº”çš„è‡ªç„¶å°±æ˜¯æŠŠè¯¥è®°å½•å†æ’è¿›å»ã€‚è¯´çš„è²Œä¼¼å¾ˆç®€å•çš„æ ·å­[æ‰‹åŠ¨å·ç¬‘ğŸ˜]ã€‚&lt;/p>
&lt;p>ä»ä¸Šé¢çš„æè¿°ä¸­æˆ‘ä»¬å·²ç»èƒ½éšçº¦æ„Ÿè§‰åˆ°ï¼Œæ¯å½“æˆ‘ä»¬è¦å¯¹ä¸€æ¡è®°å½•åšæ”¹åŠ¨æ—¶ï¼ˆè¿™é‡Œçš„&lt;code>æ”¹åŠ¨&lt;/code>å¯ä»¥æŒ‡&lt;code>INSERT&lt;/code>ã€&lt;code>DELETE&lt;/code>ã€&lt;code>UPDATE&lt;/code>ï¼‰ï¼Œéƒ½éœ€è¦ç•™ä¸€æ‰‹ â€”â€” &lt;strong>æŠŠå›æ»šæ—¶æ‰€éœ€çš„ä¸œè¥¿éƒ½ç»™è®°ä¸‹æ¥&lt;/strong>ã€‚æ¯”æ–¹è¯´ï¼š - ä½ æ’å…¥ä¸€æ¡è®°å½•æ—¶ï¼Œè‡³å°‘è¦æŠŠè¿™æ¡è®°å½•çš„ä¸»é”®å€¼è®°ä¸‹æ¥ï¼Œä¹‹åå›æ»šçš„æ—¶å€™åªéœ€è¦æŠŠè¿™ä¸ªä¸»é”®å€¼å¯¹åº”çš„è®°å½•åˆ æ‰å°±å¥½äº†ã€‚ - ä½ åˆ é™¤äº†ä¸€æ¡è®°å½•ï¼Œè‡³å°‘è¦æŠŠè¿™æ¡è®°å½•ä¸­çš„å†…å®¹éƒ½è®°ä¸‹æ¥ï¼Œè¿™æ ·ä¹‹åå›æ»šæ—¶å†æŠŠç”±è¿™äº›å†…å®¹ç»„æˆçš„è®°å½•æ’å…¥åˆ°è¡¨ä¸­å°±å¥½äº†ã€‚ - ä½ ä¿®æ”¹äº†ä¸€æ¡è®°å½•ï¼Œè‡³å°‘è¦æŠŠä¿®æ”¹è¿™æ¡è®°å½•å‰çš„æ—§å€¼éƒ½è®°å½•ä¸‹æ¥ï¼Œè¿™æ ·ä¹‹åå›æ»šæ—¶å†æŠŠè¿™æ¡è®°å½•æ›´æ–°ä¸ºæ—§å€¼å°±å¥½äº†ã€‚&lt;/p>
&lt;p>è®¾è®¡æ•°æ®åº“çš„å¤§ä½¬æŠŠè¿™äº›ä¸ºäº†å›æ»šè€Œè®°å½•çš„è¿™äº›ä¸œä¸œç§°ä¹‹ä¸ºæ’¤é”€æ—¥å¿—ï¼Œè‹±æ–‡åä¸º&lt;code>undo log&lt;/code>ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥åœŸæ´‹ç»“åˆï¼Œç§°ä¹‹ä¸º&lt;code>undoæ—¥å¿—&lt;/code>ã€‚è¿™é‡Œéœ€è¦æ³¨æ„çš„ä¸€ç‚¹æ˜¯ï¼Œç”±äºæŸ¥è¯¢æ“ä½œï¼ˆ&lt;code>SELECT&lt;/code>ï¼‰å¹¶ä¸ä¼šä¿®æ”¹ä»»ä½•ç”¨æˆ·è®°å½•ï¼Œæ‰€ä»¥åœ¨æŸ¥è¯¢æ“ä½œæ‰§è¡Œæ—¶ï¼Œå¹¶ä¸éœ€è¦è®°å½•ç›¸åº”çš„&lt;code>undoæ—¥å¿—&lt;/code>ã€‚åœ¨çœŸå®çš„&lt;code>InnoDB&lt;/code>ä¸­ï¼Œ&lt;code>undoæ—¥å¿—&lt;/code>å…¶å®å¹¶ä¸åƒæˆ‘ä»¬ä¸Šé¢æ‰€è¯´çš„é‚£ä¹ˆç®€å•ï¼Œä¸åŒç±»å‹çš„æ“ä½œäº§ç”Ÿçš„&lt;code>undoæ—¥å¿—&lt;/code>çš„æ ¼å¼ä¹Ÿæ˜¯ä¸åŒçš„ï¼Œä¸è¿‡å…ˆæš‚æ—¶æŠŠè¿™äº›å®¹æ˜“è®©äººè„‘å­ç³Šçš„å…·ä½“ç»†èŠ‚æ”¾ä¸€æ”¾ï¼Œæˆ‘ä»¬å…ˆå›è¿‡å¤´æ¥çœ‹çœ‹&lt;code>äº‹åŠ¡id&lt;/code>æ˜¯ä¸ªç¥é©¬ç©æ„å„¿ã€‚&lt;/p>
&lt;p>äº‹åŠ¡id&lt;/p>
&lt;h1 id="ç»™äº‹åŠ¡åˆ†é…idçš„æ—¶æœº">
 ç»™äº‹åŠ¡åˆ†é…idçš„æ—¶æœº
 &lt;a class="anchor" href="#%e7%bb%99%e4%ba%8b%e5%8a%a1%e5%88%86%e9%85%8did%e7%9a%84%e6%97%b6%e6%9c%ba">#&lt;/a>
&lt;/h1>
&lt;p>æˆ‘ä»¬å‰é¢åœ¨ä»‹ç»&lt;code>äº‹åŠ¡ç®€ä»‹&lt;/code>æ—¶è¯´è¿‡ï¼Œä¸€ä¸ªäº‹åŠ¡å¯ä»¥æ˜¯ä¸€ä¸ªåªè¯»äº‹åŠ¡ï¼Œæˆ–è€…æ˜¯ä¸€ä¸ªè¯»å†™äº‹åŠ¡ï¼š&lt;/p>
&lt;ul>
&lt;li>&lt;/li>
&lt;/ul>
&lt;p>æˆ‘ä»¬å¯ä»¥é€šè¿‡&lt;code>START TRANSACTION READ ONLY&lt;/code>è¯­å¥å¼€å¯ä¸€ä¸ªåªè¯»äº‹åŠ¡ã€‚&lt;/p>
&lt;p>åœ¨åªè¯»äº‹åŠ¡ä¸­ä¸å¯ä»¥å¯¹æ™®é€šçš„è¡¨ï¼ˆå…¶ä»–äº‹åŠ¡ä¹Ÿèƒ½è®¿é—®åˆ°çš„è¡¨ï¼‰è¿›è¡Œå¢ã€åˆ ã€æ”¹æ“ä½œï¼Œä½†å¯ä»¥å¯¹ä¸´æ—¶è¡¨åšå¢ã€åˆ ã€æ”¹æ“ä½œã€‚&lt;/p>
&lt;ul>
&lt;li>&lt;/li>
&lt;/ul>
&lt;p>æˆ‘ä»¬å¯ä»¥é€šè¿‡&lt;code>START TRANSACTION READ WRITE&lt;/code>è¯­å¥å¼€å¯ä¸€ä¸ªè¯»å†™äº‹åŠ¡ï¼Œæˆ–è€…ä½¿ç”¨&lt;code>BEGIN&lt;/code>ã€&lt;code>START TRANSACTION&lt;/code>è¯­å¥å¼€å¯çš„äº‹åŠ¡é»˜è®¤ä¹Ÿç®—æ˜¯è¯»å†™äº‹åŠ¡ã€‚&lt;/p>
&lt;p>åœ¨è¯»å†™äº‹åŠ¡ä¸­å¯ä»¥å¯¹è¡¨æ‰§è¡Œå¢åˆ æ”¹æŸ¥æ“ä½œã€‚&lt;/p>
&lt;p>å¦‚æœæŸä¸ªäº‹åŠ¡æ‰§è¡Œè¿‡ç¨‹ä¸­å¯¹æŸä¸ªè¡¨æ‰§è¡Œäº†å¢ã€åˆ ã€æ”¹æ“ä½œï¼Œé‚£ä¹ˆ&lt;code>InnoDB&lt;/code>å­˜å‚¨å¼•æ“å°±ä¼šç»™å®ƒåˆ†é…ä¸€ä¸ªç‹¬ä¸€æ— äºŒçš„&lt;code>äº‹åŠ¡id&lt;/code>ï¼Œåˆ†é…æ–¹å¼å¦‚ä¸‹ï¼š&lt;/p>
&lt;ul>
&lt;li>&lt;/li>
&lt;/ul>
&lt;p>å¯¹äºåªè¯»äº‹åŠ¡æ¥è¯´ï¼Œåªæœ‰åœ¨å®ƒç¬¬ä¸€æ¬¡å¯¹æŸä¸ªç”¨æˆ·åˆ›å»ºçš„ä¸´æ—¶è¡¨æ‰§è¡Œå¢ã€åˆ ã€æ”¹æ“ä½œæ—¶æ‰ä¼šä¸ºè¿™ä¸ªäº‹åŠ¡åˆ†é…ä¸€ä¸ª&lt;code>äº‹åŠ¡id&lt;/code>ï¼Œå¦åˆ™çš„è¯æ˜¯ä¸åˆ†é…&lt;code>äº‹åŠ¡id&lt;/code>çš„ã€‚&lt;/p>
&lt;p>&lt;code>å°è´´å£«ï¼šæˆ‘ä»¬å‰é¢è¯´è¿‡å¯¹æŸä¸ªæŸ¥è¯¢è¯­å¥æ‰§è¡ŒEXPLAINåˆ†æå®ƒçš„æŸ¥è¯¢è®¡åˆ’æ—¶ï¼Œæœ‰æ—¶å€™åœ¨Extraåˆ—ä¼šçœ‹åˆ°Using temporaryçš„æç¤ºï¼Œè¿™ä¸ªè¡¨æ˜åœ¨æ‰§è¡Œè¯¥æŸ¥è¯¢è¯­å¥æ—¶ä¼šç”¨åˆ°å†…éƒ¨ä¸´æ—¶è¡¨ã€‚è¿™ä¸ªæ‰€è°“çš„å†…éƒ¨ä¸´æ—¶è¡¨å’Œæˆ‘ä»¬æ‰‹åŠ¨ç”¨CREATE TEMPORARY TABLEåˆ›å»ºçš„ç”¨æˆ·ä¸´æ—¶è¡¨å¹¶ä¸ä¸€æ ·ï¼Œåœ¨äº‹åŠ¡å›æ»šæ—¶å¹¶ä¸éœ€è¦æŠŠæ‰§è¡ŒSELECTè¯­å¥è¿‡ç¨‹ä¸­ç”¨åˆ°çš„å†…éƒ¨ä¸´æ—¶è¡¨ä¹Ÿå›æ»šï¼Œåœ¨æ‰§è¡ŒSELECTè¯­å¥ç”¨åˆ°å†…éƒ¨ä¸´æ—¶è¡¨æ—¶å¹¶ä¸ä¼šä¸ºå®ƒåˆ†é…äº‹åŠ¡idã€‚&lt;/code> - å¯¹äºè¯»å†™äº‹åŠ¡æ¥è¯´ï¼Œåªæœ‰åœ¨å®ƒç¬¬ä¸€æ¬¡å¯¹æŸä¸ªè¡¨ï¼ˆåŒ…æ‹¬ç”¨æˆ·åˆ›å»ºçš„ä¸´æ—¶è¡¨ï¼‰æ‰§è¡Œå¢ã€åˆ ã€æ”¹æ“ä½œæ—¶æ‰ä¼šä¸ºè¿™ä¸ªäº‹åŠ¡åˆ†é…ä¸€ä¸ª&lt;code>äº‹åŠ¡id&lt;/code>ï¼Œå¦åˆ™çš„è¯ä¹Ÿæ˜¯ä¸åˆ†é…&lt;code>äº‹åŠ¡id&lt;/code>çš„ã€‚&lt;/p>
&lt;p>æœ‰çš„æ—¶å€™è™½ç„¶æˆ‘ä»¬å¼€å¯äº†ä¸€ä¸ªè¯»å†™äº‹åŠ¡ï¼Œä½†æ˜¯åœ¨è¿™ä¸ªäº‹åŠ¡ä¸­å…¨æ˜¯æŸ¥è¯¢è¯­å¥ï¼Œå¹¶æ²¡æœ‰æ‰§è¡Œå¢ã€åˆ ã€æ”¹çš„è¯­å¥ï¼Œé‚£ä¹Ÿå°±æ„å‘³ç€è¿™ä¸ªäº‹åŠ¡å¹¶ä¸ä¼šè¢«åˆ†é…ä¸€ä¸ª&lt;code>äº‹åŠ¡id&lt;/code>ã€‚&lt;/p>
&lt;p>è¯´äº†åŠå¤©ï¼Œ&lt;code>äº‹åŠ¡id&lt;/code>æœ‰ä»€ä¹ˆå­ç”¨ï¼Ÿè¿™ä¸ªå…ˆä¿å¯†ï¼Œåè¾¹ä¼šä¸€æ­¥æ­¥çš„è¯¦ç»†ä»‹ç»ã€‚ç°åœ¨åªè¦çŸ¥é“åªæœ‰åœ¨äº‹åŠ¡å¯¹è¡¨ä¸­çš„è®°å½•åšæ”¹åŠ¨æ—¶æ‰ä¼šä¸ºè¿™ä¸ªäº‹åŠ¡åˆ†é…ä¸€ä¸ªå”¯ä¸€çš„&lt;code>äº‹åŠ¡id&lt;/code>ã€‚ &lt;code>å°è´´å£«ï¼šä¸Šé¢æè¿°çš„äº‹åŠ¡idåˆ†é…ç­–ç•¥æ˜¯é’ˆå¯¹MySQL 5.7æ¥è¯´çš„ï¼Œå‰é¢çš„ç‰ˆæœ¬çš„åˆ†é…æ–¹å¼å¯èƒ½ä¸åŒï½&lt;/code>&lt;/p>
&lt;h1 id="äº‹åŠ¡idæ˜¯æ€ä¹ˆç”Ÿæˆçš„">
 äº‹åŠ¡idæ˜¯æ€ä¹ˆç”Ÿæˆçš„
 &lt;a class="anchor" href="#%e4%ba%8b%e5%8a%a1id%e6%98%af%e6%80%8e%e4%b9%88%e7%94%9f%e6%88%90%e7%9a%84">#&lt;/a>
&lt;/h1>
&lt;p>è¿™ä¸ª&lt;code>äº‹åŠ¡id&lt;/code>æœ¬è´¨ä¸Šå°±æ˜¯ä¸€ä¸ªæ•°å­—ï¼Œå®ƒçš„åˆ†é…ç­–ç•¥å’Œæˆ‘ä»¬å‰é¢æåˆ°çš„å¯¹éšè—åˆ—&lt;code>row_id&lt;/code>ï¼ˆå½“ç”¨æˆ·æ²¡æœ‰ä¸ºè¡¨åˆ›å»ºä¸»é”®å’Œ&lt;code>UNIQUE&lt;/code>é”®æ—¶&lt;code>InnoDB&lt;/code>è‡ªåŠ¨åˆ›å»ºçš„åˆ—ï¼‰çš„åˆ†é…ç­–ç•¥å¤§æŠµç›¸åŒï¼Œå…·ä½“ç­–ç•¥å¦‚ä¸‹ï¼š - æœåŠ¡å™¨ä¼šåœ¨å†…å­˜ä¸­ç»´æŠ¤ä¸€ä¸ªå…¨å±€å˜é‡ï¼Œæ¯å½“éœ€è¦ä¸ºæŸä¸ªäº‹åŠ¡åˆ†é…ä¸€ä¸ª&lt;code>äº‹åŠ¡id&lt;/code>æ—¶ï¼Œå°±ä¼šæŠŠè¯¥å˜é‡çš„å€¼å½“ä½œ&lt;code>äº‹åŠ¡id&lt;/code>åˆ†é…ç»™è¯¥äº‹åŠ¡ï¼Œå¹¶ä¸”æŠŠè¯¥å˜é‡è‡ªå¢1ã€‚ - æ¯å½“è¿™ä¸ªå˜é‡çš„å€¼ä¸º&lt;code>256&lt;/code>çš„å€æ•°æ—¶ï¼Œå°±ä¼šå°†è¯¥å˜é‡çš„å€¼åˆ·æ–°åˆ°ç³»ç»Ÿè¡¨ç©ºé—´çš„é¡µå·ä¸º&lt;code>5&lt;/code>çš„é¡µé¢ä¸­ä¸€ä¸ªç§°ä¹‹ä¸º&lt;code>Max Trx ID&lt;/code>çš„å±æ€§å¤„ï¼Œè¿™ä¸ªå±æ€§å ç”¨&lt;code>8&lt;/code>ä¸ªå­—èŠ‚çš„å­˜å‚¨ç©ºé—´ã€‚ - å½“ç³»ç»Ÿä¸‹ä¸€æ¬¡é‡æ–°å¯åŠ¨æ—¶ï¼Œä¼šå°†ä¸Šé¢æåˆ°çš„&lt;code>Max Trx ID&lt;/code>å±æ€§åŠ è½½åˆ°å†…å­˜ä¸­ï¼Œå°†è¯¥å€¼åŠ ä¸Š256ä¹‹åèµ‹å€¼ç»™æˆ‘ä»¬å‰é¢æåˆ°çš„å…¨å±€å˜é‡ï¼ˆå› ä¸ºåœ¨ä¸Šæ¬¡å…³æœºæ—¶è¯¥å…¨å±€å˜é‡çš„å€¼å¯èƒ½å¤§äº&lt;code>Max Trx ID&lt;/code>å±æ€§å€¼ï¼‰ã€‚&lt;/p></description></item><item><title>ç¬¬23ç« _åæ‚”äº†æ€ä¹ˆåŠ-undoæ—¥å¿—(ä¸‹)</title><link>https://lwmfjc.github.io/zh/docs/technology/MySQL/MySQL%E6%98%AF%E6%80%8E%E6%A0%B7%E8%BF%90%E8%A1%8C%E7%9A%84/%E7%AC%AC23%E7%AB%A0_%E5%90%8E%E6%82%94%E4%BA%86%E6%80%8E%E4%B9%88%E5%8A%9E-undo%E6%97%A5%E5%BF%97%E4%B8%8B/</link><pubDate>Sat, 11 Jan 2025 16:40:18 +0800</pubDate><guid>https://lwmfjc.github.io/zh/docs/technology/MySQL/MySQL%E6%98%AF%E6%80%8E%E6%A0%B7%E8%BF%90%E8%A1%8C%E7%9A%84/%E7%AC%AC23%E7%AB%A0_%E5%90%8E%E6%82%94%E4%BA%86%E6%80%8E%E4%B9%88%E5%8A%9E-undo%E6%97%A5%E5%BF%97%E4%B8%8B/</guid><description>&lt;h1 id="ç¬¬23ç« -åæ‚”äº†æ€ä¹ˆåŠ-undoæ—¥å¿—ä¸‹">
 ç¬¬23ç«  åæ‚”äº†æ€ä¹ˆåŠ-undoæ—¥å¿—ï¼ˆä¸‹ï¼‰
 &lt;a class="anchor" href="#%e7%ac%ac23%e7%ab%a0-%e5%90%8e%e6%82%94%e4%ba%86%e6%80%8e%e4%b9%88%e5%8a%9e-undo%e6%97%a5%e5%bf%97%e4%b8%8b">#&lt;/a>
&lt;/h1>
&lt;p>ä¸Šä¸€ç« æˆ‘ä»¬ä¸»è¦ä»‹ç»äº†ä¸ºä»€ä¹ˆéœ€è¦&lt;code>undoæ—¥å¿—&lt;/code>ï¼Œä»¥åŠ&lt;code>INSERT&lt;/code>ã€&lt;code>DELETE&lt;/code>ã€&lt;code>UPDATE&lt;/code>è¿™äº›ä¼šå¯¹æ•°æ®åšæ”¹åŠ¨çš„è¯­å¥éƒ½ä¼šäº§ç”Ÿä»€ä¹ˆç±»å‹çš„&lt;code>undoæ—¥å¿—&lt;/code>ï¼Œè¿˜æœ‰ä¸åŒç±»å‹çš„&lt;code>undoæ—¥å¿—&lt;/code>çš„å…·ä½“æ ¼å¼æ˜¯ä»€ä¹ˆã€‚æœ¬ç« ä¼šç»§ç»­ä»‹ç»è¿™äº›&lt;code>undoæ—¥å¿—&lt;/code>ä¼šè¢«å…·ä½“å†™åˆ°ä»€ä¹ˆåœ°æ–¹ï¼Œä»¥åŠåœ¨å†™å…¥è¿‡ç¨‹ä¸­éœ€è¦æ³¨æ„çš„ä¸€äº›é—®é¢˜ã€‚&lt;/p>
&lt;p>é€šç”¨é“¾è¡¨ç»“æ„&lt;/p>
&lt;p>åœ¨å†™å…¥&lt;code>undoæ—¥å¿—&lt;/code>çš„è¿‡ç¨‹ä¸­ä¼šä½¿ç”¨åˆ°å¤šä¸ªé“¾è¡¨ï¼Œå¾ˆå¤šé“¾è¡¨éƒ½æœ‰åŒæ ·çš„èŠ‚ç‚¹ç»“æ„ï¼Œå¦‚å›¾æ‰€ç¤ºï¼š&lt;/p>
&lt;p>&lt;img src="img/23-01.png" alt="" />&lt;/p>
&lt;p>åœ¨æŸä¸ªè¡¨ç©ºé—´å†…ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ä¸€ä¸ªé¡µçš„é¡µå·å’Œåœ¨é¡µå†…çš„åç§»é‡æ¥å”¯ä¸€å®šä½ä¸€ä¸ªèŠ‚ç‚¹çš„ä½ç½®ï¼Œè¿™ä¸¤ä¸ªä¿¡æ¯ä¹Ÿå°±ç›¸å½“äºæŒ‡å‘è¿™ä¸ªèŠ‚ç‚¹çš„ä¸€ä¸ªæŒ‡é’ˆã€‚æ‰€ä»¥ï¼š - &lt;code>Pre Node Page Number&lt;/code>å’Œ&lt;code>Pre Node Offset&lt;/code>çš„ç»„åˆå°±æ˜¯æŒ‡å‘å‰ä¸€ä¸ªèŠ‚ç‚¹çš„æŒ‡é’ˆ - &lt;code>Next Node Page Number&lt;/code>å’Œ&lt;code>Next Node Offset&lt;/code>çš„ç»„åˆå°±æ˜¯æŒ‡å‘åä¸€ä¸ªèŠ‚ç‚¹çš„æŒ‡é’ˆã€‚&lt;/p>
&lt;p>æ•´ä¸ª&lt;code>List Node&lt;/code>å ç”¨&lt;code>12&lt;/code>ä¸ªå­—èŠ‚çš„å­˜å‚¨ç©ºé—´ã€‚&lt;/p>
&lt;p>ä¸ºäº†æ›´å¥½çš„ç®¡ç†é“¾è¡¨ï¼Œè®¾è®¡&lt;code>InnoDB&lt;/code>çš„å¤§ä½¬è¿˜æå‡ºäº†ä¸€ä¸ªåŸºèŠ‚ç‚¹çš„ç»“æ„ï¼Œé‡Œè¾¹å­˜å‚¨äº†è¿™ä¸ªé“¾è¡¨çš„&lt;code>å¤´èŠ‚ç‚¹&lt;/code>ã€&lt;code>å°¾èŠ‚ç‚¹&lt;/code>ä»¥åŠé“¾è¡¨é•¿åº¦ä¿¡æ¯ï¼ŒåŸºèŠ‚ç‚¹çš„ç»“æ„ç¤ºæ„å›¾å¦‚ä¸‹ï¼š&lt;/p>
&lt;p>&lt;img src="img/23-02.png" alt="" />&lt;/p>
&lt;p>å…¶ä¸­ï¼š - &lt;code>List Length&lt;/code>è¡¨æ˜è¯¥é“¾è¡¨ä¸€å…±æœ‰å¤šå°‘èŠ‚ç‚¹ã€‚ - &lt;code>First Node Page Number&lt;/code>å’Œ&lt;code>First Node Offset&lt;/code>çš„ç»„åˆå°±æ˜¯æŒ‡å‘é“¾è¡¨å¤´èŠ‚ç‚¹çš„æŒ‡é’ˆã€‚ - &lt;code>Last Node Page Number&lt;/code>å’Œ&lt;code>Last Node Offset&lt;/code>çš„ç»„åˆå°±æ˜¯æŒ‡å‘é“¾è¡¨å°¾èŠ‚ç‚¹çš„æŒ‡é’ˆã€‚&lt;/p>
&lt;p>æ•´ä¸ª&lt;code>List Base Node&lt;/code>å ç”¨&lt;code>16&lt;/code>ä¸ªå­—èŠ‚çš„å­˜å‚¨ç©ºé—´ã€‚&lt;/p>
&lt;p>æ‰€ä»¥ä½¿ç”¨&lt;code>List Base Node&lt;/code>å’Œ&lt;code>List Node&lt;/code>è¿™ä¸¤ä¸ªç»“æ„ç»„æˆçš„é“¾è¡¨çš„ç¤ºæ„å›¾å°±æ˜¯è¿™æ ·ï¼š&lt;/p>
&lt;p>&lt;img src="img/23-03.png" alt="" />&lt;/p>
&lt;p>&lt;code>å°è´´å£«ï¼šä¸Šè¿°é“¾è¡¨ç»“æ„æˆ‘ä»¬åœ¨å‰é¢çš„æ–‡ç« ä¸­é¢‘é¢‘æåˆ°ï¼Œå°¤å…¶æ˜¯åœ¨è¡¨ç©ºé—´é‚£ä¸€ç« é‡ç‚¹æè¿°è¿‡ï¼Œä¸è¿‡æˆ‘ä¸æ•¢å¥¢æ±‚å¤§å®¶éƒ½è®°ä½äº†ï¼Œæ‰€ä»¥åœ¨è¿™é‡Œåˆå¼ºè°ƒä¸€éï¼Œå¸Œæœ›å¤§å®¶ä¸è¦å«Œæˆ‘çƒ¦ï¼Œæˆ‘åªæ˜¯æ€•å¤§å®¶å¿˜äº†å­¦ä¹ åç»­å†…å®¹åƒåŠ›è€Œå·²ï½&lt;/code>&lt;/p>
&lt;p>FIL_PAGE_UNDO_LOGé¡µé¢&lt;/p>
&lt;p>æˆ‘ä»¬å‰é¢ä»‹ç»è¡¨ç©ºé—´çš„æ—¶å€™è¯´è¿‡ï¼Œè¡¨ç©ºé—´å…¶å®æ˜¯ç”±è®¸è®¸å¤šå¤šçš„é¡µé¢æ„æˆçš„ï¼Œé¡µé¢é»˜è®¤å¤§å°ä¸º&lt;code>16KB&lt;/code>ã€‚è¿™äº›é¡µé¢æœ‰ä¸åŒçš„ç±»å‹ï¼Œæ¯”å¦‚ç±»å‹ä¸º&lt;code>FIL_PAGE_INDEX&lt;/code>çš„é¡µé¢ç”¨äºå­˜å‚¨èšç°‡ç´¢å¼•ä»¥åŠäºŒçº§ç´¢å¼•ï¼Œç±»å‹ä¸º&lt;code>FIL_PAGE_TYPE_FSP_HDR&lt;/code>çš„é¡µé¢ç”¨äºå­˜å‚¨è¡¨ç©ºé—´å¤´éƒ¨ä¿¡æ¯çš„ï¼Œè¿˜æœ‰å…¶ä»–å„ç§ç±»å‹çš„é¡µé¢ï¼Œå…¶ä¸­æœ‰ä¸€ç§ç§°ä¹‹ä¸º&lt;code>FIL_PAGE_UNDO_LOG&lt;/code>ç±»å‹çš„é¡µé¢æ˜¯ä¸“é—¨ç”¨æ¥å­˜å‚¨&lt;code>undoæ—¥å¿—&lt;/code>çš„ï¼Œè¿™ç§ç±»å‹çš„é¡µé¢çš„é€šç”¨ç»“æ„å¦‚ä¸‹å›¾æ‰€ç¤ºï¼ˆä»¥é»˜è®¤çš„&lt;code>16KB&lt;/code>å¤§å°ä¸ºä¾‹ï¼‰ï¼š&lt;/p>
&lt;p>&lt;img src="img/23-04.png" alt="" />&lt;/p>
&lt;p>â€œç±»å‹ä¸º&lt;code>FIL_PAGE_UNDO_LOG&lt;/code>çš„é¡µâ€è¿™ç§è¯´æ³•å¤ªç»•å£ï¼Œä»¥åæˆ‘ä»¬å°±ç®€ç§°ä¸º&lt;code>Undoé¡µé¢&lt;/code>äº†ã€‚ä¸Šå›¾ä¸­çš„&lt;code>File Header&lt;/code>å’Œ&lt;code>File Trailer&lt;/code>æ˜¯å„ç§é¡µé¢éƒ½æœ‰çš„é€šç”¨ç»“æ„ï¼Œæˆ‘ä»¬å‰é¢ä»‹ç»è¿‡å¾ˆå¤šéäº†ï¼Œè¿™é‡Œå°±ä¸èµ˜è¿°äº†ï¼ˆå¿˜è®°äº†çš„å¯ä»¥åˆ°è®²è¿°æ•°æ®é¡µç»“æ„æˆ–è€…è¡¨ç©ºé—´çš„ç« èŠ‚ä¸­æŸ¥çœ‹ï¼‰ã€‚&lt;code>Undo Page Header&lt;/code>æ˜¯&lt;code>Undoé¡µé¢&lt;/code>æ‰€ç‰¹æœ‰çš„ï¼Œæˆ‘ä»¬æ¥çœ‹ä¸€ä¸‹å®ƒçš„ç»“æ„ï¼š&lt;/p>
&lt;p>&lt;img src="img/23-05.png" alt="" />&lt;/p>
&lt;p>å…¶ä¸­å„ä¸ªå±æ€§çš„æ„æ€å¦‚ä¸‹ï¼š&lt;/p>
&lt;ul>
&lt;li>&lt;/li>
&lt;/ul>
&lt;p>&lt;code>TRX_UNDO_PAGE_TYPE&lt;/code>ï¼šæœ¬é¡µé¢å‡†å¤‡å­˜å‚¨ä»€ä¹ˆç§ç±»çš„&lt;code>undoæ—¥å¿—&lt;/code>ã€‚&lt;/p></description></item><item><title>ç¬¬21ç« _è¯´è¿‡çš„è¯å°±ä¸€å®šè¦åŠåˆ°-redoæ—¥å¿—(ä¸‹)</title><link>https://lwmfjc.github.io/zh/docs/technology/MySQL/MySQL%E6%98%AF%E6%80%8E%E6%A0%B7%E8%BF%90%E8%A1%8C%E7%9A%84/%E7%AC%AC21%E7%AB%A0_%E8%AF%B4%E8%BF%87%E7%9A%84%E8%AF%9D%E5%B0%B1%E4%B8%80%E5%AE%9A%E8%A6%81%E5%8A%9E%E5%88%B0-redo%E6%97%A5%E5%BF%97%E4%B8%8B/</link><pubDate>Sat, 11 Jan 2025 16:40:17 +0800</pubDate><guid>https://lwmfjc.github.io/zh/docs/technology/MySQL/MySQL%E6%98%AF%E6%80%8E%E6%A0%B7%E8%BF%90%E8%A1%8C%E7%9A%84/%E7%AC%AC21%E7%AB%A0_%E8%AF%B4%E8%BF%87%E7%9A%84%E8%AF%9D%E5%B0%B1%E4%B8%80%E5%AE%9A%E8%A6%81%E5%8A%9E%E5%88%B0-redo%E6%97%A5%E5%BF%97%E4%B8%8B/</guid><description>&lt;h1 id="ç¬¬21ç« -è¯´è¿‡çš„è¯å°±ä¸€å®šè¦åŠåˆ°-redoæ—¥å¿—ä¸‹">
 ç¬¬21ç«  è¯´è¿‡çš„è¯å°±ä¸€å®šè¦åŠåˆ°-redoæ—¥å¿—ï¼ˆä¸‹ï¼‰
 &lt;a class="anchor" href="#%e7%ac%ac21%e7%ab%a0-%e8%af%b4%e8%bf%87%e7%9a%84%e8%af%9d%e5%b0%b1%e4%b8%80%e5%ae%9a%e8%a6%81%e5%8a%9e%e5%88%b0-redo%e6%97%a5%e5%bf%97%e4%b8%8b">#&lt;/a>
&lt;/h1>
&lt;p>redoæ—¥å¿—æ–‡ä»¶&lt;/p>
&lt;h1 id="redoæ—¥å¿—åˆ·ç›˜æ—¶æœº">
 redoæ—¥å¿—åˆ·ç›˜æ—¶æœº
 &lt;a class="anchor" href="#redo%e6%97%a5%e5%bf%97%e5%88%b7%e7%9b%98%e6%97%b6%e6%9c%ba">#&lt;/a>
&lt;/h1>
&lt;p>æˆ‘ä»¬å‰é¢è¯´&lt;code>mtr&lt;/code>è¿è¡Œè¿‡ç¨‹ä¸­äº§ç”Ÿçš„ä¸€ç»„&lt;code>redo&lt;/code>æ—¥å¿—åœ¨&lt;code>mtr&lt;/code>ç»“æŸæ—¶ä¼šè¢«å¤åˆ¶åˆ°&lt;code>log buffer&lt;/code>ä¸­ï¼Œå¯æ˜¯è¿™äº›æ—¥å¿—æ€»åœ¨å†…å­˜é‡Œå‘†ç€ä¹Ÿä¸æ˜¯ä¸ªåŠæ³•ï¼Œåœ¨ä¸€äº›æƒ…å†µä¸‹å®ƒä»¬ä¼šè¢«åˆ·æ–°åˆ°ç£ç›˜é‡Œï¼Œæ¯”å¦‚ï¼š&lt;/p>
&lt;ul>
&lt;li>&lt;/li>
&lt;/ul>
&lt;p>&lt;code>log buffer&lt;/code>ç©ºé—´ä¸è¶³æ—¶&lt;/p>
&lt;p>&lt;code>log buffer&lt;/code>çš„å¤§å°æ˜¯æœ‰é™çš„ï¼ˆé€šè¿‡ç³»ç»Ÿå˜é‡&lt;code>innodb_log_buffer_size&lt;/code>æŒ‡å®šï¼‰ï¼Œå¦‚æœä¸åœçš„å¾€è¿™ä¸ªæœ‰é™å¤§å°çš„&lt;code>log buffer&lt;/code>é‡Œå¡å…¥æ—¥å¿—ï¼Œå¾ˆå¿«å®ƒå°±ä¼šè¢«å¡«æ»¡ã€‚è®¾è®¡&lt;code>InnoDB&lt;/code>çš„å¤§ä½¬è®¤ä¸ºå¦‚æœå½“å‰å†™å…¥&lt;code>log buffer&lt;/code>çš„&lt;code>redo&lt;/code>æ—¥å¿—é‡å·²ç»å æ»¡äº†&lt;code>log buffer&lt;/code>æ€»å®¹é‡çš„å¤§çº¦ä¸€åŠå·¦å³ï¼Œå°±éœ€è¦æŠŠè¿™äº›æ—¥å¿—åˆ·æ–°åˆ°ç£ç›˜ä¸Šã€‚&lt;/p>
&lt;ul>
&lt;li>&lt;/li>
&lt;/ul>
&lt;p>äº‹åŠ¡æäº¤æ—¶&lt;/p>
&lt;p>æˆ‘ä»¬å‰é¢è¯´è¿‡ä¹‹æ‰€ä»¥ä½¿ç”¨&lt;code>redo&lt;/code>æ—¥å¿—ä¸»è¦æ˜¯å› ä¸ºå®ƒå ç”¨çš„ç©ºé—´å°‘ï¼Œè¿˜æ˜¯é¡ºåºå†™ï¼Œåœ¨äº‹åŠ¡æäº¤æ—¶å¯ä»¥ä¸æŠŠä¿®æ”¹è¿‡çš„&lt;code>Buffer Pool&lt;/code>é¡µé¢åˆ·æ–°åˆ°ç£ç›˜ï¼Œä½†æ˜¯ä¸ºäº†ä¿è¯æŒä¹…æ€§ï¼Œå¿…é¡»è¦æŠŠä¿®æ”¹è¿™äº›é¡µé¢å¯¹åº”çš„&lt;code>redo&lt;/code>æ—¥å¿—åˆ·æ–°åˆ°ç£ç›˜ã€‚&lt;/p>
&lt;ul>
&lt;li>&lt;/li>
&lt;/ul>
&lt;p>åå°çº¿ç¨‹ä¸åœçš„åˆ·åˆ·åˆ·&lt;/p>
&lt;p>åå°æœ‰ä¸€ä¸ªçº¿ç¨‹ï¼Œå¤§çº¦æ¯ç§’éƒ½ä¼šåˆ·æ–°ä¸€æ¬¡&lt;code>log buffer&lt;/code>ä¸­çš„&lt;code>redo&lt;/code>æ—¥å¿—åˆ°ç£ç›˜ã€‚&lt;/p>
&lt;ul>
&lt;li>&lt;/li>
&lt;/ul>
&lt;p>æ­£å¸¸å…³é—­æœåŠ¡å™¨æ—¶&lt;/p>
&lt;ul>
&lt;li>åšæ‰€è°“çš„&lt;code>checkpoint&lt;/code>æ—¶ï¼ˆæˆ‘ä»¬ç°åœ¨æ²¡ä»‹ç»è¿‡&lt;code>checkpoint&lt;/code>çš„æ¦‚å¿µï¼Œç¨åä¼šä»”ç»†ä»‹ç»ï¼Œç¨å®‰å‹¿èºï¼‰&lt;/li>
&lt;li>å…¶ä»–çš„ä¸€äº›æƒ…å†µ&amp;hellip;&lt;/li>
&lt;/ul>
&lt;h1 id="redoæ—¥å¿—æ–‡ä»¶ç»„">
 redoæ—¥å¿—æ–‡ä»¶ç»„
 &lt;a class="anchor" href="#redo%e6%97%a5%e5%bf%97%e6%96%87%e4%bb%b6%e7%bb%84">#&lt;/a>
&lt;/h1>
&lt;p>&lt;code>MySQL&lt;/code>çš„æ•°æ®ç›®å½•ï¼ˆä½¿ç”¨&lt;code>SHOW VARIABLES LIKE 'datadir'&lt;/code>æŸ¥çœ‹ï¼‰ä¸‹é»˜è®¤æœ‰ä¸¤ä¸ªåä¸º&lt;code>ib_logfile0&lt;/code>å’Œ&lt;code>ib_logfile1&lt;/code>çš„æ–‡ä»¶ï¼Œ&lt;code>log buffer&lt;/code>ä¸­çš„æ—¥å¿—é»˜è®¤æƒ…å†µä¸‹å°±æ˜¯åˆ·æ–°åˆ°è¿™ä¸¤ä¸ªç£ç›˜æ–‡ä»¶ä¸­ã€‚å¦‚æœæˆ‘ä»¬å¯¹é»˜è®¤çš„&lt;code>redo&lt;/code>æ—¥å¿—æ–‡ä»¶ä¸æ»¡æ„ï¼Œå¯ä»¥é€šè¿‡ä¸‹é¢å‡ ä¸ªå¯åŠ¨å‚æ•°æ¥è°ƒèŠ‚ï¼š&lt;/p>
&lt;ul>
&lt;li>&lt;/li>
&lt;/ul>
&lt;p>&lt;code>innodb_log_group_home_dir&lt;/code>&lt;/p>
&lt;p>è¯¥å‚æ•°æŒ‡å®šäº†&lt;code>redo&lt;/code>æ—¥å¿—æ–‡ä»¶æ‰€åœ¨çš„ç›®å½•ï¼Œé»˜è®¤å€¼å°±æ˜¯å½“å‰çš„æ•°æ®ç›®å½•ã€‚&lt;/p>
&lt;ul>
&lt;li>&lt;/li>
&lt;/ul>
&lt;p>&lt;code>innodb_log_file_size&lt;/code>&lt;/p>
&lt;p>è¯¥å‚æ•°æŒ‡å®šäº†æ¯ä¸ª&lt;code>redo&lt;/code>æ—¥å¿—æ–‡ä»¶çš„å¤§å°ï¼Œåœ¨&lt;code>MySQL 5.7.21&lt;/code>è¿™ä¸ªç‰ˆæœ¬ä¸­çš„é»˜è®¤å€¼ä¸º&lt;code>48MB&lt;/code>ï¼Œ&lt;/p>
&lt;ul>
&lt;li>&lt;/li>
&lt;/ul>
&lt;p>&lt;code>innodb_log_files_in_group&lt;/code>&lt;/p>
&lt;p>è¯¥å‚æ•°æŒ‡å®š&lt;code>redo&lt;/code>æ—¥å¿—æ–‡ä»¶çš„ä¸ªæ•°ï¼Œé»˜è®¤å€¼ä¸º2ï¼Œæœ€å¤§å€¼ä¸º100ã€‚&lt;/p>
&lt;p>ä»ä¸Šé¢çš„æè¿°ä¸­å¯ä»¥çœ‹åˆ°ï¼Œç£ç›˜ä¸Šçš„&lt;code>redo&lt;/code>æ—¥å¿—æ–‡ä»¶ä¸åªä¸€ä¸ªï¼Œè€Œæ˜¯ä»¥ä¸€ä¸ª&lt;code>æ—¥å¿—æ–‡ä»¶ç»„&lt;/code>çš„å½¢å¼å‡ºç°çš„ã€‚è¿™äº›æ–‡ä»¶ä»¥&lt;code>ib_logfile[æ•°å­—]&lt;/code>ï¼ˆ&lt;code>æ•°å­—&lt;/code>å¯ä»¥æ˜¯&lt;code>0&lt;/code>ã€&lt;code>1&lt;/code>ã€&lt;code>2&lt;/code>&amp;hellip;ï¼‰çš„å½¢å¼è¿›è¡Œå‘½åã€‚åœ¨å°†&lt;code>redo&lt;/code>æ—¥å¿—å†™å…¥&lt;code>æ—¥å¿—æ–‡ä»¶ç»„&lt;/code>æ—¶ï¼Œæ˜¯ä»&lt;code>ib_logfile0&lt;/code>å¼€å§‹å†™ï¼Œå¦‚æœ&lt;code>ib_logfile0&lt;/code>å†™æ»¡äº†ï¼Œå°±æ¥ç€&lt;code>ib_logfile1&lt;/code>å†™ï¼ŒåŒç†ï¼Œ&lt;code>ib_logfile1&lt;/code>å†™æ»¡äº†å°±å»å†™&lt;code>ib_logfile2&lt;/code>ï¼Œä¾æ­¤ç±»æ¨ã€‚å¦‚æœå†™åˆ°æœ€åä¸€ä¸ªæ–‡ä»¶è¯¥å’‹åŠï¼Ÿé‚£å°±é‡æ–°è½¬åˆ°&lt;code>ib_logfile0&lt;/code>ç»§ç»­å†™ï¼Œæ‰€ä»¥æ•´ä¸ªè¿‡ç¨‹å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š&lt;/p>
&lt;p>&lt;img src="img/21-01.png" alt="" />&lt;/p>
&lt;p>æ€»å…±çš„&lt;code>redo&lt;/code>æ—¥å¿—æ–‡ä»¶å¤§å°å…¶å®å°±æ˜¯ï¼š&lt;code>innodb_log_file_size Ã— innodb_log_files_in_group&lt;/code>ã€‚ &lt;code>å°è´´å£«ï¼šå¦‚æœé‡‡ç”¨å¾ªç¯ä½¿ç”¨çš„æ–¹å¼å‘redoæ—¥å¿—æ–‡ä»¶ç»„é‡Œå†™æ•°æ®çš„è¯ï¼Œé‚£å²‚ä¸æ˜¯è¦è¿½å°¾ï¼Œä¹Ÿå°±æ˜¯åå†™å…¥çš„redoæ—¥å¿—è¦†ç›–æ‰å‰é¢å†™çš„redoæ—¥å¿—ï¼Ÿå½“ç„¶å¯èƒ½äº†ï¼æ‰€ä»¥è®¾è®¡InnoDBçš„å¤§ä½¬æå‡ºäº†checkpointçš„æ¦‚å¿µï¼Œç¨åæˆ‘ä»¬é‡ç‚¹ä»‹ç»ï½&lt;/code>&lt;/p>
&lt;h1 id="redoæ—¥å¿—æ–‡ä»¶æ ¼å¼">
 redoæ—¥å¿—æ–‡ä»¶æ ¼å¼
 &lt;a class="anchor" href="#redo%e6%97%a5%e5%bf%97%e6%96%87%e4%bb%b6%e6%a0%bc%e5%bc%8f">#&lt;/a>
&lt;/h1>
&lt;p>æˆ‘ä»¬å‰é¢è¯´è¿‡&lt;code>log buffer&lt;/code>æœ¬è´¨ä¸Šæ˜¯ä¸€ç‰‡è¿ç»­çš„å†…å­˜ç©ºé—´ï¼Œè¢«åˆ’åˆ†æˆäº†è‹¥å¹²ä¸ª&lt;code>512&lt;/code>å­—èŠ‚å¤§å°çš„&lt;code>block&lt;/code>ã€‚&lt;strong>å°†log bufferä¸­çš„redoæ—¥å¿—åˆ·æ–°åˆ°ç£ç›˜çš„æœ¬è´¨å°±æ˜¯æŠŠblockçš„é•œåƒå†™å…¥æ—¥å¿—æ–‡ä»¶ä¸­&lt;/strong>ï¼Œæ‰€ä»¥&lt;code>redo&lt;/code>æ—¥å¿—æ–‡ä»¶å…¶å®ä¹Ÿæ˜¯ç”±è‹¥å¹²ä¸ª&lt;code>512&lt;/code>å­—èŠ‚å¤§å°çš„blockç»„æˆã€‚&lt;/p>
&lt;p>&lt;code>redo&lt;/code>æ—¥å¿—æ–‡ä»¶ç»„ä¸­çš„æ¯ä¸ªæ–‡ä»¶å¤§å°éƒ½ä¸€æ ·ï¼Œæ ¼å¼ä¹Ÿä¸€æ ·ï¼Œéƒ½æ˜¯ç”±ä¸¤éƒ¨åˆ†ç»„æˆï¼š&lt;/p>
&lt;ul>
&lt;li>å‰2048ä¸ªå­—èŠ‚ï¼Œä¹Ÿå°±æ˜¯å‰4ä¸ªblockæ˜¯ç”¨æ¥å­˜å‚¨ä¸€äº›ç®¡ç†ä¿¡æ¯çš„ã€‚&lt;/li>
&lt;li>ä»ç¬¬2048å­—èŠ‚å¾€åæ˜¯ç”¨æ¥å­˜å‚¨&lt;code>log buffer&lt;/code>ä¸­çš„blocké•œåƒçš„ã€‚&lt;/li>
&lt;/ul>
&lt;p>æ‰€ä»¥æˆ‘ä»¬å‰é¢æ‰€è¯´çš„&lt;code>å¾ªç¯&lt;/code>ä½¿ç”¨redoæ—¥å¿—æ–‡ä»¶ï¼Œå…¶å®æ˜¯ä»æ¯ä¸ªæ—¥å¿—æ–‡ä»¶çš„ç¬¬2048ä¸ªå­—èŠ‚å¼€å§‹ç®—ï¼Œç”»ä¸ªç¤ºæ„å›¾å°±æ˜¯è¿™æ ·ï¼š&lt;/p>
&lt;p>&lt;img src="img/21-02.png" alt="" />&lt;/p>
&lt;p>æ™®é€šblockçš„æ ¼å¼æˆ‘ä»¬åœ¨ä»‹ç»&lt;code>log buffer&lt;/code>çš„æ—¶å€™éƒ½è¯´è¿‡äº†ï¼Œå°±æ˜¯&lt;code>log block header&lt;/code>ã€&lt;code>log block body&lt;/code>ã€&lt;code>log block trialer&lt;/code>è¿™ä¸‰ä¸ªéƒ¨åˆ†ï¼Œå°±ä¸é‡å¤ä»‹ç»äº†ã€‚è¿™é‡Œéœ€è¦ä»‹ç»ä¸€ä¸‹æ¯ä¸ª&lt;code>redo&lt;/code>æ—¥å¿—æ–‡ä»¶å‰2048ä¸ªå­—èŠ‚ï¼Œä¹Ÿå°±æ˜¯å‰4ä¸ªç‰¹æ®Šblockçš„æ ¼å¼éƒ½æ˜¯å¹²å˜›çš„ï¼ŒåºŸè¯å°‘è¯´ï¼Œå…ˆçœ‹å›¾ï¼š&lt;/p></description></item><item><title>ç¬¬20ç« _è¯´è¿‡çš„è¯å°±ä¸€å®šè¦åŠåˆ°-redoæ—¥å¿—(ä¸Š)</title><link>https://lwmfjc.github.io/zh/docs/technology/MySQL/MySQL%E6%98%AF%E6%80%8E%E6%A0%B7%E8%BF%90%E8%A1%8C%E7%9A%84/%E7%AC%AC20%E7%AB%A0_%E8%AF%B4%E8%BF%87%E7%9A%84%E8%AF%9D%E5%B0%B1%E4%B8%80%E5%AE%9A%E8%A6%81%E5%8A%9E%E5%88%B0-redo%E6%97%A5%E5%BF%97%E4%B8%8A/</link><pubDate>Sat, 11 Jan 2025 16:40:16 +0800</pubDate><guid>https://lwmfjc.github.io/zh/docs/technology/MySQL/MySQL%E6%98%AF%E6%80%8E%E6%A0%B7%E8%BF%90%E8%A1%8C%E7%9A%84/%E7%AC%AC20%E7%AB%A0_%E8%AF%B4%E8%BF%87%E7%9A%84%E8%AF%9D%E5%B0%B1%E4%B8%80%E5%AE%9A%E8%A6%81%E5%8A%9E%E5%88%B0-redo%E6%97%A5%E5%BF%97%E4%B8%8A/</guid><description>&lt;h1 id="ç¬¬20ç« -è¯´è¿‡çš„è¯å°±ä¸€å®šè¦åŠåˆ°-redoæ—¥å¿—ä¸Š">
 ç¬¬20ç«  è¯´è¿‡çš„è¯å°±ä¸€å®šè¦åŠåˆ°-redoæ—¥å¿—ï¼ˆä¸Šï¼‰
 &lt;a class="anchor" href="#%e7%ac%ac20%e7%ab%a0-%e8%af%b4%e8%bf%87%e7%9a%84%e8%af%9d%e5%b0%b1%e4%b8%80%e5%ae%9a%e8%a6%81%e5%8a%9e%e5%88%b0-redo%e6%97%a5%e5%bf%97%e4%b8%8a">#&lt;/a>
&lt;/h1>
&lt;p>äº‹å…ˆè¯´æ˜&lt;/p>
&lt;p>æœ¬æ–‡ä»¥åŠæ¥ä¸‹æ¥çš„å‡ ç¯‡æ–‡ç« å°†ä¼šé¢‘ç¹çš„ä½¿ç”¨åˆ°æˆ‘ä»¬å‰é¢ä»‹ç»çš„&lt;code>InnoDB&lt;/code>è®°å½•è¡Œæ ¼å¼ã€é¡µé¢æ ¼å¼ã€ç´¢å¼•åŸç†ã€è¡¨ç©ºé—´çš„ç»„æˆç­‰å„ç§åŸºç¡€çŸ¥è¯†ï¼Œå¦‚æœå¤§å®¶å¯¹è¿™äº›ä¸œè¥¿ç†è§£çš„ä¸é€å½»ï¼Œé‚£ä¹ˆé˜…è¯»ä¸‹é¢çš„æ–‡å­—å¯èƒ½ä¼šæœ‰äº›åƒåŠ›ï¼Œä¸ºä¿è¯æ‚¨çš„é˜…è¯»ä½“éªŒï¼Œè¯·ç¡®ä¿è‡ªå·±å·²ç»æŒæ¡äº†æˆ‘å‰é¢ä»‹ç»çš„è¿™äº›çŸ¥è¯†ã€‚&lt;/p>
&lt;p>redoæ—¥å¿—æ˜¯ä»€ä¹ˆ&lt;/p>
&lt;p>æˆ‘ä»¬çŸ¥é“&lt;code>InnoDB&lt;/code>å­˜å‚¨å¼•æ“æ˜¯ä»¥é¡µä¸ºå•ä½æ¥ç®¡ç†å­˜å‚¨ç©ºé—´çš„ï¼Œæˆ‘ä»¬è¿›è¡Œçš„å¢åˆ æ”¹æŸ¥æ“ä½œå…¶å®æœ¬è´¨ä¸Šéƒ½æ˜¯åœ¨è®¿é—®é¡µé¢ï¼ˆåŒ…æ‹¬è¯»é¡µé¢ã€å†™é¡µé¢ã€åˆ›å»ºæ–°é¡µé¢ç­‰æ“ä½œï¼‰ã€‚æˆ‘ä»¬å‰é¢ä»‹ç»&lt;code>Buffer Pool&lt;/code>çš„æ—¶å€™è¯´è¿‡ï¼Œåœ¨çœŸæ­£è®¿é—®é¡µé¢ä¹‹å‰ï¼Œéœ€è¦æŠŠåœ¨ç£ç›˜ä¸Šçš„é¡µç¼“å­˜åˆ°å†…å­˜ä¸­çš„&lt;code>Buffer Pool&lt;/code>ä¹‹åæ‰å¯ä»¥è®¿é—®ã€‚ä½†æ˜¯åœ¨ä»‹ç»äº‹åŠ¡çš„æ—¶å€™åˆå¼ºè°ƒè¿‡ä¸€ä¸ªç§°ä¹‹ä¸º&lt;code>æŒä¹…æ€§&lt;/code>çš„ç‰¹æ€§ï¼Œå°±æ˜¯è¯´å¯¹äºä¸€ä¸ªå·²ç»æäº¤çš„äº‹åŠ¡ï¼Œåœ¨äº‹åŠ¡æäº¤åå³ä½¿ç³»ç»Ÿå‘ç”Ÿäº†å´©æºƒï¼Œè¿™ä¸ªäº‹åŠ¡å¯¹æ•°æ®åº“ä¸­æ‰€åšçš„æ›´æ”¹ä¹Ÿä¸èƒ½ä¸¢å¤±ã€‚ä½†æ˜¯å¦‚æœæˆ‘ä»¬åªåœ¨å†…å­˜çš„&lt;code>Buffer Pool&lt;/code>ä¸­ä¿®æ”¹äº†é¡µé¢ï¼Œå‡è®¾åœ¨äº‹åŠ¡æäº¤åçªç„¶å‘ç”Ÿäº†æŸä¸ªæ•…éšœï¼Œå¯¼è‡´å†…å­˜ä¸­çš„æ•°æ®éƒ½å¤±æ•ˆäº†ï¼Œé‚£ä¹ˆè¿™ä¸ªå·²ç»æäº¤äº†çš„äº‹åŠ¡å¯¹æ•°æ®åº“ä¸­æ‰€åšçš„æ›´æ”¹ä¹Ÿå°±è·Ÿç€ä¸¢å¤±äº†ï¼Œè¿™æ˜¯æˆ‘ä»¬æ‰€ä¸èƒ½å¿å—çš„ï¼ˆæƒ³æƒ³ATMæœºå·²ç»æç¤ºç‹—å“¥è½¬è´¦æˆåŠŸï¼Œä½†ä¹‹åç”±äºæœåŠ¡å™¨å‡ºç°æ•…éšœï¼Œé‡å¯ä¹‹åçŒ«çˆ·å‘ç°è‡ªå·±æ²¡æ”¶åˆ°é’±ï¼ŒçŒ«çˆ·å°±è¢«ç æ­»äº†ï¼‰ã€‚é‚£ä¹ˆå¦‚ä½•ä¿è¯è¿™ä¸ª&lt;code>æŒä¹…æ€§&lt;/code>å‘¢ï¼Ÿä¸€ä¸ªå¾ˆç®€å•çš„åšæ³•å°±æ˜¯&lt;strong>åœ¨äº‹åŠ¡æäº¤å®Œæˆä¹‹å‰æŠŠè¯¥äº‹åŠ¡æ‰€ä¿®æ”¹çš„æ‰€æœ‰é¡µé¢éƒ½åˆ·æ–°åˆ°ç£ç›˜&lt;/strong>ï¼Œä½†æ˜¯è¿™ä¸ªç®€å•ç²—æš´çš„åšæ³•æœ‰äº›é—®é¢˜ï¼š&lt;/p>
&lt;ul>
&lt;li>&lt;/li>
&lt;/ul>
&lt;p>åˆ·æ–°ä¸€ä¸ªå®Œæ•´çš„æ•°æ®é¡µå¤ªæµªè´¹äº†&lt;/p>
&lt;p>æœ‰æ—¶å€™æˆ‘ä»¬ä»…ä»…ä¿®æ”¹äº†æŸä¸ªé¡µé¢ä¸­çš„ä¸€ä¸ªå­—èŠ‚ï¼Œä½†æ˜¯æˆ‘ä»¬çŸ¥é“åœ¨&lt;code>InnoDB&lt;/code>ä¸­æ˜¯ä»¥é¡µä¸ºå•ä½æ¥è¿›è¡Œç£ç›˜IOçš„ï¼Œä¹Ÿå°±æ˜¯è¯´æˆ‘ä»¬åœ¨è¯¥äº‹åŠ¡æäº¤æ—¶ä¸å¾—ä¸å°†ä¸€ä¸ªå®Œæ•´çš„é¡µé¢ä»å†…å­˜ä¸­åˆ·æ–°åˆ°ç£ç›˜ï¼Œæˆ‘ä»¬åˆçŸ¥é“ä¸€ä¸ªé¡µé¢é»˜è®¤æ˜¯16KBå¤§å°ï¼Œåªä¿®æ”¹ä¸€ä¸ªå­—èŠ‚å°±è¦åˆ·æ–°16KBçš„æ•°æ®åˆ°ç£ç›˜ä¸Šæ˜¾ç„¶æ˜¯å¤ªæµªè´¹äº†ã€‚&lt;/p>
&lt;ul>
&lt;li>&lt;/li>
&lt;/ul>
&lt;p>éšæœºIOåˆ·èµ·æ¥æ¯”è¾ƒæ…¢&lt;/p>
&lt;p>ä¸€ä¸ªäº‹åŠ¡å¯èƒ½åŒ…å«å¾ˆå¤šè¯­å¥ï¼Œå³ä½¿æ˜¯ä¸€æ¡è¯­å¥ä¹Ÿå¯èƒ½ä¿®æ”¹è®¸å¤šé¡µé¢ï¼Œå€’éœ‰å‚¬çš„æ˜¯è¯¥äº‹åŠ¡ä¿®æ”¹çš„è¿™äº›é¡µé¢å¯èƒ½å¹¶ä¸ç›¸é‚»ï¼Œè¿™å°±æ„å‘³ç€åœ¨å°†æŸä¸ªäº‹åŠ¡ä¿®æ”¹çš„&lt;code>Buffer Pool&lt;/code>ä¸­çš„é¡µé¢åˆ·æ–°åˆ°ç£ç›˜æ—¶ï¼Œéœ€è¦è¿›è¡Œå¾ˆå¤šçš„éšæœºIOï¼ŒéšæœºIOæ¯”é¡ºåºIOè¦æ…¢ï¼Œå°¤å…¶å¯¹äºä¼ ç»Ÿçš„æœºæ¢°ç¡¬ç›˜æ¥è¯´ã€‚&lt;/p>
&lt;p>å’‹åŠå‘¢ï¼Ÿå†æ¬¡å›åˆ°æˆ‘ä»¬çš„åˆå¿ƒï¼š&lt;strong>æˆ‘ä»¬åªæ˜¯æƒ³è®©å·²ç»æäº¤äº†çš„äº‹åŠ¡å¯¹æ•°æ®åº“ä¸­æ•°æ®æ‰€åšçš„ä¿®æ”¹æ°¸ä¹…ç”Ÿæ•ˆï¼Œå³ä½¿åæ¥ç³»ç»Ÿå´©æºƒï¼Œåœ¨é‡å¯åä¹Ÿèƒ½æŠŠè¿™ç§ä¿®æ”¹æ¢å¤å‡ºæ¥&lt;/strong>ã€‚æ‰€ä»¥æˆ‘ä»¬å…¶å®æ²¡æœ‰å¿…è¦åœ¨æ¯æ¬¡äº‹åŠ¡æäº¤æ—¶å°±æŠŠè¯¥äº‹åŠ¡åœ¨å†…å­˜ä¸­ä¿®æ”¹è¿‡çš„å…¨éƒ¨é¡µé¢åˆ·æ–°åˆ°ç£ç›˜ï¼Œåªéœ€è¦&lt;strong>æŠŠä¿®æ”¹äº†å“ªäº›ä¸œè¥¿è®°å½•ä¸€ä¸‹å°±å¥½&lt;/strong>ï¼Œæ¯”æ–¹è¯´æŸä¸ªäº‹åŠ¡å°†ç³»ç»Ÿè¡¨ç©ºé—´ä¸­çš„ç¬¬100å·é¡µé¢ä¸­åç§»é‡ä¸º1000å¤„çš„é‚£ä¸ªå­—èŠ‚çš„å€¼&lt;code>1&lt;/code>æ”¹æˆ&lt;code>2&lt;/code>æˆ‘ä»¬åªéœ€è¦è®°å½•ä¸€ä¸‹ï¼š&lt;/p>
&lt;blockquote>
&lt;p>å°†ç¬¬0å·è¡¨ç©ºé—´çš„100å·é¡µé¢çš„åç§»é‡ä¸º1000å¤„çš„å€¼æ›´æ–°ä¸º&lt;code>2&lt;/code>ã€‚&lt;/p>
&lt;/blockquote>
&lt;p>è¿™æ ·æˆ‘ä»¬åœ¨äº‹åŠ¡æäº¤æ—¶ï¼ŒæŠŠä¸Šè¿°å†…å®¹åˆ·æ–°åˆ°ç£ç›˜ä¸­ï¼Œå³ä½¿ä¹‹åç³»ç»Ÿå´©æºƒäº†ï¼Œé‡å¯ä¹‹ååªè¦æŒ‰ç…§ä¸Šè¿°å†…å®¹æ‰€è®°å½•çš„æ­¥éª¤é‡æ–°æ›´æ–°ä¸€ä¸‹æ•°æ®é¡µï¼Œé‚£ä¹ˆè¯¥äº‹åŠ¡å¯¹æ•°æ®åº“ä¸­æ‰€åšçš„ä¿®æ”¹åˆå¯ä»¥è¢«æ¢å¤å‡ºæ¥ï¼Œä¹Ÿå°±æ„å‘³ç€æ»¡è¶³&lt;code>æŒä¹…æ€§&lt;/code>çš„è¦æ±‚ã€‚å› ä¸ºåœ¨ç³»ç»Ÿå¥”æºƒé‡å¯æ—¶éœ€è¦æŒ‰ç…§ä¸Šè¿°å†…å®¹æ‰€è®°å½•çš„æ­¥éª¤é‡æ–°æ›´æ–°æ•°æ®é¡µï¼Œæ‰€ä»¥ä¸Šè¿°å†…å®¹ä¹Ÿè¢«ç§°ä¹‹ä¸º&lt;code>é‡åšæ—¥å¿—&lt;/code>ï¼Œè‹±æ–‡åä¸º&lt;code>redo log&lt;/code>ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥åœŸæ´‹ç»“åˆï¼Œç§°ä¹‹ä¸º&lt;code>redoæ—¥å¿—&lt;/code>ã€‚ä¸åœ¨äº‹åŠ¡æäº¤æ—¶å°†æ‰€æœ‰ä¿®æ”¹è¿‡çš„å†…å­˜ä¸­çš„é¡µé¢åˆ·æ–°åˆ°ç£ç›˜ä¸­ç›¸æ¯”ï¼Œåªå°†è¯¥äº‹åŠ¡æ‰§è¡Œè¿‡ç¨‹ä¸­äº§ç”Ÿçš„&lt;code>redo&lt;/code>æ—¥å¿—åˆ·æ–°åˆ°ç£ç›˜çš„å¥½å¤„å¦‚ä¸‹ï¼š&lt;/p>
&lt;ul>
&lt;li>&lt;/li>
&lt;/ul>
&lt;p>&lt;code>redo&lt;/code>æ—¥å¿—å ç”¨çš„ç©ºé—´éå¸¸å°&lt;/p>
&lt;p>å­˜å‚¨è¡¨ç©ºé—´IDã€é¡µå·ã€åç§»é‡ä»¥åŠéœ€è¦æ›´æ–°çš„å€¼æ‰€éœ€çš„å­˜å‚¨ç©ºé—´æ˜¯å¾ˆå°çš„ï¼Œå…³äº&lt;code>redo&lt;/code>æ—¥å¿—çš„æ ¼å¼æˆ‘ä»¬ç¨åä¼šè¯¦ç»†ä»‹ç»ï¼Œç°åœ¨åªè¦çŸ¥é“ä¸€æ¡&lt;code>redo&lt;/code>æ—¥å¿—å ç”¨çš„ç©ºé—´ä¸æ˜¯å¾ˆå¤§å°±å¥½äº†ã€‚&lt;/p>
&lt;ul>
&lt;li>&lt;/li>
&lt;/ul>
&lt;p>&lt;code>redo&lt;/code>æ—¥å¿—æ˜¯é¡ºåºå†™å…¥ç£ç›˜çš„&lt;/p>
&lt;p>åœ¨æ‰§è¡Œäº‹åŠ¡çš„è¿‡ç¨‹ä¸­ï¼Œæ¯æ‰§è¡Œä¸€æ¡è¯­å¥ï¼Œå°±å¯èƒ½äº§ç”Ÿè‹¥å¹²æ¡&lt;code>redo&lt;/code>æ—¥å¿—ï¼Œè¿™äº›æ—¥å¿—æ˜¯æŒ‰ç…§äº§ç”Ÿçš„é¡ºåºå†™å…¥ç£ç›˜çš„ï¼Œä¹Ÿå°±æ˜¯ä½¿ç”¨é¡ºåºIOã€‚&lt;/p>
&lt;p>redoæ—¥å¿—æ ¼å¼&lt;/p>
&lt;p>é€šè¿‡ä¸Šé¢çš„å†…å®¹æˆ‘ä»¬çŸ¥é“ï¼Œ&lt;code>redo&lt;/code>æ—¥å¿—æœ¬è´¨ä¸Šåªæ˜¯&lt;strong>è®°å½•äº†ä¸€ä¸‹äº‹åŠ¡å¯¹æ•°æ®åº“åšäº†å“ªäº›ä¿®æ”¹&lt;/strong>ã€‚ è®¾è®¡&lt;code>InnoDB&lt;/code>çš„å¤§ä½¬ä»¬é’ˆå¯¹äº‹åŠ¡å¯¹æ•°æ®åº“çš„ä¸åŒä¿®æ”¹åœºæ™¯å®šä¹‰äº†å¤šç§ç±»å‹çš„&lt;code>redo&lt;/code>æ—¥å¿—ï¼Œä½†æ˜¯ç»å¤§éƒ¨åˆ†ç±»å‹çš„&lt;code>redo&lt;/code>æ—¥å¿—éƒ½æœ‰ä¸‹é¢è¿™ç§é€šç”¨çš„ç»“æ„ï¼š&lt;/p>
&lt;p>&lt;img src="img/20-01.png" alt="" />&lt;/p>
&lt;p>å„ä¸ªéƒ¨åˆ†çš„è¯¦ç»†é‡Šä¹‰å¦‚ä¸‹ï¼š&lt;/p>
&lt;ul>
&lt;li>&lt;/li>
&lt;/ul>
&lt;p>&lt;code>type&lt;/code>ï¼šè¯¥æ¡&lt;code>redo&lt;/code>æ—¥å¿—çš„ç±»å‹ã€‚&lt;/p>
&lt;p>åœ¨&lt;code>MySQL 5.7.21&lt;/code>è¿™ä¸ªç‰ˆæœ¬ä¸­ï¼Œè®¾è®¡&lt;code>InnoDB&lt;/code>çš„å¤§ä½¬ä¸€å…±ä¸º&lt;code>redo&lt;/code>æ—¥å¿—è®¾è®¡äº†53ç§ä¸åŒçš„ç±»å‹ï¼Œç¨åä¼šè¯¦ç»†ä»‹ç»ä¸åŒç±»å‹çš„&lt;code>redo&lt;/code>æ—¥å¿—ã€‚&lt;/p>
&lt;ul>
&lt;li>&lt;/li>
&lt;/ul>
&lt;p>&lt;code>space ID&lt;/code>ï¼šè¡¨ç©ºé—´IDã€‚&lt;/p>
&lt;ul>
&lt;li>&lt;code>page number&lt;/code>ï¼šé¡µå·ã€‚&lt;/li>
&lt;li>&lt;code>data&lt;/code>ï¼šè¯¥æ¡&lt;code>redo&lt;/code>æ—¥å¿—çš„å…·ä½“å†…å®¹ã€‚&lt;/li>
&lt;/ul>
&lt;h1 id="ç®€å•çš„redoæ—¥å¿—ç±»å‹">
 ç®€å•çš„redoæ—¥å¿—ç±»å‹
 &lt;a class="anchor" href="#%e7%ae%80%e5%8d%95%e7%9a%84redo%e6%97%a5%e5%bf%97%e7%b1%bb%e5%9e%8b">#&lt;/a>
&lt;/h1>
&lt;p>æˆ‘ä»¬å‰é¢ä»‹ç»&lt;code>InnoDB&lt;/code>çš„è®°å½•è¡Œæ ¼å¼çš„æ—¶å€™è¯´è¿‡ï¼Œå¦‚æœæˆ‘ä»¬æ²¡æœ‰ä¸ºæŸä¸ªè¡¨æ˜¾å¼çš„å®šä¹‰ä¸»é”®ï¼Œå¹¶ä¸”è¡¨ä¸­ä¹Ÿæ²¡æœ‰å®šä¹‰&lt;code>Unique&lt;/code>é”®ï¼Œé‚£ä¹ˆ&lt;code>InnoDB&lt;/code>ä¼šè‡ªåŠ¨çš„ä¸ºè¡¨æ·»åŠ ä¸€ä¸ªç§°ä¹‹ä¸º&lt;code>row_id&lt;/code>çš„éšè—åˆ—ä½œä¸ºä¸»é”®ã€‚ä¸ºè¿™ä¸ª&lt;code>row_id&lt;/code>éšè—åˆ—èµ‹å€¼çš„æ–¹å¼å¦‚ä¸‹ï¼š - æœåŠ¡å™¨ä¼šåœ¨å†…å­˜ä¸­ç»´æŠ¤ä¸€ä¸ªå…¨å±€å˜é‡ï¼Œæ¯å½“å‘æŸä¸ªåŒ…å«éšè—çš„&lt;code>row_id&lt;/code>åˆ—çš„è¡¨ä¸­æ’å…¥ä¸€æ¡è®°å½•æ—¶ï¼Œå°±ä¼šæŠŠè¯¥å˜é‡çš„å€¼å½“ä½œæ–°è®°å½•çš„&lt;code>row_id&lt;/code>åˆ—çš„å€¼ï¼Œå¹¶ä¸”æŠŠè¯¥å˜é‡è‡ªå¢1ã€‚ - æ¯å½“è¿™ä¸ªå˜é‡çš„å€¼ä¸º256çš„å€æ•°æ—¶ï¼Œå°±ä¼šå°†è¯¥å˜é‡çš„å€¼åˆ·æ–°åˆ°ç³»ç»Ÿè¡¨ç©ºé—´çš„é¡µå·ä¸º&lt;code>7&lt;/code>çš„é¡µé¢ä¸­ä¸€ä¸ªç§°ä¹‹ä¸º&lt;code>Max Row ID&lt;/code>çš„å±æ€§å¤„ï¼ˆæˆ‘ä»¬å‰é¢ä»‹ç»è¡¨ç©ºé—´ç»“æ„æ—¶è¯¦ç»†è¯´è¿‡ï¼‰ã€‚ - å½“ç³»ç»Ÿå¯åŠ¨æ—¶ï¼Œä¼šå°†ä¸Šé¢æåˆ°çš„&lt;code>Max Row ID&lt;/code>å±æ€§åŠ è½½åˆ°å†…å­˜ä¸­ï¼Œå°†è¯¥å€¼åŠ ä¸Š256ä¹‹åèµ‹å€¼ç»™æˆ‘ä»¬å‰é¢æåˆ°çš„å…¨å±€å˜é‡ï¼ˆå› ä¸ºåœ¨ä¸Šæ¬¡å…³æœºæ—¶è¯¥å…¨å±€å˜é‡çš„å€¼å¯èƒ½å¤§äº&lt;code>Max Row ID&lt;/code>å±æ€§å€¼ï¼‰ã€‚&lt;/p>
&lt;p>è¿™ä¸ª&lt;code>Max Row ID&lt;/code>å±æ€§å ç”¨çš„å­˜å‚¨ç©ºé—´æ˜¯8ä¸ªå­—èŠ‚ï¼Œå½“æŸä¸ªäº‹åŠ¡å‘æŸä¸ªåŒ…å«&lt;code>row_id&lt;/code>éšè—åˆ—çš„è¡¨æ’å…¥ä¸€æ¡è®°å½•ï¼Œå¹¶ä¸”ä¸ºè¯¥è®°å½•åˆ†é…çš„&lt;code>row_id&lt;/code>å€¼ä¸º256çš„å€æ•°æ—¶ï¼Œå°±ä¼šå‘ç³»ç»Ÿè¡¨ç©ºé—´é¡µå·ä¸º7çš„é¡µé¢çš„ç›¸åº”åç§»é‡å¤„å†™å…¥8ä¸ªå­—èŠ‚çš„å€¼ã€‚ä½†æ˜¯æˆ‘ä»¬è¦çŸ¥é“ï¼Œè¿™ä¸ªå†™å…¥å®é™…ä¸Šæ˜¯åœ¨&lt;code>Buffer Pool&lt;/code>ä¸­å®Œæˆçš„ï¼Œæˆ‘ä»¬éœ€è¦ä¸ºè¿™ä¸ªé¡µé¢çš„ä¿®æ”¹è®°å½•ä¸€æ¡&lt;code>redo&lt;/code>æ—¥å¿—ï¼Œä»¥ä¾¿åœ¨ç³»ç»Ÿå¥”æºƒåèƒ½å°†å·²ç»æäº¤çš„è¯¥äº‹åŠ¡å¯¹è¯¥é¡µé¢æ‰€åšçš„ä¿®æ”¹æ¢å¤å‡ºæ¥ã€‚è¿™ç§æƒ…å†µä¸‹å¯¹é¡µé¢çš„ä¿®æ”¹æ˜¯æå…¶ç®€å•çš„ï¼Œ&lt;code>redo&lt;/code>æ—¥å¿—ä¸­åªéœ€è¦&lt;strong>è®°å½•ä¸€ä¸‹åœ¨æŸä¸ªé¡µé¢çš„æŸä¸ªåç§»é‡å¤„ä¿®æ”¹äº†å‡ ä¸ªå­—èŠ‚çš„å€¼ï¼Œå…·ä½“è¢«ä¿®æ”¹çš„å†…å®¹æ˜¯ä»€ä¹ˆå°±å¥½äº†&lt;/strong>ï¼Œè®¾è®¡&lt;code>InnoDB&lt;/code>çš„å¤§ä½¬æŠŠè¿™ç§æå…¶ç®€å•çš„&lt;code>redo&lt;/code>æ—¥å¿—ç§°ä¹‹ä¸º&lt;code>ç‰©ç†æ—¥å¿—&lt;/code>ï¼Œå¹¶ä¸”æ ¹æ®åœ¨é¡µé¢ä¸­å†™å…¥æ•°æ®çš„å¤šå°‘åˆ’åˆ†äº†å‡ ç§ä¸åŒçš„&lt;code>redo&lt;/code>æ—¥å¿—ç±»å‹ï¼š - &lt;code>MLOG_1BYTE&lt;/code>ï¼ˆ&lt;code>type&lt;/code>å­—æ®µå¯¹åº”çš„åè¿›åˆ¶æ•°å­—ä¸º&lt;code>1&lt;/code>ï¼‰ï¼šè¡¨ç¤ºåœ¨é¡µé¢çš„æŸä¸ªåç§»é‡å¤„å†™å…¥1ä¸ªå­—èŠ‚çš„&lt;code>redo&lt;/code>æ—¥å¿—ç±»å‹ã€‚ - &lt;code>MLOG_2BYTE&lt;/code>ï¼ˆ&lt;code>type&lt;/code>å­—æ®µå¯¹åº”çš„åè¿›åˆ¶æ•°å­—ä¸º&lt;code>2&lt;/code>ï¼‰ï¼šè¡¨ç¤ºåœ¨é¡µé¢çš„æŸä¸ªåç§»é‡å¤„å†™å…¥2ä¸ªå­—èŠ‚çš„&lt;code>redo&lt;/code>æ—¥å¿—ç±»å‹ã€‚ - &lt;code>MLOG_4BYTE&lt;/code>ï¼ˆ&lt;code>type&lt;/code>å­—æ®µå¯¹åº”çš„åè¿›åˆ¶æ•°å­—ä¸º&lt;code>4&lt;/code>ï¼‰ï¼šè¡¨ç¤ºåœ¨é¡µé¢çš„æŸä¸ªåç§»é‡å¤„å†™å…¥4ä¸ªå­—èŠ‚çš„&lt;code>redo&lt;/code>æ—¥å¿—ç±»å‹ã€‚ - &lt;code>MLOG_8BYTE&lt;/code>ï¼ˆ&lt;code>type&lt;/code>å­—æ®µå¯¹åº”çš„åè¿›åˆ¶æ•°å­—ä¸º&lt;code>8&lt;/code>ï¼‰ï¼šè¡¨ç¤ºåœ¨é¡µé¢çš„æŸä¸ªåç§»é‡å¤„å†™å…¥8ä¸ªå­—èŠ‚çš„&lt;code>redo&lt;/code>æ—¥å¿—ç±»å‹ã€‚ - &lt;code>MLOG_WRITE_STRING&lt;/code>ï¼ˆ&lt;code>type&lt;/code>å­—æ®µå¯¹åº”çš„åè¿›åˆ¶æ•°å­—ä¸º&lt;code>30&lt;/code>ï¼‰ï¼šè¡¨ç¤ºåœ¨é¡µé¢çš„æŸä¸ªåç§»é‡å¤„å†™å…¥ä¸€ä¸²æ•°æ®ã€‚&lt;/p></description></item><item><title>ç¬¬19ç« _ä»çŒ«çˆ·è¢«æ€è¯´èµ·-äº‹åŠ¡ç®€ä»‹</title><link>https://lwmfjc.github.io/zh/docs/technology/MySQL/MySQL%E6%98%AF%E6%80%8E%E6%A0%B7%E8%BF%90%E8%A1%8C%E7%9A%84/%E7%AC%AC19%E7%AB%A0_%E4%BB%8E%E7%8C%AB%E7%88%B7%E8%A2%AB%E6%9D%80%E8%AF%B4%E8%B5%B7-%E4%BA%8B%E5%8A%A1%E7%AE%80%E4%BB%8B/</link><pubDate>Sat, 11 Jan 2025 16:40:15 +0800</pubDate><guid>https://lwmfjc.github.io/zh/docs/technology/MySQL/MySQL%E6%98%AF%E6%80%8E%E6%A0%B7%E8%BF%90%E8%A1%8C%E7%9A%84/%E7%AC%AC19%E7%AB%A0_%E4%BB%8E%E7%8C%AB%E7%88%B7%E8%A2%AB%E6%9D%80%E8%AF%B4%E8%B5%B7-%E4%BA%8B%E5%8A%A1%E7%AE%80%E4%BB%8B/</guid><description>&lt;h1 id="ç¬¬19ç« -ä»çŒ«çˆ·è¢«æ€è¯´èµ·-äº‹åŠ¡ç®€ä»‹">
 ç¬¬19ç«  ä»çŒ«çˆ·è¢«æ€è¯´èµ·-äº‹åŠ¡ç®€ä»‹
 &lt;a class="anchor" href="#%e7%ac%ac19%e7%ab%a0-%e4%bb%8e%e7%8c%ab%e7%88%b7%e8%a2%ab%e6%9d%80%e8%af%b4%e8%b5%b7-%e4%ba%8b%e5%8a%a1%e7%ae%80%e4%bb%8b">#&lt;/a>
&lt;/h1>
&lt;p>äº‹åŠ¡çš„èµ·æº&lt;/p>
&lt;p>å¯¹äºå¤§éƒ¨åˆ†ç¨‹åºå‘˜æ¥è¯´ï¼Œä»–ä»¬çš„ä»»åŠ¡å°±æ˜¯æŠŠç°å®ä¸–ç•Œçš„ä¸šåŠ¡åœºæ™¯æ˜ å°„åˆ°æ•°æ®åº“ä¸–ç•Œã€‚æ¯”å¦‚é“¶è¡Œä¸ºäº†å­˜å‚¨äººä»¬çš„è´¦æˆ·ä¿¡æ¯ä¼šå»ºç«‹ä¸€ä¸ª&lt;code>account&lt;/code>è¡¨ï¼š &lt;code>CREATE TABLE account ( id INT NOT NULL AUTO_INCREMENT COMMENT 'è‡ªå¢id', name VARCHAR(100) COMMENT 'å®¢æˆ·åç§°', balance INT COMMENT 'ä½™é¢', PRIMARY KEY (id) ) Engine=InnoDB CHARSET=utf8;&lt;/code> ç‹—å“¥å’ŒçŒ«çˆ·æ˜¯ä¸€å¯¹å¥½åŸºå‹ï¼Œä»–ä»¬éƒ½åˆ°é“¶è¡Œå¼€ä¸€ä¸ªè´¦æˆ·ï¼Œä»–ä»¬åœ¨ç°å®ä¸–ç•Œä¸­æ‹¥æœ‰çš„èµ„äº§å°±ä¼šä½“ç°åœ¨æ•°æ®åº“ä¸–ç•Œçš„&lt;code>account&lt;/code>è¡¨ä¸­ã€‚æ¯”å¦‚ç°åœ¨ç‹—å“¥æœ‰&lt;code>11&lt;/code>å…ƒï¼ŒçŒ«çˆ·åªæœ‰&lt;code>2&lt;/code>å…ƒï¼Œé‚£ä¹ˆç°å®ä¸­çš„è¿™ä¸ªæƒ…å†µæ˜ å°„åˆ°æ•°æ®åº“çš„&lt;code>account&lt;/code>è¡¨å°±æ˜¯è¿™æ ·ï¼š &lt;code>+----+--------+---------+ | id | name | balance | +----+--------+---------+ | 1 | ç‹—å“¥ | 11 | | 2 | çŒ«çˆ· | 2 | +----+--------+---------+&lt;/code> åœ¨æŸä¸ªç‰¹å®šçš„æ—¶åˆ»ï¼Œç‹—å“¥çŒ«çˆ·è¿™äº›å®¶ä¼™åœ¨é“¶è¡Œæ‰€æ‹¥æœ‰çš„èµ„äº§æ˜¯ä¸€ä¸ªç‰¹å®šçš„å€¼ï¼Œè¿™äº›ç‰¹å®šçš„å€¼ä¹Ÿå¯ä»¥è¢«æè¿°ä¸ºè´¦æˆ·åœ¨è¿™ä¸ªç‰¹å®šçš„æ—¶åˆ»ç°å®ä¸–ç•Œçš„ä¸€ä¸ªçŠ¶æ€ã€‚éšç€æ—¶é—´çš„æµé€ï¼Œç‹—å“¥å’ŒçŒ«çˆ·å¯èƒ½é™†ç»­è¿›è¡Œå‘è´¦æˆ·ä¸­å­˜é’±ã€å–é’±æˆ–è€…å‘åˆ«äººè½¬è´¦ç­‰æ“ä½œï¼Œè¿™æ ·ä»–ä»¬è´¦æˆ·ä¸­çš„ä½™é¢å°±å¯èƒ½å‘ç”Ÿå˜åŠ¨ï¼Œ&lt;strong>æ¯ä¸€ä¸ªæ“ä½œéƒ½ç›¸å½“äºç°å®ä¸–ç•Œä¸­è´¦æˆ·çš„ä¸€æ¬¡çŠ¶æ€è½¬æ¢&lt;/strong>ã€‚æ•°æ®åº“ä¸–ç•Œä½œä¸ºç°å®ä¸–ç•Œçš„ä¸€ä¸ªæ˜ å°„ï¼Œè‡ªç„¶ä¹Ÿè¦è¿›è¡Œç›¸åº”çš„å˜åŠ¨ã€‚ä¸å˜ä¸çŸ¥é“ï¼Œä¸€å˜å“ä¸€è·³ï¼Œç°å®ä¸–ç•Œä¸­ä¸€äº›çœ‹ä¼¼å¾ˆç®€å•çš„çŠ¶æ€è½¬æ¢ï¼Œæ˜ å°„åˆ°æ•°æ®åº“ä¸–ç•Œå´ä¸æ˜¯é‚£ä¹ˆå®¹æ˜“çš„ã€‚æ¯”æ–¹è¯´æœ‰ä¸€æ¬¡çŒ«çˆ·åœ¨èµŒåœºèµŒåšè¾“äº†é’±ï¼Œæ€¥å¿™æ‰“ç”µè¯ç»™ç‹—å“¥è¦å€Ÿ10å—é’±ï¼Œä¸ç„¶é‚£äº›çœ‹åœºå­çš„å°±ä¼šæŠŠè‡ªå·±å‰äº†ã€‚ç°å®ä¸–ç•Œä¸­çš„ç‹—å“¥èµ°å‘äº†ATMæœºï¼Œè¾“å…¥äº†çŒ«çˆ·çš„è´¦å·ä»¥åŠ10å…ƒçš„è½¬è´¦é‡‘é¢ï¼Œç„¶åæŒ‰ä¸‹ç¡®è®¤ï¼Œç‹—å“¥å°±æ‹”å¡èµ°äººäº†ã€‚å¯¹äºæ•°æ®åº“ä¸–ç•Œæ¥è¯´ï¼Œç›¸å½“äºæ‰§è¡Œäº†ä¸‹é¢è¿™ä¸¤æ¡è¯­å¥ï¼š&lt;/p>
&lt;p>&lt;code>UPDATE account SET balance = balance - 10 WHERE id = 1; UPDATE account SET balance = balance + 10 WHERE id = 2;&lt;/code>&lt;/p></description></item><item><title>ç¬¬18ç« _è°ƒèŠ‚ç£ç›˜å’ŒCPUçš„çŸ›ç›¾-InnoDBçš„BufferPool</title><link>https://lwmfjc.github.io/zh/docs/technology/MySQL/MySQL%E6%98%AF%E6%80%8E%E6%A0%B7%E8%BF%90%E8%A1%8C%E7%9A%84/%E7%AC%AC18%E7%AB%A0_%E8%B0%83%E8%8A%82%E7%A3%81%E7%9B%98%E5%92%8CCPU%E7%9A%84%E7%9F%9B%E7%9B%BE-InnoDB%E7%9A%84BufferPool/</link><pubDate>Sat, 11 Jan 2025 16:40:14 +0800</pubDate><guid>https://lwmfjc.github.io/zh/docs/technology/MySQL/MySQL%E6%98%AF%E6%80%8E%E6%A0%B7%E8%BF%90%E8%A1%8C%E7%9A%84/%E7%AC%AC18%E7%AB%A0_%E8%B0%83%E8%8A%82%E7%A3%81%E7%9B%98%E5%92%8CCPU%E7%9A%84%E7%9F%9B%E7%9B%BE-InnoDB%E7%9A%84BufferPool/</guid><description>&lt;h1 id="ç¬¬18ç« -è°ƒèŠ‚ç£ç›˜å’Œcpuçš„çŸ›ç›¾-innodbçš„buffer-pool">
 ç¬¬18ç«  è°ƒèŠ‚ç£ç›˜å’ŒCPUçš„çŸ›ç›¾-InnoDBçš„Buffer Pool
 &lt;a class="anchor" href="#%e7%ac%ac18%e7%ab%a0-%e8%b0%83%e8%8a%82%e7%a3%81%e7%9b%98%e5%92%8ccpu%e7%9a%84%e7%9f%9b%e7%9b%be-innodb%e7%9a%84buffer-pool">#&lt;/a>
&lt;/h1>
&lt;p>ç¼“å­˜çš„é‡è¦æ€§&lt;/p>
&lt;p>é€šè¿‡å‰é¢çš„ä»‹ç»æˆ‘ä»¬çŸ¥é“ï¼Œå¯¹äºä½¿ç”¨&lt;code>InnoDB&lt;/code>ä½œä¸ºå­˜å‚¨å¼•æ“çš„è¡¨æ¥è¯´ï¼Œä¸ç®¡æ˜¯ç”¨äºå­˜å‚¨ç”¨æˆ·æ•°æ®çš„ç´¢å¼•ï¼ˆåŒ…æ‹¬èšç°‡ç´¢å¼•å’ŒäºŒçº§ç´¢å¼•ï¼‰ï¼Œè¿˜æ˜¯å„ç§ç³»ç»Ÿæ•°æ®ï¼Œéƒ½æ˜¯ä»¥&lt;code>é¡µ&lt;/code>çš„å½¢å¼å­˜æ”¾åœ¨&lt;code>è¡¨ç©ºé—´&lt;/code>ä¸­çš„ï¼Œè€Œæ‰€è°“çš„&lt;code>è¡¨ç©ºé—´&lt;/code>åªä¸è¿‡æ˜¯&lt;code>InnoDB&lt;/code>å¯¹æ–‡ä»¶ç³»ç»Ÿä¸Šä¸€ä¸ªæˆ–å‡ ä¸ªå®é™…æ–‡ä»¶çš„æŠ½è±¡ï¼Œä¹Ÿå°±æ˜¯è¯´æˆ‘ä»¬çš„æ•°æ®è¯´åˆ°åº•è¿˜æ˜¯å­˜å‚¨åœ¨ç£ç›˜ä¸Šçš„ã€‚ä½†æ˜¯å„ä½ä¹Ÿéƒ½çŸ¥é“ï¼Œç£ç›˜çš„é€Ÿåº¦æ…¢çš„è·Ÿä¹Œé¾Ÿä¸€æ ·ï¼Œæ€ä¹ˆèƒ½é…å¾—ä¸Šâ€œå¿«å¦‚é£ï¼Œç–¾å¦‚ç”µâ€çš„&lt;code>CPU&lt;/code>å‘¢ï¼Ÿæ‰€ä»¥&lt;code>InnoDB&lt;/code>å­˜å‚¨å¼•æ“åœ¨å¤„ç†å®¢æˆ·ç«¯çš„è¯·æ±‚æ—¶ï¼Œå½“éœ€è¦è®¿é—®æŸä¸ªé¡µçš„æ•°æ®æ—¶ï¼Œå°±ä¼šæŠŠå®Œæ•´çš„é¡µçš„æ•°æ®å…¨éƒ¨åŠ è½½åˆ°å†…å­˜ä¸­ï¼Œä¹Ÿå°±æ˜¯è¯´&lt;strong>å³ä½¿æˆ‘ä»¬åªéœ€è¦è®¿é—®ä¸€ä¸ªé¡µçš„ä¸€æ¡è®°å½•ï¼Œé‚£ä¹Ÿéœ€è¦å…ˆæŠŠæ•´ä¸ªé¡µçš„æ•°æ®åŠ è½½åˆ°å†…å­˜ä¸­&lt;/strong>ã€‚å°†æ•´ä¸ªé¡µåŠ è½½åˆ°å†…å­˜ä¸­åå°±å¯ä»¥è¿›è¡Œè¯»å†™è®¿é—®äº†ï¼Œåœ¨è¿›è¡Œå®Œè¯»å†™è®¿é—®ä¹‹åå¹¶ä¸ç€æ€¥æŠŠè¯¥é¡µå¯¹åº”çš„å†…å­˜ç©ºé—´é‡Šæ”¾æ‰ï¼Œè€Œæ˜¯å°†å…¶&lt;code>ç¼“å­˜&lt;/code>èµ·æ¥ï¼Œè¿™æ ·å°†æ¥æœ‰è¯·æ±‚å†æ¬¡è®¿é—®è¯¥é¡µé¢æ—¶ï¼Œå°±å¯ä»¥çœå»ç£ç›˜&lt;code>IO&lt;/code>çš„å¼€é”€äº†ã€‚&lt;/p>
&lt;p>InnoDBçš„Buffer Pool&lt;/p>
&lt;h1 id="ä»€ä¹ˆæ˜¯ä¸ªbuffer-pool">
 ä»€ä¹ˆæ˜¯ä¸ªBuffer Pool
 &lt;a class="anchor" href="#%e4%bb%80%e4%b9%88%e6%98%af%e4%b8%aabuffer-pool">#&lt;/a>
&lt;/h1>
&lt;p>è®¾è®¡&lt;code>InnoDB&lt;/code>çš„å¤§ä½¬ä¸ºäº†ç¼“å­˜ç£ç›˜ä¸­çš„é¡µï¼Œåœ¨&lt;code>MySQL&lt;/code>æœåŠ¡å™¨å¯åŠ¨çš„æ—¶å€™å°±å‘æ“ä½œç³»ç»Ÿç”³è¯·äº†ä¸€ç‰‡è¿ç»­çš„å†…å­˜ï¼Œä»–ä»¬ç»™è¿™ç‰‡å†…å­˜èµ·äº†ä¸ªåï¼Œå«åš&lt;code>Buffer Pool&lt;/code>ï¼ˆä¸­æ–‡åæ˜¯&lt;code>ç¼“å†²æ± &lt;/code>ï¼‰ã€‚é‚£å®ƒæœ‰å¤šå¤§å‘¢ï¼Ÿè¿™ä¸ªå…¶å®çœ‹æˆ‘ä»¬æœºå™¨çš„é…ç½®ï¼Œå¦‚æœä½ æ˜¯åœŸè±ªï¼Œä½ æœ‰&lt;code>512G&lt;/code>å†…å­˜ï¼Œä½ åˆ†é…ä¸ªå‡ ç™¾Gä½œä¸º&lt;code>Buffer Pool&lt;/code>ä¹Ÿå¯ä»¥å•Šï¼Œå½“ç„¶ä½ è¦æ˜¯æ²¡é‚£ä¹ˆæœ‰é’±ï¼Œè®¾ç½®å°ç‚¹ä¹Ÿè¡Œå‘€ï½ é»˜è®¤æƒ…å†µä¸‹&lt;code>Buffer Pool&lt;/code>åªæœ‰&lt;code>128M&lt;/code>å¤§å°ã€‚å½“ç„¶å¦‚æœä½ å«Œå¼ƒè¿™ä¸ª&lt;code>128M&lt;/code>å¤ªå¤§æˆ–è€…å¤ªå°ï¼Œå¯ä»¥åœ¨å¯åŠ¨æœåŠ¡å™¨çš„æ—¶å€™é…ç½®&lt;code>innodb_buffer_pool_size&lt;/code>å‚æ•°çš„å€¼ï¼Œå®ƒè¡¨ç¤º&lt;code>Buffer Pool&lt;/code>çš„å¤§å°ï¼Œå°±åƒè¿™æ ·ï¼š &lt;code>[server] innodb_buffer_pool_size = 268435456&lt;/code> å…¶ä¸­ï¼Œ&lt;code>268435456&lt;/code>çš„å•ä½æ˜¯å­—èŠ‚ï¼Œä¹Ÿå°±æ˜¯æˆ‘æŒ‡å®š&lt;code>Buffer Pool&lt;/code>çš„å¤§å°ä¸º&lt;code>256M&lt;/code>ã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œ&lt;code>Buffer Pool&lt;/code>ä¹Ÿä¸èƒ½å¤ªå°ï¼Œæœ€å°å€¼ä¸º&lt;code>5M&lt;/code>(å½“å°äºè¯¥å€¼æ—¶ä¼šè‡ªåŠ¨è®¾ç½®æˆ&lt;code>5M&lt;/code>)ã€‚&lt;/p>
&lt;h1 id="buffer-poolå†…éƒ¨ç»„æˆ">
 Buffer Poolå†…éƒ¨ç»„æˆ
 &lt;a class="anchor" href="#buffer-pool%e5%86%85%e9%83%a8%e7%bb%84%e6%88%90">#&lt;/a>
&lt;/h1>
&lt;p>&lt;code>Buffer Pool&lt;/code>ä¸­é»˜è®¤çš„ç¼“å­˜é¡µå¤§å°å’Œåœ¨ç£ç›˜ä¸Šé»˜è®¤çš„é¡µå¤§å°æ˜¯ä¸€æ ·çš„ï¼Œéƒ½æ˜¯&lt;code>16KB&lt;/code>ã€‚ä¸ºäº†æ›´å¥½çš„ç®¡ç†è¿™äº›åœ¨&lt;code>Buffer Pool&lt;/code>ä¸­çš„ç¼“å­˜é¡µï¼Œè®¾è®¡&lt;code>InnoDB&lt;/code>çš„å¤§ä½¬ä¸ºæ¯ä¸€ä¸ªç¼“å­˜é¡µéƒ½åˆ›å»ºäº†ä¸€äº›æ‰€è°“çš„&lt;code>æ§åˆ¶ä¿¡æ¯&lt;/code>ï¼Œè¿™äº›æ§åˆ¶ä¿¡æ¯åŒ…æ‹¬è¯¥é¡µæ‰€å±çš„è¡¨ç©ºé—´ç¼–å·ã€é¡µå·ã€ç¼“å­˜é¡µåœ¨&lt;code>Buffer Pool&lt;/code>ä¸­çš„åœ°å€ã€é“¾è¡¨èŠ‚ç‚¹ä¿¡æ¯ã€ä¸€äº›é”ä¿¡æ¯ä»¥åŠ&lt;code>LSN&lt;/code>ä¿¡æ¯ï¼ˆé”å’Œ&lt;code>LSN&lt;/code>æˆ‘ä»¬ä¹‹åä¼šå…·ä½“ä»‹ç»ï¼Œç°åœ¨å¯ä»¥å…ˆå¿½ç•¥ï¼‰ï¼Œå½“ç„¶è¿˜æœ‰ä¸€äº›åˆ«çš„æ§åˆ¶ä¿¡æ¯ï¼Œæˆ‘ä»¬è¿™å°±ä¸å…¨ä»‹ç»ä¸€éäº†ï¼ŒæŒ‘é‡è¦çš„è¯´å˜›ï½&lt;/p>
&lt;p>æ¯ä¸ªç¼“å­˜é¡µå¯¹åº”çš„æ§åˆ¶ä¿¡æ¯å ç”¨çš„å†…å­˜å¤§å°æ˜¯ç›¸åŒçš„ï¼Œæˆ‘ä»¬å°±æŠŠæ¯ä¸ªé¡µå¯¹åº”çš„æ§åˆ¶ä¿¡æ¯å ç”¨çš„ä¸€å—å†…å­˜ç§°ä¸ºä¸€ä¸ª&lt;code>æ§åˆ¶å—&lt;/code>å§ï¼Œ&lt;strong>æ§åˆ¶å—å’Œç¼“å­˜é¡µæ˜¯ä¸€ä¸€å¯¹åº”çš„ï¼Œå®ƒä»¬éƒ½è¢«å­˜æ”¾åˆ° Buffer Pool ä¸­ï¼Œå…¶ä¸­æ§åˆ¶å—è¢«å­˜æ”¾åˆ° Buffer Pool çš„å‰é¢ï¼Œç¼“å­˜é¡µè¢«å­˜æ”¾åˆ° Buffer Pool åè¾¹&lt;/strong>ï¼Œæ‰€ä»¥æ•´ä¸ª&lt;code>Buffer Pool&lt;/code>å¯¹åº”çš„å†…å­˜ç©ºé—´çœ‹èµ·æ¥å°±æ˜¯è¿™æ ·çš„ï¼š&lt;/p>
&lt;p>&lt;img src="img/18-01.png" alt="" />&lt;/p>
&lt;p>å’¦ï¼Ÿæ§åˆ¶å—å’Œç¼“å­˜é¡µä¹‹é—´çš„é‚£ä¸ª&lt;code>ç¢ç‰‡&lt;/code>æ˜¯ä¸ªä»€ä¹ˆç©æ„å„¿ï¼Ÿä½ æƒ³æƒ³å•Šï¼Œæ¯ä¸€ä¸ªæ§åˆ¶å—éƒ½å¯¹åº”ä¸€ä¸ªç¼“å­˜é¡µï¼Œé‚£åœ¨åˆ†é…è¶³å¤Ÿå¤šçš„æ§åˆ¶å—å’Œç¼“å­˜é¡µåï¼Œå¯èƒ½å‰©ä½™çš„é‚£ç‚¹å„¿ç©ºé—´ä¸å¤Ÿä¸€å¯¹æ§åˆ¶å—å’Œç¼“å­˜é¡µçš„å¤§å°ï¼Œè‡ªç„¶å°±ç”¨ä¸åˆ°å–½ï¼Œè¿™ä¸ªç”¨ä¸åˆ°çš„é‚£ç‚¹å„¿å†…å­˜ç©ºé—´å°±è¢«ç§°ä¸º&lt;code>ç¢ç‰‡&lt;/code>äº†ã€‚å½“ç„¶ï¼Œå¦‚æœä½ æŠŠ&lt;code>Buffer Pool&lt;/code>çš„å¤§å°è®¾ç½®çš„åˆšåˆšå¥½çš„è¯ï¼Œä¹Ÿå¯èƒ½ä¸ä¼šäº§ç”Ÿ&lt;code>ç¢ç‰‡&lt;/code>ï½ &lt;code>å°è´´å£«ï¼šæ¯ä¸ªæ§åˆ¶å—å¤§çº¦å ç”¨ç¼“å­˜é¡µå¤§å°çš„5%ï¼Œåœ¨MySQL5.7.21è¿™ä¸ªç‰ˆæœ¬ä¸­ï¼Œæ¯ä¸ªæ§åˆ¶å—å ç”¨çš„å¤§å°æ˜¯808å­—èŠ‚ã€‚è€Œæˆ‘ä»¬è®¾ç½®çš„innodb_buffer_pool_sizeå¹¶ä¸åŒ…å«è¿™éƒ¨åˆ†æ§åˆ¶å—å ç”¨çš„å†…å­˜ç©ºé—´å¤§å°ï¼Œä¹Ÿå°±æ˜¯è¯´InnoDBåœ¨ä¸ºBuffer Poolå‘æ“ä½œç³»ç»Ÿç”³è¯·è¿ç»­çš„å†…å­˜ç©ºé—´æ—¶ï¼Œè¿™ç‰‡è¿ç»­çš„å†…å­˜ç©ºé—´ä¸€èˆ¬ä¼šæ¯”innodb_buffer_pool_sizeçš„å€¼å¤§5%å·¦å³ã€‚&lt;/code>&lt;/p>
&lt;h1 id="freeé“¾è¡¨çš„ç®¡ç†">
 freeé“¾è¡¨çš„ç®¡ç†
 &lt;a class="anchor" href="#free%e9%93%be%e8%a1%a8%e7%9a%84%e7%ae%a1%e7%90%86">#&lt;/a>
&lt;/h1>
&lt;p>å½“æˆ‘ä»¬æœ€åˆå¯åŠ¨&lt;code>MySQL&lt;/code>æœåŠ¡å™¨çš„æ—¶å€™ï¼Œéœ€è¦å®Œæˆå¯¹&lt;code>Buffer Pool&lt;/code>çš„åˆå§‹åŒ–è¿‡ç¨‹ï¼Œå°±æ˜¯å…ˆå‘æ“ä½œç³»ç»Ÿç”³è¯·&lt;code>Buffer Pool&lt;/code>çš„å†…å­˜ç©ºé—´ï¼Œç„¶åæŠŠå®ƒåˆ’åˆ†æˆè‹¥å¹²å¯¹æ§åˆ¶å—å’Œç¼“å­˜é¡µã€‚ä½†æ˜¯æ­¤æ—¶å¹¶æ²¡æœ‰çœŸå®çš„ç£ç›˜é¡µè¢«ç¼“å­˜åˆ°&lt;code>Buffer Pool&lt;/code>ä¸­ï¼ˆå› ä¸ºè¿˜æ²¡æœ‰ç”¨åˆ°ï¼‰ï¼Œä¹‹åéšç€ç¨‹åºçš„è¿è¡Œï¼Œä¼šä¸æ–­çš„æœ‰ç£ç›˜ä¸Šçš„é¡µè¢«ç¼“å­˜åˆ°&lt;code>Buffer Pool&lt;/code>ä¸­ã€‚é‚£ä¹ˆé—®é¢˜æ¥äº†ï¼Œä»ç£ç›˜ä¸Šè¯»å–ä¸€ä¸ªé¡µåˆ°&lt;code>Buffer Pool&lt;/code>ä¸­çš„æ—¶å€™è¯¥æ”¾åˆ°å“ªä¸ªç¼“å­˜é¡µçš„ä½ç½®å‘¢ï¼Ÿæˆ–è€…è¯´æ€ä¹ˆåŒºåˆ†&lt;code>Buffer Pool&lt;/code>ä¸­å“ªäº›ç¼“å­˜é¡µæ˜¯ç©ºé—²çš„ï¼Œå“ªäº›å·²ç»è¢«ä½¿ç”¨äº†å‘¢ï¼Ÿ&lt;strong>æˆ‘ä»¬æœ€å¥½åœ¨æŸä¸ªåœ°æ–¹è®°å½•ä¸€ä¸‹Buffer Poolä¸­å“ªäº›ç¼“å­˜é¡µæ˜¯å¯ç”¨çš„&lt;/strong>ï¼Œè¿™ä¸ªæ—¶å€™ç¼“å­˜é¡µå¯¹åº”çš„&lt;code>æ§åˆ¶å—&lt;/code>å°±æ´¾ä¸Šå¤§ç”¨åœºäº†ï¼Œæˆ‘ä»¬å¯ä»¥&lt;strong>æŠŠæ‰€æœ‰ç©ºé—²çš„ç¼“å­˜é¡µå¯¹åº”çš„æ§åˆ¶å—ä½œä¸ºä¸€ä¸ªèŠ‚ç‚¹æ”¾åˆ°ä¸€ä¸ªé“¾è¡¨ä¸­&lt;/strong>ï¼Œè¿™ä¸ªé“¾è¡¨ä¹Ÿå¯ä»¥è¢«ç§°ä½œ&lt;code>freeé“¾è¡¨&lt;/code>ï¼ˆæˆ–è€…è¯´ç©ºé—²é“¾è¡¨ï¼‰ã€‚åˆšåˆšå®Œæˆåˆå§‹åŒ–çš„&lt;code>Buffer Pool&lt;/code>ä¸­æ‰€æœ‰çš„ç¼“å­˜é¡µéƒ½æ˜¯ç©ºé—²çš„ï¼Œæ‰€ä»¥æ¯ä¸€ä¸ªç¼“å­˜é¡µå¯¹åº”çš„æ§åˆ¶å—éƒ½ä¼šè¢«åŠ å…¥åˆ°&lt;code>freeé“¾è¡¨&lt;/code>ä¸­ï¼Œå‡è®¾è¯¥&lt;code>Buffer Pool&lt;/code>ä¸­å¯å®¹çº³çš„ç¼“å­˜é¡µæ•°é‡ä¸º&lt;code>n&lt;/code>ï¼Œé‚£å¢åŠ äº†&lt;code>freeé“¾è¡¨&lt;/code>çš„æ•ˆæœå›¾å°±æ˜¯è¿™æ ·çš„ï¼š&lt;/p>
&lt;p>&lt;img src="img/18-02.png" alt="" />&lt;/p>
&lt;p>ä»å›¾ä¸­å¯ä»¥çœ‹å‡ºï¼Œæˆ‘ä»¬ä¸ºäº†ç®¡ç†å¥½è¿™ä¸ª&lt;code>freeé“¾è¡¨&lt;/code>ï¼Œç‰¹æ„ä¸ºè¿™ä¸ªé“¾è¡¨å®šä¹‰äº†ä¸€ä¸ª&lt;code>åŸºèŠ‚ç‚¹&lt;/code>ï¼Œé‡Œè¾¹å„¿åŒ…å«ç€é“¾è¡¨çš„å¤´èŠ‚ç‚¹åœ°å€ï¼Œå°¾èŠ‚ç‚¹åœ°å€ï¼Œä»¥åŠå½“å‰é“¾è¡¨ä¸­èŠ‚ç‚¹çš„æ•°é‡ç­‰ä¿¡æ¯ã€‚è¿™é‡Œéœ€è¦æ³¨æ„çš„æ˜¯ï¼Œé“¾è¡¨çš„åŸºèŠ‚ç‚¹å ç”¨çš„å†…å­˜ç©ºé—´å¹¶ä¸åŒ…å«åœ¨ä¸º&lt;code>Buffer Pool&lt;/code>ç”³è¯·çš„ä¸€å¤§ç‰‡è¿ç»­å†…å­˜ç©ºé—´ä¹‹å†…ï¼Œè€Œæ˜¯å•ç‹¬ç”³è¯·çš„ä¸€å—å†…å­˜ç©ºé—´ã€‚ &lt;code>å°è´´å£«ï¼šé“¾è¡¨åŸºèŠ‚ç‚¹å ç”¨çš„å†…å­˜ç©ºé—´å¹¶ä¸å¤§ï¼Œåœ¨MySQL5.7.21è¿™ä¸ªç‰ˆæœ¬é‡Œï¼Œæ¯ä¸ªåŸºèŠ‚ç‚¹åªå ç”¨40å­—èŠ‚å¤§å°ã€‚åè¾¹æˆ‘ä»¬å³å°†ä»‹ç»è®¸å¤šä¸åŒçš„é“¾è¡¨ï¼Œå®ƒä»¬çš„åŸºèŠ‚ç‚¹å’Œfreeé“¾è¡¨çš„åŸºèŠ‚ç‚¹çš„å†…å­˜åˆ†é…æ–¹å¼æ˜¯ä¸€æ ·ä¸€æ ·çš„ï¼Œéƒ½æ˜¯å•ç‹¬ç”³è¯·çš„ä¸€å—40å­—èŠ‚å¤§å°çš„å†…å­˜ç©ºé—´ï¼Œå¹¶ä¸åŒ…å«åœ¨ä¸ºBuffer Poolç”³è¯·çš„ä¸€å¤§ç‰‡è¿ç»­å†…å­˜ç©ºé—´ä¹‹å†…ã€‚&lt;/code>&lt;/p></description></item><item><title>ç¬¬17ç« _ç¥å…µåˆ©å™¨-optimizer_traceè¡¨çš„ç¥å™¨åŠŸæ•ˆ</title><link>https://lwmfjc.github.io/zh/docs/technology/MySQL/MySQL%E6%98%AF%E6%80%8E%E6%A0%B7%E8%BF%90%E8%A1%8C%E7%9A%84/%E7%AC%AC17%E7%AB%A0_%E7%A5%9E%E5%85%B5%E5%88%A9%E5%99%A8-optimizer_trace%E8%A1%A8%E7%9A%84%E7%A5%9E%E5%99%A8%E5%8A%9F%E6%95%88/</link><pubDate>Sat, 11 Jan 2025 16:40:13 +0800</pubDate><guid>https://lwmfjc.github.io/zh/docs/technology/MySQL/MySQL%E6%98%AF%E6%80%8E%E6%A0%B7%E8%BF%90%E8%A1%8C%E7%9A%84/%E7%AC%AC17%E7%AB%A0_%E7%A5%9E%E5%85%B5%E5%88%A9%E5%99%A8-optimizer_trace%E8%A1%A8%E7%9A%84%E7%A5%9E%E5%99%A8%E5%8A%9F%E6%95%88/</guid><description>&lt;h1 id="ç¬¬17ç« -ç¥å…µåˆ©å™¨-optimizer-traceè¡¨çš„ç¥å™¨åŠŸæ•ˆ">
 ç¬¬17ç«  ç¥å…µåˆ©å™¨-optimizer traceè¡¨çš„ç¥å™¨åŠŸæ•ˆ
 &lt;a class="anchor" href="#%e7%ac%ac17%e7%ab%a0-%e7%a5%9e%e5%85%b5%e5%88%a9%e5%99%a8-optimizer-trace%e8%a1%a8%e7%9a%84%e7%a5%9e%e5%99%a8%e5%8a%9f%e6%95%88">#&lt;/a>
&lt;/h1>
&lt;p>å¯¹äº&lt;code>MySQL 5.6&lt;/code>ä»¥åŠä¹‹å‰çš„ç‰ˆæœ¬æ¥è¯´ï¼ŒæŸ¥è¯¢ä¼˜åŒ–å™¨å°±åƒæ˜¯ä¸€ä¸ªé»‘ç›’å­ä¸€æ ·ï¼Œä½ åªèƒ½é€šè¿‡&lt;code>EXPLAIN&lt;/code>è¯­å¥æŸ¥çœ‹åˆ°æœ€åä¼˜åŒ–å™¨å†³å®šä½¿ç”¨çš„æ‰§è¡Œè®¡åˆ’ï¼Œå´æ— æ³•çŸ¥é“å®ƒä¸ºä»€ä¹ˆåšè¿™ä¸ªå†³ç­–ã€‚è¿™å¯¹äºä¸€éƒ¨åˆ†å–œæ¬¢åˆ¨æ ¹é—®åº•çš„å°ä¼™ä¼´æ¥è¯´ç®€ç›´æ˜¯ç¾éš¾ï¼šâ€œæˆ‘å°±è§‰å¾—ä½¿ç”¨å…¶ä»–çš„æ‰§è¡Œæ–¹æ¡ˆæ¯”&lt;code>EXPLAIN&lt;/code>è¾“å‡ºçš„è¿™ç§æ–¹æ¡ˆå¼ºï¼Œå‡­ä»€ä¹ˆä¼˜åŒ–å™¨åšçš„å†³å®šå’Œæˆ‘æƒ³çš„ä¸ä¸€æ ·å‘¢ï¼Ÿâ€&lt;/p>
&lt;p>åœ¨&lt;code>MySQL 5.6&lt;/code>ä»¥åŠä¹‹åçš„ç‰ˆæœ¬ä¸­ï¼Œè®¾è®¡&lt;code>MySQL&lt;/code>çš„å¤§ä½¬è´´å¿ƒçš„ä¸ºè¿™éƒ¨åˆ†å°ä¼™ä¼´æå‡ºäº†ä¸€ä¸ª&lt;code>optimizer trace&lt;/code>çš„åŠŸèƒ½ï¼Œè¿™ä¸ªåŠŸèƒ½å¯ä»¥è®©æˆ‘ä»¬æ–¹ä¾¿çš„æŸ¥çœ‹ä¼˜åŒ–å™¨ç”Ÿæˆæ‰§è¡Œè®¡åˆ’çš„æ•´ä¸ªè¿‡ç¨‹ï¼Œè¿™ä¸ªåŠŸèƒ½çš„å¼€å¯ä¸å…³é—­ç”±ç³»ç»Ÿå˜é‡&lt;code>optimizer_trace&lt;/code>å†³å®šï¼Œæˆ‘ä»¬çœ‹ä¸€ä¸‹ï¼š &lt;code>mysql&amp;gt; SHOW VARIABLES LIKE 'optimizer_trace'; +-----------------+--------------------------+ | Variable_name | Value | +-----------------+--------------------------+ | optimizer_trace | enabled=off,one_line=off | +-----------------+--------------------------+ 1 row in set (0.02 sec)&lt;/code> å¯ä»¥çœ‹åˆ°&lt;code>enabled&lt;/code>å€¼ä¸º&lt;code>off&lt;/code>ï¼Œè¡¨æ˜è¿™ä¸ªåŠŸèƒ½é»˜è®¤æ˜¯å…³é—­çš„ã€‚ &lt;code>å°è´´å£«ï¼šone_lineçš„å€¼æ˜¯æ§åˆ¶è¾“å‡ºæ ¼å¼çš„ï¼Œå¦‚æœä¸ºoné‚£ä¹ˆæ‰€æœ‰è¾“å‡ºéƒ½å°†åœ¨ä¸€è¡Œä¸­å±•ç¤ºï¼Œä¸é€‚åˆäººé˜…è¯»ï¼Œæ‰€ä»¥æˆ‘ä»¬å°±ä¿æŒå…¶é»˜è®¤å€¼ä¸ºoffå§ã€‚&lt;/code> å¦‚æœæƒ³æ‰“å¼€è¿™ä¸ªåŠŸèƒ½ï¼Œå¿…é¡»é¦–å…ˆæŠŠ&lt;code>enabled&lt;/code>çš„å€¼æ”¹ä¸º&lt;code>on&lt;/code>ï¼Œå°±åƒè¿™æ ·ï¼š &lt;code>mysql&amp;gt; SET optimizer_trace=&amp;quot;enabled=on&amp;quot;; Query OK, 0 rows affected (0.00 sec)&lt;/code> ç„¶åæˆ‘ä»¬å°±å¯ä»¥è¾“å…¥æˆ‘ä»¬æƒ³è¦æŸ¥çœ‹ä¼˜åŒ–è¿‡ç¨‹çš„æŸ¥è¯¢è¯­å¥ï¼Œå½“è¯¥æŸ¥è¯¢è¯­å¥æ‰§è¡Œå®Œæˆåï¼Œå°±å¯ä»¥åˆ°&lt;code>information_schema&lt;/code>æ•°æ®åº“ä¸‹çš„&lt;code>OPTIMIZER_TRACE&lt;/code>è¡¨ä¸­æŸ¥çœ‹å®Œæ•´çš„ä¼˜åŒ–è¿‡ç¨‹ã€‚è¿™ä¸ª&lt;code>OPTIMIZER_TRACE&lt;/code>è¡¨æœ‰4ä¸ªåˆ—ï¼Œåˆ†åˆ«æ˜¯ï¼š - &lt;code>QUERY&lt;/code>ï¼šè¡¨ç¤ºæˆ‘ä»¬çš„æŸ¥è¯¢è¯­å¥ã€‚ - &lt;code>TRACE&lt;/code>ï¼šè¡¨ç¤ºä¼˜åŒ–è¿‡ç¨‹çš„JSONæ ¼å¼æ–‡æœ¬ã€‚ - &lt;code>MISSING_BYTES_BEYOND_MAX_MEM_SIZE&lt;/code>ï¼šç”±äºä¼˜åŒ–è¿‡ç¨‹å¯èƒ½ä¼šè¾“å‡ºå¾ˆå¤šï¼Œå¦‚æœè¶…è¿‡æŸä¸ªé™åˆ¶æ—¶ï¼Œå¤šä½™çš„æ–‡æœ¬å°†ä¸ä¼šè¢«æ˜¾ç¤ºï¼Œè¿™ä¸ªå­—æ®µå±•ç¤ºäº†è¢«å¿½ç•¥çš„æ–‡æœ¬å­—èŠ‚æ•°ã€‚ - &lt;code>INSUFFICIENT_PRIVILEGES&lt;/code>ï¼šè¡¨ç¤ºæ˜¯å¦æ²¡æœ‰æƒé™æŸ¥çœ‹ä¼˜åŒ–è¿‡ç¨‹ï¼Œé»˜è®¤å€¼æ˜¯0ï¼Œåªæœ‰æŸäº›ç‰¹æ®Šæƒ…å†µä¸‹æ‰ä¼šæ˜¯&lt;code>1&lt;/code>ï¼Œæˆ‘ä»¬æš‚æ—¶ä¸å…³å¿ƒè¿™ä¸ªå­—æ®µçš„å€¼ã€‚&lt;/p>
&lt;p>å®Œæ•´çš„ä½¿ç”¨&lt;code>optimizer trace&lt;/code>åŠŸèƒ½çš„æ­¥éª¤æ€»ç»“å¦‚ä¸‹ï¼š ```&lt;/p>
&lt;h1 id="1-æ‰“å¼€optimizer-traceåŠŸèƒ½-é»˜è®¤æƒ…å†µä¸‹å®ƒæ˜¯å…³é—­çš„">
 1. æ‰“å¼€optimizer traceåŠŸèƒ½ (é»˜è®¤æƒ…å†µä¸‹å®ƒæ˜¯å…³é—­çš„):
 &lt;a class="anchor" href="#1-%e6%89%93%e5%bc%80optimizer-trace%e5%8a%9f%e8%83%bd-%e9%bb%98%e8%ae%a4%e6%83%85%e5%86%b5%e4%b8%8b%e5%ae%83%e6%98%af%e5%85%b3%e9%97%ad%e7%9a%84">#&lt;/a>
&lt;/h1>
&lt;p>SET optimizer_trace=&amp;ldquo;enabled=on&amp;rdquo;;&lt;/p>
&lt;h1 id="2-è¿™é‡Œè¾“å…¥ä½ è‡ªå·±çš„æŸ¥è¯¢è¯­å¥">
 2. è¿™é‡Œè¾“å…¥ä½ è‡ªå·±çš„æŸ¥è¯¢è¯­å¥
 &lt;a class="anchor" href="#2-%e8%bf%99%e9%87%8c%e8%be%93%e5%85%a5%e4%bd%a0%e8%87%aa%e5%b7%b1%e7%9a%84%e6%9f%a5%e8%af%a2%e8%af%ad%e5%8f%a5">#&lt;/a>
&lt;/h1>
&lt;p>SELECT &amp;hellip;;&lt;/p></description></item><item><title>ç¬¬16ç« _æŸ¥è¯¢ä¼˜åŒ–çš„ç™¾ç§‘å…¨ä¹¦-Explainè¯¦è§£(ä¸‹)</title><link>https://lwmfjc.github.io/zh/docs/technology/MySQL/MySQL%E6%98%AF%E6%80%8E%E6%A0%B7%E8%BF%90%E8%A1%8C%E7%9A%84/%E7%AC%AC16%E7%AB%A0_%E6%9F%A5%E8%AF%A2%E4%BC%98%E5%8C%96%E7%9A%84%E7%99%BE%E7%A7%91%E5%85%A8%E4%B9%A6-Explain%E8%AF%A6%E8%A7%A3%E4%B8%8B/</link><pubDate>Sat, 11 Jan 2025 16:40:12 +0800</pubDate><guid>https://lwmfjc.github.io/zh/docs/technology/MySQL/MySQL%E6%98%AF%E6%80%8E%E6%A0%B7%E8%BF%90%E8%A1%8C%E7%9A%84/%E7%AC%AC16%E7%AB%A0_%E6%9F%A5%E8%AF%A2%E4%BC%98%E5%8C%96%E7%9A%84%E7%99%BE%E7%A7%91%E5%85%A8%E4%B9%A6-Explain%E8%AF%A6%E8%A7%A3%E4%B8%8B/</guid><description>&lt;h1 id="ç¬¬16ç« -æŸ¥è¯¢ä¼˜åŒ–çš„ç™¾ç§‘å…¨ä¹¦-explainè¯¦è§£ä¸‹">
 ç¬¬16ç«  æŸ¥è¯¢ä¼˜åŒ–çš„ç™¾ç§‘å…¨ä¹¦-Explainè¯¦è§£ï¼ˆä¸‹ï¼‰
 &lt;a class="anchor" href="#%e7%ac%ac16%e7%ab%a0-%e6%9f%a5%e8%af%a2%e4%bc%98%e5%8c%96%e7%9a%84%e7%99%be%e7%a7%91%e5%85%a8%e4%b9%a6-explain%e8%af%a6%e8%a7%a3%e4%b8%8b">#&lt;/a>
&lt;/h1>
&lt;p>æ‰§è¡Œè®¡åˆ’è¾“å‡ºä¸­å„åˆ—è¯¦è§£&lt;/p>
&lt;p>æœ¬ç« ç´§æ¥ç€ä¸Šä¸€èŠ‚çš„å†…å®¹ï¼Œç»§ç»­ä»‹ç»&lt;code>EXPLAIN&lt;/code>è¯­å¥è¾“å‡ºçš„å„ä¸ªåˆ—çš„æ„æ€ã€‚&lt;/p>
&lt;h1 id="extra">
 Extra
 &lt;a class="anchor" href="#extra">#&lt;/a>
&lt;/h1>
&lt;p>é¡¾åæ€ä¹‰ï¼Œ&lt;code>Extra&lt;/code>åˆ—æ˜¯ç”¨æ¥è¯´æ˜ä¸€äº›é¢å¤–ä¿¡æ¯çš„ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡è¿™äº›é¢å¤–ä¿¡æ¯æ¥æ›´å‡†ç¡®çš„ç†è§£&lt;code>MySQL&lt;/code>åˆ°åº•å°†å¦‚ä½•æ‰§è¡Œç»™å®šçš„æŸ¥è¯¢è¯­å¥ã€‚&lt;code>MySQL&lt;/code>æä¾›çš„é¢å¤–ä¿¡æ¯æœ‰å¥½å‡ åä¸ªï¼Œæˆ‘ä»¬å°±ä¸ä¸€ä¸ªä¸€ä¸ªä»‹ç»äº†ï¼ˆéƒ½ä»‹ç»äº†æ„Ÿè§‰æˆ‘ä»¬çš„æ–‡ç« å°±è·Ÿæ–‡æ¡£å·®ä¸å¤šäº†ï½ï¼‰ï¼Œæ‰€ä»¥æˆ‘ä»¬åªæŒ‘ä¸€äº›å¹³æ—¶å¸¸è§çš„æˆ–è€…æ¯”è¾ƒé‡è¦çš„é¢å¤–ä¿¡æ¯ä»‹ç»ç»™å¤§å®¶ã€‚&lt;/p>
&lt;ul>
&lt;li>&lt;/li>
&lt;/ul>
&lt;p>&lt;code>No tables used&lt;/code>&lt;/p>
&lt;p>å½“æŸ¥è¯¢è¯­å¥çš„æ²¡æœ‰&lt;code>FROM&lt;/code>å­å¥æ—¶å°†ä¼šæç¤ºè¯¥é¢å¤–ä¿¡æ¯ï¼Œæ¯”å¦‚ï¼š &lt;code>mysql&amp;gt; EXPLAIN SELECT 1; +----+-------------+-------+------------+------+---------------+------+---------+------+------+----------+----------------+ | id | select_type | table | partitions | type | possible_keys | key | key_len | ref | rows | filtered | Extra | +----+-------------+-------+------------+------+---------------+------+---------+------+------+----------+----------------+ | 1 | SIMPLE | NULL | NULL | NULL | NULL | NULL | NULL | NULL | NULL | NULL | No tables used | +----+-------------+-------+------------+------+---------------+------+---------+------+------+----------+----------------+ 1 row in set, 1 warning (0.00 sec)&lt;/code>&lt;/p></description></item><item><title>ç¬¬15ç« _æŸ¥è¯¢ä¼˜åŒ–çš„ç™¾ç§‘å…¨ä¹¦-Explainè¯¦è§£(ä¸Š)</title><link>https://lwmfjc.github.io/zh/docs/technology/MySQL/MySQL%E6%98%AF%E6%80%8E%E6%A0%B7%E8%BF%90%E8%A1%8C%E7%9A%84/%E7%AC%AC15%E7%AB%A0_%E6%9F%A5%E8%AF%A2%E4%BC%98%E5%8C%96%E7%9A%84%E7%99%BE%E7%A7%91%E5%85%A8%E4%B9%A6-Explain%E8%AF%A6%E8%A7%A3%E4%B8%8A/</link><pubDate>Sat, 11 Jan 2025 16:40:11 +0800</pubDate><guid>https://lwmfjc.github.io/zh/docs/technology/MySQL/MySQL%E6%98%AF%E6%80%8E%E6%A0%B7%E8%BF%90%E8%A1%8C%E7%9A%84/%E7%AC%AC15%E7%AB%A0_%E6%9F%A5%E8%AF%A2%E4%BC%98%E5%8C%96%E7%9A%84%E7%99%BE%E7%A7%91%E5%85%A8%E4%B9%A6-Explain%E8%AF%A6%E8%A7%A3%E4%B8%8A/</guid><description>&lt;h1 id="ç¬¬15ç« -æŸ¥è¯¢ä¼˜åŒ–çš„ç™¾ç§‘å…¨ä¹¦-explainè¯¦è§£ä¸Š">
 ç¬¬15ç«  æŸ¥è¯¢ä¼˜åŒ–çš„ç™¾ç§‘å…¨ä¹¦-Explainè¯¦è§£ï¼ˆä¸Šï¼‰
 &lt;a class="anchor" href="#%e7%ac%ac15%e7%ab%a0-%e6%9f%a5%e8%af%a2%e4%bc%98%e5%8c%96%e7%9a%84%e7%99%be%e7%a7%91%e5%85%a8%e4%b9%a6-explain%e8%af%a6%e8%a7%a3%e4%b8%8a">#&lt;/a>
&lt;/h1>
&lt;p>ä¸€æ¡æŸ¥è¯¢è¯­å¥åœ¨ç»è¿‡&lt;code>MySQL&lt;/code>æŸ¥è¯¢ä¼˜åŒ–å™¨çš„å„ç§åŸºäºæˆæœ¬å’Œè§„åˆ™çš„ä¼˜åŒ–ä¼šåç”Ÿæˆä¸€ä¸ªæ‰€è°“çš„&lt;code>æ‰§è¡Œè®¡åˆ’&lt;/code>ï¼Œè¿™ä¸ªæ‰§è¡Œè®¡åˆ’å±•ç¤ºäº†æ¥ä¸‹æ¥å…·ä½“æ‰§è¡ŒæŸ¥è¯¢çš„æ–¹å¼ï¼Œæ¯”å¦‚å¤šè¡¨è¿æ¥çš„é¡ºåºæ˜¯ä»€ä¹ˆï¼Œå¯¹äºæ¯ä¸ªè¡¨é‡‡ç”¨ä»€ä¹ˆè®¿é—®æ–¹æ³•æ¥å…·ä½“æ‰§è¡ŒæŸ¥è¯¢ç­‰ç­‰ã€‚è®¾è®¡&lt;code>MySQL&lt;/code>çš„å¤§ä½¬è´´å¿ƒçš„ä¸ºæˆ‘ä»¬æä¾›äº†&lt;code>EXPLAIN&lt;/code>è¯­å¥æ¥å¸®åŠ©æˆ‘ä»¬æŸ¥çœ‹æŸä¸ªæŸ¥è¯¢è¯­å¥çš„å…·ä½“æ‰§è¡Œè®¡åˆ’ï¼Œæœ¬ç« çš„å†…å®¹å°±æ˜¯ä¸ºäº†å¸®åŠ©å¤§å®¶çœ‹æ‡‚&lt;code>EXPLAIN&lt;/code>è¯­å¥çš„å„ä¸ªè¾“å‡ºé¡¹éƒ½æ˜¯å¹²å˜›ä½¿çš„ï¼Œä»è€Œå¯ä»¥æœ‰é’ˆå¯¹æ€§çš„æå‡æˆ‘ä»¬æŸ¥è¯¢è¯­å¥çš„æ€§èƒ½ã€‚&lt;/p>
&lt;p>å¦‚æœæˆ‘ä»¬æƒ³çœ‹çœ‹æŸä¸ªæŸ¥è¯¢çš„æ‰§è¡Œè®¡åˆ’çš„è¯ï¼Œå¯ä»¥åœ¨å…·ä½“çš„æŸ¥è¯¢è¯­å¥å‰é¢åŠ ä¸€ä¸ª&lt;code>EXPLAIN&lt;/code>ï¼Œå°±åƒè¿™æ ·ï¼š&lt;/p>
&lt;p>&lt;code>mysql&amp;gt; EXPLAIN SELECT 1; +----+-------------+-------+------------+------+---------------+------+---------+------+------+----------+----------------+ | id | select_type | table | partitions | type | possible_keys | key | key_len | ref | rows | filtered | Extra | +----+-------------+-------+------------+------+---------------+------+---------+------+------+----------+----------------+ | 1 | SIMPLE | NULL | NULL | NULL | NULL | NULL | NULL | NULL | NULL | NULL | No tables used | +----+-------------+-------+------------+------+---------------+------+---------+------+------+----------+----------------+ 1 row in set, 1 warning (0.01 sec)&lt;/code> ç„¶åè¿™è¾“å‡ºçš„ä¸€å¤§å¨ä¸œè¥¿å°±æ˜¯æ‰€è°“çš„&lt;code>æ‰§è¡Œè®¡åˆ’&lt;/code>ï¼Œæˆ‘çš„ä»»åŠ¡å°±æ˜¯å¸¦é¢†å¤§å®¶çœ‹æ‡‚è¿™ä¸€å¤§å¨ä¸œè¥¿é‡Œè¾¹çš„æ¯ä¸ªåˆ—éƒ½æ˜¯å¹²ä»€ä¹ˆç”¨çš„ï¼Œä»¥åŠåœ¨è¿™ä¸ª&lt;code>æ‰§è¡Œè®¡åˆ’&lt;/code>çš„è¾…åŠ©ä¸‹ï¼Œæˆ‘ä»¬åº”è¯¥æ€æ ·æ”¹è¿›è‡ªå·±çš„æŸ¥è¯¢è¯­å¥ä»¥ä½¿æŸ¥è¯¢æ‰§è¡Œèµ·æ¥æ›´é«˜æ•ˆã€‚å…¶å®é™¤äº†ä»¥&lt;code>SELECT&lt;/code>å¼€å¤´çš„æŸ¥è¯¢è¯­å¥ï¼Œå…¶ä½™çš„&lt;code>DELETE&lt;/code>ã€&lt;code>INSERT&lt;/code>ã€&lt;code>REPLACE&lt;/code>ä»¥åŠ&lt;code>UPDATE&lt;/code>è¯­å¥å‰é¢éƒ½å¯ä»¥åŠ ä¸Š&lt;code>EXPLAIN&lt;/code>è¿™ä¸ªè¯å„¿ï¼Œç”¨æ¥æŸ¥çœ‹è¿™äº›è¯­å¥çš„æ‰§è¡Œè®¡åˆ’ï¼Œä¸è¿‡æˆ‘ä»¬è¿™é‡Œå¯¹&lt;code>SELECT&lt;/code>è¯­å¥æ›´æ„Ÿå…´è¶£ï¼Œæ‰€ä»¥åè¾¹åªä¼šä»¥&lt;code>SELECT&lt;/code>è¯­å¥ä¸ºä¾‹æ¥æè¿°&lt;code>EXPLAIN&lt;/code>è¯­å¥çš„ç”¨æ³•ã€‚ä¸ºäº†è®©å¤§å®¶å…ˆæœ‰ä¸€ä¸ªæ„Ÿæ€§çš„è®¤è¯†ï¼Œæˆ‘ä»¬æŠŠ&lt;code>EXPLAIN&lt;/code>è¯­å¥è¾“å‡ºçš„å„ä¸ªåˆ—çš„ä½œç”¨å…ˆå¤§è‡´ç½—åˆ—ä¸€ä¸‹ï¼š
åˆ—å æè¿° &lt;code>id&lt;/code> åœ¨ä¸€ä¸ªå¤§çš„æŸ¥è¯¢è¯­å¥ä¸­æ¯ä¸ª&lt;code>SELECT&lt;/code>å…³é”®å­—éƒ½å¯¹åº”ä¸€ä¸ªå”¯ä¸€çš„&lt;code>id&lt;/code> &lt;code>select_type&lt;/code> &lt;code>SELECT&lt;/code>å…³é”®å­—å¯¹åº”çš„é‚£ä¸ªæŸ¥è¯¢çš„ç±»å‹ &lt;code>table&lt;/code> è¡¨å &lt;code>partitions&lt;/code> åŒ¹é…çš„åˆ†åŒºä¿¡æ¯ &lt;code>type&lt;/code> é’ˆå¯¹å•è¡¨çš„è®¿é—®æ–¹æ³• &lt;code>possible_keys&lt;/code> å¯èƒ½ç”¨åˆ°çš„ç´¢å¼• &lt;code>key&lt;/code> å®é™…ä¸Šä½¿ç”¨çš„ç´¢å¼• &lt;code>key_len&lt;/code> å®é™…ä½¿ç”¨åˆ°çš„ç´¢å¼•é•¿åº¦ &lt;code>ref&lt;/code> å½“ä½¿ç”¨ç´¢å¼•åˆ—ç­‰å€¼æŸ¥è¯¢æ—¶ï¼Œä¸ç´¢å¼•åˆ—è¿›è¡Œç­‰å€¼åŒ¹é…çš„å¯¹è±¡ä¿¡æ¯ &lt;code>rows&lt;/code> é¢„ä¼°çš„éœ€è¦è¯»å–çš„è®°å½•æ¡æ•° &lt;code>filtered&lt;/code> æŸä¸ªè¡¨ç»è¿‡æœç´¢æ¡ä»¶è¿‡æ»¤åå‰©ä½™è®°å½•æ¡æ•°çš„ç™¾åˆ†æ¯” &lt;code>Extra&lt;/code> ä¸€äº›é¢å¤–çš„ä¿¡æ¯ &lt;br>
éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œ&lt;strong>å¤§å®¶å¦‚æœçœ‹ä¸æ‡‚ä¸Šé¢è¾“å‡ºåˆ—å«ä¹‰ï¼Œé‚£æ˜¯æ­£å¸¸çš„ï¼Œåƒä¸‡ä¸è¦çº ç»“ï½&lt;/strong>ã€‚æˆ‘åœ¨è¿™é‡ŒæŠŠå®ƒä»¬éƒ½åˆ—å‡ºæ¥åªæ˜¯ä¸ºäº†æè¿°ä¸€ä¸ªè½®å»“ï¼Œè®©å¤§å®¶æœ‰ä¸€ä¸ªå¤§è‡´çš„å°è±¡ï¼Œä¸‹é¢ä¼šç»†ç»†é“æ¥ï¼Œç­‰ä¼šå„¿è¯´å®Œäº†ä¸ä¿¡ä½ ä¸ä¼šï½ ä¸ºäº†æ•…äº‹çš„é¡ºåˆ©å‘å±•ï¼Œæˆ‘ä»¬è¿˜æ˜¯è¦è¯·å‡ºæˆ‘ä»¬å‰é¢å·²ç»ç”¨äº†néçš„&lt;code>single_table&lt;/code>è¡¨ï¼Œä¸ºäº†é˜²æ­¢å¤§å®¶å¿˜äº†ï¼Œå†æŠŠå®ƒçš„ç»“æ„æè¿°ä¸€éï¼š &lt;code>CREATE TABLE single_table ( id INT NOT NULL AUTO_INCREMENT, key1 VARCHAR(100), key2 INT, key3 VARCHAR(100), key_part1 VARCHAR(100), key_part2 VARCHAR(100), key_part3 VARCHAR(100), common_field VARCHAR(100), PRIMARY KEY (id), KEY idx_key1 (key1), UNIQUE KEY idx_key2 (key2), KEY idx_key3 (key3), KEY idx_key_part(key_part1, key_part2, key_part3) ) Engine=InnoDB CHARSET=utf8;&lt;/code> æˆ‘ä»¬ä»ç„¶å‡è®¾æœ‰ä¸¤ä¸ªå’Œ&lt;code>single_table&lt;/code>è¡¨æ„é€ ä¸€æ¨¡ä¸€æ ·çš„&lt;code>s1&lt;/code>ã€&lt;code>s2&lt;/code>è¡¨ï¼Œè€Œä¸”è¿™ä¸¤ä¸ªè¡¨é‡Œè¾¹å„¿æœ‰10000æ¡è®°å½•ï¼Œé™¤idåˆ—å¤–å…¶ä½™çš„åˆ—éƒ½æ’å…¥éšæœºå€¼ã€‚ä¸ºäº†è®©å¤§å®¶æœ‰æ¯”è¾ƒå¥½çš„é˜…è¯»ä½“éªŒï¼Œæˆ‘ä»¬ä¸‹é¢å¹¶ä¸å‡†å¤‡ä¸¥æ ¼æŒ‰ç…§&lt;code>EXPLAIN&lt;/code>è¾“å‡ºåˆ—çš„é¡ºåºæ¥ä»‹ç»è¿™äº›åˆ—åˆ†åˆ«æ˜¯å¹²å˜›çš„ï¼Œå¤§å®¶æ³¨æ„ä¸€ä¸‹å°±å¥½äº†ã€‚&lt;/p></description></item><item><title>ç¬¬14ç« _ä¸å¥½çœ‹å°±è¦å¤šæ•´å®¹-MySQLåŸºäºè§„åˆ™çš„ä¼˜åŒ–(å†…å«å…³äºå­æŸ¥è¯¢ä¼˜åŒ–äºŒä¸‰äº‹å„¿)</title><link>https://lwmfjc.github.io/zh/docs/technology/MySQL/MySQL%E6%98%AF%E6%80%8E%E6%A0%B7%E8%BF%90%E8%A1%8C%E7%9A%84/%E7%AC%AC14%E7%AB%A0_%E4%B8%8D%E5%A5%BD%E7%9C%8B%E5%B0%B1%E8%A6%81%E5%A4%9A%E6%95%B4%E5%AE%B9-MySQL%E5%9F%BA%E4%BA%8E%E8%A7%84%E5%88%99%E7%9A%84%E4%BC%98%E5%8C%96%E5%86%85%E5%90%AB%E5%85%B3%E4%BA%8E%E5%AD%90%E6%9F%A5%E8%AF%A2%E4%BC%98%E5%8C%96%E4%BA%8C%E4%B8%89%E4%BA%8B%E5%84%BF/</link><pubDate>Sat, 11 Jan 2025 16:40:10 +0800</pubDate><guid>https://lwmfjc.github.io/zh/docs/technology/MySQL/MySQL%E6%98%AF%E6%80%8E%E6%A0%B7%E8%BF%90%E8%A1%8C%E7%9A%84/%E7%AC%AC14%E7%AB%A0_%E4%B8%8D%E5%A5%BD%E7%9C%8B%E5%B0%B1%E8%A6%81%E5%A4%9A%E6%95%B4%E5%AE%B9-MySQL%E5%9F%BA%E4%BA%8E%E8%A7%84%E5%88%99%E7%9A%84%E4%BC%98%E5%8C%96%E5%86%85%E5%90%AB%E5%85%B3%E4%BA%8E%E5%AD%90%E6%9F%A5%E8%AF%A2%E4%BC%98%E5%8C%96%E4%BA%8C%E4%B8%89%E4%BA%8B%E5%84%BF/</guid><description>&lt;h1 id="ç¬¬14ç« -ä¸å¥½çœ‹å°±è¦å¤šæ•´å®¹-mysqlåŸºäºè§„åˆ™çš„ä¼˜åŒ–å†…å«å…³äºå­æŸ¥è¯¢ä¼˜åŒ–äºŒä¸‰äº‹å„¿">
 ç¬¬14ç«  ä¸å¥½çœ‹å°±è¦å¤šæ•´å®¹-MySQLåŸºäºè§„åˆ™çš„ä¼˜åŒ–ï¼ˆå†…å«å…³äºå­æŸ¥è¯¢ä¼˜åŒ–äºŒä¸‰äº‹å„¿ï¼‰
 &lt;a class="anchor" href="#%e7%ac%ac14%e7%ab%a0-%e4%b8%8d%e5%a5%bd%e7%9c%8b%e5%b0%b1%e8%a6%81%e5%a4%9a%e6%95%b4%e5%ae%b9-mysql%e5%9f%ba%e4%ba%8e%e8%a7%84%e5%88%99%e7%9a%84%e4%bc%98%e5%8c%96%e5%86%85%e5%90%ab%e5%85%b3%e4%ba%8e%e5%ad%90%e6%9f%a5%e8%af%a2%e4%bc%98%e5%8c%96%e4%ba%8c%e4%b8%89%e4%ba%8b%e5%84%bf">#&lt;/a>
&lt;/h1>
&lt;p>å¤§å®¶åˆ«å¿˜äº†&lt;code>MySQL&lt;/code>æœ¬è´¨ä¸Šæ˜¯ä¸€ä¸ªè½¯ä»¶ï¼Œè®¾è®¡&lt;code>MySQL&lt;/code>çš„å¤§ä½¬å¹¶ä¸èƒ½è¦æ±‚ä½¿ç”¨è¿™ä¸ªè½¯ä»¶çš„äººä¸ªä¸ªéƒ½æ˜¯æ•°æ®åº“é«˜é«˜æ‰‹ï¼Œå°±åƒæˆ‘å†™è¿™æœ¬ä¹¦çš„æ—¶å€™å¹¶ä¸èƒ½è¦æ±‚å„ä½åœ¨å­¦ä¹‹å‰å°±ä¼šäº†é‡Œè¾¹å„¿çš„çŸ¥è¯†ã€‚ &lt;code>åæ§½ä¸€ä¸‹ï¼šéƒ½ä¼šäº†çš„äººè°è¿˜çœ‹å‘¢ï¼Œéš¾é“æ˜¯ä¸ºäº†ç²¾ç¥ä¸Šå—æ„ŸåŒ–ï¼Ÿ&lt;/code> ä¹Ÿå°±æ˜¯è¯´æˆ‘ä»¬æ— æ³•é¿å…æŸäº›åŒå­¦å†™ä¸€äº›æ‰§è¡Œèµ·æ¥ååˆ†è€—è´¹æ€§èƒ½çš„è¯­å¥ã€‚å³ä½¿æ˜¯è¿™æ ·ï¼Œè®¾è®¡&lt;code>MySQL&lt;/code>çš„å¤§ä½¬è¿˜æ˜¯ä¾æ®ä¸€äº›è§„åˆ™ï¼Œç«­å°½å…¨åŠ›çš„æŠŠè¿™ä¸ªå¾ˆç³Ÿç³•çš„è¯­å¥è½¬æ¢æˆæŸç§å¯ä»¥æ¯”è¾ƒé«˜æ•ˆæ‰§è¡Œçš„å½¢å¼ï¼Œè¿™ä¸ªè¿‡ç¨‹ä¹Ÿå¯ä»¥è¢«ç§°ä½œ&lt;code>æŸ¥è¯¢é‡å†™&lt;/code>ï¼ˆå°±æ˜¯äººå®¶è§‰å¾—ä½ å†™çš„è¯­å¥ä¸å¥½ï¼Œè‡ªå·±å†é‡å†™ä¸€éï¼‰ã€‚æœ¬ç« è¯¦ç»†ä»‹ç»ä¸€ä¸‹ä¸€äº›æ¯”è¾ƒé‡è¦çš„é‡å†™è§„åˆ™ã€‚&lt;/p>
&lt;p>æ¡ä»¶åŒ–ç®€&lt;/p>
&lt;p>æˆ‘ä»¬ç¼–å†™çš„æŸ¥è¯¢è¯­å¥çš„æœç´¢æ¡ä»¶æœ¬è´¨ä¸Šæ˜¯ä¸€ä¸ªè¡¨è¾¾å¼ï¼Œè¿™äº›è¡¨è¾¾å¼å¯èƒ½æ¯”è¾ƒç¹æ‚ï¼Œæˆ–è€…ä¸èƒ½é«˜æ•ˆçš„æ‰§è¡Œï¼Œ&lt;code>MySQL&lt;/code>çš„æŸ¥è¯¢ä¼˜åŒ–å™¨ä¼šä¸ºæˆ‘ä»¬ç®€åŒ–è¿™äº›è¡¨è¾¾å¼ã€‚ä¸ºäº†æ–¹ä¾¿å¤§å®¶ç†è§£ï¼Œæˆ‘ä»¬åè¾¹ä¸¾ä¾‹å­çš„æ—¶å€™éƒ½ä½¿ç”¨è¯¸å¦‚&lt;code>a&lt;/code>ã€&lt;code>b&lt;/code>ã€&lt;code>c&lt;/code>ä¹‹ç±»çš„ç®€å•å­—æ¯ä»£è¡¨æŸä¸ªè¡¨çš„åˆ—åã€‚&lt;/p>
&lt;h1 id="ç§»é™¤ä¸å¿…è¦çš„æ‹¬å·">
 ç§»é™¤ä¸å¿…è¦çš„æ‹¬å·
 &lt;a class="anchor" href="#%e7%a7%bb%e9%99%a4%e4%b8%8d%e5%bf%85%e8%a6%81%e7%9a%84%e6%8b%ac%e5%8f%b7">#&lt;/a>
&lt;/h1>
&lt;p>æœ‰æ—¶å€™è¡¨è¾¾å¼é‡Œæœ‰è®¸å¤šæ— ç”¨çš„æ‹¬å·ï¼Œæ¯”å¦‚è¿™æ ·ï¼š &lt;code>((a = 5 AND b = c) OR ((a &amp;gt; c) AND (c &amp;lt; 5)))&lt;/code> çœ‹ç€å°±å¾ˆçƒ¦ï¼Œä¼˜åŒ–å™¨ä¼šæŠŠé‚£äº›ç”¨ä¸åˆ°çš„æ‹¬å·ç»™å¹²æ‰ï¼Œå°±æ˜¯è¿™æ ·ï¼š &lt;code>(a = 5 and b = c) OR (a &amp;gt; c AND c &amp;lt; 5)&lt;/code>&lt;/p>
&lt;h1 id="å¸¸é‡ä¼ é€’constant_propagation">
 å¸¸é‡ä¼ é€’ï¼ˆconstant_propagationï¼‰
 &lt;a class="anchor" href="#%e5%b8%b8%e9%87%8f%e4%bc%a0%e9%80%92constant_propagation">#&lt;/a>
&lt;/h1>
&lt;p>æœ‰æ—¶å€™æŸä¸ªè¡¨è¾¾å¼æ˜¯æŸä¸ªåˆ—å’ŒæŸä¸ªå¸¸é‡åšç­‰å€¼åŒ¹é…ï¼Œæ¯”å¦‚è¿™æ ·ï¼š &lt;code>a = 5&lt;/code> å½“è¿™ä¸ªè¡¨è¾¾å¼å’Œå…¶ä»–æ¶‰åŠåˆ—&lt;code>a&lt;/code>çš„è¡¨è¾¾å¼ä½¿ç”¨&lt;code>AND&lt;/code>è¿æ¥èµ·æ¥æ—¶ï¼Œå¯ä»¥å°†å…¶ä»–è¡¨è¾¾å¼ä¸­çš„&lt;code>a&lt;/code>çš„å€¼æ›¿æ¢ä¸º&lt;code>5&lt;/code>ï¼Œæ¯”å¦‚è¿™æ ·ï¼š &lt;code>a = 5 AND b &amp;gt; a&lt;/code> å°±å¯ä»¥è¢«è½¬æ¢ä¸ºï¼š &lt;code>a = 5 AND b &amp;gt; 5&lt;/code> &lt;code>å°è´´å£«ï¼šä¸ºä»€ä¹ˆç”¨ORè¿æ¥èµ·æ¥çš„è¡¨è¾¾å¼å°±ä¸èƒ½è¿›è¡Œå¸¸é‡ä¼ é€’å‘¢ï¼Ÿè‡ªå·±æƒ³æƒ³ï½&lt;/code>&lt;/p>
&lt;h1 id="ç­‰å€¼ä¼ é€’equality_propagation">
 ç­‰å€¼ä¼ é€’ï¼ˆequality_propagationï¼‰
 &lt;a class="anchor" href="#%e7%ad%89%e5%80%bc%e4%bc%a0%e9%80%92equality_propagation">#&lt;/a>
&lt;/h1>
&lt;p>æœ‰æ—¶å€™å¤šä¸ªåˆ—ä¹‹é—´å­˜åœ¨ç­‰å€¼åŒ¹é…çš„å…³ç³»ï¼Œæ¯”å¦‚è¿™æ ·ï¼š &lt;code>a = b and b = c and c = 5&lt;/code> è¿™ä¸ªè¡¨è¾¾å¼å¯ä»¥è¢«ç®€åŒ–ä¸ºï¼š &lt;code>a = 5 and b = 5 and c = 5&lt;/code>&lt;/p></description></item><item><title>ç¬¬13ç« _å…µé©¬æœªåŠ¨ç²®è‰å…ˆè¡Œ-InnoDBç»Ÿè®¡æ•°æ®æ˜¯å¦‚ä½•æ”¶é›†çš„</title><link>https://lwmfjc.github.io/zh/docs/technology/MySQL/MySQL%E6%98%AF%E6%80%8E%E6%A0%B7%E8%BF%90%E8%A1%8C%E7%9A%84/%E7%AC%AC13%E7%AB%A0_%E5%85%B5%E9%A9%AC%E6%9C%AA%E5%8A%A8%E7%B2%AE%E8%8D%89%E5%85%88%E8%A1%8C-InnoDB%E7%BB%9F%E8%AE%A1%E6%95%B0%E6%8D%AE%E6%98%AF%E5%A6%82%E4%BD%95%E6%94%B6%E9%9B%86%E7%9A%84/</link><pubDate>Sat, 11 Jan 2025 16:40:09 +0800</pubDate><guid>https://lwmfjc.github.io/zh/docs/technology/MySQL/MySQL%E6%98%AF%E6%80%8E%E6%A0%B7%E8%BF%90%E8%A1%8C%E7%9A%84/%E7%AC%AC13%E7%AB%A0_%E5%85%B5%E9%A9%AC%E6%9C%AA%E5%8A%A8%E7%B2%AE%E8%8D%89%E5%85%88%E8%A1%8C-InnoDB%E7%BB%9F%E8%AE%A1%E6%95%B0%E6%8D%AE%E6%98%AF%E5%A6%82%E4%BD%95%E6%94%B6%E9%9B%86%E7%9A%84/</guid><description>&lt;h1 id="ç¬¬13ç« -å…µé©¬æœªåŠ¨ç²®è‰å…ˆè¡Œ-innodbç»Ÿè®¡æ•°æ®æ˜¯å¦‚ä½•æ”¶é›†çš„">
 ç¬¬13ç«  å…µé©¬æœªåŠ¨ï¼Œç²®è‰å…ˆè¡Œ-InnoDBç»Ÿè®¡æ•°æ®æ˜¯å¦‚ä½•æ”¶é›†çš„
 &lt;a class="anchor" href="#%e7%ac%ac13%e7%ab%a0-%e5%85%b5%e9%a9%ac%e6%9c%aa%e5%8a%a8%e7%b2%ae%e8%8d%89%e5%85%88%e8%a1%8c-innodb%e7%bb%9f%e8%ae%a1%e6%95%b0%e6%8d%ae%e6%98%af%e5%a6%82%e4%bd%95%e6%94%b6%e9%9b%86%e7%9a%84">#&lt;/a>
&lt;/h1>
&lt;p>æˆ‘ä»¬å‰é¢ä»‹ç»æŸ¥è¯¢æˆæœ¬çš„æ—¶å€™ç»å¸¸ç”¨åˆ°ä¸€äº›ç»Ÿè®¡æ•°æ®ï¼Œæ¯”å¦‚é€šè¿‡&lt;code>SHOW TABLE STATUS&lt;/code>å¯ä»¥çœ‹åˆ°å…³äºè¡¨çš„ç»Ÿè®¡æ•°æ®ï¼Œé€šè¿‡&lt;code>SHOW INDEX&lt;/code>å¯ä»¥çœ‹åˆ°å…³äºç´¢å¼•çš„ç»Ÿè®¡æ•°æ®ï¼Œé‚£ä¹ˆè¿™äº›ç»Ÿè®¡æ•°æ®æ˜¯æ€ä¹ˆæ¥çš„å‘¢ï¼Ÿå®ƒä»¬æ˜¯ä»¥ä»€ä¹ˆæ–¹å¼æ”¶é›†çš„å‘¢ï¼Ÿæœ¬ç« å°†èšç„¦äº&lt;code>InnoDB&lt;/code>å­˜å‚¨å¼•æ“çš„ç»Ÿè®¡æ•°æ®æ”¶é›†ç­–ç•¥ï¼Œçœ‹å®Œæœ¬ç« å¤§å®¶å°±ä¼šæ˜ç™½ä¸ºä»€ä¹ˆå‰é¢è€è¯´&lt;code>InnoDB&lt;/code>çš„ç»Ÿè®¡ä¿¡æ¯æ˜¯ä¸ç²¾ç¡®çš„ä¼°è®¡å€¼äº†ï¼ˆè¨€ä¸‹ä¹‹æ„å°±æ˜¯æˆ‘ä»¬ä¸æ‰“ç®—ä»‹ç»&lt;code>MyISAM&lt;/code>å­˜å‚¨å¼•æ“ç»Ÿè®¡æ•°æ®çš„æ”¶é›†å’Œå­˜å‚¨æ–¹å¼ï¼Œæœ‰æƒ³äº†è§£çš„åŒå­¦è‡ªå·±ä¸ªå„¿çœ‹çœ‹æ–‡æ¡£ï¼‰ã€‚&lt;/p>
&lt;p>ä¸¤ç§ä¸åŒçš„ç»Ÿè®¡æ•°æ®å­˜å‚¨æ–¹å¼&lt;/p>
&lt;p>&lt;code>InnoDB&lt;/code>æä¾›äº†ä¸¤ç§å­˜å‚¨ç»Ÿè®¡æ•°æ®çš„æ–¹å¼ï¼š&lt;/p>
&lt;ul>
&lt;li>&lt;/li>
&lt;/ul>
&lt;p>æ°¸ä¹…æ€§çš„ç»Ÿè®¡æ•°æ®&lt;/p>
&lt;p>è¿™ç§ç»Ÿè®¡æ•°æ®å­˜å‚¨åœ¨ç£ç›˜ä¸Šï¼Œä¹Ÿå°±æ˜¯æœåŠ¡å™¨é‡å¯ä¹‹åè¿™äº›ç»Ÿè®¡æ•°æ®è¿˜åœ¨ã€‚&lt;/p>
&lt;ul>
&lt;li>&lt;/li>
&lt;/ul>
&lt;p>éæ°¸ä¹…æ€§çš„ç»Ÿè®¡æ•°æ®&lt;/p>
&lt;p>è¿™ç§ç»Ÿè®¡æ•°æ®å­˜å‚¨åœ¨å†…å­˜ä¸­ï¼Œå½“æœåŠ¡å™¨å…³é—­æ—¶è¿™äº›è¿™äº›ç»Ÿè®¡æ•°æ®å°±éƒ½è¢«æ¸…é™¤æ‰äº†ï¼Œç­‰åˆ°æœåŠ¡å™¨é‡å¯ä¹‹åï¼Œåœ¨æŸäº›é€‚å½“çš„åœºæ™¯ä¸‹æ‰ä¼šé‡æ–°æ”¶é›†è¿™äº›ç»Ÿè®¡æ•°æ®ã€‚&lt;/p>
&lt;p>è®¾è®¡&lt;code>MySQL&lt;/code>çš„å¤§ä½¬ä»¬ç»™æˆ‘ä»¬æä¾›äº†ç³»ç»Ÿå˜é‡&lt;code>innodb_stats_persistent&lt;/code>æ¥æ§åˆ¶åˆ°åº•é‡‡ç”¨å“ªç§æ–¹å¼å»å­˜å‚¨ç»Ÿè®¡æ•°æ®ã€‚åœ¨&lt;code>MySQL 5.6.6&lt;/code>ä¹‹å‰ï¼Œ&lt;code>innodb_stats_persistent&lt;/code>çš„å€¼é»˜è®¤æ˜¯&lt;code>OFF&lt;/code>ï¼Œä¹Ÿå°±æ˜¯è¯´&lt;code>InnoDB&lt;/code>çš„ç»Ÿè®¡æ•°æ®é»˜è®¤æ˜¯å­˜å‚¨åˆ°å†…å­˜çš„ï¼Œä¹‹åçš„ç‰ˆæœ¬ä¸­&lt;code>innodb_stats_persistent&lt;/code>çš„å€¼é»˜è®¤æ˜¯&lt;code>ON&lt;/code>ï¼Œä¹Ÿå°±æ˜¯ç»Ÿè®¡æ•°æ®é»˜è®¤è¢«å­˜å‚¨åˆ°ç£ç›˜ä¸­ã€‚&lt;/p>
&lt;p>ä¸è¿‡&lt;code>InnoDB&lt;/code>é»˜è®¤æ˜¯&lt;strong>ä»¥è¡¨ä¸ºå•ä½æ¥æ”¶é›†å’Œå­˜å‚¨ç»Ÿè®¡æ•°æ®çš„&lt;/strong>ï¼Œä¹Ÿå°±æ˜¯è¯´æˆ‘ä»¬å¯ä»¥æŠŠæŸäº›è¡¨çš„ç»Ÿè®¡æ•°æ®ï¼ˆä»¥åŠè¯¥è¡¨çš„ç´¢å¼•ç»Ÿè®¡æ•°æ®ï¼‰å­˜å‚¨åœ¨ç£ç›˜ä¸Šï¼ŒæŠŠå¦ä¸€äº›è¡¨çš„ç»Ÿè®¡æ•°æ®å­˜å‚¨åœ¨å†…å­˜ä¸­ã€‚æ€ä¹ˆåšåˆ°çš„å‘¢ï¼Ÿæˆ‘ä»¬å¯ä»¥åœ¨åˆ›å»ºå’Œä¿®æ”¹è¡¨çš„æ—¶å€™é€šè¿‡æŒ‡å®š&lt;code>STATS_PERSISTENT&lt;/code>å±æ€§æ¥æŒ‡æ˜è¯¥è¡¨çš„ç»Ÿè®¡æ•°æ®å­˜å‚¨æ–¹å¼ï¼š &lt;code>CREATE TABLE è¡¨å (...) Engine=InnoDB, STATS_PERSISTENT = (1|0); ALTER TABLE è¡¨å Engine=InnoDB, STATS_PERSISTENT = (1|0);&lt;/code> å½“&lt;code>STATS_PERSISTENT=1&lt;/code>æ—¶ï¼Œè¡¨æ˜æˆ‘ä»¬æƒ³æŠŠè¯¥è¡¨çš„ç»Ÿè®¡æ•°æ®æ°¸ä¹…çš„å­˜å‚¨åˆ°ç£ç›˜ä¸Šï¼Œå½“&lt;code>STATS_PERSISTENT=0&lt;/code>æ—¶ï¼Œè¡¨æ˜æˆ‘ä»¬æƒ³æŠŠè¯¥è¡¨çš„ç»Ÿè®¡æ•°æ®ä¸´æ—¶çš„å­˜å‚¨åˆ°å†…å­˜ä¸­ã€‚å¦‚æœæˆ‘ä»¬åœ¨åˆ›å»ºè¡¨æ—¶æœªæŒ‡å®š&lt;code>STATS_PERSISTENT&lt;/code>å±æ€§ï¼Œé‚£é»˜è®¤é‡‡ç”¨ç³»ç»Ÿå˜é‡&lt;code>innodb_stats_persistent&lt;/code>çš„å€¼ä½œä¸ºè¯¥å±æ€§çš„å€¼ã€‚&lt;/p>
&lt;p>åŸºäºç£ç›˜çš„æ°¸ä¹…æ€§ç»Ÿè®¡æ•°æ®&lt;/p>
&lt;p>å½“æˆ‘ä»¬é€‰æ‹©æŠŠæŸä¸ªè¡¨ä»¥åŠè¯¥è¡¨ç´¢å¼•çš„ç»Ÿè®¡æ•°æ®å­˜æ”¾åˆ°ç£ç›˜ä¸Šæ—¶ï¼Œå®é™…ä¸Šæ˜¯æŠŠè¿™äº›ç»Ÿè®¡æ•°æ®å­˜å‚¨åˆ°äº†ä¸¤ä¸ªè¡¨é‡Œï¼š&lt;/p>
&lt;p>&lt;code>mysql&amp;gt; SHOW TABLES FROM mysql LIKE 'innodb%'; +---------------------------+ | Tables_in_mysql (innodb%) | +---------------------------+ | innodb_index_stats | | innodb_table_stats | +---------------------------+ 2 rows in set (0.01 sec)&lt;/code> å¯ä»¥çœ‹åˆ°ï¼Œè¿™ä¸¤ä¸ªè¡¨éƒ½ä½äº&lt;code>mysql&lt;/code>ç³»ç»Ÿæ•°æ®åº“ä¸‹é¢ï¼Œå…¶ä¸­ï¼š - &lt;code>innodb_table_stats&lt;/code>å­˜å‚¨äº†å…³äºè¡¨çš„ç»Ÿè®¡æ•°æ®ï¼Œæ¯ä¸€æ¡è®°å½•å¯¹åº”ç€ä¸€ä¸ªè¡¨çš„ç»Ÿè®¡æ•°æ®ã€‚ - &lt;code>innodb_index_stats&lt;/code>å­˜å‚¨äº†å…³äºç´¢å¼•çš„ç»Ÿè®¡æ•°æ®ï¼Œæ¯ä¸€æ¡è®°å½•å¯¹åº”ç€ä¸€ä¸ªç´¢å¼•çš„ä¸€ä¸ªç»Ÿè®¡é¡¹çš„ç»Ÿè®¡æ•°æ®ã€‚&lt;/p>
&lt;p>æˆ‘ä»¬ä¸‹é¢çš„ä»»åŠ¡å°±æ˜¯çœ‹ä¸€ä¸‹è¿™ä¸¤ä¸ªè¡¨é‡Œè¾¹éƒ½æœ‰ä»€ä¹ˆä»¥åŠè¡¨é‡Œçš„æ•°æ®æ˜¯å¦‚ä½•ç”Ÿæˆçš„ã€‚&lt;/p>
&lt;h1 id="innodb_table_stats">
 innodb_table_stats
 &lt;a class="anchor" href="#innodb_table_stats">#&lt;/a>
&lt;/h1>
&lt;p>ç›´æ¥çœ‹ä¸€ä¸‹è¿™ä¸ª&lt;code>innodb_table_stats&lt;/code>è¡¨ä¸­çš„å„ä¸ªåˆ—éƒ½æ˜¯å¹²å˜›çš„ï¼š
å­—æ®µå æè¿° &lt;code>database_name&lt;/code> æ•°æ®åº“å &lt;code>table_name&lt;/code> è¡¨å &lt;code>last_update&lt;/code> æœ¬æ¡è®°å½•æœ€åæ›´æ–°æ—¶é—´ &lt;code>n_rows&lt;/code> è¡¨ä¸­è®°å½•çš„æ¡æ•° &lt;code>clustered_index_size&lt;/code> è¡¨çš„èšç°‡ç´¢å¼•å ç”¨çš„é¡µé¢æ•°é‡ &lt;code>sum_of_other_index_sizes&lt;/code> è¡¨çš„å…¶ä»–ç´¢å¼•å ç”¨çš„é¡µé¢æ•°é‡ &lt;br>
æ³¨æ„è¿™ä¸ªè¡¨çš„ä¸»é”®æ˜¯&lt;code>(database_name,table_name)&lt;/code>ï¼Œä¹Ÿå°±æ˜¯&lt;strong>innodb_table_statsè¡¨çš„æ¯æ¡è®°å½•ä»£è¡¨ç€ä¸€ä¸ªè¡¨çš„ç»Ÿè®¡ä¿¡æ¯&lt;/strong>ã€‚æˆ‘ä»¬ç›´æ¥çœ‹ä¸€ä¸‹è¿™ä¸ªè¡¨é‡Œçš„å†…å®¹ï¼š &lt;code>mysql&amp;gt; SELECT * FROM mysql.innodb_table_stats; +---------------+---------------+---------------------+--------+----------------------+--------------------------+ | database_name | table_name | last_update | n_rows | clustered_index_size | sum_of_other_index_sizes | +---------------+---------------+---------------------+--------+----------------------+--------------------------+ | mysql | gtid_executed | 2018-07-10 23:51:36 | 0 | 1 | 0 | | sys | sys_config | 2018-07-10 23:51:38 | 5 | 1 | 0 | | xiaohaizi | single_table | 2018-12-10 17:03:13 | 9693 | 97 | 175 | +---------------+---------------+---------------------+--------+----------------------+--------------------------+ 3 rows in set (0.01 sec)&lt;/code> å¯ä»¥çœ‹åˆ°æˆ‘ä»¬ç†Ÿæ‚‰çš„&lt;code>single_table&lt;/code>è¡¨çš„ç»Ÿè®¡ä¿¡æ¯å°±å¯¹åº”ç€&lt;code>mysql.innodb_table_stats&lt;/code>çš„ç¬¬ä¸‰æ¡è®°å½•ã€‚å‡ ä¸ªé‡è¦ç»Ÿè®¡ä¿¡æ¯é¡¹çš„å€¼å¦‚ä¸‹ï¼š - &lt;code>n_rows&lt;/code>çš„å€¼æ˜¯&lt;code>9693&lt;/code>ï¼Œè¡¨æ˜&lt;code>single_table&lt;/code>è¡¨ä¸­å¤§çº¦æœ‰&lt;code>9693&lt;/code>æ¡è®°å½•ï¼Œæ³¨æ„è¿™ä¸ªæ•°æ®æ˜¯ä¼°è®¡å€¼ã€‚ - &lt;code>clustered_index_size&lt;/code>çš„å€¼æ˜¯&lt;code>97&lt;/code>ï¼Œè¡¨æ˜&lt;code>single_table&lt;/code>è¡¨çš„èšç°‡ç´¢å¼•å ç”¨97ä¸ªé¡µé¢ï¼Œè¿™ä¸ªå€¼æ˜¯ä¹Ÿæ˜¯ä¸€ä¸ªä¼°è®¡å€¼ã€‚ - &lt;code>sum_of_other_index_sizes&lt;/code>çš„å€¼æ˜¯&lt;code>175&lt;/code>ï¼Œè¡¨æ˜&lt;code>single_table&lt;/code>è¡¨çš„å…¶ä»–ç´¢å¼•ä¸€å…±å ç”¨175ä¸ªé¡µé¢ï¼Œè¿™ä¸ªå€¼æ˜¯ä¹Ÿæ˜¯ä¸€ä¸ªä¼°è®¡å€¼ã€‚&lt;/p></description></item><item><title>ç¬¬12ç« _è°æœ€ä¾¿å®œå°±é€‰è°-MySQLåŸºäºæˆæœ¬çš„ä¼˜åŒ–</title><link>https://lwmfjc.github.io/zh/docs/technology/MySQL/MySQL%E6%98%AF%E6%80%8E%E6%A0%B7%E8%BF%90%E8%A1%8C%E7%9A%84/%E7%AC%AC12%E7%AB%A0_%E8%B0%81%E6%9C%80%E4%BE%BF%E5%AE%9C%E5%B0%B1%E9%80%89%E8%B0%81-MySQL%E5%9F%BA%E4%BA%8E%E6%88%90%E6%9C%AC%E7%9A%84%E4%BC%98%E5%8C%96/</link><pubDate>Sat, 11 Jan 2025 16:40:08 +0800</pubDate><guid>https://lwmfjc.github.io/zh/docs/technology/MySQL/MySQL%E6%98%AF%E6%80%8E%E6%A0%B7%E8%BF%90%E8%A1%8C%E7%9A%84/%E7%AC%AC12%E7%AB%A0_%E8%B0%81%E6%9C%80%E4%BE%BF%E5%AE%9C%E5%B0%B1%E9%80%89%E8%B0%81-MySQL%E5%9F%BA%E4%BA%8E%E6%88%90%E6%9C%AC%E7%9A%84%E4%BC%98%E5%8C%96/</guid><description>&lt;h1 id="ç¬¬12ç« -è°æœ€ä¾¿å®œå°±é€‰è°-mysqlåŸºäºæˆæœ¬çš„ä¼˜åŒ–">
 ç¬¬12ç«  è°æœ€ä¾¿å®œå°±é€‰è°-MySQLåŸºäºæˆæœ¬çš„ä¼˜åŒ–
 &lt;a class="anchor" href="#%e7%ac%ac12%e7%ab%a0-%e8%b0%81%e6%9c%80%e4%be%bf%e5%ae%9c%e5%b0%b1%e9%80%89%e8%b0%81-mysql%e5%9f%ba%e4%ba%8e%e6%88%90%e6%9c%ac%e7%9a%84%e4%bc%98%e5%8c%96">#&lt;/a>
&lt;/h1>
&lt;p>ä»€ä¹ˆæ˜¯æˆæœ¬&lt;/p>
&lt;p>æˆ‘ä»¬ä¹‹å‰è€è¯´&lt;code>MySQL&lt;/code>æ‰§è¡Œä¸€ä¸ªæŸ¥è¯¢å¯ä»¥æœ‰ä¸åŒçš„æ‰§è¡Œæ–¹æ¡ˆï¼Œå®ƒä¼šé€‰æ‹©å…¶ä¸­æˆæœ¬æœ€ä½ï¼Œæˆ–è€…è¯´ä»£ä»·æœ€ä½çš„é‚£ç§æ–¹æ¡ˆå»çœŸæ­£çš„æ‰§è¡ŒæŸ¥è¯¢ã€‚ä¸è¿‡æˆ‘ä»¬ä¹‹å‰å¯¹&lt;code>æˆæœ¬&lt;/code>çš„æè¿°æ˜¯éå¸¸æ¨¡ç³Šçš„ï¼Œå…¶å®åœ¨&lt;code>MySQL&lt;/code>ä¸­ä¸€æ¡æŸ¥è¯¢è¯­å¥çš„æ‰§è¡Œæˆæœ¬æ˜¯ç”±ä¸‹é¢è¿™ä¸¤ä¸ªæ–¹é¢ç»„æˆçš„ï¼š&lt;/p>
&lt;ul>
&lt;li>&lt;/li>
&lt;/ul>
&lt;p>&lt;code>I/O&lt;/code>æˆæœ¬&lt;/p>
&lt;p>æˆ‘ä»¬çš„è¡¨ç»å¸¸ä½¿ç”¨çš„&lt;code>MyISAM&lt;/code>ã€&lt;code>InnoDB&lt;/code>å­˜å‚¨å¼•æ“éƒ½æ˜¯å°†æ•°æ®å’Œç´¢å¼•éƒ½å­˜å‚¨åˆ°ç£ç›˜ä¸Šçš„ï¼Œå½“æˆ‘ä»¬æƒ³æŸ¥è¯¢è¡¨ä¸­çš„è®°å½•æ—¶ï¼Œéœ€è¦å…ˆæŠŠæ•°æ®æˆ–è€…ç´¢å¼•åŠ è½½åˆ°å†…å­˜ä¸­ç„¶åå†æ“ä½œã€‚è¿™ä¸ªä»ç£ç›˜åˆ°å†…å­˜è¿™ä¸ªåŠ è½½çš„è¿‡ç¨‹æŸè€—çš„æ—¶é—´ç§°ä¹‹ä¸º&lt;code>I/O&lt;/code>æˆæœ¬ã€‚&lt;/p>
&lt;ul>
&lt;li>&lt;/li>
&lt;/ul>
&lt;p>&lt;code>CPU&lt;/code>æˆæœ¬&lt;/p>
&lt;p>è¯»å–ä»¥åŠæ£€æµ‹è®°å½•æ˜¯å¦æ»¡è¶³å¯¹åº”çš„æœç´¢æ¡ä»¶ã€å¯¹ç»“æœé›†è¿›è¡Œæ’åºç­‰è¿™äº›æ“ä½œæŸè€—çš„æ—¶é—´ç§°ä¹‹ä¸º&lt;code>CPU&lt;/code>æˆæœ¬ã€‚&lt;/p>
&lt;p>å¯¹äº&lt;code>InnoDB&lt;/code>å­˜å‚¨å¼•æ“æ¥è¯´ï¼Œé¡µæ˜¯ç£ç›˜å’Œå†…å­˜ä¹‹é—´äº¤äº’çš„åŸºæœ¬å•ä½ï¼Œè®¾è®¡&lt;code>MySQL&lt;/code>çš„å¤§ä½¬è§„å®šè¯»å–ä¸€ä¸ªé¡µé¢èŠ±è´¹çš„æˆæœ¬é»˜è®¤æ˜¯&lt;code>1.0&lt;/code>ï¼Œè¯»å–ä»¥åŠæ£€æµ‹ä¸€æ¡è®°å½•æ˜¯å¦ç¬¦åˆæœç´¢æ¡ä»¶çš„æˆæœ¬é»˜è®¤æ˜¯&lt;code>0.2&lt;/code>ã€‚&lt;code>1.0&lt;/code>ã€&lt;code>0.2&lt;/code>è¿™äº›æ•°å­—ç§°ä¹‹ä¸º&lt;code>æˆæœ¬å¸¸æ•°&lt;/code>ï¼Œè¿™ä¸¤ä¸ªæˆæœ¬å¸¸æ•°æˆ‘ä»¬æœ€å¸¸ç”¨åˆ°ï¼Œå…¶ä½™çš„æˆæœ¬å¸¸æ•°æˆ‘ä»¬åè¾¹å†è¯´ã€‚ &lt;code>å°è´´å£«ï¼šéœ€è¦æ³¨æ„çš„æ˜¯ï¼Œä¸ç®¡è¯»å–è®°å½•æ—¶éœ€ä¸éœ€è¦æ£€æµ‹æ˜¯å¦æ»¡è¶³æœç´¢æ¡ä»¶ï¼Œå…¶æˆæœ¬éƒ½ç®—æ˜¯0.2ã€‚&lt;/code>&lt;/p>
&lt;p>å•è¡¨æŸ¥è¯¢çš„æˆæœ¬&lt;/p>
&lt;h1 id="å‡†å¤‡å·¥ä½œ">
 å‡†å¤‡å·¥ä½œ
 &lt;a class="anchor" href="#%e5%87%86%e5%a4%87%e5%b7%a5%e4%bd%9c">#&lt;/a>
&lt;/h1>
&lt;p>ä¸ºäº†æ•…äº‹çš„é¡ºåˆ©å‘å±•ï¼Œæˆ‘ä»¬è¿˜å¾—æŠŠä¹‹å‰ç”¨åˆ°çš„&lt;code>single_table&lt;/code>è¡¨æ¬æ¥ï¼Œæ€•å¤§å®¶å¿˜äº†è¿™ä¸ªè¡¨é•¿ä»€ä¹ˆæ ·ï¼Œå†ç»™å¤§å®¶æŠ„ä¸€éï¼š &lt;code>CREATE TABLE single_table ( id INT NOT NULL AUTO_INCREMENT, key1 VARCHAR(100), key2 INT, key3 VARCHAR(100), key_part1 VARCHAR(100), key_part2 VARCHAR(100), key_part3 VARCHAR(100), common_field VARCHAR(100), PRIMARY KEY (id), KEY idx_key1 (key1), UNIQUE KEY idx_key2 (key2), KEY idx_key3 (key3), KEY idx_key_part(key_part1, key_part2, key_part3) ) Engine=InnoDB CHARSET=utf8;&lt;/code> è¿˜æ˜¯å‡è®¾è¿™ä¸ªè¡¨é‡Œè¾¹å„¿æœ‰10000æ¡è®°å½•ï¼Œé™¤&lt;code>id&lt;/code>åˆ—å¤–å…¶ä½™çš„åˆ—éƒ½æ’å…¥éšæœºå€¼ã€‚ä¸‹é¢æ­£å¼å¼€å§‹æˆ‘ä»¬çš„è¡¨æ¼”ã€‚&lt;/p>
&lt;h1 id="åŸºäºæˆæœ¬çš„ä¼˜åŒ–æ­¥éª¤">
 åŸºäºæˆæœ¬çš„ä¼˜åŒ–æ­¥éª¤
 &lt;a class="anchor" href="#%e5%9f%ba%e4%ba%8e%e6%88%90%e6%9c%ac%e7%9a%84%e4%bc%98%e5%8c%96%e6%ad%a5%e9%aa%a4">#&lt;/a>
&lt;/h1>
&lt;p>åœ¨ä¸€æ¡å•è¡¨æŸ¥è¯¢è¯­å¥çœŸæ­£æ‰§è¡Œä¹‹å‰ï¼Œ&lt;code>MySQL&lt;/code>çš„æŸ¥è¯¢ä¼˜åŒ–å™¨ä¼šæ‰¾å‡ºæ‰§è¡Œè¯¥è¯­å¥æ‰€æœ‰å¯èƒ½ä½¿ç”¨çš„æ–¹æ¡ˆï¼Œå¯¹æ¯”ä¹‹åæ‰¾å‡ºæˆæœ¬æœ€ä½çš„æ–¹æ¡ˆï¼Œè¿™ä¸ªæˆæœ¬æœ€ä½çš„æ–¹æ¡ˆå°±æ˜¯æ‰€è°“çš„&lt;code>æ‰§è¡Œè®¡åˆ’&lt;/code>ï¼Œä¹‹åæ‰ä¼šè°ƒç”¨å­˜å‚¨å¼•æ“æä¾›çš„æ¥å£çœŸæ­£çš„æ‰§è¡ŒæŸ¥è¯¢ï¼Œè¿™ä¸ªè¿‡ç¨‹æ€»ç»“ä¸€ä¸‹å°±æ˜¯è¿™æ ·ï¼š 1. æ ¹æ®æœç´¢æ¡ä»¶ï¼Œæ‰¾å‡ºæ‰€æœ‰å¯èƒ½ä½¿ç”¨çš„ç´¢å¼• 2. è®¡ç®—å…¨è¡¨æ‰«æçš„ä»£ä»· 3. è®¡ç®—ä½¿ç”¨ä¸åŒç´¢å¼•æ‰§è¡ŒæŸ¥è¯¢çš„ä»£ä»· 4. å¯¹æ¯”å„ç§æ‰§è¡Œæ–¹æ¡ˆçš„ä»£ä»·ï¼Œæ‰¾å‡ºæˆæœ¬æœ€ä½çš„é‚£ä¸€ä¸ª&lt;/p></description></item><item><title>ç¬¬11ç« _ä¸¤ä¸ªè¡¨çš„äº²å¯†æ¥è§¦-è¿æ¥çš„åŸç†</title><link>https://lwmfjc.github.io/zh/docs/technology/MySQL/MySQL%E6%98%AF%E6%80%8E%E6%A0%B7%E8%BF%90%E8%A1%8C%E7%9A%84/%E7%AC%AC11%E7%AB%A0_%E4%B8%A4%E4%B8%AA%E8%A1%A8%E7%9A%84%E4%BA%B2%E5%AF%86%E6%8E%A5%E8%A7%A6-%E8%BF%9E%E6%8E%A5%E7%9A%84%E5%8E%9F%E7%90%86/</link><pubDate>Sat, 11 Jan 2025 16:40:07 +0800</pubDate><guid>https://lwmfjc.github.io/zh/docs/technology/MySQL/MySQL%E6%98%AF%E6%80%8E%E6%A0%B7%E8%BF%90%E8%A1%8C%E7%9A%84/%E7%AC%AC11%E7%AB%A0_%E4%B8%A4%E4%B8%AA%E8%A1%A8%E7%9A%84%E4%BA%B2%E5%AF%86%E6%8E%A5%E8%A7%A6-%E8%BF%9E%E6%8E%A5%E7%9A%84%E5%8E%9F%E7%90%86/</guid><description>&lt;h1 id="ç¬¬11ç« -ä¸¤ä¸ªè¡¨çš„äº²å¯†æ¥è§¦-è¿æ¥çš„åŸç†">
 ç¬¬11ç«  ä¸¤ä¸ªè¡¨çš„äº²å¯†æ¥è§¦-è¿æ¥çš„åŸç†
 &lt;a class="anchor" href="#%e7%ac%ac11%e7%ab%a0-%e4%b8%a4%e4%b8%aa%e8%a1%a8%e7%9a%84%e4%ba%b2%e5%af%86%e6%8e%a5%e8%a7%a6-%e8%bf%9e%e6%8e%a5%e7%9a%84%e5%8e%9f%e7%90%86">#&lt;/a>
&lt;/h1>
&lt;p>ææ•°æ®åº“ä¸€ä¸ªé¿ä¸å¼€çš„æ¦‚å¿µå°±æ˜¯&lt;code>Join&lt;/code>ï¼Œç¿»è¯‘æˆä¸­æ–‡å°±æ˜¯&lt;code>è¿æ¥&lt;/code>ã€‚ç›¸ä¿¡å¾ˆå¤šå°ä¼™ä¼´åœ¨åˆå­¦è¿æ¥çš„æ—¶å€™æœ‰äº›ä¸€è„¸æ‡µé€¼ï¼Œç†è§£äº†è¿æ¥çš„è¯­ä¹‰ä¹‹ååˆå¯èƒ½ä¸æ˜ç™½å„ä¸ªè¡¨ä¸­çš„è®°å½•åˆ°åº•æ˜¯æ€ä¹ˆè¿èµ·æ¥çš„ï¼Œä»¥è‡³äºåœ¨ä½¿ç”¨çš„æ—¶å€™å¸¸å¸¸é™·å…¥ä¸‹é¢ä¸¤ç§è¯¯åŒºï¼š - è¯¯åŒºä¸€ï¼šä¸šåŠ¡è‡³ä¸Šï¼Œç®¡ä»–ä¸‰ä¸ƒäºŒåä¸€ï¼Œå†å¤æ‚çš„æŸ¥è¯¢ä¹Ÿç”¨åœ¨ä¸€ä¸ªè¿æ¥è¯­å¥ä¸­æå®šã€‚ - è¯¯åŒºäºŒï¼šæ•¬è€Œè¿œä¹‹ï¼Œä¸Šæ¬¡ DBA é‚£ç»™æŠ¥è¿‡æ¥çš„æ…¢æŸ¥è¯¢å°±æ˜¯å› ä¸ºä½¿ç”¨äº†è¿æ¥å¯¼è‡´çš„ï¼Œä»¥åå†ä¹Ÿä¸æ•¢ç”¨äº†ã€‚&lt;/p>
&lt;p>æ‰€ä»¥æœ¬ç« å°±æ¥æ‰’ä¸€æ‰’è¿æ¥çš„åŸç†ã€‚è€ƒè™‘åˆ°ä¸€éƒ¨åˆ†å°ä¼™ä¼´å¯èƒ½å¿˜äº†è¿æ¥æ˜¯ä»€ä¹ˆæˆ–è€…å‹æ ¹å„¿å°±ä¸çŸ¥é“ï¼Œä¸ºäº†èŠ‚çœä»–ä»¬ç™¾åº¦æˆ–è€…çœ‹å…¶ä»–ä¹¦çš„å®è´µæ—¶é—´ä»¥åŠä¸ºäº†æˆ‘çš„ä¹¦å‡‘å­—æ•°ï¼Œæˆ‘ä»¬å…ˆæ¥ä»‹ç»ä¸€ä¸‹ MySQL ä¸­æ”¯æŒçš„ä¸€äº›è¿æ¥è¯­æ³•ã€‚&lt;/p>
&lt;p>è¿æ¥ç®€ä»‹&lt;/p>
&lt;h1 id="è¿æ¥çš„æœ¬è´¨">
 è¿æ¥çš„æœ¬è´¨
 &lt;a class="anchor" href="#%e8%bf%9e%e6%8e%a5%e7%9a%84%e6%9c%ac%e8%b4%a8">#&lt;/a>
&lt;/h1>
&lt;p>ä¸ºäº†æ•…äº‹çš„é¡ºåˆ©å‘å±•ï¼Œæˆ‘ä»¬å…ˆå»ºç«‹ä¸¤ä¸ªç®€å•çš„è¡¨å¹¶ç»™å®ƒä»¬å¡«å……ä¸€ç‚¹æ•°æ®ï¼š&lt;/p>
&lt;pre tabindex="0">&lt;code class="language-mysql>" data-lang="mysql>">
mysql&amp;gt; CREATE TABLE t2 (m2 int, n2 char\(1)\); Query OK, 0 rows affected (0.02 sec)

mysql&amp;gt; INSERT INTO t1 VALUES(1, &amp;#39;a&amp;#39;), (2, &amp;#39;b&amp;#39;), (3, &amp;#39;c&amp;#39;); Query OK, 3 rows affected (0.00 sec) Records: 3 Duplicates: 0 Warnings: 0

mysql&amp;gt; INSERT INTO t2 VALUES(2, &amp;#39;b&amp;#39;), (3, &amp;#39;c&amp;#39;), (4, &amp;#39;d&amp;#39;); Query OK, 3 rows affected (0.00 sec) Records: 3 Duplicates: 0 Warnings: 0
&lt;/code>&lt;/pre>&lt;p>&lt;code>æˆ‘ä»¬æˆåŠŸå»ºç«‹äº†&lt;/code>t1&lt;code>ã€&lt;/code>t2&lt;code>ä¸¤ä¸ªè¡¨ï¼Œè¿™ä¸¤ä¸ªè¡¨éƒ½æœ‰ä¸¤ä¸ªåˆ—ï¼Œä¸€ä¸ªæ˜¯&lt;/code>INT&lt;code>ç±»å‹çš„ï¼Œä¸€ä¸ªæ˜¯&lt;/code>CHAR(1)`ç±»å‹çš„ï¼Œå¡«å……å¥½æ•°æ®çš„ä¸¤ä¸ªè¡¨é•¿è¿™æ ·ï¼š&lt;/p></description></item><item><title>ç¬¬10ç« _æ¡æ¡å¤§è·¯é€šç½—é©¬-å•è¡¨è®¿é—®æ–¹æ³•</title><link>https://lwmfjc.github.io/zh/docs/technology/MySQL/MySQL%E6%98%AF%E6%80%8E%E6%A0%B7%E8%BF%90%E8%A1%8C%E7%9A%84/%E7%AC%AC10%E7%AB%A0_%E6%9D%A1%E6%9D%A1%E5%A4%A7%E8%B7%AF%E9%80%9A%E7%BD%97%E9%A9%AC-%E5%8D%95%E8%A1%A8%E8%AE%BF%E9%97%AE%E6%96%B9%E6%B3%95/</link><pubDate>Sat, 11 Jan 2025 16:40:06 +0800</pubDate><guid>https://lwmfjc.github.io/zh/docs/technology/MySQL/MySQL%E6%98%AF%E6%80%8E%E6%A0%B7%E8%BF%90%E8%A1%8C%E7%9A%84/%E7%AC%AC10%E7%AB%A0_%E6%9D%A1%E6%9D%A1%E5%A4%A7%E8%B7%AF%E9%80%9A%E7%BD%97%E9%A9%AC-%E5%8D%95%E8%A1%A8%E8%AE%BF%E9%97%AE%E6%96%B9%E6%B3%95/</guid><description>&lt;h1 id="ç¬¬10ç« -æ¡æ¡å¤§è·¯é€šç½—é©¬-å•è¡¨è®¿é—®æ–¹æ³•">
 ç¬¬10ç«  æ¡æ¡å¤§è·¯é€šç½—é©¬-å•è¡¨è®¿é—®æ–¹æ³•
 &lt;a class="anchor" href="#%e7%ac%ac10%e7%ab%a0-%e6%9d%a1%e6%9d%a1%e5%a4%a7%e8%b7%af%e9%80%9a%e7%bd%97%e9%a9%ac-%e5%8d%95%e8%a1%a8%e8%ae%bf%e9%97%ae%e6%96%b9%e6%b3%95">#&lt;/a>
&lt;/h1>
&lt;p>å¯¹äºæˆ‘ä»¬è¿™äº›&lt;code>MySQL&lt;/code>çš„ä½¿ç”¨è€…æ¥è¯´ï¼Œ&lt;code>MySQL&lt;/code>å…¶å®å°±æ˜¯ä¸€ä¸ªè½¯ä»¶ï¼Œå¹³æ—¶ç”¨çš„æœ€å¤šçš„å°±æ˜¯æŸ¥è¯¢åŠŸèƒ½ã€‚DBAæ—¶ä¸æ—¶ä¸¢è¿‡æ¥ä¸€äº›æ…¢æŸ¥è¯¢è¯­å¥è®©ä¼˜åŒ–ï¼Œæˆ‘ä»¬å¦‚æœè¿æŸ¥è¯¢æ˜¯æ€ä¹ˆæ‰§è¡Œçš„éƒ½ä¸æ¸…æ¥šè¿˜ä¼˜åŒ–ä¸ªæ¯›çº¿ï¼Œæ‰€ä»¥æ˜¯æ—¶å€™æŒæ¡çœŸæ­£çš„æŠ€æœ¯äº†ã€‚æˆ‘ä»¬åœ¨ç¬¬ä¸€ç« çš„æ—¶å€™å°±æ›¾è¯´è¿‡ï¼Œ&lt;code>MySQL Server&lt;/code>æœ‰ä¸€ä¸ªç§°ä¸º&lt;code>æŸ¥è¯¢ä¼˜åŒ–å™¨&lt;/code>çš„æ¨¡å—ï¼Œä¸€æ¡æŸ¥è¯¢è¯­å¥è¿›è¡Œè¯­æ³•è§£æä¹‹åå°±ä¼šè¢«äº¤ç»™æŸ¥è¯¢ä¼˜åŒ–å™¨æ¥è¿›è¡Œä¼˜åŒ–ï¼Œä¼˜åŒ–çš„ç»“æœå°±æ˜¯ç”Ÿæˆä¸€ä¸ªæ‰€è°“çš„&lt;code>æ‰§è¡Œè®¡åˆ’&lt;/code>ï¼Œè¿™ä¸ªæ‰§è¡Œè®¡åˆ’è¡¨æ˜äº†åº”è¯¥ä½¿ç”¨å“ªäº›ç´¢å¼•è¿›è¡ŒæŸ¥è¯¢ï¼Œè¡¨ä¹‹é—´çš„è¿æ¥é¡ºåºæ˜¯ä»€ä¹ˆæ ·çš„ï¼Œæœ€åä¼šæŒ‰ç…§æ‰§è¡Œè®¡åˆ’ä¸­çš„æ­¥éª¤è°ƒç”¨å­˜å‚¨å¼•æ“æä¾›çš„æ–¹æ³•æ¥çœŸæ­£çš„æ‰§è¡ŒæŸ¥è¯¢ï¼Œå¹¶å°†æŸ¥è¯¢ç»“æœè¿”å›ç»™ç”¨æˆ·ã€‚ä¸è¿‡æŸ¥è¯¢ä¼˜åŒ–è¿™ä¸ªä¸»é¢˜æœ‰ç‚¹å„¿å¤§ï¼Œåœ¨å­¦ä¼šè·‘ä¹‹å‰è¿˜å¾—å…ˆå­¦ä¼šèµ°ï¼Œæ‰€ä»¥æœ¬ç« å…ˆæ¥çœ‹çœ‹&lt;code>MySQL&lt;/code>æ€ä¹ˆæ‰§è¡Œå•è¡¨æŸ¥è¯¢ï¼ˆå°±æ˜¯&lt;code>FROM&lt;/code>å­å¥åè¾¹åªæœ‰ä¸€ä¸ªè¡¨ï¼Œæœ€ç®€å•çš„é‚£ç§æŸ¥è¯¢ï½ï¼‰ã€‚ä¸è¿‡éœ€è¦å¼ºè°ƒçš„ä¸€ç‚¹æ˜¯ï¼Œåœ¨å­¦ä¹ æœ¬ç« å‰åŠ¡å¿…çœ‹è¿‡å‰é¢å…³äºè®°å½•ç»“æ„ã€æ•°æ®é¡µç»“æ„ä»¥åŠç´¢å¼•çš„éƒ¨åˆ†ï¼Œå¦‚æœä½ ä¸èƒ½ä¿è¯è¿™äº›ä¸œè¥¿å·²ç»å®Œå…¨æŒæ¡ï¼Œé‚£ä¹ˆæœ¬ç« ä¸é€‚åˆä½ ã€‚&lt;/p>
&lt;p>ä¸ºäº†æ•…äº‹çš„é¡ºåˆ©å‘å±•ï¼Œæˆ‘ä»¬å…ˆå¾—æœ‰ä¸ªè¡¨ï¼š &lt;code>CREATE TABLE single_table ( id INT NOT NULL AUTO_INCREMENT, key1 VARCHAR(100), key2 INT, key3 VARCHAR(100), key_part1 VARCHAR(100), key_part2 VARCHAR(100), key_part3 VARCHAR(100), common_field VARCHAR(100), PRIMARY KEY (id), KEY idx_key1 (key1), UNIQUE KEY idx_key2 (key2), KEY idx_key3 (key3), KEY idx_key_part(key_part1, key_part2, key_part3) ) Engine=InnoDB CHARSET=utf8;&lt;/code> æˆ‘ä»¬ä¸ºè¿™ä¸ª&lt;code>single_table&lt;/code>è¡¨å»ºç«‹äº†1ä¸ªèšç°‡ç´¢å¼•å’Œ4ä¸ªäºŒçº§ç´¢å¼•ï¼Œåˆ†åˆ«æ˜¯ï¼š&lt;/p>
&lt;ul>
&lt;li>&lt;/li>
&lt;/ul>
&lt;p>ä¸º&lt;code>id&lt;/code>åˆ—å»ºç«‹çš„èšç°‡ç´¢å¼•ã€‚&lt;/p>
&lt;ul>
&lt;li>&lt;/li>
&lt;/ul>
&lt;p>ä¸º&lt;code>key1&lt;/code>åˆ—å»ºç«‹çš„&lt;code>idx_key1&lt;/code>äºŒçº§ç´¢å¼•ã€‚&lt;/p>
&lt;ul>
&lt;li>&lt;/li>
&lt;/ul>
&lt;p>ä¸º&lt;code>key2&lt;/code>åˆ—å»ºç«‹çš„&lt;code>idx_key2&lt;/code>äºŒçº§ç´¢å¼•ï¼Œè€Œä¸”è¯¥ç´¢å¼•æ˜¯å”¯ä¸€äºŒçº§ç´¢å¼•ã€‚&lt;/p>
&lt;ul>
&lt;li>&lt;/li>
&lt;/ul>
&lt;p>ä¸º&lt;code>key3&lt;/code>åˆ—å»ºç«‹çš„&lt;code>idx_key3&lt;/code>äºŒçº§ç´¢å¼•ã€‚&lt;/p>
&lt;ul>
&lt;li>&lt;/li>
&lt;/ul>
&lt;p>ä¸º&lt;code>key_part1&lt;/code>ã€&lt;code>key_part2&lt;/code>ã€&lt;code>key_part3&lt;/code>åˆ—å»ºç«‹çš„&lt;code>idx_key_part&lt;/code>äºŒçº§ç´¢å¼•ï¼Œè¿™ä¹Ÿæ˜¯ä¸€ä¸ªè”åˆç´¢å¼•ã€‚&lt;/p>
&lt;p>ç„¶åæˆ‘ä»¬éœ€è¦ä¸ºè¿™ä¸ªè¡¨æ’å…¥10000è¡Œè®°å½•ï¼Œé™¤&lt;code>id&lt;/code>åˆ—å¤–å…¶ä½™çš„åˆ—éƒ½æ’å…¥éšæœºå€¼å°±å¥½äº†ï¼Œå…·ä½“çš„æ’å…¥è¯­å¥æˆ‘å°±ä¸å†™äº†ï¼Œè‡ªå·±å†™ä¸ªç¨‹åºæ’å…¥å§ï¼ˆidåˆ—æ˜¯è‡ªå¢ä¸»é”®åˆ—ï¼Œä¸éœ€è¦æˆ‘ä»¬æ‰‹åŠ¨æ’å…¥ï¼‰ã€‚&lt;/p>
&lt;p>è®¿é—®æ–¹æ³•ï¼ˆaccess methodï¼‰çš„æ¦‚å¿µ&lt;/p>
&lt;p>æƒ³å¿…å„ä½éƒ½ç”¨è¿‡é«˜å¾·åœ°å›¾æ¥æŸ¥æ‰¾åˆ°æŸä¸ªåœ°æ–¹çš„è·¯çº¿å§ï¼ˆæ­¤å¤„æ²¡æœ‰ä¸ºé«˜å¾·åœ°å›¾æ‰“å¹¿å‘Šçš„æ„æ€ï¼Œä»–ä»¬æ²¡ç»™æˆ‘é’±ï¼Œå¤§å®¶ç”¨ç™¾åº¦åœ°å›¾ä¹Ÿå¯ä»¥å•Šï¼‰ï¼Œå¦‚æœæˆ‘ä»¬æœè¥¿å®‰é’Ÿæ¥¼åˆ°å¤§é›å¡”ä¹‹é—´çš„è·¯çº¿çš„è¯ï¼Œåœ°å›¾è½¯ä»¶ä¼šç»™å‡ºnç§è·¯çº¿ä¾›æˆ‘ä»¬é€‰æ‹©ï¼Œå¦‚æœæˆ‘ä»¬å®åœ¨é—²çš„æ²¡äº‹å„¿å¹²å¹¶ä¸”è¶³å¤Ÿæœ‰é’±çš„è¯ï¼Œè¿˜å¯ä»¥ç”¨å—è¾•åŒ—è¾™çš„æ–¹å¼ç»•åœ°çƒä¸€åœˆåˆ°è¾¾ç›®çš„åœ°ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œä¸è®ºé‡‡ç”¨å“ªä¸€ç§æ–¹å¼ï¼Œæˆ‘ä»¬æœ€ç»ˆçš„ç›®æ ‡å°±æ˜¯åˆ°è¾¾å¤§é›å¡”è¿™ä¸ªåœ°æ–¹ã€‚å›åˆ°&lt;code>MySQL&lt;/code>ä¸­æ¥ï¼Œæˆ‘ä»¬å¹³æ—¶æ‰€å†™çš„é‚£äº›æŸ¥è¯¢è¯­å¥æœ¬è´¨ä¸Šåªæ˜¯ä¸€ç§å£°æ˜å¼çš„è¯­æ³•ï¼Œåªæ˜¯å‘Šè¯‰&lt;code>MySQL&lt;/code>æˆ‘ä»¬è¦è·å–çš„æ•°æ®ç¬¦åˆå“ªäº›è§„åˆ™ï¼Œè‡³äº&lt;code>MySQL&lt;/code>èƒŒåœ°é‡Œæ˜¯æ€ä¹ˆæŠŠæŸ¥è¯¢ç»“æœæå‡ºæ¥çš„é‚£æ˜¯&lt;code>MySQL&lt;/code>è‡ªå·±çš„äº‹å„¿ã€‚å¯¹äºå•ä¸ªè¡¨çš„æŸ¥è¯¢æ¥è¯´ï¼Œè®¾è®¡MySQLçš„å¤§ä½¬æŠŠæŸ¥è¯¢çš„æ‰§è¡Œæ–¹å¼å¤§è‡´åˆ†ä¸ºä¸‹é¢ä¸¤ç§ï¼š&lt;/p>
&lt;ul>
&lt;li>&lt;/li>
&lt;/ul>
&lt;p>ä½¿ç”¨å…¨è¡¨æ‰«æè¿›è¡ŒæŸ¥è¯¢&lt;/p>
&lt;p>è¿™ç§æ‰§è¡Œæ–¹å¼å¾ˆå¥½ç†è§£ï¼Œå°±æ˜¯æŠŠè¡¨çš„æ¯ä¸€è¡Œè®°å½•éƒ½æ‰«ä¸€éå˜›ï¼ŒæŠŠç¬¦åˆæœç´¢æ¡ä»¶çš„è®°å½•åŠ å…¥åˆ°ç»“æœé›†å°±å®Œäº†ã€‚ä¸ç®¡æ˜¯ä»€ä¹ˆæŸ¥è¯¢éƒ½å¯ä»¥ä½¿ç”¨è¿™ç§æ–¹å¼æ‰§è¡Œï¼Œå½“ç„¶ï¼Œè¿™ç§ä¹Ÿæ˜¯æœ€ç¬¨çš„æ‰§è¡Œæ–¹å¼ã€‚&lt;/p>
&lt;ul>
&lt;li>&lt;/li>
&lt;/ul>
&lt;p>ä½¿ç”¨ç´¢å¼•è¿›è¡ŒæŸ¥è¯¢&lt;/p></description></item><item><title>ç¬¬9ç« _å­˜æ”¾é¡µçš„å¤§æ± å­-InnoDBçš„è¡¨ç©ºé—´</title><link>https://lwmfjc.github.io/zh/docs/technology/MySQL/MySQL%E6%98%AF%E6%80%8E%E6%A0%B7%E8%BF%90%E8%A1%8C%E7%9A%84/%E7%AC%AC9%E7%AB%A0_%E5%AD%98%E6%94%BE%E9%A1%B5%E7%9A%84%E5%A4%A7%E6%B1%A0%E5%AD%90-InnoDB%E7%9A%84%E8%A1%A8%E7%A9%BA%E9%97%B4/</link><pubDate>Sat, 11 Jan 2025 16:40:05 +0800</pubDate><guid>https://lwmfjc.github.io/zh/docs/technology/MySQL/MySQL%E6%98%AF%E6%80%8E%E6%A0%B7%E8%BF%90%E8%A1%8C%E7%9A%84/%E7%AC%AC9%E7%AB%A0_%E5%AD%98%E6%94%BE%E9%A1%B5%E7%9A%84%E5%A4%A7%E6%B1%A0%E5%AD%90-InnoDB%E7%9A%84%E8%A1%A8%E7%A9%BA%E9%97%B4/</guid><description>&lt;h1 id="ç¬¬9ç« -å­˜æ”¾é¡µçš„å¤§æ± å­-innodbçš„è¡¨ç©ºé—´">
 ç¬¬9ç«  å­˜æ”¾é¡µçš„å¤§æ± å­-InnoDBçš„è¡¨ç©ºé—´
 &lt;a class="anchor" href="#%e7%ac%ac9%e7%ab%a0-%e5%ad%98%e6%94%be%e9%a1%b5%e7%9a%84%e5%a4%a7%e6%b1%a0%e5%ad%90-innodb%e7%9a%84%e8%a1%a8%e7%a9%ba%e9%97%b4">#&lt;/a>
&lt;/h1>
&lt;p>é€šè¿‡å‰é¢å„¿çš„å†…å®¹å¤§å®¶çŸ¥é“ï¼Œ&lt;code>è¡¨ç©ºé—´&lt;/code>æ˜¯ä¸€ä¸ªæŠ½è±¡çš„æ¦‚å¿µï¼Œå¯¹äºç³»ç»Ÿè¡¨ç©ºé—´æ¥è¯´ï¼Œå¯¹åº”ç€æ–‡ä»¶ç³»ç»Ÿä¸­ä¸€ä¸ªæˆ–å¤šä¸ªå®é™…æ–‡ä»¶ï¼›å¯¹äºæ¯ä¸ªç‹¬ç«‹è¡¨ç©ºé—´æ¥è¯´ï¼Œå¯¹åº”ç€æ–‡ä»¶ç³»ç»Ÿä¸­ä¸€ä¸ªåä¸º&lt;code>è¡¨å.ibd&lt;/code>çš„å®é™…æ–‡ä»¶ã€‚å¤§å®¶å¯ä»¥æŠŠè¡¨ç©ºé—´æƒ³è±¡æˆè¢«åˆ‡åˆ†ä¸ºè®¸è®¸å¤šå¤šä¸ª&lt;code>é¡µ&lt;/code>çš„æ± å­ï¼Œå½“æˆ‘ä»¬æƒ³ä¸ºæŸä¸ªè¡¨æ’å…¥ä¸€æ¡è®°å½•çš„æ—¶å€™ï¼Œå°±ä»æ± å­ä¸­æå‡ºä¸€ä¸ªå¯¹åº”çš„é¡µæ¥æŠŠæ•°æ®å†™è¿›å»ã€‚æœ¬ç« å†…å®¹ä¼šæ·±å…¥åˆ°è¡¨ç©ºé—´çš„å„ä¸ªç»†èŠ‚ä¸­ï¼Œå¸¦é¢†å¤§å®¶åœ¨&lt;code>InnoDB&lt;/code>å­˜å‚¨ç»“æ„çš„æ± å­ä¸­ç•…æ¸¸ã€‚ç”±äºæœ¬ç« ä¸­å°†ä¼šæ¶‰åŠæ¯”è¾ƒå¤šçš„æ¦‚å¿µï¼Œè™½ç„¶è¿™äº›æ¦‚å¿µéƒ½ä¸éš¾ï¼Œä½†æ˜¯å´ç›¸äº’ä¾èµ–ï¼Œæ‰€ä»¥å¥‰åŠå¤§å®¶åœ¨çœ‹çš„æ—¶å€™ï¼š&lt;/p>
&lt;ul>
&lt;li>&lt;/li>
&lt;/ul>
&lt;p>&lt;strong>ä¸è¦è·³ç€çœ‹ï¼&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>&lt;/li>
&lt;/ul>
&lt;p>&lt;strong>ä¸è¦è·³ç€çœ‹ï¼&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>&lt;/li>
&lt;/ul>
&lt;p>&lt;strong>ä¸è¦è·³ç€çœ‹ï¼&lt;/strong>&lt;/p>
&lt;p>å›å¿†ä¸€äº›æ—§çŸ¥è¯†&lt;/p>
&lt;h1 id="é¡µç±»å‹">
 é¡µç±»å‹
 &lt;a class="anchor" href="#%e9%a1%b5%e7%b1%bb%e5%9e%8b">#&lt;/a>
&lt;/h1>
&lt;p>å†ä¸€æ¬¡å¼ºè°ƒï¼ŒInnoDBæ˜¯ä»¥é¡µä¸ºå•ä½ç®¡ç†å­˜å‚¨ç©ºé—´çš„ï¼Œæˆ‘ä»¬çš„èšç°‡ç´¢å¼•ï¼ˆä¹Ÿå°±æ˜¯å®Œæ•´çš„è¡¨æ•°æ®ï¼‰å’Œå…¶ä»–çš„äºŒçº§ç´¢å¼•éƒ½æ˜¯ä»¥&lt;code>B+&lt;/code>æ ‘çš„å½¢å¼ä¿å­˜åˆ°è¡¨ç©ºé—´çš„ï¼Œè€Œ&lt;code>B+&lt;/code>æ ‘çš„èŠ‚ç‚¹å°±æ˜¯æ•°æ®é¡µã€‚æˆ‘ä»¬å‰é¢è¯´è¿‡ï¼Œè¿™ä¸ªæ•°æ®é¡µçš„ç±»å‹åå…¶å®æ˜¯ï¼š&lt;code>FIL_PAGE_INDEX&lt;/code>ï¼Œé™¤äº†è¿™ç§å­˜æ”¾ç´¢å¼•æ•°æ®çš„é¡µç±»å‹ä¹‹å¤–ï¼ŒInnoDBä¹Ÿä¸ºäº†ä¸åŒçš„ç›®çš„è®¾è®¡äº†è‹¥å¹²ç§ä¸åŒç±»å‹çš„é¡µï¼Œä¸ºäº†å”¤é†’å¤§å®¶çš„è®°å¿†ï¼Œæˆ‘ä»¬å†ä¸€æ¬¡æŠŠå„ç§å¸¸ç”¨çš„é¡µç±»å‹æå‡ºæ¥ï¼š
ç±»å‹åç§° åå…­è¿›åˆ¶ æè¿° &lt;code>FIL_PAGE_TYPE_ALLOCATED&lt;/code> 0x0000 æœ€æ–°åˆ†é…ï¼Œè¿˜æ²¡ä½¿ç”¨ &lt;code>FIL_PAGE_UNDO_LOG&lt;/code> 0x0002 Undoæ—¥å¿—é¡µ &lt;code>FIL_PAGE_INODE&lt;/code> 0x0003 æ®µä¿¡æ¯èŠ‚ç‚¹ &lt;code>FIL_PAGE_IBUF_FREE_LIST&lt;/code> 0x0004 Insert Bufferç©ºé—²åˆ—è¡¨ &lt;code>FIL_PAGE_IBUF_BITMAP&lt;/code> 0x0005 Insert Bufferä½å›¾ &lt;code>FIL_PAGE_TYPE_SYS&lt;/code> 0x0006 ç³»ç»Ÿé¡µ &lt;code>FIL_PAGE_TYPE_TRX_SYS&lt;/code> 0x0007 äº‹åŠ¡ç³»ç»Ÿæ•°æ® &lt;code>FIL_PAGE_TYPE_FSP_HDR&lt;/code> 0x0008 è¡¨ç©ºé—´å¤´éƒ¨ä¿¡æ¯ &lt;code>FIL_PAGE_TYPE_XDES&lt;/code> 0x0009 æ‰©å±•æè¿°é¡µ &lt;code>FIL_PAGE_TYPE_BLOB&lt;/code> 0x000A BLOBé¡µ &lt;code>FIL_PAGE_INDEX&lt;/code> 0x45BF ç´¢å¼•é¡µï¼Œä¹Ÿå°±æ˜¯æˆ‘ä»¬æ‰€è¯´çš„&lt;code>æ•°æ®é¡µ&lt;/code> &lt;br>
å› ä¸ºé¡µç±»å‹å‰é¢éƒ½æœ‰ä¸ª&lt;code>FIL_PAGE&lt;/code>æˆ–è€…&lt;code>FIL_PAGE_TYPE&lt;/code>çš„å‰ç¼€ï¼Œä¸ºç®€ä¾¿èµ·è§æˆ‘ä»¬åè¾¹ä»‹ç»é¡µç±»å‹çš„æ—¶å€™å°±æŠŠè¿™äº›å‰ç¼€çœç•¥æ‰äº†ï¼Œæ¯”æ–¹è¯´&lt;code>FIL_PAGE_TYPE_ALLOCATED&lt;/code>ç±»å‹ç§°ä¸º&lt;code>ALLOCATED&lt;/code>ç±»å‹ï¼Œ&lt;code>FIL_PAGE_INDEX&lt;/code>ç±»å‹ç§°ä¸º&lt;code>INDEX&lt;/code>ç±»å‹ã€‚&lt;/p>
&lt;h1 id="é¡µé€šç”¨éƒ¨åˆ†">
 é¡µé€šç”¨éƒ¨åˆ†
 &lt;a class="anchor" href="#%e9%a1%b5%e9%80%9a%e7%94%a8%e9%83%a8%e5%88%86">#&lt;/a>
&lt;/h1>
&lt;p>æˆ‘ä»¬å‰é¢è¯´è¿‡æ•°æ®é¡µï¼Œä¹Ÿå°±æ˜¯&lt;code>INDEX&lt;/code>ç±»å‹çš„é¡µç”±7ä¸ªéƒ¨åˆ†ç»„æˆï¼Œå…¶ä¸­çš„ä¸¤ä¸ªéƒ¨åˆ†æ˜¯æ‰€æœ‰ç±»å‹çš„é¡µéƒ½é€šç”¨çš„ã€‚å½“ç„¶æˆ‘ä¸èƒ½å¯„å¸Œæœ›äºä½ æŠŠæˆ‘è¯´çš„è¯éƒ½è®°ä½ï¼Œæ‰€ä»¥åœ¨è¿™é‡Œé‡æ–°å¼ºè°ƒä¸€éï¼Œä»»ä½•ç±»å‹çš„é¡µéƒ½æœ‰ä¸‹é¢è¿™ç§é€šç”¨çš„ç»“æ„ï¼š&lt;/p>
&lt;p>&lt;img src="img/09-01.png" alt="" />&lt;/p>
&lt;p>ä»ä¸Šå›¾ä¸­å¯ä»¥çœ‹å‡ºï¼Œä»»ä½•ç±»å‹çš„é¡µéƒ½ä¼šåŒ…å«è¿™ä¸¤ä¸ªéƒ¨åˆ†ï¼š&lt;/p>
&lt;ul>
&lt;li>&lt;/li>
&lt;/ul>
&lt;p>&lt;code>File Header&lt;/code>ï¼šè®°å½•é¡µçš„ä¸€äº›é€šç”¨ä¿¡æ¯&lt;/p>
&lt;ul>
&lt;li>&lt;/li>
&lt;/ul>
&lt;p>&lt;code>File Trailer&lt;/code>ï¼šæ ¡éªŒé¡µæ˜¯å¦å®Œæ•´ï¼Œä¿è¯ä»å†…å­˜åˆ°ç£ç›˜åˆ·æ–°æ—¶å†…å®¹çš„ä¸€è‡´æ€§ã€‚&lt;/p>
&lt;p>å¯¹äº&lt;code>File Trailer&lt;/code>æˆ‘ä»¬ä¸å†åšè¿‡å¤šå¼ºè°ƒï¼Œå…¨éƒ¨å¿˜è®°äº†çš„è¯å¯ä»¥åˆ°å°†æ•°æ®é¡µçš„é‚£ä¸€ç« å›é¡¾ä¸€ä¸‹ã€‚æˆ‘ä»¬è¿™é‡Œå†å¼ºè°ƒä¸€é&lt;code>File Header&lt;/code>çš„å„ä¸ªç»„æˆéƒ¨åˆ†ï¼š
åç§° å ç”¨ç©ºé—´å¤§å° æè¿° &lt;code>FIL_PAGE_SPACE_OR_CHKSUM&lt;/code> &lt;code>4&lt;/code>å­—èŠ‚ é¡µçš„æ ¡éªŒå’Œï¼ˆchecksumå€¼ï¼‰ &lt;code>FIL_PAGE_OFFSET&lt;/code> &lt;code>4&lt;/code>å­—èŠ‚ é¡µå· &lt;code>FIL_PAGE_PREV&lt;/code> &lt;code>4&lt;/code>å­—èŠ‚ ä¸Šä¸€ä¸ªé¡µçš„é¡µå· &lt;code>FIL_PAGE_NEXT&lt;/code> &lt;code>4&lt;/code>å­—èŠ‚ ä¸‹ä¸€ä¸ªé¡µçš„é¡µå· &lt;code>FIL_PAGE_LSN&lt;/code> &lt;code>8&lt;/code>å­—èŠ‚ é¡µè¢«æœ€åä¿®æ”¹æ—¶å¯¹åº”çš„æ—¥å¿—åºåˆ—ä½ç½®ï¼ˆè‹±æ–‡åæ˜¯ï¼šLog Sequence Numberï¼‰ &lt;code>FIL_PAGE_TYPE&lt;/code> &lt;code>2&lt;/code>å­—èŠ‚ è¯¥é¡µçš„ç±»å‹ &lt;code>FIL_PAGE_FILE_FLUSH_LSN&lt;/code> &lt;code>8&lt;/code>å­—èŠ‚ ä»…åœ¨ç³»ç»Ÿè¡¨ç©ºé—´çš„ä¸€ä¸ªé¡µä¸­å®šä¹‰ï¼Œä»£è¡¨æ–‡ä»¶è‡³å°‘è¢«åˆ·æ–°åˆ°äº†å¯¹åº”çš„LSNå€¼ &lt;code>FIL_PAGE_ARCH_LOG_NO_OR_SPACE_ID&lt;/code> &lt;code>4&lt;/code>å­—èŠ‚ é¡µå±äºå“ªä¸ªè¡¨ç©ºé—´ &lt;br>
ç°åœ¨é™¤äº†åç§°é‡Œè¾¹å„¿å¸¦æœ‰&lt;code>LSN&lt;/code>çš„ä¸¤ä¸ªå­—æ®µå¤§å®¶å¯èƒ½çœ‹ä¸æ‡‚ä»¥å¤–ï¼Œå…¶ä»–çš„å­—æ®µè‚¯å®šéƒ½æ˜¯å€å„¿ç†Ÿäº†ï¼Œä¸è¿‡æˆ‘ä»¬ä»è¦å¼ºè°ƒè¿™ä¹ˆå‡ ç‚¹ï¼š&lt;/p></description></item><item><title>ç¬¬8ç« _æ•°æ®çš„å®¶-MySQLçš„æ•°æ®ç›®å½•</title><link>https://lwmfjc.github.io/zh/docs/technology/MySQL/MySQL%E6%98%AF%E6%80%8E%E6%A0%B7%E8%BF%90%E8%A1%8C%E7%9A%84/%E7%AC%AC8%E7%AB%A0_%E6%95%B0%E6%8D%AE%E7%9A%84%E5%AE%B6-MySQL%E7%9A%84%E6%95%B0%E6%8D%AE%E7%9B%AE%E5%BD%95/</link><pubDate>Sat, 11 Jan 2025 16:40:04 +0800</pubDate><guid>https://lwmfjc.github.io/zh/docs/technology/MySQL/MySQL%E6%98%AF%E6%80%8E%E6%A0%B7%E8%BF%90%E8%A1%8C%E7%9A%84/%E7%AC%AC8%E7%AB%A0_%E6%95%B0%E6%8D%AE%E7%9A%84%E5%AE%B6-MySQL%E7%9A%84%E6%95%B0%E6%8D%AE%E7%9B%AE%E5%BD%95/</guid><description>&lt;h1 id="ç¬¬8ç« -æ•°æ®çš„å®¶-mysqlçš„æ•°æ®ç›®å½•">
 ç¬¬8ç«  æ•°æ®çš„å®¶-MySQLçš„æ•°æ®ç›®å½•
 &lt;a class="anchor" href="#%e7%ac%ac8%e7%ab%a0-%e6%95%b0%e6%8d%ae%e7%9a%84%e5%ae%b6-mysql%e7%9a%84%e6%95%b0%e6%8d%ae%e7%9b%ae%e5%bd%95">#&lt;/a>
&lt;/h1>
&lt;p>æ•°æ®åº“å’Œæ–‡ä»¶ç³»ç»Ÿçš„å…³ç³»&lt;/p>
&lt;p>æˆ‘ä»¬çŸ¥é“åƒ&lt;code>InnoDB&lt;/code>ã€&lt;code>MyISAM&lt;/code>è¿™æ ·çš„å­˜å‚¨å¼•æ“éƒ½æ˜¯æŠŠè¡¨å­˜å‚¨åœ¨ç£ç›˜ä¸Šçš„ï¼Œè€Œæ“ä½œç³»ç»Ÿç”¨æ¥ç®¡ç†ç£ç›˜çš„é‚£ä¸ªä¸œä¸œåˆè¢«ç§°ä¸º&lt;code>æ–‡ä»¶ç³»ç»Ÿ&lt;/code>ï¼Œæ‰€ä»¥ç”¨ä¸“ä¸šä¸€ç‚¹çš„è¯æ¥è¡¨è¿°å°±æ˜¯ï¼š&lt;strong>åƒ &lt;em>&lt;strong>InnoDB&lt;/strong>&lt;/em> ã€ &lt;em>&lt;strong>MyISAM&lt;/strong>&lt;/em> è¿™æ ·çš„å­˜å‚¨å¼•æ“éƒ½æ˜¯æŠŠè¡¨å­˜å‚¨åœ¨æ–‡ä»¶ç³»ç»Ÿä¸Šçš„&lt;/strong>ã€‚å½“æˆ‘ä»¬æƒ³è¯»å–æ•°æ®çš„æ—¶å€™ï¼Œè¿™äº›å­˜å‚¨å¼•æ“ä¼šä»æ–‡ä»¶ç³»ç»Ÿä¸­æŠŠæ•°æ®è¯»å‡ºæ¥è¿”å›ç»™æˆ‘ä»¬ï¼Œå½“æˆ‘ä»¬æƒ³å†™å…¥æ•°æ®çš„æ—¶å€™ï¼Œè¿™äº›å­˜å‚¨å¼•æ“ä¼šæŠŠè¿™äº›æ•°æ®åˆå†™å›æ–‡ä»¶ç³»ç»Ÿã€‚æœ¬ç« å°±æ˜¯è¦ä»‹ç»ä¸€ä¸‹&lt;code>InnoDB&lt;/code>å’Œ&lt;code>MyISAM&lt;/code>è¿™ä¸¤ä¸ªå­˜å‚¨å¼•æ“çš„æ•°æ®å¦‚ä½•åœ¨æ–‡ä»¶ç³»ç»Ÿä¸­å­˜å‚¨çš„ã€‚&lt;/p>
&lt;p>MySQLæ•°æ®ç›®å½•&lt;/p>
&lt;p>MySQLæœåŠ¡å™¨ç¨‹åºåœ¨å¯åŠ¨æ—¶ä¼šåˆ°æ–‡ä»¶ç³»ç»Ÿçš„æŸä¸ªç›®å½•ä¸‹åŠ è½½ä¸€äº›æ–‡ä»¶ï¼Œä¹‹ååœ¨è¿è¡Œè¿‡ç¨‹ä¸­äº§ç”Ÿçš„æ•°æ®ä¹Ÿéƒ½ä¼šå­˜å‚¨åˆ°è¿™ä¸ªç›®å½•ä¸‹çš„æŸäº›æ–‡ä»¶ä¸­ï¼Œè¿™ä¸ªç›®å½•å°±ç§°ä¸º&lt;code>æ•°æ®ç›®å½•&lt;/code>ï¼Œæˆ‘ä»¬ä¸‹é¢å°±è¦è¯¦ç»†å” å” è¿™ä¸ªç›®å½•ä¸‹å…·ä½“éƒ½æœ‰å“ªäº›é‡è¦çš„ä¸œè¥¿ã€‚&lt;/p>
&lt;h1 id="æ•°æ®ç›®å½•å’Œå®‰è£…ç›®å½•çš„åŒºåˆ«">
 æ•°æ®ç›®å½•å’Œå®‰è£…ç›®å½•çš„åŒºåˆ«
 &lt;a class="anchor" href="#%e6%95%b0%e6%8d%ae%e7%9b%ae%e5%bd%95%e5%92%8c%e5%ae%89%e8%a3%85%e7%9b%ae%e5%bd%95%e7%9a%84%e5%8c%ba%e5%88%ab">#&lt;/a>
&lt;/h1>
&lt;p>æˆ‘ä»¬ä¹‹å‰åªæ¥è§¦è¿‡&lt;code>MySQL&lt;/code>çš„å®‰è£…ç›®å½•ï¼ˆåœ¨å®‰è£…&lt;code>MySQL&lt;/code>çš„æ—¶å€™æˆ‘ä»¬å¯ä»¥è‡ªå·±æŒ‡å®šï¼‰ï¼Œæˆ‘ä»¬é‡ç‚¹å¼ºè°ƒè¿‡è¿™ä¸ª&lt;code>å®‰è£…ç›®å½•&lt;/code>ä¸‹éå¸¸é‡è¦çš„&lt;code>bin&lt;/code>ç›®å½•ï¼Œå®ƒé‡Œè¾¹å­˜å‚¨äº†è®¸å¤šå…³äºæ§åˆ¶å®¢æˆ·ç«¯ç¨‹åºå’ŒæœåŠ¡å™¨ç¨‹åºçš„å‘½ä»¤ï¼ˆè®¸å¤šå¯æ‰§è¡Œæ–‡ä»¶ï¼Œæ¯”å¦‚&lt;code>mysql&lt;/code>ï¼Œ&lt;code>mysqld&lt;/code>ï¼Œ&lt;code>mysqld_safe&lt;/code>ç­‰ç­‰ç­‰ç­‰å¥½å‡ åä¸ªï¼‰ã€‚è€Œ&lt;code>æ•°æ®ç›®å½•&lt;/code>æ˜¯ç”¨æ¥å­˜å‚¨&lt;code>MySQL&lt;/code>åœ¨è¿è¡Œè¿‡ç¨‹ä¸­äº§ç”Ÿçš„æ•°æ®ï¼Œä¸€å®šè¦å’Œæœ¬ç« è¦è®¨è®ºçš„&lt;code>å®‰è£…ç›®å½•&lt;/code>åŒºåˆ«å¼€ï¼&lt;strong>ä¸€å®šè¦åŒºåˆ†å¼€&lt;/strong>ï¼&lt;strong>ä¸€å®šè¦åŒºåˆ†å¼€&lt;/strong>ï¼&lt;strong>ä¸€å®šè¦åŒºåˆ†å¼€&lt;/strong>ï¼&lt;/p>
&lt;h1 id="å¦‚ä½•ç¡®å®šmysqlä¸­çš„æ•°æ®ç›®å½•">
 å¦‚ä½•ç¡®å®šMySQLä¸­çš„æ•°æ®ç›®å½•
 &lt;a class="anchor" href="#%e5%a6%82%e4%bd%95%e7%a1%ae%e5%ae%9amysql%e4%b8%ad%e7%9a%84%e6%95%b0%e6%8d%ae%e7%9b%ae%e5%bd%95">#&lt;/a>
&lt;/h1>
&lt;p>é‚£è¯´äº†åŠå¤©ï¼Œåˆ°åº•&lt;code>MySQL&lt;/code>æŠŠæ•°æ®éƒ½å­˜åˆ°å“ªä¸ªè·¯å¾„ä¸‹å‘¢ï¼Ÿå…¶å®&lt;code>æ•°æ®ç›®å½•&lt;/code>å¯¹åº”ç€ä¸€ä¸ªç³»ç»Ÿå˜é‡&lt;code>datadir&lt;/code>ï¼Œæˆ‘ä»¬åœ¨ä½¿ç”¨å®¢æˆ·ç«¯ä¸æœåŠ¡å™¨å»ºç«‹è¿æ¥ä¹‹åæŸ¥çœ‹è¿™ä¸ªç³»ç»Ÿå˜é‡çš„å€¼å°±å¯ä»¥äº†ï¼š &lt;code>mysql&amp;gt; SHOW VARIABLES LIKE 'datadir'; +---------------+-----------------------+ | Variable_name | Value | +---------------+-----------------------+ | datadir | /usr/local/var/mysql/ | +---------------+-----------------------+ 1 row in set (0.00 sec)&lt;/code> ä»ç»“æœä¸­å¯ä»¥çœ‹å‡ºï¼Œ&lt;strong>åœ¨æˆ‘çš„è®¡ç®—æœºä¸Š&lt;/strong>&lt;code>MySQL&lt;/code>çš„æ•°æ®ç›®å½•å°±æ˜¯&lt;code>/usr/local/var/mysql/&lt;/code>ï¼Œä½ ç”¨ä½ çš„è®¡ç®—æœºè¯•è¯•å‘—ï½&lt;/p>
&lt;p>æ•°æ®ç›®å½•çš„ç»“æ„&lt;/p>
&lt;p>&lt;code>MySQL&lt;/code>åœ¨è¿è¡Œè¿‡ç¨‹ä¸­éƒ½ä¼šäº§ç”Ÿå“ªäº›æ•°æ®å‘¢ï¼Ÿå½“ç„¶ä¼šåŒ…å«æˆ‘ä»¬åˆ›å»ºçš„æ•°æ®åº“ã€è¡¨ã€è§†å›¾å’Œè§¦å‘å™¨ç­‰ç­‰çš„ç”¨æˆ·æ•°æ®ï¼Œé™¤äº†è¿™äº›ç”¨æˆ·æ•°æ®ï¼Œä¸ºäº†ç¨‹åºæ›´å¥½çš„è¿è¡Œï¼Œ&lt;code>MySQL&lt;/code>ä¹Ÿä¼šåˆ›å»ºä¸€äº›å…¶ä»–çš„é¢å¤–æ•°æ®ï¼Œæˆ‘ä»¬æ¥ä¸‹æ¥ç»†ç»†çš„å“å‘³ä¸€ä¸‹è¿™ä¸ª&lt;code>æ•°æ®ç›®å½•&lt;/code>ä¸‹çš„å†…å®¹ã€‚&lt;/p>
&lt;h1 id="æ•°æ®åº“åœ¨æ–‡ä»¶ç³»ç»Ÿä¸­çš„è¡¨ç¤º">
 æ•°æ®åº“åœ¨æ–‡ä»¶ç³»ç»Ÿä¸­çš„è¡¨ç¤º
 &lt;a class="anchor" href="#%e6%95%b0%e6%8d%ae%e5%ba%93%e5%9c%a8%e6%96%87%e4%bb%b6%e7%b3%bb%e7%bb%9f%e4%b8%ad%e7%9a%84%e8%a1%a8%e7%a4%ba">#&lt;/a>
&lt;/h1>
&lt;p>æ¯å½“æˆ‘ä»¬ä½¿ç”¨&lt;code>CREATE DATABASE æ•°æ®åº“å&lt;/code>è¯­å¥åˆ›å»ºä¸€ä¸ªæ•°æ®åº“çš„æ—¶å€™ï¼Œåœ¨æ–‡ä»¶ç³»ç»Ÿä¸Šå®é™…å‘ç”Ÿäº†ä»€ä¹ˆå‘¢ï¼Ÿå…¶å®å¾ˆç®€å•ï¼Œ&lt;strong>æ¯ä¸ªæ•°æ®åº“éƒ½å¯¹åº”æ•°æ®ç›®å½•ä¸‹çš„ä¸€ä¸ªå­ç›®å½•ï¼Œæˆ–è€…è¯´å¯¹åº”ä¸€ä¸ªæ–‡ä»¶å¤¹&lt;/strong>ï¼Œæˆ‘ä»¬æ¯å½“æˆ‘ä»¬æ–°å»ºä¸€ä¸ªæ•°æ®åº“æ—¶ï¼Œ&lt;code>MySQL&lt;/code>ä¼šå¸®æˆ‘ä»¬åšè¿™ä¸¤ä»¶äº‹å„¿ï¼š&lt;/p>
&lt;ol>
&lt;li>&lt;/li>
&lt;/ol>
&lt;p>åœ¨&lt;code>æ•°æ®ç›®å½•&lt;/code>ä¸‹åˆ›å»ºä¸€ä¸ªå’Œæ•°æ®åº“ååŒåçš„å­ç›®å½•ï¼ˆæˆ–è€…è¯´æ˜¯æ–‡ä»¶å¤¹ï¼‰ã€‚&lt;/p>
&lt;ol start="2">
&lt;li>&lt;/li>
&lt;/ol>
&lt;p>åœ¨è¯¥ä¸æ•°æ®åº“ååŒåçš„å­ç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ªåä¸º&lt;code>db.opt&lt;/code>çš„æ–‡ä»¶ï¼Œè¿™ä¸ªæ–‡ä»¶ä¸­åŒ…å«äº†è¯¥æ•°æ®åº“çš„å„ç§å±æ€§ï¼Œæ¯”æ–¹è¯´è¯¥æ•°æ®åº“çš„å­—ç¬¦é›†å’Œæ¯”è¾ƒè§„åˆ™æ˜¯ä»€ä¹ˆã€‚&lt;/p>
&lt;p>æ¯”æ–¹è¯´æˆ‘ä»¬æŸ¥çœ‹ä¸€ä¸‹&lt;strong>åœ¨æˆ‘çš„è®¡ç®—æœºä¸Š&lt;/strong>å½“å‰æœ‰å“ªäº›æ•°æ®åº“ï¼š &lt;code>mysql&amp;gt; SHOW DATABASES; +--------------------+ | Database | +--------------------+ | information_schema | | charset_demo_db | | dahaizi | | mysql | | performance_schema | | sys | | xiaohaizi | +--------------------+ 7 rows in set (0.00 sec)&lt;/code> å¯ä»¥çœ‹åˆ°åœ¨æˆ‘çš„è®¡ç®—æœºä¸Šå½“å‰æœ‰7ä¸ªæ•°æ®åº“ï¼Œå…¶ä¸­&lt;code>charset_demo_db&lt;/code>ã€&lt;code>dahaizi&lt;/code>å’Œ&lt;code>xiaohaizi&lt;/code>æ•°æ®åº“æ˜¯æˆ‘ä»¬è‡ªå®šä¹‰çš„ï¼Œå…¶ä½™4ä¸ªæ•°æ®åº“æ˜¯å±äºMySQLè‡ªå¸¦çš„ç³»ç»Ÿæ•°æ®åº“ã€‚æˆ‘ä»¬å†çœ‹ä¸€ä¸‹&lt;strong>æˆ‘çš„è®¡ç®—æœºä¸Š&lt;/strong>çš„&lt;code>æ•°æ®ç›®å½•&lt;/code>ä¸‹çš„å†…å®¹ï¼š ``` . â”œâ”€â”€ auto.cnf â”œâ”€â”€ ca-key.pem â”œâ”€â”€ ca.pem â”œâ”€â”€ charset_demo_db â”œâ”€â”€ client-cert.pem â”œâ”€â”€ client-key.pem â”œâ”€â”€ dahaizi â”œâ”€â”€ ib_buffer_pool â”œâ”€â”€ ib_logfile0 â”œâ”€â”€ ib_logfile1 â”œâ”€â”€ ibdata1 â”œâ”€â”€ ibtmp1 â”œâ”€â”€ mysql â”œâ”€â”€ performance_schema â”œâ”€â”€ private_key.pem â”œâ”€â”€ public_key.pem â”œâ”€â”€ server-cert.pem â”œâ”€â”€ server-key.pem â”œâ”€â”€ sys â”œâ”€â”€ xiaohaizideMacBook-Pro.local.err â”œâ”€â”€ xiaohaizideMacBook-Pro.local.pid â””â”€â”€ xiaohaizi&lt;/p></description></item><item><title>ç¬¬7ç« _å¥½ä¸œè¥¿ä¹Ÿå¾—å…ˆå­¦ä¼šæ€ä¹ˆç”¨-B+æ ‘ç´¢å¼•çš„ä½¿ç”¨</title><link>https://lwmfjc.github.io/zh/docs/technology/MySQL/MySQL%E6%98%AF%E6%80%8E%E6%A0%B7%E8%BF%90%E8%A1%8C%E7%9A%84/%E7%AC%AC7%E7%AB%A0_%E5%A5%BD%E4%B8%9C%E8%A5%BF%E4%B9%9F%E5%BE%97%E5%85%88%E5%AD%A6%E4%BC%9A%E6%80%8E%E4%B9%88%E7%94%A8-B+%E6%A0%91%E7%B4%A2%E5%BC%95%E7%9A%84%E4%BD%BF%E7%94%A8/</link><pubDate>Sat, 11 Jan 2025 16:40:03 +0800</pubDate><guid>https://lwmfjc.github.io/zh/docs/technology/MySQL/MySQL%E6%98%AF%E6%80%8E%E6%A0%B7%E8%BF%90%E8%A1%8C%E7%9A%84/%E7%AC%AC7%E7%AB%A0_%E5%A5%BD%E4%B8%9C%E8%A5%BF%E4%B9%9F%E5%BE%97%E5%85%88%E5%AD%A6%E4%BC%9A%E6%80%8E%E4%B9%88%E7%94%A8-B+%E6%A0%91%E7%B4%A2%E5%BC%95%E7%9A%84%E4%BD%BF%E7%94%A8/</guid><description>&lt;h1 id="ç¬¬7ç« -å¥½ä¸œè¥¿ä¹Ÿå¾—å…ˆå­¦ä¼šæ€ä¹ˆç”¨-bæ ‘ç´¢å¼•çš„ä½¿ç”¨">
 ç¬¬7ç«  å¥½ä¸œè¥¿ä¹Ÿå¾—å…ˆå­¦ä¼šæ€ä¹ˆç”¨-B+æ ‘ç´¢å¼•çš„ä½¿ç”¨
 &lt;a class="anchor" href="#%e7%ac%ac7%e7%ab%a0-%e5%a5%bd%e4%b8%9c%e8%a5%bf%e4%b9%9f%e5%be%97%e5%85%88%e5%ad%a6%e4%bc%9a%e6%80%8e%e4%b9%88%e7%94%a8-b%e6%a0%91%e7%b4%a2%e5%bc%95%e7%9a%84%e4%bd%bf%e7%94%a8">#&lt;/a>
&lt;/h1>
&lt;p>æˆ‘ä»¬å‰é¢è¯¦ç»†ã€è¯¦ç»†åˆè¯¦ç»†çš„ä»‹ç»äº†&lt;code>InnoDB&lt;/code>å­˜å‚¨å¼•æ“çš„&lt;code>B+&lt;/code>æ ‘ç´¢å¼•ï¼Œæˆ‘ä»¬å¿…é¡»ç†Ÿæ‚‰ä¸‹é¢è¿™äº›ç»“è®ºï¼š&lt;/p>
&lt;ul>
&lt;li>&lt;/li>
&lt;/ul>
&lt;p>æ¯ä¸ªç´¢å¼•éƒ½å¯¹åº”ä¸€æ£µ&lt;code>B+&lt;/code>æ ‘ï¼Œ&lt;code>B+&lt;/code>æ ‘åˆ†ä¸ºå¥½å¤šå±‚ï¼Œæœ€ä¸‹é¢ä¸€å±‚æ˜¯å¶å­èŠ‚ç‚¹ï¼Œå…¶ä½™çš„æ˜¯å†…èŠ‚ç‚¹ã€‚æ‰€æœ‰&lt;code>ç”¨æˆ·è®°å½•&lt;/code>éƒ½å­˜å‚¨åœ¨&lt;code>B+&lt;/code>æ ‘çš„å¶å­èŠ‚ç‚¹ï¼Œæ‰€æœ‰&lt;code>ç›®å½•é¡¹è®°å½•&lt;/code>éƒ½å­˜å‚¨åœ¨å†…èŠ‚ç‚¹ã€‚&lt;/p>
&lt;ul>
&lt;li>&lt;/li>
&lt;/ul>
&lt;p>&lt;code>InnoDB&lt;/code>å­˜å‚¨å¼•æ“ä¼šè‡ªåŠ¨ä¸ºä¸»é”®ï¼ˆå¦‚æœæ²¡æœ‰å®ƒä¼šè‡ªåŠ¨å¸®æˆ‘ä»¬æ·»åŠ ï¼‰å»ºç«‹&lt;code>èšç°‡ç´¢å¼•&lt;/code>ï¼Œèšç°‡ç´¢å¼•çš„å¶å­èŠ‚ç‚¹åŒ…å«å®Œæ•´çš„ç”¨æˆ·è®°å½•ã€‚&lt;/p>
&lt;ul>
&lt;li>&lt;/li>
&lt;/ul>
&lt;p>æˆ‘ä»¬å¯ä»¥ä¸ºè‡ªå·±æ„Ÿå…´è¶£çš„åˆ—å»ºç«‹&lt;code>äºŒçº§ç´¢å¼•&lt;/code>ï¼Œ&lt;code>äºŒçº§ç´¢å¼•&lt;/code>çš„å¶å­èŠ‚ç‚¹åŒ…å«çš„ç”¨æˆ·è®°å½•ç”±&lt;code>ç´¢å¼•åˆ— + ä¸»é”®&lt;/code>ç»„æˆï¼Œæ‰€ä»¥å¦‚æœæƒ³é€šè¿‡&lt;code>äºŒçº§ç´¢å¼•&lt;/code>æ¥æŸ¥æ‰¾å®Œæ•´çš„ç”¨æˆ·è®°å½•çš„è¯ï¼Œéœ€è¦é€šè¿‡&lt;code>å›è¡¨&lt;/code>æ“ä½œï¼Œä¹Ÿå°±æ˜¯åœ¨é€šè¿‡&lt;code>äºŒçº§ç´¢å¼•&lt;/code>æ‰¾åˆ°ä¸»é”®å€¼ä¹‹åå†åˆ°&lt;code>èšç°‡ç´¢å¼•&lt;/code>ä¸­æŸ¥æ‰¾å®Œæ•´çš„ç”¨æˆ·è®°å½•ã€‚&lt;/p>
&lt;ul>
&lt;li>&lt;/li>
&lt;/ul>
&lt;p>&lt;code>B+&lt;/code>æ ‘ä¸­æ¯å±‚èŠ‚ç‚¹éƒ½æ˜¯æŒ‰ç…§ç´¢å¼•åˆ—å€¼ä»å°åˆ°å¤§çš„é¡ºåºæ’åºè€Œç»„æˆäº†åŒå‘é“¾è¡¨ï¼Œè€Œä¸”æ¯ä¸ªé¡µå†…çš„è®°å½•ï¼ˆä¸è®ºæ˜¯ç”¨æˆ·è®°å½•è¿˜æ˜¯ç›®å½•é¡¹è®°å½•ï¼‰éƒ½æ˜¯æŒ‰ç…§ç´¢å¼•åˆ—çš„å€¼ä»å°åˆ°å¤§çš„é¡ºåºè€Œå½¢æˆäº†ä¸€ä¸ªå•é“¾è¡¨ã€‚å¦‚æœæ˜¯&lt;code>è”åˆç´¢å¼•&lt;/code>çš„è¯ï¼Œåˆ™é¡µé¢å’Œè®°å½•å…ˆæŒ‰ç…§&lt;code>è”åˆç´¢å¼•&lt;/code>å‰é¢çš„åˆ—æ’åºï¼Œå¦‚æœè¯¥åˆ—å€¼ç›¸åŒï¼Œå†æŒ‰ç…§&lt;code>è”åˆç´¢å¼•&lt;/code>åè¾¹çš„åˆ—æ’åºã€‚&lt;/p>
&lt;ul>
&lt;li>&lt;/li>
&lt;/ul>
&lt;p>é€šè¿‡ç´¢å¼•æŸ¥æ‰¾è®°å½•æ˜¯ä»&lt;code>B+&lt;/code>æ ‘çš„æ ¹èŠ‚ç‚¹å¼€å§‹ï¼Œä¸€å±‚ä¸€å±‚å‘ä¸‹æœç´¢ã€‚ç”±äºæ¯ä¸ªé¡µé¢éƒ½æŒ‰ç…§ç´¢å¼•åˆ—çš„å€¼å»ºç«‹äº†&lt;code>Page Directory&lt;/code>ï¼ˆé¡µç›®å½•ï¼‰ï¼Œæ‰€ä»¥åœ¨è¿™äº›é¡µé¢ä¸­çš„æŸ¥æ‰¾éå¸¸å¿«ã€‚&lt;/p>
&lt;p>å¦‚æœä½ è¯»ä¸Šé¢çš„å‡ ç‚¹ç»“è®ºæœ‰äº›ä»»ä½•ä¸€ç‚¹ç‚¹ç–‘æƒ‘çš„è¯ï¼Œé‚£ä¸‹é¢çš„å†…å®¹ä¸é€‚åˆä½ ï¼Œå›è¿‡å¤´å…ˆå»çœ‹å‰é¢çš„å†…å®¹å»ã€‚&lt;/p>
&lt;p>ç´¢å¼•çš„ä»£ä»·&lt;/p>
&lt;p>åœ¨ç†Ÿæ‚‰äº†&lt;code>B+&lt;/code>æ ‘ç´¢å¼•åŸç†ä¹‹åï¼Œæœ¬ç¯‡æ–‡ç« çš„ä¸»é¢˜æ˜¯ä»‹ç»å¦‚ä½•æ›´å¥½çš„ä½¿ç”¨ç´¢å¼•ï¼Œè™½ç„¶ç´¢å¼•æ˜¯ä¸ªå¥½ä¸œè¥¿ï¼Œå¯ä¸èƒ½ä¹±å»ºï¼Œåœ¨ä»‹ç»å¦‚ä½•æ›´å¥½çš„ä½¿ç”¨ç´¢å¼•ä¹‹å‰å…ˆè¦äº†è§£ä¸€ä¸‹ä½¿ç”¨è¿™ç©æ„å„¿çš„ä»£ä»·ï¼Œå®ƒåœ¨ç©ºé—´å’Œæ—¶é—´ä¸Šéƒ½ä¼šæ‹–åè…¿ï¼š&lt;/p>
&lt;ul>
&lt;li>&lt;/li>
&lt;/ul>
&lt;p>ç©ºé—´ä¸Šçš„ä»£ä»·&lt;/p>
&lt;p>è¿™ä¸ªæ˜¯æ˜¾è€Œæ˜“è§çš„ï¼Œæ¯å»ºç«‹ä¸€ä¸ªç´¢å¼•éƒ½è¦ä¸ºå®ƒå»ºç«‹ä¸€æ£µ&lt;code>B+&lt;/code>æ ‘ï¼Œæ¯ä¸€æ£µ&lt;code>B+&lt;/code>æ ‘çš„æ¯ä¸€ä¸ªèŠ‚ç‚¹éƒ½æ˜¯ä¸€ä¸ªæ•°æ®é¡µï¼Œä¸€ä¸ªé¡µé»˜è®¤ä¼šå ç”¨&lt;code>16KB&lt;/code>çš„å­˜å‚¨ç©ºé—´ï¼Œä¸€æ£µå¾ˆå¤§çš„&lt;code>B+&lt;/code>æ ‘ç”±è®¸å¤šæ•°æ®é¡µç»„æˆï¼Œé‚£å¯æ˜¯å¾ˆå¤§çš„ä¸€ç‰‡å­˜å‚¨ç©ºé—´å‘¢ã€‚&lt;/p>
&lt;ul>
&lt;li>&lt;/li>
&lt;/ul>
&lt;p>æ—¶é—´ä¸Šçš„ä»£ä»·&lt;/p>
&lt;p>æ¯æ¬¡å¯¹è¡¨ä¸­çš„æ•°æ®è¿›è¡Œå¢ã€åˆ ã€æ”¹æ“ä½œæ—¶ï¼Œéƒ½éœ€è¦å»ä¿®æ”¹å„ä¸ª&lt;code>B+&lt;/code>æ ‘ç´¢å¼•ã€‚è€Œä¸”æˆ‘ä»¬è®²è¿‡ï¼Œ&lt;code>B+&lt;/code>æ ‘æ¯å±‚èŠ‚ç‚¹éƒ½æ˜¯æŒ‰ç…§ç´¢å¼•åˆ—çš„å€¼ä»å°åˆ°å¤§çš„é¡ºåºæ’åºè€Œç»„æˆäº†åŒå‘é“¾è¡¨ã€‚ä¸è®ºæ˜¯å¶å­èŠ‚ç‚¹ä¸­çš„è®°å½•ï¼Œè¿˜æ˜¯å†…èŠ‚ç‚¹ä¸­çš„è®°å½•ï¼ˆä¹Ÿå°±æ˜¯ä¸è®ºæ˜¯ç”¨æˆ·è®°å½•è¿˜æ˜¯ç›®å½•é¡¹è®°å½•ï¼‰éƒ½æ˜¯æŒ‰ç…§ç´¢å¼•åˆ—çš„å€¼ä»å°åˆ°å¤§çš„é¡ºåºè€Œå½¢æˆäº†ä¸€ä¸ªå•å‘é“¾è¡¨ã€‚è€Œå¢ã€åˆ ã€æ”¹æ“ä½œå¯èƒ½ä¼šå¯¹èŠ‚ç‚¹å’Œè®°å½•çš„æ’åºé€ æˆç ´åï¼Œæ‰€ä»¥å­˜å‚¨å¼•æ“éœ€è¦é¢å¤–çš„æ—¶é—´è¿›è¡Œä¸€äº›è®°å½•ç§»ä½ï¼Œé¡µé¢åˆ†è£‚ã€é¡µé¢å›æ”¶ä»€ä¹ˆçš„æ“ä½œæ¥ç»´æŠ¤å¥½èŠ‚ç‚¹å’Œè®°å½•çš„æ’åºã€‚å¦‚æœæˆ‘ä»¬å»ºäº†è®¸å¤šç´¢å¼•ï¼Œæ¯ä¸ªç´¢å¼•å¯¹åº”çš„&lt;code>B+&lt;/code>æ ‘éƒ½è¦è¿›è¡Œç›¸å…³çš„ç»´æŠ¤æ“ä½œï¼Œè¿™è¿˜èƒ½ä¸ç»™æ€§èƒ½æ‹–åè…¿ä¹ˆï¼Ÿ&lt;/p>
&lt;p>æ‰€ä»¥è¯´ï¼Œä¸€ä¸ªè¡¨ä¸Šç´¢å¼•å»ºçš„è¶Šå¤šï¼Œå°±ä¼šå ç”¨è¶Šå¤šçš„å­˜å‚¨ç©ºé—´ï¼Œåœ¨å¢åˆ æ”¹è®°å½•çš„æ—¶å€™æ€§èƒ½å°±è¶Šå·®ã€‚ä¸ºäº†èƒ½å»ºç«‹åˆå¥½åˆå°‘çš„ç´¢å¼•ï¼Œæˆ‘ä»¬å…ˆå¾—å­¦å­¦è¿™äº›ç´¢å¼•åœ¨å“ªäº›æ¡ä»¶ä¸‹èµ·ä½œç”¨çš„ã€‚&lt;/p>
&lt;p>B+æ ‘ç´¢å¼•é€‚ç”¨çš„æ¡ä»¶&lt;/p>
&lt;p>ä¸‹é¢æˆ‘ä»¬å°†ä»‹ç»è®¸å¤šç§è®©&lt;code>B+&lt;/code>æ ‘ç´¢å¼•å‘æŒ¥æœ€å¤§æ•ˆèƒ½çš„æŠ€å·§å’Œæ³¨æ„äº‹é¡¹ï¼Œä¸è¿‡å¤§å®¶è¦æ¸…æ¥šï¼Œæ‰€æœ‰çš„æŠ€å·§éƒ½æ˜¯æºè‡ªä½ å¯¹&lt;code>B+&lt;/code>æ ‘ç´¢å¼•æœ¬è´¨çš„ç†è§£ï¼Œæ‰€ä»¥å¦‚æœä½ è¿˜ä¸èƒ½ä¿è¯å¯¹&lt;code>B+&lt;/code>æ ‘ç´¢å¼•å……åˆ†çš„ç†è§£ï¼Œé‚£ä¹ˆå†æ¬¡å»ºè®®å›è¿‡å¤´æŠŠå‰é¢çš„å†…å®¹çœ‹å®Œäº†å†æ¥ï¼Œè¦ä¸ç„¶è¯»æ–‡ç« å¯¹ä½ æ¥è¯´æ˜¯ä¸€ç§æŠ˜ç£¨ã€‚é¦–å…ˆï¼Œ&lt;code>B+&lt;/code>æ ‘ç´¢å¼•å¹¶ä¸æ˜¯ä¸‡èƒ½çš„ï¼Œå¹¶ä¸æ˜¯æ‰€æœ‰çš„æŸ¥è¯¢è¯­å¥éƒ½èƒ½ç”¨åˆ°æˆ‘ä»¬å»ºç«‹çš„ç´¢å¼•ã€‚ä¸‹é¢ä»‹ç»å‡ ä¸ªæˆ‘ä»¬å¯èƒ½ä½¿ç”¨&lt;code>B+&lt;/code>æ ‘ç´¢å¼•æ¥è¿›è¡ŒæŸ¥è¯¢çš„æƒ…å†µã€‚ä¸ºäº†æ•…äº‹çš„é¡ºåˆ©å‘å±•ï¼Œæˆ‘ä»¬éœ€è¦å…ˆåˆ›å»ºä¸€ä¸ªè¡¨ï¼Œè¿™ä¸ªè¡¨æ˜¯ç”¨æ¥å­˜å‚¨äººçš„ä¸€äº›åŸºæœ¬ä¿¡æ¯çš„ï¼š &lt;code>CREATE TABLE person_info( id INT NOT NULL auto_increment, name VARCHAR(100) NOT NULL, birthday DATE NOT NULL, phone_number CHAR(11) NOT NULL, country varchar(100) NOT NULL, PRIMARY KEY (id), KEY idx_name_birthday_phone_number (name, birthday, phone_number) );&lt;/code> å¯¹äºè¿™ä¸ª&lt;code>person_info&lt;/code>è¡¨æˆ‘ä»¬éœ€è¦æ³¨æ„ä¸¤ç‚¹ï¼š&lt;/p>
&lt;ul>
&lt;li>&lt;/li>
&lt;/ul>
&lt;p>è¡¨ä¸­çš„ä¸»é”®æ˜¯&lt;code>id&lt;/code>åˆ—ï¼Œå®ƒå­˜å‚¨ä¸€ä¸ªè‡ªåŠ¨é€’å¢çš„æ•´æ•°ã€‚æ‰€ä»¥&lt;code>InnoDB&lt;/code>å­˜å‚¨å¼•æ“ä¼šè‡ªåŠ¨ä¸º&lt;code>id&lt;/code>åˆ—å»ºç«‹èšç°‡ç´¢å¼•ã€‚&lt;/p>
&lt;ul>
&lt;li>&lt;/li>
&lt;/ul>
&lt;p>æˆ‘ä»¬é¢å¤–å®šä¹‰äº†ä¸€ä¸ªäºŒçº§ç´¢å¼•&lt;code>idx_name_birthday_phone_number&lt;/code>ï¼Œå®ƒæ˜¯ç”±3ä¸ªåˆ—ç»„æˆçš„è”åˆç´¢å¼•ã€‚æ‰€ä»¥åœ¨è¿™ä¸ªç´¢å¼•å¯¹åº”çš„&lt;code>B+&lt;/code>æ ‘çš„å¶å­èŠ‚ç‚¹å¤„å­˜å‚¨çš„ç”¨æˆ·è®°å½•åªä¿ç•™&lt;code>name&lt;/code>ã€&lt;code>birthday&lt;/code>ã€&lt;code>phone_number&lt;/code>è¿™ä¸‰ä¸ªåˆ—çš„å€¼ä»¥åŠä¸»é”®&lt;code>id&lt;/code>çš„å€¼ï¼Œå¹¶ä¸ä¼šä¿å­˜&lt;code>country&lt;/code>åˆ—çš„å€¼ã€‚&lt;/p>
&lt;p>ä»è¿™ä¸¤ç‚¹æ³¨æ„ä¸­æˆ‘ä»¬å¯ä»¥å†æ¬¡çœ‹åˆ°ï¼Œä¸€ä¸ªè¡¨ä¸­æœ‰å¤šå°‘ç´¢å¼•å°±ä¼šå»ºç«‹å¤šå°‘æ£µ&lt;code>B+&lt;/code>æ ‘ï¼Œ&lt;code>person_info&lt;/code>è¡¨ä¼šä¸ºèšç°‡ç´¢å¼•å’Œ&lt;code>idx_name_birthday_phone_number&lt;/code>ç´¢å¼•å»ºç«‹2æ£µ&lt;code>B+&lt;/code>æ ‘ã€‚ä¸‹é¢æˆ‘ä»¬ç”»ä¸€ä¸‹ç´¢å¼•&lt;code>idx_name_birthday_phone_number&lt;/code>çš„ç¤ºæ„å›¾ï¼Œä¸è¿‡æ—¢ç„¶æˆ‘ä»¬å·²ç»æŒæ¡äº†&lt;code>InnoDB&lt;/code>çš„&lt;code>B+&lt;/code>æ ‘ç´¢å¼•åŸç†ï¼Œé‚£æˆ‘ä»¬åœ¨ç”»å›¾çš„æ—¶å€™ä¸ºäº†è®©å›¾æ›´åŠ æ¸…æ™°ï¼Œæ‰€ä»¥åœ¨çœç•¥ä¸€äº›ä¸å¿…è¦çš„éƒ¨åˆ†ï¼Œæ¯”å¦‚è®°å½•çš„é¢å¤–ä¿¡æ¯ï¼Œå„é¡µé¢çš„é¡µå·ç­‰ç­‰ï¼Œå…¶ä¸­å†…èŠ‚ç‚¹ä¸­ç›®å½•é¡¹è®°å½•çš„é¡µå·ä¿¡æ¯æˆ‘ä»¬ç”¨ç®­å¤´æ¥ä»£æ›¿ï¼Œåœ¨è®°å½•ç»“æ„ä¸­åªä¿ç•™&lt;code>name&lt;/code>ã€&lt;code>birthday&lt;/code>ã€&lt;code>phone_number&lt;/code>ã€&lt;code>id&lt;/code>è¿™å››ä¸ªåˆ—çš„çœŸå®æ•°æ®å€¼ï¼Œæ‰€ä»¥ç¤ºæ„å›¾å°±é•¿è¿™æ ·ï¼ˆç•™å¿ƒçš„åŒå­¦çœ‹å‡ºæ¥äº†ï¼Œè¿™å…¶å®å’Œã€Šé«˜æ€§èƒ½MySQLã€‹é‡Œä¸¾çš„ä¾‹å­çš„å›¾å·®ä¸å¤šï¼Œæˆ‘è§‰å¾—è¿™ä¸ªä¾‹å­ç‰¹åˆ«å¥½ï¼Œæ‰€ä»¥å°±å€Ÿé‰´äº†ä¸€ä¸‹ï¼‰ï¼š&lt;/p>
&lt;p>&lt;img src="img/07-01.png" alt="" />&lt;/p></description></item><item><title>ç¬¬6ç« _å¿«é€ŸæŸ¥è¯¢çš„ç§˜ç±-B+æ ‘ç´¢å¼•</title><link>https://lwmfjc.github.io/zh/docs/technology/MySQL/MySQL%E6%98%AF%E6%80%8E%E6%A0%B7%E8%BF%90%E8%A1%8C%E7%9A%84/%E7%AC%AC6%E7%AB%A0_%E5%BF%AB%E9%80%9F%E6%9F%A5%E8%AF%A2%E7%9A%84%E7%A7%98%E7%B1%8D-B+%E6%A0%91%E7%B4%A2%E5%BC%95/</link><pubDate>Sat, 11 Jan 2025 16:40:02 +0800</pubDate><guid>https://lwmfjc.github.io/zh/docs/technology/MySQL/MySQL%E6%98%AF%E6%80%8E%E6%A0%B7%E8%BF%90%E8%A1%8C%E7%9A%84/%E7%AC%AC6%E7%AB%A0_%E5%BF%AB%E9%80%9F%E6%9F%A5%E8%AF%A2%E7%9A%84%E7%A7%98%E7%B1%8D-B+%E6%A0%91%E7%B4%A2%E5%BC%95/</guid><description>&lt;h1 id="ç¬¬6ç« -å¿«é€ŸæŸ¥è¯¢çš„ç§˜ç±-bæ ‘ç´¢å¼•">
 ç¬¬6ç«  å¿«é€ŸæŸ¥è¯¢çš„ç§˜ç±-B+æ ‘ç´¢å¼•
 &lt;a class="anchor" href="#%e7%ac%ac6%e7%ab%a0-%e5%bf%ab%e9%80%9f%e6%9f%a5%e8%af%a2%e7%9a%84%e7%a7%98%e7%b1%8d-b%e6%a0%91%e7%b4%a2%e5%bc%95">#&lt;/a>
&lt;/h1>
&lt;p>å‰é¢æˆ‘ä»¬è¯¦ç»†ä»‹ç»äº†&lt;code>InnoDB&lt;/code>æ•°æ®é¡µçš„7ä¸ªç»„æˆéƒ¨åˆ†ï¼ŒçŸ¥é“äº†å„ä¸ªæ•°æ®é¡µå¯ä»¥ç»„æˆä¸€ä¸ª&lt;code>åŒå‘é“¾è¡¨&lt;/code>ï¼Œè€Œæ¯ä¸ªæ•°æ®é¡µä¸­çš„è®°å½•ä¼šæŒ‰ç…§ä¸»é”®å€¼ä»å°åˆ°å¤§çš„é¡ºåºç»„æˆä¸€ä¸ª&lt;code>å•å‘é“¾è¡¨&lt;/code>ï¼Œæ¯ä¸ªæ•°æ®é¡µéƒ½ä¼šä¸ºå­˜å‚¨åœ¨å®ƒé‡Œè¾¹å„¿çš„è®°å½•ç”Ÿæˆä¸€ä¸ª&lt;code>é¡µç›®å½•&lt;/code>ï¼Œåœ¨é€šè¿‡ä¸»é”®æŸ¥æ‰¾æŸæ¡è®°å½•çš„æ—¶å€™å¯ä»¥åœ¨&lt;code>é¡µç›®å½•&lt;/code>ä¸­ä½¿ç”¨äºŒåˆ†æ³•å¿«é€Ÿå®šä½åˆ°å¯¹åº”çš„æ§½ï¼Œç„¶åå†éå†è¯¥æ§½å¯¹åº”åˆ†ç»„ä¸­çš„è®°å½•å³å¯å¿«é€Ÿæ‰¾åˆ°æŒ‡å®šçš„è®°å½•ï¼ˆå¦‚æœä½ å¯¹è¿™æ®µè¯æœ‰ä¸€ä¸ç‚¹å„¿ç–‘æƒ‘ï¼Œé‚£ä¹ˆæ¥ä¸‹æ¥çš„éƒ¨åˆ†ä¸é€‚åˆä½ ï¼Œè¿”å›å»çœ‹ä¸€ä¸‹æ•°æ®é¡µç»“æ„å§ï¼‰ã€‚é¡µå’Œè®°å½•çš„å…³ç³»ç¤ºæ„å›¾å¦‚ä¸‹ï¼š&lt;/p>
&lt;p>&lt;img src="img/06-01.png" alt="" />&lt;/p>
&lt;p>å…¶ä¸­é¡µaã€é¡µbã€é¡µc &amp;hellip; é¡µn è¿™äº›é¡µå¯ä»¥ä¸åœ¨ç‰©ç†ç»“æ„ä¸Šç›¸è¿ï¼Œåªè¦é€šè¿‡åŒå‘é“¾è¡¨ç›¸å…³è”å³å¯ã€‚&lt;/p>
&lt;p>æ²¡æœ‰ç´¢å¼•çš„æŸ¥æ‰¾&lt;/p>
&lt;p>æœ¬é›†çš„ä¸»é¢˜æ˜¯&lt;code>ç´¢å¼•&lt;/code>ï¼Œåœ¨æ­£å¼ä»‹ç»&lt;code>ç´¢å¼•&lt;/code>ä¹‹å‰ï¼Œæˆ‘ä»¬éœ€è¦äº†è§£ä¸€ä¸‹æ²¡æœ‰ç´¢å¼•çš„æ—¶å€™æ˜¯æ€ä¹ˆæŸ¥æ‰¾è®°å½•çš„ã€‚ä¸ºäº†æ–¹ä¾¿å¤§å®¶ç†è§£ï¼Œæˆ‘ä»¬ä¸‹é¢å…ˆåªä»‹ç»æœç´¢æ¡ä»¶ä¸ºå¯¹æŸä¸ªåˆ—ç²¾ç¡®åŒ¹é…çš„æƒ…å†µï¼Œæ‰€è°“ç²¾ç¡®åŒ¹é…ï¼Œå°±æ˜¯æœç´¢æ¡ä»¶ä¸­ç”¨ç­‰äº&lt;code>=&lt;/code>è¿æ¥èµ·çš„è¡¨è¾¾å¼ï¼Œæ¯”å¦‚è¿™æ ·ï¼š &lt;code>SELECT [åˆ—ååˆ—è¡¨] FROM è¡¨å WHERE åˆ—å = xxx;&lt;/code>&lt;/p>
&lt;h1 id="åœ¨ä¸€ä¸ªé¡µä¸­çš„æŸ¥æ‰¾">
 åœ¨ä¸€ä¸ªé¡µä¸­çš„æŸ¥æ‰¾
 &lt;a class="anchor" href="#%e5%9c%a8%e4%b8%80%e4%b8%aa%e9%a1%b5%e4%b8%ad%e7%9a%84%e6%9f%a5%e6%89%be">#&lt;/a>
&lt;/h1>
&lt;p>å‡è®¾ç›®å‰è¡¨ä¸­çš„è®°å½•æ¯”è¾ƒå°‘ï¼Œæ‰€æœ‰çš„è®°å½•éƒ½å¯ä»¥è¢«å­˜æ”¾åˆ°ä¸€ä¸ªé¡µä¸­ï¼Œåœ¨æŸ¥æ‰¾è®°å½•çš„æ—¶å€™å¯ä»¥æ ¹æ®æœç´¢æ¡ä»¶çš„ä¸åŒåˆ†ä¸ºä¸¤ç§æƒ…å†µï¼š&lt;/p>
&lt;ul>
&lt;li>&lt;/li>
&lt;/ul>
&lt;p>ä»¥ä¸»é”®ä¸ºæœç´¢æ¡ä»¶&lt;/p>
&lt;p>è¿™ä¸ªæŸ¥æ‰¾è¿‡ç¨‹æˆ‘ä»¬å·²ç»å¾ˆç†Ÿæ‚‰äº†ï¼Œå¯ä»¥åœ¨&lt;code>é¡µç›®å½•&lt;/code>ä¸­ä½¿ç”¨äºŒåˆ†æ³•å¿«é€Ÿå®šä½åˆ°å¯¹åº”çš„æ§½ï¼Œç„¶åå†éå†è¯¥æ§½å¯¹åº”åˆ†ç»„ä¸­çš„è®°å½•å³å¯å¿«é€Ÿæ‰¾åˆ°æŒ‡å®šçš„è®°å½•ã€‚&lt;/p>
&lt;ul>
&lt;li>&lt;/li>
&lt;/ul>
&lt;p>ä»¥å…¶ä»–åˆ—ä½œä¸ºæœç´¢æ¡ä»¶&lt;/p>
&lt;p>å¯¹éä¸»é”®åˆ—çš„æŸ¥æ‰¾çš„è¿‡ç¨‹å¯å°±ä¸è¿™ä¹ˆå¹¸è¿äº†ï¼Œå› ä¸ºåœ¨æ•°æ®é¡µä¸­å¹¶æ²¡æœ‰å¯¹éä¸»é”®åˆ—å»ºç«‹æ‰€è°“çš„&lt;code>é¡µç›®å½•&lt;/code>ï¼Œæ‰€ä»¥æˆ‘ä»¬æ— æ³•é€šè¿‡äºŒåˆ†æ³•å¿«é€Ÿå®šä½ç›¸åº”çš„&lt;code>æ§½&lt;/code>ã€‚è¿™ç§æƒ…å†µä¸‹åªèƒ½ä»&lt;code>æœ€å°è®°å½•&lt;/code>å¼€å§‹ä¾æ¬¡éå†å•é“¾è¡¨ä¸­çš„æ¯æ¡è®°å½•ï¼Œç„¶åå¯¹æ¯”æ¯æ¡è®°å½•æ˜¯ä¸æ˜¯ç¬¦åˆæœç´¢æ¡ä»¶ã€‚å¾ˆæ˜¾ç„¶ï¼Œè¿™ç§æŸ¥æ‰¾çš„æ•ˆç‡æ˜¯éå¸¸ä½çš„ã€‚&lt;/p>
&lt;h1 id="åœ¨å¾ˆå¤šé¡µä¸­æŸ¥æ‰¾">
 åœ¨å¾ˆå¤šé¡µä¸­æŸ¥æ‰¾
 &lt;a class="anchor" href="#%e5%9c%a8%e5%be%88%e5%a4%9a%e9%a1%b5%e4%b8%ad%e6%9f%a5%e6%89%be">#&lt;/a>
&lt;/h1>
&lt;p>å¤§éƒ¨åˆ†æƒ…å†µä¸‹æˆ‘ä»¬è¡¨ä¸­å­˜æ”¾çš„è®°å½•éƒ½æ˜¯éå¸¸å¤šçš„ï¼Œéœ€è¦å¥½å¤šçš„æ•°æ®é¡µæ¥å­˜å‚¨è¿™äº›è®°å½•ã€‚åœ¨å¾ˆå¤šé¡µä¸­æŸ¥æ‰¾è®°å½•çš„è¯å¯ä»¥åˆ†ä¸ºä¸¤ä¸ªæ­¥éª¤ï¼š&lt;/p>
&lt;ol>
&lt;li>å®šä½åˆ°è®°å½•æ‰€åœ¨çš„é¡µã€‚&lt;/li>
&lt;li>ä»æ‰€åœ¨çš„é¡µå†…ä¸­æŸ¥æ‰¾ç›¸åº”çš„è®°å½•ã€‚&lt;/li>
&lt;/ol>
&lt;p>åœ¨æ²¡æœ‰ç´¢å¼•çš„æƒ…å†µä¸‹ï¼Œä¸è®ºæ˜¯æ ¹æ®ä¸»é”®åˆ—æˆ–è€…å…¶ä»–åˆ—çš„å€¼è¿›è¡ŒæŸ¥æ‰¾ï¼Œ&lt;strong>ç”±äºæˆ‘ä»¬å¹¶ä¸èƒ½å¿«é€Ÿçš„å®šä½åˆ°è®°å½•æ‰€åœ¨çš„é¡µï¼Œæ‰€ä»¥åªèƒ½ä»ç¬¬ä¸€ä¸ªé¡µæ²¿ç€åŒå‘é“¾è¡¨ä¸€ç›´å¾€ä¸‹æ‰¾ï¼Œåœ¨æ¯ä¸€ä¸ªé¡µä¸­æ ¹æ®æˆ‘ä»¬åˆšåˆšä»‹ç»è¿‡çš„æŸ¥æ‰¾æ–¹å¼å»æŸ¥æ‰¾æŒ‡å®šçš„è®°å½•&lt;/strong>ã€‚å› ä¸ºè¦éå†æ‰€æœ‰çš„æ•°æ®é¡µï¼Œæ‰€ä»¥è¿™ç§æ–¹å¼æ˜¾ç„¶æ˜¯è¶…çº§è€—æ—¶çš„ï¼Œå¦‚æœä¸€ä¸ªè¡¨æœ‰ä¸€äº¿æ¡è®°å½•ï¼Œä½¿ç”¨è¿™ç§æ–¹å¼å»æŸ¥æ‰¾è®°å½•é‚£è¦ç­‰åˆ°çŒ´å¹´é©¬æœˆæ‰èƒ½ç­‰åˆ°æŸ¥æ‰¾ç»“æœã€‚æ‰€ä»¥ç¥–å›½å’Œäººæ°‘éƒ½åœ¨æœŸç›¼ä¸€ç§èƒ½é«˜æ•ˆå®Œæˆæœç´¢çš„æ–¹æ³•ï¼Œ&lt;code>ç´¢å¼•&lt;/code>åŒå¿—å°±è¦äº®ç›¸ç™»å°äº†ã€‚&lt;/p>
&lt;p>ç´¢å¼•&lt;/p>
&lt;p>ä¸ºäº†æ•…äº‹çš„é¡ºåˆ©å‘å±•ï¼Œæˆ‘ä»¬å…ˆå»ºä¸€ä¸ªè¡¨ï¼š &lt;code>mysql&amp;gt; CREATE TABLE index_demo( -&amp;gt; c1 INT, -&amp;gt; c2 INT, -&amp;gt; c3 CHAR(1), -&amp;gt; PRIMARY KEY(c1) -&amp;gt; ) ROW_FORMAT = Compact; Query OK, 0 rows affected (0.03 sec)&lt;/code> è¿™ä¸ªæ–°å»ºçš„&lt;code>index_demo&lt;/code>è¡¨ä¸­æœ‰2ä¸ª&lt;code>INT&lt;/code>ç±»å‹çš„åˆ—ï¼Œ1ä¸ª&lt;code>CHAR(1)&lt;/code>ç±»å‹çš„åˆ—ï¼Œè€Œä¸”æˆ‘ä»¬è§„å®šäº†&lt;code>c1&lt;/code>åˆ—ä¸ºä¸»é”®ï¼Œè¿™ä¸ªè¡¨ä½¿ç”¨&lt;code>Compact&lt;/code>è¡Œæ ¼å¼æ¥å®é™…å­˜å‚¨è®°å½•çš„ã€‚ä¸ºäº†æˆ‘ä»¬ç†è§£ä¸Šçš„æ–¹ä¾¿ï¼Œæˆ‘ä»¬ç®€åŒ–äº†ä¸€ä¸‹&lt;code>index_demo&lt;/code>è¡¨çš„è¡Œæ ¼å¼ç¤ºæ„å›¾ï¼š&lt;/p>
&lt;p>&lt;img src="img/06-02.png" alt="" />&lt;/p></description></item><item><title>ç¬¬5ç« _ç››æ”¾è®°å½•çš„å¤§ç›’å­-InnoDBæ•°æ®é¡µç»“æ„</title><link>https://lwmfjc.github.io/zh/docs/technology/MySQL/MySQL%E6%98%AF%E6%80%8E%E6%A0%B7%E8%BF%90%E8%A1%8C%E7%9A%84/%E7%AC%AC5%E7%AB%A0-%E7%9B%9B%E6%94%BE%E8%AE%B0%E5%BD%95%E7%9A%84%E5%A4%A7%E7%9B%92%E5%AD%90-InnoDB%E6%95%B0%E6%8D%AE%E9%A1%B5%E7%BB%93%E6%9E%84/</link><pubDate>Sat, 11 Jan 2025 16:40:01 +0800</pubDate><guid>https://lwmfjc.github.io/zh/docs/technology/MySQL/MySQL%E6%98%AF%E6%80%8E%E6%A0%B7%E8%BF%90%E8%A1%8C%E7%9A%84/%E7%AC%AC5%E7%AB%A0-%E7%9B%9B%E6%94%BE%E8%AE%B0%E5%BD%95%E7%9A%84%E5%A4%A7%E7%9B%92%E5%AD%90-InnoDB%E6%95%B0%E6%8D%AE%E9%A1%B5%E7%BB%93%E6%9E%84/</guid><description>&lt;h1 id="ç¬¬5ç« -ç››æ”¾è®°å½•çš„å¤§ç›’å­-innodbæ•°æ®é¡µç»“æ„">
 ç¬¬5ç«  ç››æ”¾è®°å½•çš„å¤§ç›’å­-InnoDBæ•°æ®é¡µç»“æ„
 &lt;a class="anchor" href="#%e7%ac%ac5%e7%ab%a0-%e7%9b%9b%e6%94%be%e8%ae%b0%e5%bd%95%e7%9a%84%e5%a4%a7%e7%9b%92%e5%ad%90-innodb%e6%95%b0%e6%8d%ae%e9%a1%b5%e7%bb%93%e6%9e%84">#&lt;/a>
&lt;/h1>
&lt;p>ä¸åŒç±»å‹çš„é¡µç®€ä»‹&lt;/p>
&lt;p>å‰é¢æˆ‘ä»¬ç®€å•æäº†ä¸€ä¸‹&lt;code>é¡µ&lt;/code>çš„æ¦‚å¿µï¼Œå®ƒæ˜¯&lt;code>InnoDB&lt;/code>ç®¡ç†å­˜å‚¨ç©ºé—´çš„åŸºæœ¬å•ä½ï¼Œä¸€ä¸ªé¡µçš„å¤§å°ä¸€èˆ¬æ˜¯&lt;code>16KB&lt;/code>ã€‚&lt;code>InnoDB&lt;/code>ä¸ºäº†ä¸åŒçš„ç›®çš„è€Œè®¾è®¡äº†è®¸å¤šç§ä¸åŒç±»å‹çš„&lt;code>é¡µ&lt;/code>ï¼Œæ¯”å¦‚å­˜æ”¾è¡¨ç©ºé—´å¤´éƒ¨ä¿¡æ¯çš„é¡µï¼Œå­˜æ”¾&lt;code>Insert Buffer&lt;/code>ä¿¡æ¯çš„é¡µï¼Œå­˜æ”¾&lt;code>INODE&lt;/code>ä¿¡æ¯çš„é¡µï¼Œå­˜æ”¾&lt;code>undo&lt;/code>æ—¥å¿—ä¿¡æ¯çš„é¡µç­‰ç­‰ç­‰ç­‰ã€‚å½“ç„¶äº†ï¼Œå¦‚æœæˆ‘è¯´çš„è¿™äº›åè¯ä½ ä¸€ä¸ªéƒ½æ²¡æœ‰å¬è¿‡ï¼Œå°±å½“æˆ‘æ”¾äº†ä¸ªå±å§ï½ ä¸è¿‡è¿™æ²¡æœ‰ä¸€æ¯›é’±å…³ç³»ï¼Œæˆ‘ä»¬ä»Šå„¿ä¸ªä¹Ÿä¸å‡†å¤‡è¯´è¿™äº›ç±»å‹çš„é¡µï¼Œæˆ‘ä»¬èšç„¦çš„æ˜¯é‚£äº›å­˜æ”¾æˆ‘ä»¬è¡¨ä¸­è®°å½•çš„é‚£ç§ç±»å‹çš„é¡µï¼Œå®˜æ–¹ç§°è¿™ç§å­˜æ”¾è®°å½•çš„é¡µä¸ºç´¢å¼•ï¼ˆ&lt;code>INDEX&lt;/code>ï¼‰é¡µï¼Œé‰´äºæˆ‘ä»¬è¿˜æ²¡æœ‰äº†è§£è¿‡ç´¢å¼•æ˜¯ä¸ªä»€ä¹ˆä¸œè¥¿ï¼Œè€Œè¿™äº›è¡¨ä¸­çš„è®°å½•å°±æ˜¯æˆ‘ä»¬æ—¥å¸¸å£ä¸­æ‰€ç§°çš„&lt;code>æ•°æ®&lt;/code>ï¼Œæ‰€ä»¥ç›®å‰è¿˜æ˜¯å«è¿™ç§å­˜æ”¾è®°å½•çš„é¡µä¸º&lt;code>æ•°æ®é¡µ&lt;/code>å§ã€‚&lt;/p>
&lt;p>æ•°æ®é¡µç»“æ„çš„å¿«é€Ÿæµè§ˆ&lt;/p>
&lt;p>æ•°æ®é¡µä»£è¡¨çš„è¿™å—&lt;code>16KB&lt;/code>å¤§å°çš„å­˜å‚¨ç©ºé—´å¯ä»¥è¢«åˆ’åˆ†ä¸ºå¤šä¸ªéƒ¨åˆ†ï¼Œä¸åŒéƒ¨åˆ†æœ‰ä¸åŒçš„åŠŸèƒ½ï¼Œå„ä¸ªéƒ¨åˆ†å¦‚å›¾æ‰€ç¤ºï¼š&lt;/p>
&lt;p>&lt;img src="img/05-01.png" alt="" />&lt;/p>
&lt;p>ä»å›¾ä¸­å¯ä»¥çœ‹å‡ºï¼Œä¸€ä¸ª&lt;code>InnoDB&lt;/code>æ•°æ®é¡µçš„å­˜å‚¨ç©ºé—´å¤§è‡´è¢«åˆ’åˆ†æˆäº†&lt;code>7&lt;/code>ä¸ªéƒ¨åˆ†ï¼Œæœ‰çš„éƒ¨åˆ†å ç”¨çš„å­—èŠ‚æ•°æ˜¯ç¡®å®šçš„ï¼Œæœ‰çš„éƒ¨åˆ†å ç”¨çš„å­—èŠ‚æ•°æ˜¯ä¸ç¡®å®šçš„ã€‚ä¸‹é¢æˆ‘ä»¬ç”¨è¡¨æ ¼çš„æ–¹å¼æ¥å¤§è‡´æè¿°ä¸€ä¸‹è¿™7ä¸ªéƒ¨åˆ†éƒ½å­˜å‚¨ä¸€äº›ä»€ä¹ˆå†…å®¹ï¼ˆå¿«é€Ÿçš„ç…ä¸€çœ¼å°±è¡Œäº†ï¼Œåè¾¹ä¼šè¯¦ç»†ä»‹ç»çš„ï¼‰ï¼š
åç§° ä¸­æ–‡å å ç”¨ç©ºé—´å¤§å° ç®€å•æè¿° &lt;code>File Header&lt;/code> æ–‡ä»¶å¤´éƒ¨ &lt;code>38&lt;/code>å­—èŠ‚ é¡µçš„ä¸€äº›é€šç”¨ä¿¡æ¯ &lt;code>Page Header&lt;/code> é¡µé¢å¤´éƒ¨ &lt;code>56&lt;/code>å­—èŠ‚ æ•°æ®é¡µä¸“æœ‰çš„ä¸€äº›ä¿¡æ¯ &lt;code>Infimum + Supremum&lt;/code> æœ€å°è®°å½•å’Œæœ€å¤§è®°å½• &lt;code>26&lt;/code>å­—èŠ‚ ä¸¤ä¸ªè™šæ‹Ÿçš„è¡Œè®°å½• &lt;code>User Records&lt;/code> ç”¨æˆ·è®°å½• ä¸ç¡®å®š å®é™…å­˜å‚¨çš„è¡Œè®°å½•å†…å®¹ &lt;code>Free Space&lt;/code> ç©ºé—²ç©ºé—´ ä¸ç¡®å®š é¡µä¸­å°šæœªä½¿ç”¨çš„ç©ºé—´ &lt;code>Page Directory&lt;/code> é¡µé¢ç›®å½• ä¸ç¡®å®š é¡µä¸­çš„æŸäº›è®°å½•çš„ç›¸å¯¹ä½ç½® &lt;code>File Trailer&lt;/code> æ–‡ä»¶å°¾éƒ¨ &lt;code>8&lt;/code>å­—èŠ‚ æ ¡éªŒé¡µæ˜¯å¦å®Œæ•´ &lt;br>
&lt;code>å°è´´å£«ï¼šæˆ‘ä»¬æ¥ä¸‹æ¥å¹¶ä¸æ‰“ç®—æŒ‰ç…§é¡µä¸­å„ä¸ªéƒ¨åˆ†çš„å‡ºç°é¡ºåºæ¥ä¾æ¬¡ä»‹ç»å®ƒä»¬ï¼Œå› ä¸ºå„ä¸ªéƒ¨åˆ†ä¸­ä¼šå‡ºç°å¾ˆå¤šå¤§å®¶ç›®å‰ä¸ç†è§£çš„æ¦‚å¿µï¼Œè¿™ä¼šæ‰“å‡»å„ä½è¯»æ–‡ç« çš„ä¿¡å¿ƒä¸å…´è¶£ï¼Œå¸Œæœ›å„ä½èƒ½æ¥å—è¿™ç§æ‹æ‘„æ‰‹æ³•ï½&lt;/code>&lt;/p>
&lt;p>è®°å½•åœ¨é¡µä¸­çš„å­˜å‚¨&lt;/p>
&lt;p>åœ¨é¡µçš„7ä¸ªç»„æˆéƒ¨åˆ†ä¸­ï¼Œæˆ‘ä»¬è‡ªå·±å­˜å‚¨çš„è®°å½•ä¼šæŒ‰ç…§æˆ‘ä»¬æŒ‡å®šçš„&lt;code>è¡Œæ ¼å¼&lt;/code>å­˜å‚¨åˆ°&lt;code>User Records&lt;/code>éƒ¨åˆ†ã€‚ä½†æ˜¯åœ¨ä¸€å¼€å§‹ç”Ÿæˆé¡µçš„æ—¶å€™ï¼Œå…¶å®å¹¶æ²¡æœ‰&lt;code>User Records&lt;/code>è¿™ä¸ªéƒ¨åˆ†ï¼Œæ¯å½“æˆ‘ä»¬æ’å…¥ä¸€æ¡è®°å½•ï¼Œéƒ½ä¼šä»&lt;code>Free Space&lt;/code>éƒ¨åˆ†ï¼Œä¹Ÿå°±æ˜¯å°šæœªä½¿ç”¨çš„å­˜å‚¨ç©ºé—´ä¸­ç”³è¯·ä¸€ä¸ªè®°å½•å¤§å°çš„ç©ºé—´åˆ’åˆ†åˆ°&lt;code>User Records&lt;/code>éƒ¨åˆ†ï¼Œå½“&lt;code>Free Space&lt;/code>éƒ¨åˆ†çš„ç©ºé—´å…¨éƒ¨è¢«&lt;code>User Records&lt;/code>éƒ¨åˆ†æ›¿ä»£æ‰ä¹‹åï¼Œä¹Ÿå°±æ„å‘³ç€è¿™ä¸ªé¡µä½¿ç”¨å®Œäº†ï¼Œå¦‚æœè¿˜æœ‰æ–°çš„è®°å½•æ’å…¥çš„è¯ï¼Œå°±éœ€è¦å»ç”³è¯·æ–°çš„é¡µäº†ï¼Œè¿™ä¸ªè¿‡ç¨‹çš„å›¾ç¤ºå¦‚ä¸‹ï¼š&lt;/p>
&lt;p>&lt;img src="img/05-02.png" alt="" />&lt;/p>
&lt;p>ä¸ºäº†æ›´å¥½çš„ç®¡ç†åœ¨&lt;code>User Records&lt;/code>ä¸­çš„è¿™äº›è®°å½•ï¼Œ&lt;code>InnoDB&lt;/code>å¯è´¹äº†ä¸€ç•ªåŠ›æ°”å‘¢ï¼Œåœ¨å“ªè´¹åŠ›æ°”äº†å‘¢ï¼Ÿä¸å°±æ˜¯æŠŠè®°å½•æŒ‰ç…§æŒ‡å®šçš„è¡Œæ ¼å¼ä¸€æ¡ä¸€æ¡æ‘†åœ¨&lt;code>User Records&lt;/code>éƒ¨åˆ†ä¹ˆï¼Ÿå…¶å®è¿™è¯è¿˜å¾—ä»è®°å½•è¡Œæ ¼å¼çš„&lt;code>è®°å½•å¤´ä¿¡æ¯&lt;/code>ä¸­è¯´èµ·ã€‚&lt;/p>
&lt;h1 id="è®°å½•å¤´ä¿¡æ¯çš„ç§˜å¯†">
 è®°å½•å¤´ä¿¡æ¯çš„ç§˜å¯†
 &lt;a class="anchor" href="#%e8%ae%b0%e5%bd%95%e5%a4%b4%e4%bf%a1%e6%81%af%e7%9a%84%e7%a7%98%e5%af%86">#&lt;/a>
&lt;/h1>
&lt;p>ä¸ºäº†æ•…äº‹çš„é¡ºåˆ©å‘å±•ï¼Œæˆ‘ä»¬å…ˆåˆ›å»ºä¸€ä¸ªè¡¨ï¼š &lt;code>mysql&amp;gt; CREATE TABLE page_demo( -&amp;gt; c1 INT, -&amp;gt; c2 INT, -&amp;gt; c3 VARCHAR(10000), -&amp;gt; PRIMARY KEY (c1) -&amp;gt; ) CHARSET=ascii ROW_FORMAT=Compact; Query OK, 0 rows affected (0.03 sec)&lt;/code> è¿™ä¸ªæ–°åˆ›å»ºçš„&lt;code>page_demo&lt;/code>è¡¨æœ‰3ä¸ªåˆ—ï¼Œå…¶ä¸­&lt;code>c1&lt;/code>å’Œ&lt;code>c2&lt;/code>åˆ—æ˜¯ç”¨æ¥å­˜å‚¨æ•´æ•°çš„ï¼Œ&lt;code>c3&lt;/code>åˆ—æ˜¯ç”¨æ¥å­˜å‚¨å­—ç¬¦ä¸²çš„ã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œ&lt;strong>æˆ‘ä»¬æŠŠ &lt;em>&lt;strong>c1&lt;/strong>&lt;/em> åˆ—æŒ‡å®šä¸ºä¸»é”®ï¼Œæ‰€ä»¥åœ¨å…·ä½“çš„è¡Œæ ¼å¼ä¸­InnoDBå°±æ²¡å¿…è¦ä¸ºæˆ‘ä»¬å»åˆ›å»ºé‚£ä¸ªæ‰€è°“çš„ &lt;em>&lt;strong>row_id&lt;/strong>&lt;/em> éšè—åˆ—äº†&lt;/strong>ã€‚è€Œä¸”æˆ‘ä»¬ä¸ºè¿™ä¸ªè¡¨æŒ‡å®šäº†&lt;code>ascii&lt;/code>å­—ç¬¦é›†ä»¥åŠ&lt;code>Compact&lt;/code>çš„è¡Œæ ¼å¼ã€‚æ‰€ä»¥è¿™ä¸ªè¡¨ä¸­è®°å½•çš„è¡Œæ ¼å¼ç¤ºæ„å›¾å°±æ˜¯è¿™æ ·çš„ï¼š&lt;/p></description></item><item><title>ç¬¬4ç« _ä»ä¸€æ¡è®°å½•è¯´èµ·-InnoDBè®°å½•ç»“æ„</title><link>https://lwmfjc.github.io/zh/docs/technology/MySQL/MySQL%E6%98%AF%E6%80%8E%E6%A0%B7%E8%BF%90%E8%A1%8C%E7%9A%84/%E7%AC%AC4%E7%AB%A0_%E4%BB%8E%E4%B8%80%E6%9D%A1%E8%AE%B0%E5%BD%95%E8%AF%B4%E8%B5%B7-InnoDB%E8%AE%B0%E5%BD%95%E7%BB%93%E6%9E%84/</link><pubDate>Sat, 11 Jan 2025 16:40:00 +0800</pubDate><guid>https://lwmfjc.github.io/zh/docs/technology/MySQL/MySQL%E6%98%AF%E6%80%8E%E6%A0%B7%E8%BF%90%E8%A1%8C%E7%9A%84/%E7%AC%AC4%E7%AB%A0_%E4%BB%8E%E4%B8%80%E6%9D%A1%E8%AE%B0%E5%BD%95%E8%AF%B4%E8%B5%B7-InnoDB%E8%AE%B0%E5%BD%95%E7%BB%93%E6%9E%84/</guid><description>&lt;h1 id="ç¬¬4ç« -ä»ä¸€æ¡è®°å½•è¯´èµ·-innodbè®°å½•ç»“æ„">
 ç¬¬4ç«  ä»ä¸€æ¡è®°å½•è¯´èµ·-InnoDBè®°å½•ç»“æ„
 &lt;a class="anchor" href="#%e7%ac%ac4%e7%ab%a0-%e4%bb%8e%e4%b8%80%e6%9d%a1%e8%ae%b0%e5%bd%95%e8%af%b4%e8%b5%b7-innodb%e8%ae%b0%e5%bd%95%e7%bb%93%e6%9e%84">#&lt;/a>
&lt;/h1>
&lt;p>å‡†å¤‡å·¥ä½œ&lt;/p>
&lt;p>åˆ°ç°åœ¨ä¸ºæ­¢ï¼Œ&lt;code>MySQL&lt;/code>å¯¹äºæˆ‘ä»¬æ¥è¯´è¿˜æ˜¯ä¸€ä¸ªé»‘ç›’ï¼Œæˆ‘ä»¬åªè´Ÿè´£ä½¿ç”¨å®¢æˆ·ç«¯å‘é€è¯·æ±‚å¹¶ç­‰å¾…æœåŠ¡å™¨è¿”å›ç»“æœï¼Œè¡¨ä¸­çš„æ•°æ®åˆ°åº•å­˜åˆ°äº†å“ªé‡Œï¼Ÿä»¥ä»€ä¹ˆæ ¼å¼å­˜æ”¾çš„ï¼Ÿ&lt;code>MySQL&lt;/code>æ˜¯ä»¥ä»€ä¹ˆæ–¹å¼æ¥è®¿é—®çš„è¿™äº›æ•°æ®ï¼Ÿè¿™äº›é—®é¢˜æˆ‘ä»¬ç»Ÿç»Ÿä¸çŸ¥é“ï¼Œå¯¹äºæœªçŸ¥é¢†åŸŸçš„æ¢ç´¢å‘æ¥å°±æ˜¯ç¤¾ä¼šä¸»ä¹‰æ ¸å¿ƒä»·å€¼è§‚ä¸­çš„ä¸€éƒ¨åˆ†ï¼Œä½œä¸ºæ–°ä¸€ä»£ç¤¾ä¼šä¸»ä¹‰æ¥ç­äººï¼Œä¸æŠŠå®ƒä»¬ææ‡‚æ€ä¹ˆæ”¯æ´ç¥–å›½å»ºè®¾å‘¢ï¼Ÿ&lt;/p>
&lt;p>æˆ‘ä»¬å‰é¢ä»‹ç»è¯·æ±‚å¤„ç†è¿‡ç¨‹çš„æ—¶å€™æåˆ°è¿‡ï¼Œ&lt;code>MySQL&lt;/code>æœåŠ¡å™¨ä¸Šè´Ÿè´£å¯¹è¡¨ä¸­æ•°æ®çš„è¯»å–å’Œå†™å…¥å·¥ä½œçš„éƒ¨åˆ†æ˜¯&lt;code>å­˜å‚¨å¼•æ“&lt;/code>ï¼Œè€ŒæœåŠ¡å™¨åˆæ”¯æŒä¸åŒç±»å‹çš„å­˜å‚¨å¼•æ“ï¼Œæ¯”å¦‚&lt;code>InnoDB&lt;/code>ã€&lt;code>MyISAM&lt;/code>ã€&lt;code>Memory&lt;/code>ä»€ä¹ˆçš„ï¼Œä¸åŒçš„å­˜å‚¨å¼•æ“ä¸€èˆ¬æ˜¯ç”±ä¸åŒçš„äººä¸ºå®ç°ä¸åŒçš„ç‰¹æ€§è€Œå¼€å‘çš„ï¼Œ&lt;strong>çœŸå®æ•°æ®åœ¨ä¸åŒå­˜å‚¨å¼•æ“ä¸­å­˜æ”¾çš„æ ¼å¼ä¸€èˆ¬æ˜¯ä¸åŒçš„&lt;/strong>ï¼Œç”šè‡³æœ‰çš„å­˜å‚¨å¼•æ“æ¯”å¦‚&lt;code>Memory&lt;/code>éƒ½ä¸ç”¨ç£ç›˜æ¥å­˜å‚¨æ•°æ®ï¼Œä¹Ÿå°±æ˜¯è¯´å…³é—­æœåŠ¡å™¨åè¡¨ä¸­çš„æ•°æ®å°±æ¶ˆå¤±äº†ã€‚ç”±äº&lt;code>InnoDB&lt;/code>æ˜¯&lt;code>MySQL&lt;/code>é»˜è®¤çš„å­˜å‚¨å¼•æ“ï¼Œä¹Ÿæ˜¯æˆ‘ä»¬æœ€å¸¸ç”¨åˆ°çš„å­˜å‚¨å¼•æ“ï¼Œæˆ‘ä»¬ä¹Ÿæ²¡æœ‰é‚£ä¹ˆå¤šæ—¶é—´å»æŠŠå„ä¸ªå­˜å‚¨å¼•æ“çš„å†…éƒ¨å®ç°éƒ½çœ‹ä¸€éï¼Œæ‰€ä»¥æœ¬é›†è¦ä»‹ç»çš„æ˜¯ä½¿ç”¨&lt;code>InnoDB&lt;/code>ä½œä¸ºå­˜å‚¨å¼•æ“çš„æ•°æ®å­˜å‚¨ç»“æ„ï¼Œäº†è§£äº†ä¸€ä¸ªå­˜å‚¨å¼•æ“çš„æ•°æ®å­˜å‚¨ç»“æ„ä¹‹åï¼Œå…¶ä»–çš„å­˜å‚¨å¼•æ“éƒ½æ˜¯ä¾è‘«èŠ¦ç”»ç“¢ï¼Œç­‰æˆ‘ä»¬ç”¨åˆ°äº†å†è¯´ã€‚&lt;/p>
&lt;p>InnoDBé¡µç®€ä»‹&lt;/p>
&lt;p>&lt;code>InnoDB&lt;/code>æ˜¯ä¸€ä¸ªå°†è¡¨ä¸­çš„æ•°æ®å­˜å‚¨åˆ°ç£ç›˜ä¸Šçš„å­˜å‚¨å¼•æ“ï¼Œæ‰€ä»¥å³ä½¿å…³æœºåé‡å¯æˆ‘ä»¬çš„æ•°æ®è¿˜æ˜¯å­˜åœ¨çš„ã€‚è€ŒçœŸæ­£å¤„ç†æ•°æ®çš„è¿‡ç¨‹æ˜¯å‘ç”Ÿåœ¨å†…å­˜ä¸­çš„ï¼Œæ‰€ä»¥éœ€è¦æŠŠç£ç›˜ä¸­çš„æ•°æ®åŠ è½½åˆ°å†…å­˜ä¸­ï¼Œå¦‚æœæ˜¯å¤„ç†å†™å…¥æˆ–ä¿®æ”¹è¯·æ±‚çš„è¯ï¼Œè¿˜éœ€è¦æŠŠå†…å­˜ä¸­çš„å†…å®¹åˆ·æ–°åˆ°ç£ç›˜ä¸Šã€‚è€Œæˆ‘ä»¬çŸ¥é“è¯»å†™ç£ç›˜çš„é€Ÿåº¦éå¸¸æ…¢ï¼Œå’Œå†…å­˜è¯»å†™å·®äº†å‡ ä¸ªæ•°é‡çº§ï¼Œæ‰€ä»¥å½“æˆ‘ä»¬æƒ³ä»è¡¨ä¸­è·å–æŸäº›è®°å½•æ—¶ï¼Œ&lt;code>InnoDB&lt;/code>å­˜å‚¨å¼•æ“éœ€è¦ä¸€æ¡ä¸€æ¡çš„æŠŠè®°å½•ä»ç£ç›˜ä¸Šè¯»å‡ºæ¥ä¹ˆï¼Ÿä¸ï¼Œé‚£æ ·ä¼šæ…¢æ­»ï¼Œ&lt;code>InnoDB&lt;/code>é‡‡å–çš„æ–¹å¼æ˜¯ï¼š&lt;strong>å°†æ•°æ®åˆ’åˆ†ä¸ºè‹¥å¹²ä¸ªé¡µï¼Œä»¥é¡µä½œä¸ºç£ç›˜å’Œå†…å­˜ä¹‹é—´äº¤äº’çš„åŸºæœ¬å•ä½ï¼ŒInnoDBä¸­é¡µçš„å¤§å°ä¸€èˆ¬ä¸º &lt;em>&lt;strong>16&lt;/strong>&lt;/em> KB&lt;/strong>ã€‚ä¹Ÿå°±æ˜¯åœ¨ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œä¸€æ¬¡æœ€å°‘ä»ç£ç›˜ä¸­è¯»å–16KBçš„å†…å®¹åˆ°å†…å­˜ä¸­ï¼Œä¸€æ¬¡æœ€å°‘æŠŠå†…å­˜ä¸­çš„16KBå†…å®¹åˆ·æ–°åˆ°ç£ç›˜ä¸­ã€‚&lt;/p>
&lt;p>InnoDBè¡Œæ ¼å¼&lt;/p>
&lt;p>æˆ‘ä»¬å¹³æ—¶æ˜¯ä»¥è®°å½•ä¸ºå•ä½æ¥å‘è¡¨ä¸­æ’å…¥æ•°æ®çš„ï¼Œè¿™äº›è®°å½•åœ¨ç£ç›˜ä¸Šçš„å­˜æ”¾æ–¹å¼ä¹Ÿè¢«ç§°ä¸º&lt;code>è¡Œæ ¼å¼&lt;/code>æˆ–è€…&lt;code>è®°å½•æ ¼å¼&lt;/code>ã€‚è®¾è®¡&lt;code>InnoDB&lt;/code>å­˜å‚¨å¼•æ“çš„å¤§ä½¬ä»¬åˆ°ç°åœ¨ä¸ºæ­¢è®¾è®¡äº†4ç§ä¸åŒç±»å‹çš„&lt;code>è¡Œæ ¼å¼&lt;/code>ï¼Œåˆ†åˆ«æ˜¯&lt;code>Compact&lt;/code>ã€&lt;code>Redundant&lt;/code>ã€&lt;code>Dynamic&lt;/code>å’Œ&lt;code>Compressed&lt;/code>è¡Œæ ¼å¼ï¼Œéšç€æ—¶é—´çš„æ¨ç§»ï¼Œä»–ä»¬å¯èƒ½ä¼šè®¾è®¡å‡ºæ›´å¤šçš„è¡Œæ ¼å¼ï¼Œä½†æ˜¯ä¸ç®¡æ€ä¹ˆå˜ï¼Œåœ¨åŸç†ä¸Šå¤§ä½“éƒ½æ˜¯ç›¸åŒçš„ã€‚&lt;/p>
&lt;h1 id="æŒ‡å®šè¡Œæ ¼å¼çš„è¯­æ³•">
 æŒ‡å®šè¡Œæ ¼å¼çš„è¯­æ³•
 &lt;a class="anchor" href="#%e6%8c%87%e5%ae%9a%e8%a1%8c%e6%a0%bc%e5%bc%8f%e7%9a%84%e8%af%ad%e6%b3%95">#&lt;/a>
&lt;/h1>
&lt;p>æˆ‘ä»¬å¯ä»¥åœ¨åˆ›å»ºæˆ–ä¿®æ”¹è¡¨çš„è¯­å¥ä¸­æŒ‡å®š&lt;code>è¡Œæ ¼å¼&lt;/code>ï¼š ``` CREATE TABLE è¡¨å (åˆ—çš„ä¿¡æ¯) ROW_FORMAT=è¡Œæ ¼å¼åç§°&lt;/p>
&lt;p>ALTER TABLE è¡¨å ROW_FORMAT=è¡Œæ ¼å¼åç§° &lt;code>æ¯”å¦‚æˆ‘ä»¬åœ¨&lt;/code>xiaohaizi&lt;code>æ•°æ®åº“é‡Œåˆ›å»ºä¸€ä¸ªæ¼”ç¤ºç”¨çš„è¡¨&lt;/code>record_format_demo&lt;code>ï¼Œå¯ä»¥è¿™æ ·æŒ‡å®šå®ƒçš„&lt;/code>è¡Œæ ¼å¼&lt;code>ï¼š&lt;/code> mysql&amp;gt; USE xiaohaizi; Database changed&lt;/p>
&lt;p>mysql&amp;gt; CREATE TABLE record_format_demo ( -&amp;gt; c1 VARCHAR
 
 
 
 
 
 
 
 &lt;span class="katex">&lt;math xmlns="http://www.w3.org/1998/Math/MathML">&lt;semantics>&lt;mrow>&lt;mn>10&lt;/mn>&lt;mo stretchy="false">)&lt;/mo>&lt;mo separator="true">,&lt;/mo>&lt;mo>âˆ’&lt;/mo>&lt;mo>&amp;gt;&lt;/mo>&lt;mi>c&lt;/mi>&lt;mn>2&lt;/mn>&lt;mi>V&lt;/mi>&lt;mi>A&lt;/mi>&lt;mi>R&lt;/mi>&lt;mi>C&lt;/mi>&lt;mi>H&lt;/mi>&lt;mi>A&lt;/mi>&lt;mi>R&lt;/mi>&lt;mo stretchy="false">(&lt;/mo>&lt;mn>10&lt;/mn>&lt;mo stretchy="false">)&lt;/mo>&lt;mi>N&lt;/mi>&lt;mi>O&lt;/mi>&lt;mi>T&lt;/mi>&lt;mi>N&lt;/mi>&lt;mi>U&lt;/mi>&lt;mi>L&lt;/mi>&lt;mi>L&lt;/mi>&lt;mo separator="true">,&lt;/mo>&lt;mo>âˆ’&lt;/mo>&lt;mo>&amp;gt;&lt;/mo>&lt;mi>c&lt;/mi>&lt;mn>3&lt;/mn>&lt;mi>C&lt;/mi>&lt;mi>H&lt;/mi>&lt;mi>A&lt;/mi>&lt;mi>R&lt;/mi>&lt;mo stretchy="false">(&lt;/mo>&lt;mn>10&lt;/mn>&lt;mo stretchy="false">)&lt;/mo>&lt;mo separator="true">,&lt;/mo>&lt;mo>âˆ’&lt;/mo>&lt;mo>&amp;gt;&lt;/mo>&lt;mi>c&lt;/mi>&lt;mn>4&lt;/mn>&lt;mi>V&lt;/mi>&lt;mi>A&lt;/mi>&lt;mi>R&lt;/mi>&lt;mi>C&lt;/mi>&lt;mi>H&lt;/mi>&lt;mi>A&lt;/mi>&lt;mi>R&lt;/mi>&lt;mo stretchy="false">(&lt;/mo>&lt;mn>10&lt;/mn>&lt;mo stretchy="false">)&lt;/mo>&lt;mo>âˆ’&lt;/mo>&lt;mo>&amp;gt;&lt;/mo>&lt;/mrow>&lt;annotation encoding="application/x-tex">10), -&amp;gt; c2 VARCHAR(10) NOT NULL, -&amp;gt; c3 CHAR(10), -&amp;gt; c4 VARCHAR(10) -&amp;gt; &lt;/annotation>&lt;/semantics>&lt;/math>&lt;/span>
 
 CHARSET=ascii ROW_FORMAT=COMPACT; Query OK, 0 rows affected (0.03 sec) &lt;code>å¯ä»¥çœ‹åˆ°æˆ‘ä»¬åˆšåˆšåˆ›å»ºçš„è¿™ä¸ªè¡¨çš„&lt;/code>è¡Œæ ¼å¼&lt;code>å°±æ˜¯&lt;/code>Compact&lt;code>ï¼Œå¦å¤–ï¼Œæˆ‘ä»¬è¿˜æ˜¾å¼æŒ‡å®šäº†è¿™ä¸ªè¡¨çš„å­—ç¬¦é›†ä¸º&lt;/code>ascii&lt;code>ï¼Œå› ä¸º&lt;/code>ascii&lt;code>å­—ç¬¦é›†åªåŒ…æ‹¬ç©ºæ ¼ã€æ ‡ç‚¹ç¬¦å·ã€æ•°å­—ã€å¤§å°å†™å­—æ¯å’Œä¸€äº›ä¸å¯è§å­—ç¬¦ï¼Œæ‰€ä»¥æˆ‘ä»¬çš„æ±‰å­—æ˜¯ä¸èƒ½å­˜åˆ°è¿™ä¸ªè¡¨é‡Œçš„ã€‚æˆ‘ä»¬ç°åœ¨å‘è¿™ä¸ªè¡¨ä¸­æ’å…¥ä¸¤æ¡è®°å½•ï¼š&lt;/code> mysql&amp;gt; INSERT INTO record_format_demo(c1, c2, c3, c4) VALUES(&amp;lsquo;aaaa&amp;rsquo;, &amp;lsquo;bbb&amp;rsquo;, &amp;lsquo;cc&amp;rsquo;, &amp;rsquo;d&amp;rsquo;), (&amp;rsquo;eeee&amp;rsquo;, &amp;lsquo;fff&amp;rsquo;, NULL, NULL); Query OK, 2 rows affected (0.02 sec) Records: 2 Duplicates: 0 Warnings: 0 &lt;code>ç°åœ¨è¡¨ä¸­çš„è®°å½•å°±æ˜¯è¿™ä¸ªæ ·å­çš„ï¼š&lt;/code> mysql&amp;gt; SELECT * FROM record_format_demo; +&amp;mdash;&amp;mdash;+&amp;mdash;&amp;ndash;+&amp;mdash;&amp;mdash;+&amp;mdash;&amp;mdash;+ | c1 | c2 | c3 | c4 | +&amp;mdash;&amp;mdash;+&amp;mdash;&amp;ndash;+&amp;mdash;&amp;mdash;+&amp;mdash;&amp;mdash;+ | aaaa | bbb | cc | d | | eeee | fff | NULL | NULL | +&amp;mdash;&amp;mdash;+&amp;mdash;&amp;ndash;+&amp;mdash;&amp;mdash;+&amp;mdash;&amp;mdash;+ 2 rows in set (0.00 sec)&lt;/p></description></item><item><title>ç¬¬3ç« _ä¹±ç çš„å‰ä¸–ä»Šç”Ÿ-å­—ç¬¦é›†å’Œæ¯”è¾ƒè§„åˆ™</title><link>https://lwmfjc.github.io/zh/docs/technology/MySQL/MySQL%E6%98%AF%E6%80%8E%E6%A0%B7%E8%BF%90%E8%A1%8C%E7%9A%84/%E7%AC%AC3%E7%AB%A0_%E4%B9%B1%E7%A0%81%E7%9A%84%E5%89%8D%E4%B8%96%E4%BB%8A%E7%94%9F-%E5%AD%97%E7%AC%A6%E9%9B%86%E5%92%8C%E6%AF%94%E8%BE%83%E8%A7%84%E5%88%99/</link><pubDate>Sat, 11 Jan 2025 16:39:59 +0800</pubDate><guid>https://lwmfjc.github.io/zh/docs/technology/MySQL/MySQL%E6%98%AF%E6%80%8E%E6%A0%B7%E8%BF%90%E8%A1%8C%E7%9A%84/%E7%AC%AC3%E7%AB%A0_%E4%B9%B1%E7%A0%81%E7%9A%84%E5%89%8D%E4%B8%96%E4%BB%8A%E7%94%9F-%E5%AD%97%E7%AC%A6%E9%9B%86%E5%92%8C%E6%AF%94%E8%BE%83%E8%A7%84%E5%88%99/</guid><description>&lt;h1 id="ç¬¬3ç« -ä¹±ç çš„å‰ä¸–ä»Šç”Ÿ-å­—ç¬¦é›†å’Œæ¯”è¾ƒè§„åˆ™">
 ç¬¬3ç«  ä¹±ç çš„å‰ä¸–ä»Šç”Ÿ-å­—ç¬¦é›†å’Œæ¯”è¾ƒè§„åˆ™
 &lt;a class="anchor" href="#%e7%ac%ac3%e7%ab%a0-%e4%b9%b1%e7%a0%81%e7%9a%84%e5%89%8d%e4%b8%96%e4%bb%8a%e7%94%9f-%e5%ad%97%e7%ac%a6%e9%9b%86%e5%92%8c%e6%af%94%e8%be%83%e8%a7%84%e5%88%99">#&lt;/a>
&lt;/h1>
&lt;p>å­—ç¬¦é›†å’Œæ¯”è¾ƒè§„åˆ™ç®€ä»‹&lt;/p>
&lt;h1 id="å­—ç¬¦é›†ç®€ä»‹">
 å­—ç¬¦é›†ç®€ä»‹
 &lt;a class="anchor" href="#%e5%ad%97%e7%ac%a6%e9%9b%86%e7%ae%80%e4%bb%8b">#&lt;/a>
&lt;/h1>
&lt;p>æˆ‘ä»¬çŸ¥é“åœ¨è®¡ç®—æœºä¸­åªèƒ½å­˜å‚¨äºŒè¿›åˆ¶æ•°æ®ï¼Œé‚£è¯¥æ€ä¹ˆå­˜å‚¨å­—ç¬¦ä¸²å‘¢ï¼Ÿå½“ç„¶æ˜¯å»ºç«‹å­—ç¬¦ä¸äºŒè¿›åˆ¶æ•°æ®çš„æ˜ å°„å…³ç³»äº†ï¼Œå»ºç«‹è¿™ä¸ªå…³ç³»æœ€èµ·ç è¦ææ¸…æ¥šä¸¤ä»¶äº‹å„¿ï¼š&lt;/p>
&lt;ol>
&lt;li>ä½ è¦æŠŠå“ªäº›å­—ç¬¦æ˜ å°„æˆäºŒè¿›åˆ¶æ•°æ®ï¼Ÿ ä¹Ÿå°±æ˜¯ç•Œå®šæ¸…æ¥šå­—ç¬¦èŒƒå›´ã€‚&lt;/li>
&lt;li>æ€ä¹ˆæ˜ å°„ï¼Ÿ å°†ä¸€ä¸ªå­—ç¬¦æ˜ å°„æˆä¸€ä¸ªäºŒè¿›åˆ¶æ•°æ®çš„è¿‡ç¨‹ä¹Ÿå«åš&lt;code>ç¼–ç &lt;/code>ï¼Œå°†ä¸€ä¸ªäºŒè¿›åˆ¶æ•°æ®æ˜ å°„åˆ°ä¸€ä¸ªå­—ç¬¦çš„è¿‡ç¨‹å«åš&lt;code>è§£ç &lt;/code>ã€‚&lt;/li>
&lt;/ol>
&lt;p>äººä»¬æŠ½è±¡å‡ºä¸€ä¸ª&lt;code>å­—ç¬¦é›†&lt;/code>çš„æ¦‚å¿µæ¥æè¿°æŸä¸ªå­—ç¬¦èŒƒå›´çš„ç¼–ç è§„åˆ™ã€‚æ¯”æ–¹è¯´æˆ‘ä»¬æ¥è‡ªå®šä¹‰ä¸€ä¸ªåç§°ä¸º&lt;code>xiaohaizi&lt;/code>çš„å­—ç¬¦é›†ï¼Œå®ƒåŒ…å«çš„å­—ç¬¦èŒƒå›´å’Œç¼–ç è§„åˆ™å¦‚ä¸‹ï¼š&lt;/p>
&lt;ul>
&lt;li>&lt;/li>
&lt;/ul>
&lt;p>åŒ…å«å­—ç¬¦&lt;code>'a'&lt;/code>ã€&lt;code>'b'&lt;/code>ã€&lt;code>'A'&lt;/code>ã€&lt;code>'B'&lt;/code>ã€‚&lt;/p>
&lt;ul>
&lt;li>&lt;/li>
&lt;/ul>
&lt;p>ç¼–ç è§„åˆ™å¦‚ä¸‹ï¼š&lt;/p>
&lt;p>é‡‡ç”¨1ä¸ªå­—èŠ‚ç¼–ç ä¸€ä¸ªå­—ç¬¦çš„å½¢å¼ï¼Œå­—ç¬¦å’Œå­—èŠ‚çš„æ˜ å°„å…³ç³»å¦‚ä¸‹ï¼š &lt;code>'a' -&amp;gt; 00000001 (åå…­è¿›åˆ¶ï¼š0x01) 'b' -&amp;gt; 00000010 (åå…­è¿›åˆ¶ï¼š0x02) 'A' -&amp;gt; 00000011 (åå…­è¿›åˆ¶ï¼š0x03) 'B' -&amp;gt; 00000100 (åå…­è¿›åˆ¶ï¼š0x04)&lt;/code>&lt;/p>
&lt;p>æœ‰äº†&lt;code>xiaohaizi&lt;/code>å­—ç¬¦é›†ï¼Œæˆ‘ä»¬å°±å¯ä»¥ç”¨äºŒè¿›åˆ¶å½¢å¼è¡¨ç¤ºä¸€äº›å­—ç¬¦ä¸²äº†ï¼Œä¸‹é¢æ˜¯ä¸€äº›å­—ç¬¦ä¸²ç”¨&lt;code>xiaohaizi&lt;/code>å­—ç¬¦é›†ç¼–ç åçš„äºŒè¿›åˆ¶è¡¨ç¤ºï¼š &lt;code>'bA' -&amp;gt; 0000001000000011 (åå…­è¿›åˆ¶ï¼š0x0203) 'baB' -&amp;gt; 000000100000000100000100 (åå…­è¿›åˆ¶ï¼š0x020104) 'cd' -&amp;gt; æ— æ³•è¡¨ç¤ºï¼Œå­—ç¬¦é›†xiaohaiziä¸åŒ…å«å­—ç¬¦'c'å’Œ'd'&lt;/code>&lt;/p>
&lt;h1 id="æ¯”è¾ƒè§„åˆ™ç®€ä»‹">
 æ¯”è¾ƒè§„åˆ™ç®€ä»‹
 &lt;a class="anchor" href="#%e6%af%94%e8%be%83%e8%a7%84%e5%88%99%e7%ae%80%e4%bb%8b">#&lt;/a>
&lt;/h1>
&lt;p>åœ¨æˆ‘ä»¬ç¡®å®šäº†&lt;code>xiaohaizi&lt;/code>å­—ç¬¦é›†è¡¨ç¤ºå­—ç¬¦çš„èŒƒå›´ä»¥åŠç¼–ç è§„åˆ™åï¼Œæ€ä¹ˆæ¯”è¾ƒä¸¤ä¸ªå­—ç¬¦çš„å¤§å°å‘¢ï¼Ÿæœ€å®¹æ˜“æƒ³åˆ°çš„å°±æ˜¯ç›´æ¥æ¯”è¾ƒè¿™ä¸¤ä¸ªå­—ç¬¦å¯¹åº”çš„äºŒè¿›åˆ¶ç¼–ç çš„å¤§å°ï¼Œæ¯”æ–¹è¯´å­—ç¬¦&lt;code>'a'&lt;/code>çš„ç¼–ç ä¸º&lt;code>0x01&lt;/code>ï¼Œå­—ç¬¦&lt;code>'b'&lt;/code>çš„ç¼–ç ä¸º&lt;code>0x02&lt;/code>ï¼Œæ‰€ä»¥&lt;code>'a'&lt;/code>å°äº&lt;code>'b'&lt;/code>ï¼Œè¿™ç§ç®€å•çš„æ¯”è¾ƒè§„åˆ™ä¹Ÿå¯ä»¥è¢«ç§°ä¸ºäºŒè¿›åˆ¶æ¯”è¾ƒè§„åˆ™ï¼Œè‹±æ–‡åä¸º&lt;code>binary collation&lt;/code>ã€‚&lt;/p>
&lt;p>äºŒè¿›åˆ¶æ¯”è¾ƒè§„åˆ™æ˜¯ç®€å•ï¼Œä½†æœ‰æ—¶å€™å¹¶ä¸ç¬¦åˆç°å®éœ€æ±‚ï¼Œæ¯”å¦‚åœ¨å¾ˆå¤šåœºåˆå¯¹äºè‹±æ–‡å­—ç¬¦æˆ‘ä»¬éƒ½æ˜¯ä¸åŒºåˆ†å¤§å°å†™çš„ï¼Œä¹Ÿå°±æ˜¯è¯´&lt;code>'a'&lt;/code>å’Œ&lt;code>'A'&lt;/code>æ˜¯ç›¸ç­‰çš„ï¼Œåœ¨è¿™ç§åœºåˆä¸‹å°±ä¸èƒ½ç®€å•ç²—æš´çš„ä½¿ç”¨äºŒè¿›åˆ¶æ¯”è¾ƒè§„åˆ™äº†ï¼Œè¿™æ—¶å€™æˆ‘ä»¬å¯ä»¥è¿™æ ·æŒ‡å®šæ¯”è¾ƒè§„åˆ™ï¼š&lt;/p>
&lt;ol>
&lt;li>å°†ä¸¤ä¸ªå¤§å°å†™ä¸åŒçš„å­—ç¬¦å…¨éƒ½è½¬ä¸ºå¤§å†™æˆ–è€…å°å†™ã€‚&lt;/li>
&lt;li>å†æ¯”è¾ƒè¿™ä¸¤ä¸ªå­—ç¬¦å¯¹åº”çš„äºŒè¿›åˆ¶æ•°æ®ã€‚&lt;/li>
&lt;/ol>
&lt;p>è¿™æ˜¯ä¸€ç§ç¨å¾®å¤æ‚ä¸€ç‚¹ç‚¹çš„æ¯”è¾ƒè§„åˆ™ï¼Œä½†æ˜¯å®é™…ç”Ÿæ´»ä¸­çš„å­—ç¬¦ä¸æ­¢è‹±æ–‡å­—ç¬¦ä¸€ç§ï¼Œæ¯”å¦‚æˆ‘ä»¬çš„æ±‰å­—æœ‰å‡ ä¸‡ä¹‹å¤šï¼Œå¯¹äºæŸä¸€ç§å­—ç¬¦é›†æ¥è¯´ï¼Œæ¯”è¾ƒä¸¤ä¸ªå­—ç¬¦å¤§å°çš„è§„åˆ™å¯ä»¥åˆ¶å®šå‡ºå¾ˆå¤šç§ï¼Œä¹Ÿå°±æ˜¯è¯´&lt;strong>åŒä¸€ç§å­—ç¬¦é›†å¯ä»¥æœ‰å¤šç§æ¯”è¾ƒè§„åˆ™&lt;/strong>ï¼Œæˆ‘ä»¬ç¨åå°±è¦ä»‹ç»å„ç§ç°å®ç”Ÿæ´»ä¸­ç”¨çš„å­—ç¬¦é›†ä»¥åŠå®ƒä»¬çš„ä¸€äº›æ¯”è¾ƒè§„åˆ™ã€‚&lt;/p>
&lt;h1 id="ä¸€äº›é‡è¦çš„å­—ç¬¦é›†">
 ä¸€äº›é‡è¦çš„å­—ç¬¦é›†
 &lt;a class="anchor" href="#%e4%b8%80%e4%ba%9b%e9%87%8d%e8%a6%81%e7%9a%84%e5%ad%97%e7%ac%a6%e9%9b%86">#&lt;/a>
&lt;/h1>
&lt;p>ä¸å¹¸çš„æ˜¯ï¼Œè¿™ä¸ªä¸–ç•Œå¤ªå¤§äº†ï¼Œä¸åŒçš„äººåˆ¶å®šå‡ºäº†å¥½å¤šç§&lt;code>å­—ç¬¦é›†&lt;/code>ï¼Œå®ƒä»¬è¡¨ç¤ºçš„å­—ç¬¦èŒƒå›´å’Œç”¨åˆ°çš„ç¼–ç è§„åˆ™å¯èƒ½éƒ½ä¸ä¸€æ ·ã€‚æˆ‘ä»¬çœ‹ä¸€ä¸‹ä¸€äº›å¸¸ç”¨å­—ç¬¦é›†çš„æƒ…å†µï¼š&lt;/p>
&lt;ul>
&lt;li>&lt;/li>
&lt;/ul>
&lt;p>&lt;code>ASCII&lt;/code>å­—ç¬¦é›†&lt;/p>
&lt;p>å…±æ”¶å½•128ä¸ªå­—ç¬¦ï¼ŒåŒ…æ‹¬ç©ºæ ¼ã€æ ‡ç‚¹ç¬¦å·ã€æ•°å­—ã€å¤§å°å†™å­—æ¯å’Œä¸€äº›ä¸å¯è§å­—ç¬¦ã€‚ç”±äºæ€»å…±æ‰128ä¸ªå­—ç¬¦ï¼Œæ‰€ä»¥å¯ä»¥ä½¿ç”¨1ä¸ªå­—èŠ‚æ¥è¿›è¡Œç¼–ç ï¼Œæˆ‘ä»¬çœ‹ä¸€äº›å­—ç¬¦çš„ç¼–ç æ–¹å¼ï¼š &lt;code>'L' -&amp;gt; 01001100ï¼ˆåå…­è¿›åˆ¶ï¼š0x4Cï¼Œåè¿›åˆ¶ï¼š76ï¼‰ 'M' -&amp;gt; 01001101ï¼ˆåå…­è¿›åˆ¶ï¼š0x4Dï¼Œåè¿›åˆ¶ï¼š77ï¼‰&lt;/code>&lt;/p>
&lt;ul>
&lt;li>&lt;/li>
&lt;/ul>
&lt;p>&lt;code>ISO 8859-1&lt;/code>å­—ç¬¦é›†&lt;/p></description></item><item><title>ç¬¬2ç« _MySQLçš„è°ƒæ§æŒ‰é’®-å¯åŠ¨é€‰é¡¹å’Œç³»ç»Ÿå˜é‡</title><link>https://lwmfjc.github.io/zh/docs/technology/MySQL/MySQL%E6%98%AF%E6%80%8E%E6%A0%B7%E8%BF%90%E8%A1%8C%E7%9A%84/%E7%AC%AC2%E7%AB%A0_MySQL%E7%9A%84%E8%B0%83%E6%8E%A7%E6%8C%89%E9%92%AE-%E5%90%AF%E5%8A%A8%E9%80%89%E9%A1%B9%E5%92%8C%E7%B3%BB%E7%BB%9F%E5%8F%98%E9%87%8F/</link><pubDate>Sat, 11 Jan 2025 16:39:58 +0800</pubDate><guid>https://lwmfjc.github.io/zh/docs/technology/MySQL/MySQL%E6%98%AF%E6%80%8E%E6%A0%B7%E8%BF%90%E8%A1%8C%E7%9A%84/%E7%AC%AC2%E7%AB%A0_MySQL%E7%9A%84%E8%B0%83%E6%8E%A7%E6%8C%89%E9%92%AE-%E5%90%AF%E5%8A%A8%E9%80%89%E9%A1%B9%E5%92%8C%E7%B3%BB%E7%BB%9F%E5%8F%98%E9%87%8F/</guid><description>&lt;h1 id="ç¬¬2ç« -mysqlçš„è°ƒæ§æŒ‰é’®-å¯åŠ¨é€‰é¡¹å’Œç³»ç»Ÿå˜é‡">
 ç¬¬2ç«  MySQLçš„è°ƒæ§æŒ‰é’®-å¯åŠ¨é€‰é¡¹å’Œç³»ç»Ÿå˜é‡
 &lt;a class="anchor" href="#%e7%ac%ac2%e7%ab%a0-mysql%e7%9a%84%e8%b0%83%e6%8e%a7%e6%8c%89%e9%92%ae-%e5%90%af%e5%8a%a8%e9%80%89%e9%a1%b9%e5%92%8c%e7%b3%bb%e7%bb%9f%e5%8f%98%e9%87%8f">#&lt;/a>
&lt;/h1>
&lt;p>å¦‚æœä½ ç”¨è¿‡æ‰‹æœºï¼Œä½ çš„æ‰‹æœºä¸Šä¸€å®šæœ‰ä¸€ä¸ªè®¾ç½®çš„åŠŸèƒ½ï¼Œä½ å¯ä»¥é€‰æ‹©è®¾ç½®æ‰‹æœºçš„æ¥ç”µé“ƒå£°ã€è®¾ç½®éŸ³é‡å¤§å°ã€è®¾ç½®è§£é”å¯†ç ç­‰ç­‰ã€‚å‡å¦‚æ²¡æœ‰è¿™äº›è®¾ç½®åŠŸèƒ½ï¼Œæˆ‘ä»¬çš„ç”Ÿæ´»å°†ç½®äºå°´å°¬çš„å¢ƒåœ°ï¼Œæ¯”å¦‚åœ¨å›¾ä¹¦é¦†é‡Œæ— æ³•æŠŠæ‰‹æœºè®¾ç½®ä¸ºé™éŸ³ï¼Œæ— æ³•æŠŠæµé‡å¼€å…³å…³æ‰ä»¥èŠ‚çœæµé‡ï¼Œåœ¨åˆ«äººå¾—çŸ¥è§£é”å¯†ç åæ— æ³•æ›´æ”¹å¯†ç ï½ &lt;code>MySQL&lt;/code>çš„æœåŠ¡å™¨ç¨‹åºå’Œå®¢æˆ·ç«¯ç¨‹åºä¹Ÿæœ‰å¾ˆå¤šè®¾ç½®é¡¹ï¼Œæ¯”å¦‚å¯¹äº&lt;code>MySQL&lt;/code>æœåŠ¡å™¨ç¨‹åºï¼Œæˆ‘ä»¬å¯ä»¥æŒ‡å®šè¯¸å¦‚å…è®¸åŒæ—¶è¿å…¥çš„å®¢æˆ·ç«¯æ•°é‡ã€å®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨é€šä¿¡æ–¹å¼ã€è¡¨çš„é»˜è®¤å­˜å‚¨å¼•æ“ã€æŸ¥è¯¢ç¼“å­˜çš„å¤§å°ç­‰è®¾ç½®é¡¹ã€‚å¯¹äº&lt;code>MySQL&lt;/code>å®¢æˆ·ç«¯ç¨‹åºï¼Œæˆ‘ä»¬ä¹‹å‰å·²ç»è§è¯†è¿‡äº†ï¼Œå¯ä»¥æŒ‡å®šéœ€è¦è¿æ¥çš„æœåŠ¡å™¨ç¨‹åºæ‰€åœ¨ä¸»æœºçš„ä¸»æœºåæˆ–IPåœ°å€ã€ç”¨æˆ·ååŠå¯†ç ç­‰ä¿¡æ¯ã€‚&lt;/p>
&lt;p>è¿™äº›è®¾ç½®é¡¹ä¸€èˆ¬éƒ½æœ‰å„è‡ªçš„é»˜è®¤å€¼ï¼Œæ¯”æ–¹è¯´æœåŠ¡å™¨å…è®¸åŒæ—¶è¿å…¥çš„å®¢æˆ·ç«¯çš„é»˜è®¤æ•°é‡æ˜¯&lt;code>151&lt;/code>ï¼Œè¡¨çš„é»˜è®¤å­˜å‚¨å¼•æ“æ˜¯&lt;code>InnoDB&lt;/code>ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨ç¨‹åºå¯åŠ¨çš„æ—¶å€™å»ä¿®æ”¹è¿™äº›é»˜è®¤å€¼ï¼Œå¯¹äºè¿™ç§åœ¨ç¨‹åºå¯åŠ¨æ—¶æŒ‡å®šçš„è®¾ç½®é¡¹ä¹Ÿç§°ä¹‹ä¸ºå¯åŠ¨é€‰é¡¹ï¼ˆstartup optionsï¼‰ï¼Œè¿™äº›é€‰é¡¹æ§åˆ¶ç€ç¨‹åºå¯åŠ¨åçš„è¡Œä¸ºã€‚åœ¨&lt;code>MySQL&lt;/code>å®‰è£…ç›®å½•ä¸‹çš„&lt;code>bin&lt;/code>ç›®å½•ä¸­çš„å„ç§å¯æ‰§è¡Œæ–‡ä»¶ï¼Œä¸è®ºæ˜¯æœåŠ¡å™¨ç›¸å…³çš„ç¨‹åºï¼ˆæ¯”å¦‚&lt;code>mysqld&lt;/code>ã€&lt;code>mysqld_safe&lt;/code>ï¼‰è¿˜æ˜¯å®¢æˆ·ç«¯ç›¸å…³çš„ç¨‹åºï¼ˆæ¯”å¦‚&lt;code>mysql&lt;/code>ã€&lt;code>mysqladmin&lt;/code>ï¼‰ï¼Œåœ¨å¯åŠ¨çš„æ—¶å€™åŸºæœ¬éƒ½å¯ä»¥æŒ‡å®šå¯åŠ¨å‚æ•°ã€‚è¿™äº›å¯åŠ¨å‚æ•°å¯ä»¥æ”¾åœ¨å‘½ä»¤è¡Œä¸­æŒ‡å®šï¼Œä¹Ÿå¯ä»¥æŠŠå®ƒä»¬æ”¾åœ¨é…ç½®æ–‡ä»¶ä¸­æŒ‡å®šã€‚ä¸‹é¢æˆ‘ä»¬ä»¥&lt;code>mysqld&lt;/code>ä¸ºä¾‹ï¼Œæ¥è¯¦ç»†ä»‹ç»æŒ‡å®šå¯åŠ¨é€‰é¡¹çš„æ ¼å¼ã€‚éœ€è¦æ³¨æ„çš„ä¸€ç‚¹æ˜¯ï¼Œæˆ‘ä»¬ç°åœ¨è¦ä»‹ç»çš„æ˜¯è®¾ç½®å¯åŠ¨é€‰é¡¹çš„æ–¹å¼ï¼Œä¸‹é¢å‡ºç°çš„å¯åŠ¨é€‰é¡¹ä¸è®ºå¤§å®¶è®¤ä¸è®¤è¯†ï¼Œå…ˆä¸ç”¨å»çº ç»“æ¯ä¸ªé€‰é¡¹å…·ä½“çš„ä½œç”¨æ˜¯ä»€ä¹ˆï¼Œä¹‹åæˆ‘ä»¬ä¼šå¯¹ä¸€äº›é‡è¦çš„å¯åŠ¨é€‰é¡¹è¯¦ç»†ä»‹ç»ã€‚&lt;/p>
&lt;p>åœ¨å‘½ä»¤è¡Œä¸Šä½¿ç”¨é€‰é¡¹&lt;/p>
&lt;p>å¦‚æœæˆ‘ä»¬åœ¨å¯åŠ¨å®¢æˆ·ç«¯ç¨‹åºæ—¶åœ¨&lt;code>-h&lt;/code>å‚æ•°åè¾¹ç´§è·ŸæœåŠ¡å™¨çš„IPåœ°å€ï¼Œè¿™å°±æ„å‘³ç€å®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨ä¹‹é—´éœ€è¦é€šè¿‡&lt;code>TCP/IP&lt;/code>ç½‘ç»œè¿›è¡Œé€šä¿¡ã€‚å› ä¸ºæˆ‘çš„å®¢æˆ·ç«¯ç¨‹åºå’ŒæœåŠ¡å™¨ç¨‹åºéƒ½è£…åœ¨ä¸€å°è®¡ç®—æœºä¸Šï¼Œæ‰€ä»¥åœ¨ä½¿ç”¨å®¢æˆ·ç«¯ç¨‹åºè¿æ¥æœåŠ¡å™¨ç¨‹åºæ—¶æŒ‡å®šçš„ä¸»æœºåæ˜¯&lt;code>127.0.0.1&lt;/code>çš„æƒ…å†µä¸‹ï¼Œå®¢æˆ·ç«¯è¿›ç¨‹å’ŒæœåŠ¡å™¨è¿›ç¨‹ä¹‹é—´ä¼šä½¿ç”¨&lt;code>TCP/IP&lt;/code>ç½‘ç»œè¿›è¡Œé€šä¿¡ã€‚å¦‚æœæˆ‘ä»¬åœ¨å¯åŠ¨æœåŠ¡å™¨ç¨‹åºçš„æ—¶å€™å°±ç¦æ­¢å„å®¢æˆ·ç«¯ä½¿ç”¨&lt;code>TCP/IP&lt;/code>ç½‘ç»œè¿›è¡Œé€šä¿¡ï¼Œå¯ä»¥åœ¨å¯åŠ¨æœåŠ¡å™¨ç¨‹åºçš„å‘½ä»¤è¡Œé‡Œæ·»åŠ &lt;code>skip-networking&lt;/code>å¯åŠ¨é€‰é¡¹ï¼Œå°±åƒè¿™æ ·ï¼š &lt;code>mysqld --skip-networking&lt;/code> å¯ä»¥çœ‹åˆ°ï¼Œæˆ‘ä»¬åœ¨å‘½ä»¤è¡Œä¸­æŒ‡å®šå¯åŠ¨é€‰é¡¹æ—¶éœ€è¦åœ¨é€‰é¡¹åå‰åŠ ä¸Š&lt;code>--&lt;/code>å‰ç¼€ã€‚å¦å¤–ï¼Œå¦‚æœé€‰é¡¹åæ˜¯ç”±å¤šä¸ªå•è¯æ„æˆçš„ï¼Œå®ƒä»¬ä¹‹é—´å¯ä»¥ç”±çŸ­åˆ’çº¿&lt;code>-&lt;/code>è¿æ¥èµ·æ¥ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨ä¸‹åˆ’çº¿&lt;code>_&lt;/code>è¿æ¥èµ·æ¥ï¼Œä¹Ÿå°±æ˜¯è¯´&lt;code>skip-networking&lt;/code>å’Œ&lt;code>skip_networking&lt;/code>è¡¨ç¤ºçš„å«ä¹‰æ˜¯ç›¸åŒçš„ã€‚æ‰€ä»¥ä¸Šé¢çš„å†™æ³•ä¸ä¸‹é¢çš„å†™æ³•æ˜¯ç­‰ä»·çš„ï¼š &lt;code>mysqld --skip_networking&lt;/code> åœ¨æŒ‰ç…§ä¸Šè¿°å‘½ä»¤å¯åŠ¨æœåŠ¡å™¨ç¨‹åºåï¼Œå¦‚æœæˆ‘ä»¬å†ä½¿ç”¨&lt;code>mysql&lt;/code>æ¥å¯åŠ¨å®¢æˆ·ç«¯ç¨‹åºæ—¶ï¼Œå†æŠŠæœåŠ¡å™¨ä¸»æœºåæŒ‡å®šä¸º&lt;code>127.0.0.1&lt;/code>ï¼ˆIPåœ°å€çš„å½¢å¼ï¼‰çš„è¯ä¼šæ˜¾ç¤ºè¿æ¥å¤±è´¥ï¼š ``` mysql -h127.0.0.1 -uroot -p Enter password:&lt;/p>
&lt;p>ERROR 2003 (HY000): Can&amp;rsquo;t connect to MySQL server on &amp;lsquo;127.0.0.1&amp;rsquo; (61) ``` è¿™å°±æ„å‘³ç€æˆ‘ä»¬æŒ‡å®šçš„å¯åŠ¨é€‰é¡¹&lt;code>skip-networking&lt;/code>ç”Ÿæ•ˆäº†ï¼&lt;/p>
&lt;p>å†ä¸¾ä¸€ä¸ªä¾‹å­ï¼Œæˆ‘ä»¬å‰é¢è¯´è¿‡å¦‚æœåœ¨åˆ›å»ºè¡¨çš„è¯­å¥ä¸­æ²¡æœ‰æ˜¾å¼æŒ‡å®šè¡¨çš„å­˜å‚¨å¼•æ“çš„è¯ï¼Œé‚£å°±ä¼šé»˜è®¤ä½¿ç”¨&lt;code>InnoDB&lt;/code>ä½œä¸ºè¡¨çš„å­˜å‚¨å¼•æ“ã€‚å¦‚æœæˆ‘ä»¬æƒ³æ”¹å˜è¡¨çš„é»˜è®¤å­˜å‚¨å¼•æ“çš„è¯ï¼Œå¯ä»¥è¿™æ ·å†™å¯åŠ¨æœåŠ¡å™¨çš„å‘½ä»¤è¡Œï¼š &lt;code>mysqld --default-storage-engine=MyISAM&lt;/code> æˆ‘ä»¬ç°åœ¨å°±å·²ç»æŠŠè¡¨çš„é»˜è®¤å­˜å‚¨å¼•æ“æ”¹ä¸º&lt;code>MyISAM&lt;/code>äº†ï¼Œåœ¨å®¢æˆ·ç«¯ç¨‹åºè¿æ¥åˆ°æœåŠ¡å™¨ç¨‹åºåè¯•ç€åˆ›å»ºä¸€ä¸ªè¡¨ï¼š &lt;code>mysql&amp;gt; CREATE TABLE sys_var_demo( -&amp;gt; i INT -&amp;gt; ); Query OK, 0 rows affected (0.02 sec)&lt;/code> è¿™ä¸ªå®šä¹‰è¯­å¥ä¸­æˆ‘ä»¬å¹¶æ²¡æœ‰æ˜ç¡®æŒ‡å®šè¡¨çš„å­˜å‚¨å¼•æ“ï¼Œåˆ›å»ºæˆåŠŸåå†çœ‹ä¸€ä¸‹è¿™ä¸ªè¡¨çš„ç»“æ„ï¼š &lt;code>mysql&amp;gt; SHOW CREATE TABLE sys_var_demo\G *************************** 1. row *************************** Table: sys_var_demo Create Table: CREATE TABLE &lt;/code>sys_var_demo&lt;code>(&lt;/code>i&lt;code> int(11) DEFAULT NULL ) ENGINE=MyISAM DEFAULT CHARSET=utf8 1 row in set (0.01 sec)&lt;/code> å¯ä»¥çœ‹åˆ°è¯¥è¡¨çš„å­˜å‚¨å¼•æ“å·²ç»æ˜¯&lt;code>MyISAM&lt;/code>äº†ï¼Œè¯´æ˜å¯åŠ¨é€‰é¡¹&lt;code>default-storage-engine&lt;/code>ç”Ÿæ•ˆäº†ã€‚&lt;/p></description></item><item><title>ç¬¬1ç« _è£…ä½œè‡ªå·±æ˜¯ä¸ªå°ç™½-é‡æ–°è®¤è¯†MySQL</title><link>https://lwmfjc.github.io/zh/docs/technology/MySQL/MySQL%E6%98%AF%E6%80%8E%E6%A0%B7%E8%BF%90%E8%A1%8C%E7%9A%84/%E7%AC%AC1%E7%AB%A0_%E8%A3%85%E4%BD%9C%E8%87%AA%E5%B7%B1%E6%98%AF%E4%B8%AA%E5%B0%8F%E7%99%BD-%E9%87%8D%E6%96%B0%E8%AE%A4%E8%AF%86MySQL/</link><pubDate>Sat, 11 Jan 2025 16:39:57 +0800</pubDate><guid>https://lwmfjc.github.io/zh/docs/technology/MySQL/MySQL%E6%98%AF%E6%80%8E%E6%A0%B7%E8%BF%90%E8%A1%8C%E7%9A%84/%E7%AC%AC1%E7%AB%A0_%E8%A3%85%E4%BD%9C%E8%87%AA%E5%B7%B1%E6%98%AF%E4%B8%AA%E5%B0%8F%E7%99%BD-%E9%87%8D%E6%96%B0%E8%AE%A4%E8%AF%86MySQL/</guid><description>&lt;h1 id="ç¬¬1ç« -è£…ä½œè‡ªå·±æ˜¯ä¸ªå°ç™½-é‡æ–°è®¤è¯†mysql">
 ç¬¬1ç«  è£…ä½œè‡ªå·±æ˜¯ä¸ªå°ç™½-é‡æ–°è®¤è¯†MySQL
 &lt;a class="anchor" href="#%e7%ac%ac1%e7%ab%a0-%e8%a3%85%e4%bd%9c%e8%87%aa%e5%b7%b1%e6%98%af%e4%b8%aa%e5%b0%8f%e7%99%bd-%e9%87%8d%e6%96%b0%e8%ae%a4%e8%af%86mysql">#&lt;/a>
&lt;/h1>
&lt;p>MySQLçš„å®¢æˆ·ç«¯ï¼æœåŠ¡å™¨æ¶æ„&lt;/p>
&lt;p>ä»¥æˆ‘ä»¬å¹³æ—¶ä½¿ç”¨çš„å¾®ä¿¡ä¸ºä¾‹ï¼Œå®ƒå…¶å®æ˜¯ç”±ä¸¤éƒ¨åˆ†ç»„æˆçš„ï¼Œä¸€éƒ¨åˆ†æ˜¯å®¢æˆ·ç«¯ç¨‹åºï¼Œä¸€éƒ¨åˆ†æ˜¯æœåŠ¡å™¨ç¨‹åºã€‚å®¢æˆ·ç«¯å¯èƒ½æœ‰å¾ˆå¤šç§å½¢å¼ï¼Œæ¯”å¦‚æ‰‹æœºAPPï¼Œç”µè„‘è½¯ä»¶æˆ–è€…æ˜¯ç½‘é¡µç‰ˆå¾®ä¿¡ï¼Œæ¯ä¸ªå®¢æˆ·ç«¯éƒ½æœ‰ä¸€ä¸ªå”¯ä¸€çš„ç”¨æˆ·åï¼Œå°±æ˜¯ä½ çš„å¾®ä¿¡å·ï¼Œå¦ä¸€æ–¹é¢ï¼Œè…¾è®¯å…¬å¸åœ¨ä»–ä»¬çš„æœºæˆ¿é‡Œè¿è¡Œç€ä¸€ä¸ªæœåŠ¡å™¨è½¯ä»¶ï¼Œæˆ‘ä»¬å¹³æ—¶æ“ä½œå¾®ä¿¡å…¶å®éƒ½æ˜¯ç”¨å®¢æˆ·ç«¯æ¥å’Œè¿™ä¸ªæœåŠ¡å™¨æ¥æ‰“äº¤é“ã€‚æ¯”å¦‚ç‹—å“¥ç”¨å¾®ä¿¡ç»™çŒ«çˆ·å‘äº†ä¸€æ¡æ¶ˆæ¯çš„è¿‡ç¨‹å…¶å®æ˜¯è¿™æ ·çš„ï¼š&lt;/p>
&lt;ol>
&lt;li>æ¶ˆæ¯è¢«å®¢æˆ·ç«¯åŒ…è£…äº†ä¸€ä¸‹ï¼Œæ·»åŠ äº†å‘é€è€…å’Œæ¥æ”¶è€…ä¿¡æ¯ï¼Œç„¶åä»ç‹—å“¥çš„å¾®ä¿¡å®¢æˆ·ç«¯ä¼ é€ç»™å¾®ä¿¡æœåŠ¡å™¨ï¼›&lt;/li>
&lt;li>å¾®ä¿¡æœåŠ¡å™¨ä»æ¶ˆæ¯é‡Œè·å–åˆ°å®ƒçš„å‘é€è€…å’Œæ¥æ”¶è€…ï¼Œæ ¹æ®æ¶ˆæ¯çš„æ¥æ”¶è€…ä¿¡æ¯æŠŠè¿™æ¡æ¶ˆæ¯é€è¾¾åˆ°çŒ«çˆ·çš„å¾®ä¿¡å®¢æˆ·ç«¯ï¼ŒçŒ«çˆ·çš„å¾®ä¿¡å®¢æˆ·ç«¯é‡Œå°±æ˜¾ç¤ºå‡ºç‹—å“¥ç»™ä»–å‘äº†ä¸€æ¡æ¶ˆæ¯ã€‚&lt;/li>
&lt;/ol>
&lt;p>&lt;code>MySQL&lt;/code>çš„ä½¿ç”¨è¿‡ç¨‹è·Ÿè¿™ä¸ªæ˜¯ä¸€æ ·çš„ï¼Œå®ƒçš„æœåŠ¡å™¨ç¨‹åº&lt;strong>ç›´æ¥å’Œæˆ‘ä»¬å­˜å‚¨çš„æ•°æ®æ‰“äº¤é“&lt;/strong>ï¼Œç„¶åå¯ä»¥æœ‰å¥½å¤šå®¢æˆ·ç«¯ç¨‹åºè¿æ¥åˆ°è¿™ä¸ªæœåŠ¡å™¨ç¨‹åºï¼Œå‘é€å¢åˆ æ”¹æŸ¥çš„è¯·æ±‚ï¼Œç„¶åæœåŠ¡å™¨å°±å“åº”è¿™äº›è¯·æ±‚ï¼Œä»è€Œæ“ä½œå®ƒç»´æŠ¤çš„æ•°æ®ã€‚å’Œå¾®ä¿¡ä¸€æ ·ï¼Œ&lt;code>MySQL&lt;/code>çš„æ¯ä¸ªå®¢æˆ·ç«¯éƒ½éœ€è¦æä¾›ç”¨æˆ·åå¯†ç æ‰èƒ½ç™»å½•ï¼Œç™»å½•ä¹‹åæ‰èƒ½ç»™æœåŠ¡å™¨å‘è¯·æ±‚æ¥æ“ä½œæŸäº›æ•°æ®ã€‚æˆ‘ä»¬æ—¥å¸¸ä½¿ç”¨&lt;code>MySQL&lt;/code>çš„æƒ…æ™¯ä¸€èˆ¬æ˜¯è¿™æ ·çš„ï¼š&lt;/p>
&lt;ol>
&lt;li>å¯åŠ¨&lt;code>MySQL&lt;/code>æœåŠ¡å™¨ç¨‹åºã€‚&lt;/li>
&lt;li>å¯åŠ¨&lt;code>MySQL&lt;/code>å®¢æˆ·ç«¯ç¨‹åºå¹¶è¿æ¥åˆ°æœåŠ¡å™¨ç¨‹åºã€‚&lt;/li>
&lt;li>åœ¨å®¢æˆ·ç«¯ç¨‹åºä¸­è¾“å…¥ä¸€äº›å‘½ä»¤è¯­å¥ä½œä¸ºè¯·æ±‚å‘é€åˆ°æœåŠ¡å™¨ç¨‹åºï¼ŒæœåŠ¡å™¨ç¨‹åºæ”¶åˆ°è¿™äº›è¯·æ±‚åï¼Œä¼šæ ¹æ®è¯·æ±‚çš„å†…å®¹æ¥æ“ä½œå…·ä½“çš„æ•°æ®å¹¶å‘å®¢æˆ·ç«¯è¿”å›æ“ä½œç»“æœã€‚&lt;/li>
&lt;/ol>
&lt;p>æˆ‘ä»¬çŸ¥é“è®¡ç®—æœºå¾ˆç‰›é€¼ï¼Œåœ¨ä¸€å°è®¡ç®—æœºä¸Šå¯ä»¥åŒæ—¶è¿è¡Œå¤šä¸ªç¨‹åºï¼Œæ¯”å¦‚å¾®ä¿¡ã€QQã€éŸ³ä¹æ’­æ”¾å™¨ã€æ–‡æœ¬ç¼–è¾‘å™¨ç­‰ï¼Œæ¯ä¸€ä¸ªè¿è¡Œç€çš„ç¨‹åºä¹Ÿè¢«ç§°ä¸ºä¸€ä¸ª&lt;code>è¿›ç¨‹&lt;/code>ã€‚æˆ‘ä»¬çš„&lt;code>MySQL&lt;/code>æœåŠ¡å™¨ç¨‹åºå’Œå®¢æˆ·ç«¯ç¨‹åºæœ¬è´¨ä¸Šéƒ½ç®—æ˜¯è®¡ç®—æœºä¸Šçš„ä¸€ä¸ª&lt;code>è¿›ç¨‹&lt;/code>ï¼Œè¿™ä¸ªä»£è¡¨ç€&lt;code>MySQL&lt;/code>æœåŠ¡å™¨ç¨‹åºçš„è¿›ç¨‹ä¹Ÿè¢«ç§°ä¸º&lt;code>MySQLæ•°æ®åº“å®ä¾‹&lt;/code>ï¼Œç®€ç§°&lt;code>æ•°æ®åº“å®ä¾‹&lt;/code>ã€‚&lt;/p>
&lt;p>æ¯ä¸ªè¿›ç¨‹éƒ½æœ‰ä¸€ä¸ªå”¯ä¸€çš„ç¼–å·ï¼Œç§°ä¸º&lt;code>è¿›ç¨‹ID&lt;/code>ï¼Œè‹±æ–‡åå«&lt;code>PID&lt;/code>ï¼Œè¿™ä¸ªç¼–å·æ˜¯åœ¨æˆ‘ä»¬å¯åŠ¨ç¨‹åºçš„æ—¶å€™ç”±æ“ä½œç³»ç»Ÿéšæœºåˆ†é…çš„ï¼Œæ“ä½œç³»ç»Ÿä¼šä¿è¯åœ¨æŸä¸€æ—¶åˆ»åŒä¸€å°æœºå™¨ä¸Šçš„è¿›ç¨‹å·ä¸é‡å¤ã€‚æ¯”å¦‚ä½ æ‰“å¼€äº†è®¡ç®—æœºä¸­çš„QQç¨‹åºï¼Œé‚£ä¹ˆæ“ä½œç³»ç»Ÿä¼šä¸ºå®ƒåˆ†é…ä¸€ä¸ªå”¯ä¸€çš„è¿›ç¨‹å·ï¼Œå¦‚æœä½ æŠŠè¿™ä¸ªç¨‹åºå…³æ‰äº†ï¼Œé‚£æ“ä½œç³»ç»Ÿå°±ä¼šæŠŠè¿™ä¸ªè¿›ç¨‹å·å›æ”¶ï¼Œä¹‹åå¯èƒ½ä¼šé‡æ–°åˆ†é…ç»™åˆ«çš„è¿›ç¨‹ã€‚å½“æˆ‘ä»¬ä¸‹ä¸€æ¬¡å†å¯åŠ¨ QQç¨‹åºçš„æ—¶å€™åˆ†é…çš„å°±å¯èƒ½æ˜¯å¦ä¸€ä¸ªç¼–å·ã€‚æ¯ä¸ªè¿›ç¨‹éƒ½æœ‰ä¸€ä¸ªåç§°ï¼Œè¿™ä¸ªåç§°æ˜¯ç¼–å†™ç¨‹åºçš„äººè‡ªå·±å®šä¹‰çš„ï¼Œæ¯”å¦‚æˆ‘ä»¬å¯åŠ¨çš„&lt;code>MySQL&lt;/code>æœåŠ¡å™¨è¿›ç¨‹çš„é»˜è®¤åç§°ä¸º&lt;code>mysqld&lt;/code>ï¼Œ è€Œæˆ‘ä»¬å¸¸ç”¨çš„&lt;code>MySQL&lt;/code>å®¢æˆ·ç«¯è¿›ç¨‹çš„é»˜è®¤åç§°ä¸º&lt;code>mysql&lt;/code>ã€‚&lt;/p>
&lt;p>MySQLçš„å®‰è£…&lt;/p>
&lt;p>ä¸è®ºæˆ‘ä»¬é€šè¿‡ä¸‹è½½æºä»£ç è‡ªè¡Œç¼–è¯‘å®‰è£…çš„æ–¹å¼ï¼Œè¿˜æ˜¯ç›´æ¥ä½¿ç”¨å®˜æ–¹æä¾›çš„å®‰è£…åŒ…è¿›è¡Œå®‰è£…ä¹‹åï¼Œ&lt;code>MySQL&lt;/code>çš„æœåŠ¡å™¨ç¨‹åºå’Œå®¢æˆ·ç«¯ç¨‹åºéƒ½ä¼šè¢«å®‰è£…åˆ°æˆ‘ä»¬çš„æœºå™¨ä¸Šã€‚ä¸è®ºä½¿ç”¨ä¸Šè¿°ä¸¤è€…çš„å“ªç§å®‰è£…æ–¹å¼ï¼Œä¸€å®šä¸€å®šä¸€å®šï¼ˆé‡è¦çš„è¯è¯´ä¸‰éï¼‰è¦è®°ä½ä½ æŠŠ&lt;code>MySQL&lt;/code>å®‰è£…åˆ°å“ªäº†ï¼Œæ¢å¥è¯è¯´ï¼Œä¸€å®šè¦è®°ä½&lt;code>MySQL&lt;/code>çš„å®‰è£…ç›®å½•ã€‚ &lt;code>å°è´´å£«ï¼š&lt;/code>MySQL&lt;code>çš„å¤§éƒ¨åˆ†å®‰è£…åŒ…éƒ½åŒ…å«äº†æœåŠ¡å™¨ç¨‹åºå’Œå®¢æˆ·ç«¯ç¨‹åºï¼Œä¸è¿‡åœ¨Linuxä¸‹ä½¿ç”¨RPMåŒ…æ—¶ä¼šæœ‰å•ç‹¬çš„æœåŠ¡å™¨RPMåŒ…å’Œå®¢æˆ·ç«¯RPMåŒ…ï¼Œéœ€è¦åˆ†åˆ«å®‰è£…ã€‚&lt;/code>&lt;/p>
&lt;p>å¦å¤–ï¼Œ&lt;code>MySQL&lt;/code>å¯ä»¥è¿è¡Œåœ¨å„ç§å„æ ·çš„æ“ä½œç³»ç»Ÿä¸Šï¼Œæˆ‘ä»¬åè¾¹ä¼šè®¨è®ºåœ¨ç±»&lt;code>UNIX&lt;/code>æ“ä½œç³»ç»Ÿå’Œ&lt;code>Windows&lt;/code>æ“ä½œç³»ç»Ÿä¸Šä½¿ç”¨çš„ä¸€äº›å·®åˆ«ã€‚ä¸ºäº†æ–¹ä¾¿å¤§å®¶ç†è§£ï¼Œæˆ‘åœ¨&lt;code>macOS&lt;/code> æ“ä½œç³»ç»Ÿï¼ˆè‹¹æœç”µè„‘ä½¿ç”¨çš„æ“ä½œç³»ç»Ÿï¼‰å’Œ&lt;code>Windows&lt;/code>æ“ä½œç³»ç»Ÿä¸Šéƒ½å®‰è£…äº†&lt;code>MySQL&lt;/code>ï¼Œå®ƒä»¬çš„å®‰è£…ç›®å½•åˆ†åˆ«æ˜¯ï¼š&lt;/p>
&lt;ul>
&lt;li>&lt;/li>
&lt;/ul>
&lt;p>&lt;code>macOS&lt;/code>æ“ä½œç³»ç»Ÿä¸Šçš„å®‰è£…ç›®å½•ï¼š &lt;code>/usr/local/mysql/&lt;/code>&lt;/p>
&lt;ul>
&lt;li>&lt;/li>
&lt;/ul>
&lt;p>&lt;code>Windows&lt;/code>æ“ä½œç³»ç»Ÿä¸Šçš„å®‰è£…ç›®å½•ï¼š &lt;code>C:\Program Files\MySQL\MySQL Server 5.7&lt;/code>&lt;/p>
&lt;p>ä¸‹é¢æˆ‘ä¼šä»¥è¿™ä¸¤ä¸ªå®‰è£…ç›®å½•ä¸ºä¾‹æ¥è¿›ä¸€æ­¥æ‰¯å‡ºæ›´å¤šçš„æ¦‚å¿µï¼Œä¸è¿‡ä¸€å®šè¦æ³¨æ„ï¼Œ&lt;strong>è¿™ä¸¤ä¸ªå®‰è£…ç›®å½•æ˜¯æˆ‘çš„è¿è¡Œä¸åŒæ“ä½œç³»ç»Ÿçš„æœºå™¨ä¸Šçš„å®‰è£…ç›®å½•ï¼Œä¸€å®šè¦è®°ç€æŠŠä¸‹é¢ç¤ºä¾‹ä¸­ç”¨åˆ°å®‰è£…ç›®å½•çš„åœ°æ–¹æ›¿æ¢ä¸ºä½ è‡ªå·±æœºå™¨ä¸Šçš„å®‰è£…ç›®å½•&lt;/strong>ã€‚ &lt;code>å°è´´å£«ï¼šç±»UNIXæ“ä½œç³»ç»Ÿéå¸¸å¤šï¼Œæ¯”å¦‚FreeBSDã€Linuxã€macOSã€Solarisç­‰éƒ½å±äºUNIXæ“ä½œç³»ç»Ÿçš„èŒƒç•´ï¼Œæˆ‘ä»¬è¿™é‡Œä½¿ç”¨macOSæ“ä½œç³»ç»Ÿä»£è¡¨ç±»UNIXæ“ä½œç³»ç»Ÿæ¥è¿è¡ŒMySQLã€‚&lt;/code>&lt;/p>
&lt;h1 id="binç›®å½•ä¸‹çš„å¯æ‰§è¡Œæ–‡ä»¶">
 binç›®å½•ä¸‹çš„å¯æ‰§è¡Œæ–‡ä»¶
 &lt;a class="anchor" href="#bin%e7%9b%ae%e5%bd%95%e4%b8%8b%e7%9a%84%e5%8f%af%e6%89%a7%e8%a1%8c%e6%96%87%e4%bb%b6">#&lt;/a>
&lt;/h1>
&lt;p>åœ¨&lt;code>MySQL&lt;/code>çš„å®‰è£…ç›®å½•ä¸‹æœ‰ä¸€ä¸ªç‰¹åˆ«ç‰¹åˆ«é‡è¦çš„&lt;code>bin&lt;/code>ç›®å½•ï¼Œè¿™ä¸ªç›®å½•ä¸‹å­˜æ”¾ç€è®¸å¤šå¯æ‰§è¡Œæ–‡ä»¶ï¼Œä»¥&lt;code>macOS&lt;/code>ç³»ç»Ÿä¸ºä¾‹ï¼Œè¿™ä¸ª&lt;code>bin&lt;/code>ç›®å½•çš„ç»å¯¹è·¯å¾„å°±æ˜¯ï¼ˆåœ¨æˆ‘çš„æœºå™¨ä¸Šï¼‰ï¼š &lt;code>/usr/local/mysql/bin&lt;/code> æˆ‘ä»¬åˆ—å‡ºä¸€äº›åœ¨&lt;code>macOS&lt;/code>ä¸­è¿™ä¸ª&lt;code>bin&lt;/code>ç›®å½•ä¸‹çš„ä¸€éƒ¨åˆ†å¯æ‰§è¡Œæ–‡ä»¶æ¥çœ‹ä¸€ä¸‹ï¼ˆæ–‡ä»¶å¤ªå¤šï¼Œå…¨åˆ—å‡ºæ¥ä¼šåˆ·å±çš„ï¼‰ï¼š &lt;code>. â”œâ”€â”€ mysql â”œâ”€â”€ mysql.server -&amp;gt; ../support-files/mysql.server â”œâ”€â”€ mysqladmin â”œâ”€â”€ mysqlbinlog â”œâ”€â”€ mysqlcheck â”œâ”€â”€ mysqld â”œâ”€â”€ mysqld_multi â”œâ”€â”€ mysqld_safe â”œâ”€â”€ mysqldump â”œâ”€â”€ mysqlimport â”œâ”€â”€ mysqlpump ... (çœç•¥å…¶ä»–æ–‡ä»¶) 0 directories, 40 files&lt;/code> &lt;code>Windows&lt;/code>ä¸­çš„å¯æ‰§è¡Œæ–‡ä»¶ä¸&lt;code>macOS&lt;/code>ä¸­çš„ç±»ä¼¼ï¼Œä¸è¿‡éƒ½æ˜¯ä»¥&lt;code>.exe&lt;/code>ä¸ºæ‰©å±•åçš„ã€‚è¿™äº›å¯æ‰§è¡Œæ–‡ä»¶éƒ½æ˜¯ä¸æœåŠ¡å™¨ç¨‹åºå’Œå®¢æˆ·ç«¯ç¨‹åºç›¸å…³çš„ï¼Œåè¾¹æˆ‘ä»¬ä¼šè¯¦ç»†ä»‹ç»ä¸€äº›æ¯”è¾ƒé‡è¦çš„å¯æ‰§è¡Œæ–‡ä»¶ï¼Œç°åœ¨å…ˆçœ‹çœ‹æ‰§è¡Œè¿™äº›æ–‡ä»¶çš„æ–¹å¼ã€‚&lt;/p></description></item><item><title>ç¬¬0ç« _ä¸‡é‡Œé•¿å¾ç¬¬ä¸€æ­¥(éå¸¸é‡è¦)-å¦‚ä½•æ„‰å¿«çš„é˜…è¯»æœ¬å°å†Œ</title><link>https://lwmfjc.github.io/zh/docs/technology/MySQL/MySQL%E6%98%AF%E6%80%8E%E6%A0%B7%E8%BF%90%E8%A1%8C%E7%9A%84/%E7%AC%AC0%E7%AB%A0_%E4%B8%87%E9%87%8C%E9%95%BF%E5%BE%81%E7%AC%AC%E4%B8%80%E6%AD%A5%E9%9D%9E%E5%B8%B8%E9%87%8D%E8%A6%81-%E5%A6%82%E4%BD%95%E6%84%89%E5%BF%AB%E7%9A%84%E9%98%85%E8%AF%BB%E6%9C%AC%E5%B0%8F%E5%86%8C/</link><pubDate>Sat, 11 Jan 2025 16:39:56 +0800</pubDate><guid>https://lwmfjc.github.io/zh/docs/technology/MySQL/MySQL%E6%98%AF%E6%80%8E%E6%A0%B7%E8%BF%90%E8%A1%8C%E7%9A%84/%E7%AC%AC0%E7%AB%A0_%E4%B8%87%E9%87%8C%E9%95%BF%E5%BE%81%E7%AC%AC%E4%B8%80%E6%AD%A5%E9%9D%9E%E5%B8%B8%E9%87%8D%E8%A6%81-%E5%A6%82%E4%BD%95%E6%84%89%E5%BF%AB%E7%9A%84%E9%98%85%E8%AF%BB%E6%9C%AC%E5%B0%8F%E5%86%8C/</guid><description>&lt;h1 id="ç¬¬0ç« -ä¸‡é‡Œé•¿å¾ç¬¬ä¸€æ­¥éå¸¸é‡è¦-å¦‚ä½•æ„‰å¿«çš„é˜…è¯»æœ¬å°å†Œ">
 ç¬¬0ç«  ä¸‡é‡Œé•¿å¾ç¬¬ä¸€æ­¥ï¼ˆéå¸¸é‡è¦ï¼‰-å¦‚ä½•æ„‰å¿«çš„é˜…è¯»æœ¬å°å†Œ
 &lt;a class="anchor" href="#%e7%ac%ac0%e7%ab%a0-%e4%b8%87%e9%87%8c%e9%95%bf%e5%be%81%e7%ac%ac%e4%b8%80%e6%ad%a5%e9%9d%9e%e5%b8%b8%e9%87%8d%e8%a6%81-%e5%a6%82%e4%bd%95%e6%84%89%e5%bf%ab%e7%9a%84%e9%98%85%e8%af%bb%e6%9c%ac%e5%b0%8f%e5%86%8c">#&lt;/a>
&lt;/h1>
&lt;p>è´­ä¹°å‰è­¦å‘Šâš ï¸&lt;/p>
&lt;ul>
&lt;li>æ­¤å°å†Œå¹¶éæ•°æ®åº“å…¥é—¨ä¹¦ç±ï¼Œéœ€è¦å„ä½çŸ¥é“å¢åˆ æ”¹æŸ¥æ˜¯ä»€ä¹ˆæ„æ€ï¼Œå¹¶ä¸”èƒ½ç”¨ SQL è¯­è¨€å†™å‡ºæ¥ï¼Œå½“ç„¶å¹¶ä¸è¦æ±‚å„ä½çŸ¥é“çš„å¤ªå¤šï¼Œä½ ç”šè‡³å¯ä»¥ä¸çŸ¥é“è¿æ¥çš„è¯­æ³•éƒ½å¯ä»¥ã€‚ä¸è¿‡å¦‚æœä½ è¿&lt;code>SELECT&lt;/code>ã€&lt;code>INSERT&lt;/code>è¿™äº›å•è¯éƒ½æ²¡å¬è¯´è¿‡é‚£æœ¬å°å†Œå¹¶ä¸é€‚åˆä½ ã€‚&lt;/li>
&lt;li>æ­¤å°å†Œéæ­£ç»ç§‘å­¦ä¸“è‘—ï¼Œäº¦éåäºŒäº”å›½å®¶çº§è§„åˆ’æ•™æï¼Œä¹Ÿæ²¡æœ‰å¤§æ®µä»£ç å’Œè¯¦ç»†è®ºè¯ï¼Œæœ‰çš„å…¨æ˜¯å›¾ï¼Œå–œæ¬¢æ­£ç»è®ºè¿°çš„åŒå­¦è¯·é¿å…è´­ä¹°æœ¬å°å†Œã€‚&lt;/li>
&lt;li>æ­¤å°å†Œä½œè€…ä¹ƒä¸€æ— ä¸šæ¸¸æ°‘ï¼Œéä¸“ä¸šå¤§ä½¬ï¼Œæ²¡æœ‰ä»»ä½•èŒç§°ï¼Œåªæ˜¯å•å•å–œæ¬¢æŠŠå¤æ‚é—®é¢˜è®²æ¸…æ¥šçš„é‚£ç§å¿«æ„Ÿï¼Œæ‰€ä»¥å–œæ¬¢ä½œè€…æœ‰ Googleã€Facebook é«˜çº§å¼€å‘å·¥ç¨‹å¸ˆï¼ŒäºŒç™¾å¹´å·¥ä½œç»éªŒç­‰ Title çš„åŒå­¦è¯·è°¨æ…è´­ä¹°ã€‚&lt;/li>
&lt;li>æ­¤å°å†Œæ˜¯ç”¨äºä»‹ç» MySQL çš„å·¥ä½œåŸç†ä»¥åŠå¯¹æˆ‘ä»¬ç¨‹åºçŒ¿çš„å½±å“ï¼Œå¹¶ä¸æ˜¯ä»‹ç»æ¦‚å¿µè®¾è®¡ã€é€»è¾‘è®¾è®¡ã€ç‰©ç†è®¾è®¡ã€èŒƒå¼åŒ–ä¹‹ç±»çš„æ•°æ®åº“è®¾è®¡æ–¹é¢çš„çŸ¥è¯†ï¼Œå¸Œæœ›äº†è§£ä¸Šè¿°è¿™äº›çŸ¥è¯†çš„åŒå­¦æ¥é”™åœ°æ–¹äº†ã€‚&lt;/li>
&lt;li>æ–‡ç« æ ‡é¢˜ä¸­çš„**â€œä»æ ¹å„¿ä¸Šç†è§£MySQLâ€**å…¶å®æ˜¯ä¸“é—¨é›‡äº† UC éœ‡æƒŠéƒ¨å°ç¼–èµ·çš„ï¼Œçº¯å±ä¸ºäº†å¸å¼•å¤§å®¶çœ¼çƒã€‚ä¸¥æ ¼æ„ä¹‰ä¸Šè¯´ï¼Œæœ¬ä¹¦åªæ˜¯ä»‹ç»&lt;code>MySQL&lt;/code>å†…æ ¸çš„ä¸€äº›æ ¸å¿ƒæ¦‚å¿µçš„å°ç™½è¿›é˜¶ä¹¦ç±ã€‚å¤§å®¶è¯»å®Œæœ¬å°å†Œä¹Ÿä¸ä¼šä¸€ä¸‹å­æ™‹å‡ä¸šç•Œå¤§ä½¬ï¼Œå½“ä¸Š CTOï¼Œè¿å¨¶ç™½å¯Œç¾ï¼Œèµ°ä¸Šäººç”Ÿå·…å³°ã€‚å¸Œæœ›æœ¬å°å†Œèƒ½å¤Ÿå¸®åŠ©å¤§å®¶è§£å†³ä¸€äº›å·¥ä½œã€é¢è¯•è¿‡ç¨‹ä¸­çš„é—®é¢˜ï¼Œé€æ¸æˆä¸ºä¸€ä¸ªæ›´å¥½çš„å·¥ç¨‹å¸ˆï¼Œæœ‰å…´è¶£çš„å°ä¼™ä¼´å¯ä»¥å†æ·±å…¥ç ”ç©¶ä¸€ä¸‹ MySQLï¼Œè¯´ä¸å®šä½ å°±æ˜¯ä¸‹ä¸€ä¸ªæ•°æ®åº“æ³°æ–—å•¦ã€‚&lt;/li>
&lt;/ul>
&lt;p>è´­ä¹°å¹¶é˜…è¯»æœ¬å°å†Œçš„å»ºè®®&lt;/p>
&lt;p>&lt;img src="img/00-01.png" alt="" />&lt;/p>
&lt;ul>
&lt;li>æœ¬å°å†Œæ˜¯ä¸€æœ¬å¾…å‡ºç‰ˆçš„çº¸è´¨ä¹¦ç±ï¼Œå¹¶éä¸€äº›æ‚ç¢æ–‡ç« çš„é›†åˆï¼Œæ˜¯éå¸¸æœ‰ç»“æ„å’Œå¥—è·¯çš„ï¼Œæ‰€ä»¥å¤§å®¶é˜…è¯»æ—¶åƒä¸‡ä¸èƒ½å½“ä½œå•æ‰€è¹²å‘ã€åƒé¥­çœ‹æ‰‹æœºæ—¶çš„æ‰€è°“&lt;code>ç¢ç‰‡åŒ–è¯»ç‰©&lt;/code>ã€‚ç¢ç‰‡åŒ–é˜…è¯»åªé€‚åˆå¬å¬çŸ®å¤§ç´§ã€ç½—èƒ–å­ä»–ä»¬æ‰¯æ‰¯çŠŠå­ï¼Œå¼€é˜”ä¸€ä¸‹è§†é‡ç”¨çš„ã€‚å¯¹äºä¸“ä¸šçš„æŠ€æœ¯çŸ¥è¯†æ¥è¯´ï¼Œå¤§å®¶å¿…é¡»ä»˜å‡ºä¸€ä¸ªå®Œæ•´çš„æ—¶é—´æ®µè¿›è¡Œä½“ç³»åŒ–å­¦ä¹ ï¼Œè¿™æ ·å°Šé‡çŸ¥è¯†ï¼Œå·¥èµ„æ‰èƒ½å°Šé‡ä½ ã€‚ &lt;code>é¡ºä¾¿è¯´ä¸€å¥ï¼Œæˆ‘å·²ç»å¥½ä¹…éƒ½ä¸å¬ç½—èƒ–å­æ‰¯çŠŠå­äº†ï¼Œåˆšå¼€å§‹åŠç½—è¾‘æ€ç»´çš„æ—¶å€™è§‰å¾—ä»–æ‰¯çš„è¿˜å¯ä»¥ï¼Œè¶Šå¾€åè¶Šè§‰å¾—éƒ½é’»é’±çœ¼å„¿é‡Œäº†ï¼Œå¤©å¤©åœ¨é¼“å¹ç„¦è™‘ï¼Œè®©å¤§å®¶å»ä¹°ä»–ä»¬çš„é¸¡æ±¤è¯¾ã€‚ä¸è¿‡å¬å¬çŸ®å¤§ç´§å°±æŒºå¥½å•Šï¼Œä¸ç´¯ï½&lt;/code>&lt;/li>
&lt;li>æœ¬å°å†Œæ˜¯ç”± Markdown å†™æˆï¼Œåœ¨ç”µè„‘ç«¯é˜…è¯»ä½“éªŒååˆ†èˆ’æœï¼Œå½“ç„¶ä½ éè¦ç”¨å°æ‰‹æœºçœ‹æˆ‘ä¹Ÿä¸æ‹¦ç€ä½ ï¼Œä½†æ˜¯æ•ˆæœæ‰“äº†æŠ˜æ‰£æ˜¯ä½ çš„æŸå¤±ã€‚&lt;/li>
&lt;li>ä¸ºäº†ä¿è¯æœ€å¥½çš„é˜…è¯»ä½“éªŒï¼Œä¸ç”¨ä¸€ä¸ªæ²¡å­¦è¿‡çš„æ¦‚å¿µå»ä»‹ç»å¦ä¸€ä¸ªæ–°æ¦‚å¿µï¼Œæœ¬å°å†Œçš„ç« èŠ‚æœ‰ä¸¥é‡çš„ä¾èµ–æ€§ï¼Œæ¯”å¦‚ä½ åœ¨æ²¡è¯»&lt;code>InnoDB&lt;/code>æ•°æ®é¡µç»“æ„å‰åƒä¸‡ä¸è¦å°±å»è¯»&lt;code>B+&lt;/code>æ ‘ç´¢å¼•ï¼Œæ‰€ä»¥å¤§å®¶æœ€å¥½ä»å‰çœ‹åˆ°å°¾ï¼Œ&lt;strong>ä¸è¦è·³ç€çœ‹ï¼ä¸è¦è·³ç€çœ‹ï¼ä¸è¦è·³ç€çœ‹ï¼&lt;/strong>ï¼Œå½“ç„¶ï¼Œä¸å¬åŠå‘Šæˆ‘ä¹Ÿä¸èƒ½è¯´ä»€ä¹ˆï¼Œç¥ä½ å¥½è¿ã€‚&lt;/li>
&lt;li>å¤§å®¶å¯èƒ½ä¹°è¿‡åˆ«çš„å°å†Œï¼Œæœ‰çš„å°å†Œä¸€ç¯‡æ–‡ç« å¯èƒ½ç”¨5åˆ†é’Ÿã€10åˆ†é’Ÿè¯»å®Œï¼Œä¸è¿‡æˆ‘çš„å°å†Œå­æ¯ä¸€ç¯‡æ–‡ç« éƒ½æ¯”è¾ƒé•¿ï¼Œå› ä¸ºæˆ‘æŠŠé«˜è€¦åˆçš„éƒ¨åˆ†éƒ½é›†ä¸­åœ¨ä¸€ç¯‡æ–‡ç« ä¸­äº†ã€‚æ–‡ç« ä¸­åŸ‹ç€å„ç§ä¼ç¬”ï¼Œæ‰€ä»¥å¤§å®¶çœ‹çš„æ—¶å€™å¯èƒ½ä¸ä¼šè§‰å¯Ÿå‡ºæ¥å¾ˆçªå…€çš„è½¬å˜ï¼Œæ‰€ä»¥åœ¨é˜…è¯»ä¸€ç¯‡æ–‡ç« çš„æ—¶å€™åƒä¸‡&lt;strong>ä¸è¦è·³ç€çœ‹ï¼ä¸è¦è·³ç€çœ‹ï¼ä¸è¦è·³ç€çœ‹ï¼&lt;/strong>&lt;/li>
&lt;li>å¤§å®¶åœ¨çœ‹æœ¬å°å†Œä¹‹å‰åº”è¯¥æ–­æ–­ç»­ç»­çœ‹è¿‡ä¸€äº›ä¸æœ¬å°å†Œå†…å®¹ç›¸å…³çš„çŸ¥è¯†ï¼Œåªæ˜¯ä¸æˆä½“ç³»ï¼Œç»†èŠ‚å­¦ä¹ çš„ä¸å¤Ÿã€‚å¯¹äºè¿™éƒ¨åˆ†è¯»è€…æ¥è¯´ï¼Œå¸Œæœ›å¤§å®¶åƒå€šå¤©å± é¾™è®°é‡Œçš„å¼ æ— å¿Œä¸€æ ·ï¼Œåœ¨å­¦å¼ ä¸‰ä¸°çš„å¤ªæå‰‘æ³•æ—¶å…ˆå¿˜è®°ä¹‹å‰çš„æ­¦åŠŸï¼Œå¿˜çš„è¶Šå¹²å‡€ï¼Œå­¦çš„è¶Šå¾—çœŸä¼ ã€‚è¿™æ ·æ‰èƒ½è·Ÿç€æˆ‘çš„å¥—è·¯èµ°ä¸‹å»ã€‚&lt;/li>
&lt;li>&lt;/li>
&lt;/ul>
&lt;p>å¦‚æœä½ çœŸçš„æ˜¯ä¸ªå°ç™½çš„è¯ï¼Œé‚£è¿™é‡Œå¤´çš„æ•°å­—éƒ½æ˜¯å‡çš„ï¼š &lt;img src="img/00-02.png" alt="" />&lt;/p>
&lt;p>ä¸€ç¯‡æ–‡ç« èƒ½ç”¨2ä¸ªå°æ—¶å·¦å³çš„æ—¶é—´æŒæ¡å°±å¾ˆä¸é”™äº†ã€‚è¯´å¥æ‰«å¤§å®¶å…´çš„è¯ï¼Œè™½ç„¶æˆ‘å·²ç»å¾ˆåŠªåŠ›çš„æƒ³è®©å¤§å®¶çš„å­¦ä¹ æ•ˆç‡æå‡nå€ï¼Œä½†æ˜¯ä¸å¹¸çš„æ˜¯æƒ³æŒæ¡ä¸€é—¨æ ¸å¿ƒæŠ€æœ¯ä»ç„¶éœ€è¦å¤§å®¶å¤šçœ‹å‡ éï¼ˆä¸ç„¶å·¥èµ„é‚£ä¹ˆå¥½æ¶¨å•Šï½ï¼‰ã€‚&lt;/p>
&lt;p>å…³äºå·¥å…·&lt;/p>
&lt;p>æœ¬å°å†Œä¸­ä¼šæ¶‰åŠå¾ˆå¤š InnoDB çš„å­˜å‚¨ç»“æ„çš„çŸ¥è¯†ï¼Œæ¯”å¦‚è®°å½•ç»“æ„ã€é¡µç»“æ„ã€ç´¢å¼•ç»“æ„ã€è¡¨ç©ºé—´ç»“æ„ç­‰ç­‰ï¼Œè¿™äº›çŸ¥è¯†æ˜¯æ‰€æœ‰åç»­çŸ¥è¯†çš„åŸºç¡€ï¼Œæ‰€ä»¥æ˜¯é‡ä¸­ä¹‹é‡ï¼Œéœ€è¦å¤§å®¶è®¤çœŸå¯¹å¾…ã€‚Jeremy Cole å·²ç»ä½¿ç”¨ Ruby å¼€å‘äº†ä¸€ä¸ªç®€æ˜“çš„è§£æè¿™äº›åŸºç¡€ç»“æ„çš„å·¥å…·ï¼Œgithubåœ°å€æ˜¯ï¼š&lt;a href="https://github.com/jeremycole/innodb_ruby">innodb_rubyçš„githubåœ°å€&lt;/a>ï¼Œå¤§å®¶å¯ä»¥æŒ‰ç…§è¯´æ˜å®‰è£…ä¸Šè¿™ä¸ªå·¥å…·ï¼Œå¯ä»¥æ›´å¥½çš„ç†è§£ InnoDB ä¸­çš„ä¸€äº›å­˜å‚¨ç»“æ„ï¼ˆæ­¤å·¥å…·è™½ç„¶æ˜¯é’ˆå¯¹&lt;code>MySQL 5.6&lt;/code>çš„ï¼Œä½†æ˜¯å¹¸å¥½&lt;code>MySQL&lt;/code>çš„åŸºç¡€å­˜å‚¨ç»“æ„åŸºæœ¬æ²¡å¤šå¤§å˜åŒ–ï¼Œæ‰€ä»¥å¤§éƒ¨åˆ†åœºæ™¯ä¸‹è¿™ä¸ª&lt;code>innodb_ruby&lt;/code>å·¥å…·è¿˜æ˜¯å¯ä»¥ä½¿ç”¨çš„ï¼‰ã€‚&lt;/p>
&lt;p>å…³äºç›—ç‰ˆ&lt;/p>
&lt;p>åœ¨å†™è¿™æœ¬å°å†Œä¹‹å‰ï¼Œæˆ‘å¤©çœŸçš„ä»¥ä¸ºåªéœ€è¦æ‰¾å‡ æœ¬å‚è€ƒä¹¦ï¼Œçœ‹çœ‹ MySQL çš„å®˜æ–¹æ–‡æ¡£ï¼Œé‡åˆ°ä¸ä¼šçš„åœ°æ–¹ç™¾åº¦è°·æ­Œä¸€ä¸‹å°±å¯ä»¥åœ¨ 3 ä¸ªæœˆå†…è§£å†³è¿™æœ¬ä¹¦ï¼Œåæ¥çš„ç°å®è¯æ˜æˆ‘çœŸçš„æƒ³çš„å¤ªç¾äº†ã€‚ä¸ä»…èŠ±äº†å¤§é‡çš„æ—¶é—´é˜…è¯»å„ç§ä¹¦ç±å’Œæºç ï¼Œè€Œä¸”æœ‰çš„æ—¶å€™çŸ¥è¯†è€¦åˆå¤ªå‰å®³ï¼Œä¸ºäº†æ›´åŠ æ¨¡å—åŒ–çš„æŠŠçŸ¥è¯†è¡¨è¿°æ¸…æ¥šï¼Œæˆ‘åˆèŠ±äº†å¤§é‡çš„æ—¶é—´æ¥æ€è€ƒå¦‚ä½•å†™ä½œæ‰èƒ½ç¬¦åˆç”¨æˆ·è®¤çŸ¥ä¹ æƒ¯ï¼Œè¿˜èŠ±äº†éå¸¸å¤šçš„æ—¶é—´æ¥ç”»å„ç§å›¾è¡¨ï¼Œæ€»ä¹‹å°±æ˜¯å¿ƒç´¯å•Šï½ æˆ‘å¸Œæœ›çš„æ˜¯ï¼š&lt;strong>å„ä½åŒå­¦å¯ä»¥ç”¨å¾ˆä½çš„æˆæœ¬æ¥æ›´å¿«é€Ÿå­¦ä¼šä¸€äº›çœ‹èµ·æ¥ç”Ÿæ¶©éš¾æ‡‚çš„çŸ¥è¯†&lt;/strong>ï¼Œä½†æ˜¯æ¯•ç«Ÿæˆ‘ä¸æ˜¯é©¬äº‘ï¼Œä¸èƒ½ä¸€å¿ƒä¸€æ„åšå…¬ç›Šï¼Œå¸Œæœ›å„ä½é€šè¿‡æ­£è§„æ¸ é“è·å¾—å°å†Œï¼Œå°Šé‡ä¸€ä¸‹ç‰ˆæƒã€‚ è¿˜æœ‰å„ä½å†™åšå®¢çš„åŒå­¦ï¼Œå¼•ç”¨çš„å°‘äº†å«å€Ÿé‰´ï¼Œå¼•ç”¨çš„å¤šäº†å°±ï¼Œå°±æœ‰ç‚¹é‚£ä¸ªäº†ã€‚å¸Œæœ›å„ä½ä¸è¦å¤§æ®µå¤§æ®µçš„å¤åˆ¶ç²˜è´´ï¼Œç”¨è‡ªå·±çš„è¯å†™å‡ºæ¥çš„çŸ¥è¯†æ‰æ˜¯è‡ªå·±çš„ä¸œè¥¿ã€‚ æˆ‘çŸ¥é“ä¸è®ºæˆ‘ä»¬æ€æ ·å¼ºè°ƒç‰ˆæƒæ„è¯†ï¼Œæ€»æ˜¯æœ‰ä¸€éƒ¨åˆ†å°ä¼™ä¼´å–œæ¬¢ä¸åŠ³è€Œè·ï¼Œæ€»æ˜¯å–œæ¬¢æƒ³å°½å„ç§æ¸ é“æ¥å¼„ä¸€ä»½ç›—ç‰ˆçš„çœ‹ï¼Œå¸Œæœ›è¿™éƒ¨åˆ†åŒå­¦çœ‹å®Œåˆ«å¿˜äº†å…³æ³¨å…¬ä¼—å·ã€æˆ‘ä»¬éƒ½æ˜¯å°é’è›™ã€‘ï¼Œç»™æˆ‘å¡«ä¸ªç²‰å„¿ä¹Ÿç®—æ˜¯èµåŠ©ä¸€ä¸‹æˆ‘ï¼ˆä¸‹é¢æ˜¯äºŒç»´ç ï¼Œè§‰å¾—æœ‰å¸®åŠ©çš„è¯å¸Œæœ›å¯ä»¥æ‰“èµä¸€ä¸‹ï¼Œæ¯•ç«Ÿæœ¬äººå¾ˆç©·ã€‚å¦å¤–ï¼Œå…¬ä¼—å·ä¸­æœ‰è‹¥å¹²ç¯‡å°å†Œçš„è¡¥å……æ–‡ç« ï¼ŒåŒ…æ‹¬ä¸‰ç¯‡æå…¶é‡è¦çš„è¯­å¥åŠ é”åˆ†æï¼‰ï¼š&lt;/p>
&lt;p>&lt;code>å°è´´å£«ï¼šæˆ‘ä¸€ç›´æœ‰ä¸ªæƒ³æ³•ï¼Œå°±æ˜¯å¦‚ä½•é™ä½æ•™è‚²æˆæœ¬ã€‚ç°åœ¨æ•™è‚²çš„ç›ˆåˆ©æ”¶è´¹æ¨¡å¼éƒ½å¤ªå•ä¸€ï¼Œå°±æ˜¯ç›´æ¥è·Ÿå­¦ç”Ÿæ”¶ä¸Šè¯¾è´¹ï¼Œå¯¼è‡´è¯¾ç¨‹æˆä¸ºä¸€ç§2Cçš„å•†å“ï¼Œä»·æ ¼é«˜ä½å…¶å®å’Œå†…å®¹è´¨é‡å¹¶ä¸æ˜¯å¾ˆç›¸å…³ï¼Œæ‰€ä»¥è¯¾ç¨‹æä¾›å•†ä¼šæŠ•å…¥æ›´å¤§çš„ç²¾åŠ›åšä»–ä»¬çš„æ¸ é“è¥é”€ã€‚æ‰€ä»¥ç°åœ¨çš„åœ¨çº¿æ•™è‚²å¸‚åœºå°±æ˜¯æ¸ é“ä¸ºç‹ï¼Œæ‹›ç”Ÿä¸ºç‹ã€‚æˆ‘ä»¬å…¶å®å¯ä»¥æ¢ä¸€ç§æ€è·¯ï¼Œåœ¨çº¿æ•™è‚²çš„ä¼˜åŠ¿å…¶å®æ˜¯ä¼ æ’­è´¹ç”¨æ›´ä½ï¼Œä¸€ä¸ªäººä¸Šè¯¾å’Œä¸€åƒä¸‡äººä¸Šè¯¾çš„è´¹ç”¨åŒºåˆ«å…¶å®å°±æ˜¯æœåŠ¡å™¨ä½¿ç”¨çš„å¤šå°‘ç½¢äº†ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯èƒ½å¹¶ä¸éœ€è¦é‚£ä¹ˆå¤šè¯­æ–‡è€å¸ˆã€æ•°å­¦è€å¸ˆï¼Œæˆ‘ä»¬ç”¨ä¸“ä¸šçš„å¯¼æ¼”ã€ä¸“ä¸šçš„å£°ä¼˜ã€ä¸“ä¸šçš„åŠ¨ç”»åˆ¶ä½œã€ä¸“ä¸šçš„åæœŸã€ä¸“ä¸šçš„å‰ªè¾‘ã€ä¸“ä¸šçš„ç¼–å‰§ç»„æˆçš„å›¢é˜Ÿä¸ºæŸä¸ªç§‘ç›®åˆ¶ä½œä¸€ä¸ªä¸“ä¸šçš„è¯¾ç¨‹å°±å¥½äº†å˜›ï¼ˆé¡ºä¾¿è¯´ä¸€å¥ï¼Œæˆ‘å°±å¯ä»¥è½¬è¡Œåšè¯¾ç¨‹ç¼–å‰§äº†ï¼‰ï¼æŠŠè¯¾ç¨‹å½“ä½œç”µå½±ã€ç”µè§†å‰§æ¥å–ï¼Œåªè¦åœ¨è¯¾ç¨‹ä¸­æ¤å…¥å¹¿å‘Šï¼Œæˆ–è€…åœ¨æ’­æ”¾å¹³å°ä¸ŠåŠ å¹¿å‘Šå°±å¥½äº†å˜›ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥åœ¨è¯¾ç¨‹é‡ŒåŸ¹å…»å¶åƒï¼Œæ¥åšä¸€æ³¢ç²‰ä¸ç»æµã€‚è¿™æ ·è¯¾ç¨‹ç”Ÿäº§æ–¹ä¹Ÿèµšé’±ï¼Œå­¦ç”Ÿä»¬ä¹Ÿçœé’±ï¼Œæœ€ä¸»è¦çš„æ˜¯å¯ä»¥æ›´å¤§å±‚åº¦ä¸Šä¿ƒè¿›æ•™è‚²å…¬å¹³ï¼Œå¤šå¥½ã€‚&lt;/code>&lt;/p>
&lt;p>å…³äºé”™è¯¯&lt;/p>
&lt;h1 id="å‡†ç¡®æ€§é—®é¢˜">
 å‡†ç¡®æ€§é—®é¢˜
 &lt;a class="anchor" href="#%e5%87%86%e7%a1%ae%e6%80%a7%e9%97%ae%e9%a2%98">#&lt;/a>
&lt;/h1>
&lt;p>æˆ‘ä¸æ˜¯ç¥ï¼Œå¹¶ä¸æ˜¯ä¹¦ä¸­çš„æ‰€æœ‰å†…å®¹æˆ‘éƒ½ä¸€ä¸€å¯¹ç…§æºç æ¥éªŒè¯å‡†ç¡®æ€§ï¼ˆé˜…è¯»çš„å¤§éƒ¨åˆ†æºç æ˜¯å…³äºæŸ¥è¯¢ä¼˜åŒ–å’Œäº‹åŠ¡å¤„ç†çš„ï¼‰ï¼Œå¦‚æœå„ä½å‘ç°äº†æ–‡ä¸­æœ‰å‡†ç¡®æ€§é—®é¢˜è¯·ç›´æ¥è”ç³»æˆ‘ï¼Œæˆ‘ä¼šåŠ å…¥ Bug åˆ—è¡¨ä¸­ä¿®æ­£çš„ã€‚&lt;/p>
&lt;h1 id="é˜…è¯»ä½“éªŒé—®é¢˜">
 é˜…è¯»ä½“éªŒé—®é¢˜
 &lt;a class="anchor" href="#%e9%98%85%e8%af%bb%e4%bd%93%e9%aa%8c%e9%97%ae%e9%a2%98">#&lt;/a>
&lt;/h1>
&lt;p>å¤§å®¶çŸ¥é“å¤§éƒ¨åˆ†äººåœ¨é•¿å¤§ä¹‹åå°±å¿˜è®°äº†è‡ªå·±å°æ—¶å€™çš„æ ·å­ï¼Œæˆ‘å†™æœ¬ä¹¦çš„åˆè¡·å°±æ˜¯æœ‰å¾ˆå¤šèµ„æ–™æˆ‘çœ‹ä¸æ‡‚ï¼Œçœ‹çš„æˆ‘è„‘å£³ç–¼ï¼Œä¹‹åæ‰å†³å®šä»å°ç™½çš„è§’åº¦å‡ºå‘æ¥å†™ä¸€æœ¬å°ç™½éƒ½èƒ½çœ‹æ‡‚çš„æŠ€æœ¯ä¹¦ç±ã€‚ä½†æ˜¯ç”±äºåæ¥è‡ªå·±å­¦çš„ä¸œè¥¿è¶Šæ¥è¶Šå¤šï¼Œå¯èƒ½æœ‰äº›åœ°æ–¹æˆ‘å·²ç»å¿˜æ‰äº†å°ç™½çš„æƒ³æ³•æ˜¯æ€ä¹ˆæ ·çš„ï¼Œæ‰€ä»¥å¤§å®¶åœ¨é˜…è¯»è¿‡ç¨‹ä¸­æœ‰ä»»ä½•é˜…è¯»ä¸ç•…å¿«çš„åœ°æ–¹éƒ½å¯ä»¥ç»™æˆ‘æï¼Œæˆ‘ä¹Ÿä¼šåŠ å…¥bugåˆ—è¡¨ä¸­é€ä¸€ä¼˜åŒ–ã€‚&lt;/p>
&lt;p>å…³äºè½¬å‘&lt;/p></description></item></channel></rss>