<!doctype html><html lang=zh dir=ltr><head><meta charset=UTF-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="06B+树索引"><meta name=theme-color media="(prefers-color-scheme: light)" content="#ffffff"><meta name=theme-color media="(prefers-color-scheme: dark)" content="#343a40"><meta name=color-scheme content="light dark"><meta property="og:url" content="https://lwmfjc.github.io/zh/docs/technology/MySQL/how_mysql_run/06/"><meta property="og:site_name" content="随记"><meta property="og:title" content="06B+树索引"><meta property="og:description" content="06B+树索引"><meta property="og:locale" content="zh"><meta property="og:type" content="article"><meta property="article:section" content="docs"><meta property="article:published_time" content="2023-04-22T15:04:46+00:00"><meta property="article:modified_time" content="2023-04-22T15:04:46+00:00"><meta property="article:tag" content="MySQL是怎样运行的"><title>06B+树索引 | 随记</title>
<link rel=icon href=/favicon.png><link rel=manifest href=/manifest.json><link rel=canonical href=https://lwmfjc.github.io/zh/docs/technology/MySQL/how_mysql_run/06/><link rel=stylesheet href=/book.min.139f5e11df71f5bba2b1247bd4b1313c3248d3a29ad3aabb5259e40af9e483a5.css integrity="sha256-E59eEd9x9buisSR71LExPDJI06Ka06q7UlnkCvnkg6U=" crossorigin=anonymous><script defer src=/fuse.min.js></script><script defer src=/zh.search.min.77710810d7aff0136f02822dfb5002486059ad2bc129094be08aecf885623571.js integrity="sha256-d3EIENev8BNvAoIt+1ACSGBZrSvBKQlL4Irs+IViNXE=" crossorigin=anonymous></script></head><body dir=ltr><input type=checkbox class="hidden toggle" id=menu-control>
<input type=checkbox class="hidden toggle" id=toc-control><main class="container flex"><aside class=book-menu><div class=book-menu-content><nav><h2 class=book-brand><a class="flex align-center" href=/zh/><span>随记</span></a></h2><div class="book-search hidden"><input type=text id=book-search-input placeholder=搜索 aria-label=搜索 maxlength=64 data-hotkeys=s/><div class="book-search-spinner hidden"></div><ul id=book-search-results></ul></div><script>document.querySelector(".book-search").classList.remove("hidden")</script><ul><li class=book-section-flat><a href=/zh/docs/technology/>技术</a><ul><li><input type=checkbox id=section-1dd4601389ea65ef400f95373226aee0 class=toggle>
<label for=section-1dd4601389ea65ef400f95373226aee0 class="flex justify-between"><a role=button>Linux</a></label><ul><li><input type=checkbox id=section-f8d8a779959a764d65613f11020c9a13 class=toggle>
<label for=section-f8d8a779959a764d65613f11020c9a13 class="flex justify-between"><a role=button>Terminal Commands</a></label><ul><li><a href=/zh/docs/technology/Linux/Terminal-Commands/00-x/>0000-0000</a></li></ul></li><li><input type=checkbox id=section-eb3a110e9a221e46d625b63087e91152 class=toggle>
<label for=section-eb3a110e9a221e46d625b63087e91152 class="flex justify-between"><a role=button>SHELL编程(learnLinuxTV)</a></label><ul><li><a href=/zh/docs/technology/Linux/SHELLlearnLinuxTV_/16-18/16-18/>16-18</a></li><li><a href=/zh/docs/technology/Linux/SHELLlearnLinuxTV_/12-15/>12-15</a></li><li><a href=/zh/docs/technology/Linux/SHELLlearnLinuxTV_/11DataStreams/>11DataStreams</a></li><li><a href=/zh/docs/technology/Linux/SHELLlearnLinuxTV_/07-10/>07-10</a></li><li><a href=/zh/docs/technology/Linux/SHELLlearnLinuxTV_/06ExitCode/>06ExitCode</a></li><li><a href=/zh/docs/technology/Linux/SHELLlearnLinuxTV_/05If/>05If</a></li><li><a href=/zh/docs/technology/Linux/SHELLlearnLinuxTV_/01-04/>01-04</a></li></ul></li><li><input type=checkbox id=section-bfc45dc929fcc1310a60f77e491b60d2 class=toggle>
<label for=section-bfc45dc929fcc1310a60f77e491b60d2 class="flex justify-between"><a role=button>韩顺平老师_</a></label><ul><li><a href=/zh/docs/technology/Linux/hanshunping/52-x/>52-X</a></li><li><a href=/zh/docs/technology/Linux/hanshunping/40-51/>linux_韩老师_40-51</a></li><li><a href=/zh/docs/technology/Linux/hanshunping/28-39/>linux_韩老师_28-39</a></li><li><a href=/zh/docs/technology/Linux/hanshunping/21-27/>linux_韩老师_21-33</a></li><li><a href=/zh/docs/technology/Linux/hanshunping/12-20/>linux_韩老师_12-20</a></li><li><a href=/zh/docs/technology/Linux/hanshunping/07-11/>linux_韩老师_07-11</a></li><li><a href=/zh/docs/technology/Linux/hanshunping/01-06/>linux_韩老师_01-06</a></li></ul></li><li><a href=/zh/docs/technology/Linux/basic/>基本操作</a></li><li><a href=/zh/docs/technology/Linux/create_clone/>vmware上linux主机的安装和克隆</a></li></ul></li><li><input type=checkbox id=section-9f56b27db6873dfaab68a13a9088b050 class=toggle>
<label for=section-9f56b27db6873dfaab68a13a9088b050 class="flex justify-between"><a role=button>Reg Exp</a></label><ul><li><input type=checkbox id=section-6da126b4a17fb67539c8fc56ed6827d9 class=toggle>
<label for=section-6da126b4a17fb67539c8fc56ed6827d9 class="flex justify-between"><a role=button>基础(CoreySchafer)</a></label><ul><li><a href=/zh/docs/technology/RegExp/baseCoreySchafer/base/>基础</a></li></ul></li></ul></li><li><input type=checkbox id=section-f04eb05ff8f0dfbe9287eeb97b54a2b3 class=toggle>
<label for=section-f04eb05ff8f0dfbe9287eeb97b54a2b3 class="flex justify-between"><a role=button>Hugo</a></label><ul><li><input type=checkbox id=section-c4f3bbcb281997edd8d8b0c9fd9cdb76 class=toggle>
<label for=section-c4f3bbcb281997edd8d8b0c9fd9cdb76 class="flex justify-between"><a role=button>主题</a></label><ul><li><a href=/zh/docs/technology/Hugo/themes/PaperMod/01/>使用PaperMode</a></li></ul></li><li><input type=checkbox id=section-c73b582566a4e49b5b07f613bac566cf class=toggle>
<label for=section-c73b582566a4e49b5b07f613bac566cf class="flex justify-between"><a role=button>基础(Giraffe学院)_</a></label><ul><li><a href=/zh/docs/technology/Hugo/GiraffeAcademy/advanced20-23/>hugo进阶学习20-23</a></li><li><a href=/zh/docs/technology/Hugo/GiraffeAcademy/advanced17-19/>hugo进阶学习17-19</a></li><li><a href=/zh/docs/technology/Hugo/GiraffeAcademy/advanced11-16/>hugo进阶学习11-15</a></li><li><a href=/zh/docs/technology/Hugo/GiraffeAcademy/advanced01-10/>hugo进阶学习01-10</a></li></ul></li></ul></li><li><input type=checkbox id=section-43be5f3c9fb2465efc746ae00240e4b3 class=toggle>
<label for=section-43be5f3c9fb2465efc746ae00240e4b3 class="flex justify-between"><a role=button>Obsidian</a></label><ul><li><a href=/zh/docs/technology/Obsidian/border-theme/>border-theme背景图片问题</a></li><li><a href=/zh/docs/technology/Obsidian/obsidian-theme/>obsidian-theme</a></li><li><a href=/zh/docs/technology/Obsidian/plugin/>plugin</a></li></ul></li><li><input type=checkbox id=section-7123c56777444b2f7157631dd88ad8f6 class=toggle>
<label for=section-7123c56777444b2f7157631dd88ad8f6 class="flex justify-between"><a role=button>Redis</a></label><ul><li><input type=checkbox id=section-653c4bfd6de0200aef700672dc46b623 class=toggle>
<label for=section-653c4bfd6de0200aef700672dc46b623 class="flex justify-between"><a role=button>基础(尚硅谷)_</a></label><ul><li><a href=/zh/docs/technology/Redis/shangguigu_BV1Rv41177Af/19-A/>redis_尚硅谷_19-A</a></li><li><a href=/zh/docs/technology/Redis/shangguigu_BV1Rv41177Af/18/>redis_尚硅谷_18</a></li><li><a href=/zh/docs/technology/Redis/shangguigu_BV1Rv41177Af/12-17/>redis_尚硅谷_12-17</a></li><li><a href=/zh/docs/technology/Redis/shangguigu_BV1Rv41177Af/06-11/>redis_尚硅谷_06-11</a></li><li><a href=/zh/docs/technology/Redis/shangguigu_BV1Rv41177Af/01-05/>redis_尚硅谷_01-05</a></li></ul></li><li><a href=/zh/docs/technology/Redis/rsync-use/>rsync使用</a></li><li><a href=/zh/docs/technology/Redis/redis-cluster/>redis集群搭建</a></li></ul></li><li><input type=checkbox id=section-a94b8d7740a71c28fc6e0f89885b2468 class=toggle>
<label for=section-a94b8d7740a71c28fc6e0f89885b2468 class="flex justify-between"><a role=button>Jvm</a></label><ul><li><input type=checkbox id=section-dacf512d642735207e9a681d5fb91053 class=toggle>
<label for=section-dacf512d642735207e9a681d5fb91053 class="flex justify-between"><a role=button>_深入理解Java虚拟机_</a></label><ul><li><a href=/zh/docs/technology/JVM/understanding_the_jvm/03/>03垃圾收集器与内存分配策略</a></li></ul></li></ul></li><li><input type=checkbox id=section-d2e5dc71fe2274ddaa089e125f33ae58 class=toggle checked>
<label for=section-d2e5dc71fe2274ddaa089e125f33ae58 class="flex justify-between"><a role=button>My SQL</a></label><ul><li><input type=checkbox id=section-55f24404ff04ecc51ca2539f0513db8f class=toggle checked>
<label for=section-55f24404ff04ecc51ca2539f0513db8f class="flex justify-between"><a role=button>_MySQL是怎样运行的_</a></label><ul><li><a href=/zh/docs/technology/MySQL/how_mysql_run/07/>07B+数索引的使用</a></li><li><a href=/zh/docs/technology/MySQL/how_mysql_run/06/ class=active>06B+树索引</a></li><li><a href=/zh/docs/technology/MySQL/how_mysql_run/05/>05InnoDB数据页结构</a></li><li><a href=/zh/docs/technology/MySQL/how_mysql_run/04/>04InnoDB记录存储结构</a></li><li><a href=/zh/docs/technology/MySQL/how_mysql_run/03/>03字符集和比较规则</a></li><li><a href=/zh/docs/technology/MySQL/how_mysql_run/02/>02启动选项和系统变量</a></li><li><a href=/zh/docs/technology/MySQL/how_mysql_run/01/>01初识MySQL</a></li></ul></li><li><input type=checkbox id=section-71c340add51164b94f4c1b5254385b46 class=toggle>
<label for=section-71c340add51164b94f4c1b5254385b46 class="flex justify-between"><a role=button>进阶(尚硅谷)_</a></label><ul><li><a href=/zh/docs/technology/MySQL/bl_sgg/96-00/>mysql高阶_sgg 96-00</a></li></ul></li></ul></li><li><input type=checkbox id=section-e8f515fe7fc71d283363385aa363c2dd class=toggle>
<label for=section-e8f515fe7fc71d283363385aa363c2dd class="flex justify-between"><a role=button>其他</a></label><ul><li><a href=/zh/docs/technology/Other/kaoshi/>科目</a></li><li><a href=/zh/docs/technology/Other/pc_base/>电脑基础操作</a></li></ul></li><li><input type=checkbox id=section-f54112ca99b135fbc484938888b1f1a2 class=toggle>
<label for=section-f54112ca99b135fbc484938888b1f1a2 class="flex justify-between"><a href=/zh/docs/technology/Review/>面试</a></label><ul><li><a href=/zh/docs/technology/Review/java_guide/>JavaGuide</a><ul><li><input type=checkbox id=section-aa443fde93c5c7ab0082fb8bc7a93cb7 class=toggle>
<label for=section-aa443fde93c5c7ab0082fb8bc7a93cb7 class="flex justify-between"><a role=button>数据库</a></label><ul><li><input type=checkbox id=section-e7660273cef85dff1f39af04a42bd062 class=toggle>
<label for=section-e7660273cef85dff1f39af04a42bd062 class="flex justify-between"><a role=button>MySQL</a></label><ul><li><a href=/zh/docs/technology/Review/java_guide/database/MySQL/ly0606lymysql-query-execution-plan/>mysql执行计划</a></li><li><a href=/zh/docs/technology/Review/java_guide/database/MySQL/ly0611lymysql-high-performance-optimization-specification-recommendations/>MySQL高性能优化规范建议总结</a></li><li><a href=/zh/docs/technology/Review/java_guide/database/MySQL/ly0610lymysql-questions-01/>MySQL常见面试题总结</a></li><li><a href=/zh/docs/technology/Review/java_guide/database/MySQL/ly0609lyindex-invalidation-caused-by-implicit-conversion/>MySQL中的隐式转换造成的索引失效</a></li><li><a href=/zh/docs/technology/Review/java_guide/database/MySQL/ly0608lysome-thoughts-on-database-storage-time/>MySQL数据库时间类型数据存储建议</a></li><li><a href=/zh/docs/technology/Review/java_guide/database/MySQL/ly0605lyhow-sql-executed-in-mysql/>SQL语句在MySQL中的执行过程</a></li><li><a href=/zh/docs/technology/Review/java_guide/database/MySQL/ly0604lyinnodb-implementation-of-mvcc/>innodb引擎对MVCC的实现</a></li><li><a href=/zh/docs/technology/Review/java_guide/database/MySQL/ly0603lytransaction-isolation-level/>MySQL事务隔离级别详解</a></li><li><a href=/zh/docs/technology/Review/java_guide/database/MySQL/ly0602lymysql-logs/>日志</a></li><li><a href=/zh/docs/technology/Review/java_guide/database/MySQL/ly0601lymysql-index/>索引</a></li></ul></li><li><input type=checkbox id=section-680d077436e58b0cad0a63ed8edb5f53 class=toggle>
<label for=section-680d077436e58b0cad0a63ed8edb5f53 class="flex justify-between"><a role=button>Redis</a></label><ul><li><a href=/zh/docs/technology/Review/java_guide/database/Redis/diagram/>redis问题图解</a></li><li><a href=/zh/docs/technology/Review/java_guide/database/Redis/ly0703ly3-commonly-used-cache-read-and-write-strategies/>3种常用的缓存读写策略详解</a></li><li><a href=/zh/docs/technology/Review/java_guide/database/Redis/ly0704lyredis-memory-fragmentation/>redis内存碎片</a></li><li><a href=/zh/docs/technology/Review/java_guide/database/Redis/ly0702lyredis-spec-data-structure/>redis特殊数据结构</a></li><li><a href=/zh/docs/technology/Review/java_guide/database/Redis/ly0701lyredis-base-data-structures/>redis基本数据结构</a></li><li><a href=/zh/docs/technology/Review/java_guide/database/Redis/ly0706lyredis-questions-02/>redis面试题02</a></li><li><a href=/zh/docs/technology/Review/java_guide/database/Redis/ly0705lyredis-questions-01/>redis面试题01</a></li></ul></li><li><a href=/zh/docs/technology/Review/java_guide/database/ly0503lysql-question-01/>sql常见面试题总结01</a></li><li><a href=/zh/docs/technology/Review/java_guide/database/ly0504lysql-syntax-summary/>sql语法基础知识总结</a></li><li><a href=/zh/docs/technology/Review/java_guide/database/ly0502lycharactor-set/>字符集详解</a></li><li><a href=/zh/docs/technology/Review/java_guide/database/ly0501lybasis/>数据库基础</a></li></ul></li><li><input type=checkbox id=section-a1b717b4079938cc0efe574541b240b8 class=toggle>
<label for=section-a1b717b4079938cc0efe574541b240b8 class="flex justify-between"><a role=button>系统设计</a></label><ul><li><input type=checkbox id=section-9eaf95f03abf595bfdf838c4b4cdb2ef class=toggle>
<label for=section-9eaf95f03abf595bfdf838c4b4cdb2ef class="flex justify-between"><a role=button>安全</a></label><ul><li><a href=/zh/docs/technology/Review/java_guide/lycly_system-design/security/ly06ly_sentive-words-filter/>敏感词过滤方案总结</a></li><li><a href=/zh/docs/technology/Review/java_guide/lycly_system-design/security/ly05ly_design-of-authority-system/>权限系统设计详解</a></li><li><a href=/zh/docs/technology/Review/java_guide/lycly_system-design/security/ly04ly_sso-intro/>sso单点登录</a></li><li><a href=/zh/docs/technology/Review/java_guide/lycly_system-design/security/ly03ly_jwt-advantages-disadvantages/>jwt身份认证优缺点</a></li><li><a href=/zh/docs/technology/Review/java_guide/lycly_system-design/security/ly02ly_jwt-intro/>jwt-intro</a></li><li><a href=/zh/docs/technology/Review/java_guide/lycly_system-design/security/ly01ly_basis-of-authority-certification/>认证授权基础概念详解</a></li></ul></li><li><input type=checkbox id=section-79417049c90714c6ddbf18a3c3958148 class=toggle>
<label for=section-79417049c90714c6ddbf18a3c3958148 class="flex justify-between"><a role=button>基础</a></label><ul><li><a href=/zh/docs/technology/Review/java_guide/lycly_system-design/basis/unit-test/>单元测试</a></li><li><a href=/zh/docs/technology/Review/java_guide/lycly_system-design/basis/refactoring/>代码重构指南</a></li><li><a href=/zh/docs/technology/Review/java_guide/lycly_system-design/basis/naming/>代码命名指南</a></li><li><a href=/zh/docs/technology/Review/java_guide/lycly_system-design/basis/software-engineering/>软件工程简明教程</a></li><li><a href=/zh/docs/technology/Review/java_guide/lycly_system-design/basis/restful/>restFul</a></li></ul></li><li><a href=/zh/docs/technology/Review/java_guide/lycly_system-design/web-real-time-message-push/>web-real-time-message-push</a></li><li><a href=/zh/docs/technology/Review/java_guide/lycly_system-design/schedule-task/>Java定时任务详解</a></li></ul></li><li><input type=checkbox id=section-0a9533f3005d615c696f74456e46d269 class=toggle>
<label for=section-0a9533f3005d615c696f74456e46d269 class="flex justify-between"><a role=button>高可用</a></label><ul><li><a href=/zh/docs/technology/Review/java_guide/lyfly_high-availability/ly05ly_performance-test/>性能测试入门</a></li><li><a href=/zh/docs/technology/Review/java_guide/lyfly_high-availability/ly04ly_timout-and-retry/>超时&重试详解</a></li><li><a href=/zh/docs/technology/Review/java_guide/lyfly_high-availability/ly03ly_limit-request/>服务限流详解</a></li><li><a href=/zh/docs/technology/Review/java_guide/lyfly_high-availability/ly02ly_redundancy/>冗余设计</a></li><li><a href=/zh/docs/technology/Review/java_guide/lyfly_high-availability/ly01ly_high-availability-system-design/>高可用系统设计指南</a></li></ul></li><li><input type=checkbox id=section-e36f94f48e5027e7cbd39b7f7bbc249c class=toggle>
<label for=section-e36f94f48e5027e7cbd39b7f7bbc249c class="flex justify-between"><a role=button>高性能</a></label><ul><li><input type=checkbox id=section-581624dd7aa25a150f706312689ba446 class=toggle>
<label for=section-581624dd7aa25a150f706312689ba446 class="flex justify-between"><a role=button>RocketMQ</a></label><ul><li><a href=/zh/docs/technology/Review/java_guide/lyely_high-performance/message-mq/rocketmq-questions/>rocketmq常见面试题</a></li><li><a href=/zh/docs/technology/Review/java_guide/lyely_high-performance/message-mq/rocketmq-intro/>rocketmq介绍</a></li><li><a href=/zh/docs/technology/Review/java_guide/lyely_high-performance/message-mq/base/>message-queue</a></li></ul></li><li><a href=/zh/docs/technology/Review/java_guide/lyely_high-performance/ly02ly_cdn/>cdn</a></li><li><a href=/zh/docs/technology/Review/java_guide/lyely_high-performance/ly01ly_read-and-write-separation-and-library-subtable/>数据库读写分离&分库分表详解</a></li></ul></li><li><input type=checkbox id=section-a6916634f1b5324076467df4cc9ac3b5 class=toggle>
<label for=section-a6916634f1b5324076467df4cc9ac3b5 class="flex justify-between"><a role=button>分布式系统</a></label><ul><li><input type=checkbox id=section-0c8e62b6137b614e01882e2a88ea5daf class=toggle>
<label for=section-0c8e62b6137b614e01882e2a88ea5daf class="flex justify-between"><a role=button>基础</a></label><ul><li><a href=/zh/docs/technology/Review/java_guide/lydly_distributed_system/base/raft-algorithm/>raft算法</a></li><li><a href=/zh/docs/technology/Review/java_guide/lydly_distributed_system/base/paxos-algorithm/>paxos算法</a></li><li><a href=/zh/docs/technology/Review/java_guide/lydly_distributed_system/base/cap_base-theorem/>CAP&amp;BASE 理论</a></li></ul></li><li><a href=/zh/docs/technology/Review/java_guide/lydly_distributed_system/ly08ly_zookeeper-in-action/>zookeeper实战</a></li><li><a href=/zh/docs/technology/Review/java_guide/lydly_distributed_system/ly07ly_zookeeper-plus/>zookeeper进阶</a></li><li><a href=/zh/docs/technology/Review/java_guide/lydly_distributed_system/ly06ly_zookeeper-intro/>zookeeper介绍</a></li><li><a href=/zh/docs/technology/Review/java_guide/lydly_distributed_system/ly04ly_rpc-http/>rpc_http</a></li><li><a href=/zh/docs/technology/Review/java_guide/lydly_distributed_system/ly05ly_rpc-intro/>rpc基础及面试题</a></li><li><a href=/zh/docs/technology/Review/java_guide/lydly_distributed_system/ly03ly_distributed-lock/>分布式锁</a></li><li><a href=/zh/docs/technology/Review/java_guide/lydly_distributed_system/ly02ly_distributed-id/>分布式id</a></li><li><a href=/zh/docs/technology/Review/java_guide/lydly_distributed_system/ly01ly_api-gateway/>api网关</a></li></ul></li><li><input type=checkbox id=section-ce3cbb53c62f67624e4ab24a5a14298a class=toggle>
<label for=section-ce3cbb53c62f67624e4ab24a5a14298a class="flex justify-between"><a role=button>框架</a></label><ul><li><input type=checkbox id=section-dbe480810d1877286936b38cdb5e9229 class=toggle>
<label for=section-dbe480810d1877286936b38cdb5e9229 class="flex justify-between"><a role=button>MyBatis</a></label><ul><li><input type=checkbox id=section-30b916f2071579e2468767a2562433d9 class=toggle>
<label for=section-30b916f2071579e2468767a2562433d9 class="flex justify-between"><a role=button>原理</a></label><ul><li><a href=/zh/docs/technology/Review/java_guide/lybly_framework/MyBatis/principle/mybatis-principle3/>Mybatis原理系列(3)</a></li><li><a href=/zh/docs/technology/Review/java_guide/lybly_framework/MyBatis/principle/mybatis-principle2/>Mybatis原理系列(2)</a></li><li><a href=/zh/docs/technology/Review/java_guide/lybly_framework/MyBatis/principle/mybatis-principle1/>Mybatis原理系列(1)</a></li></ul></li><li><a href=/zh/docs/technology/Review/java_guide/lybly_framework/MyBatis/MyBatis-interview/>Mybatis面试</a></li></ul></li><li><a href=/zh/docs/technology/Review/java_guide/lybly_framework/conditional_on_class/>ConditionalOnClass实践</a></li><li><a href=/zh/docs/technology/Review/java_guide/lybly_framework/ly05ly_springboot-auto-assembly/>SpringBoot自动装配原理</a></li><li><a href=/zh/docs/technology/Review/java_guide/lybly_framework/ly04ly_spring-design-patterns/>spring 设计模式</a></li><li><a href=/zh/docs/technology/Review/java_guide/lybly_framework/ly03ly_spring-transaction/>Spring事务详情</a></li><li><a href=/zh/docs/technology/Review/java_guide/lybly_framework/ly02ly_spring-annotations/>Spring/SpringBoot常用注解</a></li><li><a href=/zh/docs/technology/Review/java_guide/lybly_framework/ly01ly_spring-knowledge-and-questions-summary/>spring 常见面试题总结</a></li></ul></li><li><input type=checkbox id=section-1f6733a85e33dcc22aabbf820e3ef963 class=toggle>
<label for=section-1f6733a85e33dcc22aabbf820e3ef963 class="flex justify-between"><a role=button>开发工具</a></label><ul><li><a href=/zh/docs/technology/Review/java_guide/lyaly_dev_tools/git/>git</a></li><li><a href=/zh/docs/technology/Review/java_guide/lyaly_dev_tools/maven/>maven</a></li></ul></li><li><input type=checkbox id=section-c01151f806b917cd0ecc4cffa72c3402 class=toggle>
<label for=section-c01151f806b917cd0ecc4cffa72c3402 class="flex justify-between"><a role=button>Java基础</a></label><ul><li><input type=checkbox id=section-26625a0c4c0bffef02640966ca545537 class=toggle>
<label for=section-26625a0c4c0bffef02640966ca545537 class="flex justify-between"><a role=button>并发</a></label><ul><li><a href=/zh/docs/technology/Review/java_guide/java/Concurrent/ly030301lyatomicpre/>Atomic预备知识</a></li><li><a href=/zh/docs/technology/Review/java_guide/java/Concurrent/ly0311lycompletablefuture-intro/>completablefuture-intro</a></li><li><a href=/zh/docs/technology/Review/java_guide/java/Concurrent/ly0310lythreadlocal/>ThreadLocal详解</a></li><li><a href=/zh/docs/technology/Review/java_guide/java/Concurrent/ly0309lyatomic-classes/>Atomic原子类介绍</a></li><li><a href=/zh/docs/technology/Review/java_guide/java/Concurrent/ly0308lyaqs-details/>aqs详解</a></li><li><a href=/zh/docs/technology/Review/java_guide/java/Concurrent/ly0307lyconcurrent-collections/>java常见并发容器</a></li><li><a href=/zh/docs/technology/Review/java_guide/java/Concurrent/ly0306lythread-pool-best/>线程池最佳实践</a></li><li><a href=/zh/docs/technology/Review/java_guide/java/Concurrent/ly0305lyjava-thread-pool/>java线程池详解</a></li><li><a href=/zh/docs/technology/Review/java_guide/java/Concurrent/ly0304lyjmm/>java内存模型</a></li><li><a href=/zh/docs/technology/Review/java_guide/java/Concurrent/ly0303lyconcurrent-03/>并发03</a></li><li><a href=/zh/docs/technology/Review/java_guide/java/Concurrent/ly03122lylock_escalation/>锁升级</a></li><li><a href=/zh/docs/technology/Review/java_guide/java/Concurrent/lock_escalation_deprecated2/>(该文弃用)锁升级</a></li><li><a href=/zh/docs/technology/Review/java_guide/java/Concurrent/lock_escalation_deprecated/>(该文弃用)锁升级</a></li><li><a href=/zh/docs/technology/Review/java_guide/java/Concurrent/ly03121lyobject-concurrent/>对象内存布局和对象头</a></li><li><a href=/zh/docs/technology/Review/java_guide/java/Concurrent/ly0302lyconcurrent-02/>并发02</a></li><li><a href=/zh/docs/technology/Review/java_guide/java/Concurrent/ly0301lyconcurrent-01/>并发01</a></li></ul></li><li><input type=checkbox id=section-8f747d8f024fbfe2b392a25696e01266 class=toggle>
<label for=section-8f747d8f024fbfe2b392a25696e01266 class="flex justify-between"><a role=button>IO</a></label><ul><li><a href=/zh/docs/technology/Review/java_guide/java/IO/ly0203lyio-model/>io模型</a></li><li><a href=/zh/docs/technology/Review/java_guide/java/IO/ly0202lyio-design-patterns/>io设计模式</a></li><li><a href=/zh/docs/technology/Review/java_guide/java/IO/ly0201lyio/>io基础</a></li></ul></li><li><input type=checkbox id=section-7d26c3d37b0e4678a1ec776265992903 class=toggle>
<label for=section-7d26c3d37b0e4678a1ec776265992903 class="flex justify-between"><a role=button>集合</a></label><ul><li><a href=/zh/docs/technology/Review/java_guide/java/Collection/ly0105lysource-code-concurrenthashmap/>ConcurrentHashMap源码</a></li><li><a href=/zh/docs/technology/Review/java_guide/java/Collection/ly0106lysource-code-hashmap/>HashMap源码</a></li><li><a href=/zh/docs/technology/Review/java_guide/java/Collection/ly0104lysource-code-ArrayList/>ArrayList源码</a></li><li><a href=/zh/docs/technology/Review/java_guide/java/Collection/ly0103lycollections-precautions-for-use/>集合使用注意事项</a></li><li><a href=/zh/docs/technology/Review/java_guide/java/Collection/ly0102lycollection_2/>集合_2</a></li><li><a href=/zh/docs/technology/Review/java_guide/java/Collection/ly0101lycollection_1/>集合_1</a></li></ul></li><li><input type=checkbox id=section-7027a9bc1d603892e7826da81b333f38 class=toggle>
<label for=section-7027a9bc1d603892e7826da81b333f38 class="flex justify-between"><a role=button>基础</a></label><ul><li><a href=/zh/docs/technology/Review/java_guide/java/Basic/ly0011lysyntactic_sugar/>语法糖</a></li><li><a href=/zh/docs/technology/Review/java_guide/java/Basic/ly0010lyjava_spi/>java_spi</a></li><li><a href=/zh/docs/technology/Review/java_guide/java/Basic/ly0009lyunsafe_class/>unsafe类</a></li><li><a href=/zh/docs/technology/Review/java_guide/java/Basic/ly0008lybig_decimal/>big_decimal</a></li><li><a href=/zh/docs/technology/Review/java_guide/java/Basic/ly0007lyproxy_pattern/>Java代理模式</a></li><li><a href=/zh/docs/technology/Review/java_guide/java/Basic/ly0006lyreflex/>java-reflex</a></li><li><a href=/zh/docs/technology/Review/java_guide/java/Basic/ly0005lyserialize/>Java序列化详解</a></li><li><a href=/zh/docs/technology/Review/java_guide/java/Basic/ly0004lypassbyvalue/>为什么Java中只有值传递</a></li><li><a href=/zh/docs/technology/Review/java_guide/java/Basic/ly0003lyjava_guide_basic_3/>javaGuide基础3</a></li><li><a href=/zh/docs/technology/Review/java_guide/java/Basic/ly0002lyjava_guide_basic_2/>javaGuide基础2</a></li><li><a href=/zh/docs/technology/Review/java_guide/java/Basic/ly0001lyjava_guide_basic_1/>javaGuide基础1</a></li></ul></li><li><a href=/zh/docs/technology/Review/java_guide/java/JVM/ly0408lyjdk-monitoring-and-troubleshooting-tools/>jvm监控和故障处理工具 总结</a></li><li><a href=/zh/docs/technology/Review/java_guide/java/JVM/ly0406lyjvm-params/>jvm参数</a></li><li><a href=/zh/docs/technology/Review/java_guide/java/JVM/ly0403lyclass-structure/>类文件结构</a></li><li><a href=/zh/docs/technology/Review/java_guide/java/JVM/ly0405lyclassloader-detail/>类加载器详解</a></li><li><a href=/zh/docs/technology/Review/java_guide/java/JVM/ly0404lyclassloader-process/>类加载过程</a></li><li><a href=/zh/docs/technology/Review/java_guide/java/JVM/ly0402lygarbage-collection/>java垃圾回收</a></li><li><a href=/zh/docs/technology/Review/java_guide/java/JVM/ly0407lyjvm-intro/>jvm-intro</a></li><li><a href=/zh/docs/technology/Review/java_guide/java/JVM/ly0401lymemory-area/>memory-area</a></li></ul></li><li><input type=checkbox id=section-04d967d6579d47b35ececb3d233024f1 class=toggle>
<label for=section-04d967d6579d47b35ececb3d233024f1 class="flex justify-between"><a role=button>计算机基础</a></label><ul><li><input type=checkbox id=section-316b43351a75a19ac6dec86ad1a48c45 class=toggle>
<label for=section-316b43351a75a19ac6dec86ad1a48c45 class="flex justify-between"><a role=button>数据结构</a></label><ul><li><a href=/zh/docs/technology/Review/java_guide/cs_basics/data-structure/tree/>树</a></li><li><a href=/zh/docs/technology/Review/java_guide/cs_basics/data-structure/heap/>堆</a></li><li><a href=/zh/docs/technology/Review/java_guide/cs_basics/data-structure/graph/>图</a></li><li><a href=/zh/docs/technology/Review/java_guide/cs_basics/data-structure/linear-data-structure/>线性数据结构</a></li></ul></li></ul></li></ul></li><li><input type=checkbox id=section-09d19e9c6f50e4706fe8b6d358c441ce class=toggle>
<label for=section-09d19e9c6f50e4706fe8b6d358c441ce class="flex justify-between"><a role=button>Ssm</a></label><ul><li><a href=/zh/docs/technology/Review/ssm/scope_transaction/>作用域及事务</a></li></ul></li><li><input type=checkbox id=section-11f3d4afcbd3591ad3ee5d79993e29d7 class=toggle>
<label for=section-11f3d4afcbd3591ad3ee5d79993e29d7 class="flex justify-between"><a role=button>Java基础(尚硅谷)_</a></label><ul><li><a href=/zh/docs/technology/Review/basics/member_variables_and_local_variables/>成员变量与局部变量</a></li><li><a href=/zh/docs/technology/Review/basics/recursion_and_iteration/>递归与迭代</a></li><li><a href=/zh/docs/technology/Review/basics/method_parameter_passing_mechanism/>方法的参数传递机制</a></li><li><a href=/zh/docs/technology/Review/basics/class_and_instance_initialization/>类、实例初始化</a></li><li><a href=/zh/docs/technology/Review/basics/singleton_design_pattern/>单例设计模式</a></li><li><a href=/zh/docs/technology/Review/basics/self_incrementing_variable/>自增变量</a></li></ul></li></ul></li><li><input type=checkbox id=section-2fa8d2f95840b0143e19fcee5ee1ad97 class=toggle>
<label for=section-2fa8d2f95840b0143e19fcee5ee1ad97 class="flex justify-between"><a role=button>SpringCloud</a></label><ul><li><input type=checkbox id=section-c8a8a7f47884d9b6be47c71f7ac9c83e class=toggle>
<label for=section-c8a8a7f47884d9b6be47c71f7ac9c83e class="flex justify-between"><a role=button>基础(尚硅谷)_</a></label><ul><li><a href=/zh/docs/technology/springCloud/bl_zhouyang/base/>基础</a></li></ul></li></ul></li><li><input type=checkbox id=section-5057ba12f456498454476dc11b58648b class=toggle>
<label for=section-5057ba12f456498454476dc11b58648b class="flex justify-between"><a role=button>Git</a></label><ul><li><input type=checkbox id=section-950cdebc38a9ca098189c3fa0102c810 class=toggle>
<label for=section-950cdebc38a9ca098189c3fa0102c810 class="flex justify-between"><a role=button>基础(尚硅谷视频)_</a></label><ul><li><a href=/zh/docs/technology/Git/git_sgg/19-26/>19-26_git_尚硅谷</a></li><li><a href=/zh/docs/technology/Git/git_sgg/09-18/>09-18_git_尚硅谷</a></li><li><a href=/zh/docs/technology/Git/git_sgg/01-08/>01-08_git_尚硅谷</a></li></ul></li></ul></li><li><input type=checkbox id=section-d8f59257917ebff8da82fd22583ae10c class=toggle>
<label for=section-d8f59257917ebff8da82fd22583ae10c class="flex justify-between"><a role=button>Maven</a></label><ul><li><input type=checkbox id=section-3557a7ceacd3cc2944407bceae9cdb4d class=toggle>
<label for=section-3557a7ceacd3cc2944407bceae9cdb4d class="flex justify-between"><a role=button>进阶(动力节点)_</a></label><ul><li><a href=/zh/docs/technology/Maven/advance_dljd/01-21/>01-21 maven多模块管理_动力节点</a></li></ul></li><li><input type=checkbox id=section-1ebe9fbd5f37ad16b6c30982516d03c1 class=toggle>
<label for=section-1ebe9fbd5f37ad16b6c30982516d03c1 class="flex justify-between"><a role=button>基础(动力节点)_</a></label><ul><li><a href=/zh/docs/technology/Maven/base_dljd/31-43/>31-43 maven基础_动力节点</a></li><li><a href=/zh/docs/technology/Maven/base_dljd/17-30/>17-30 maven基础_动力节点</a></li><li><a href=/zh/docs/technology/Maven/base_dljd/01-16/>01-16 maven基础_动力节点</a></li></ul></li></ul></li><li><input type=checkbox id=section-d2ff9acb1ec90bec89f165361ced2010 class=toggle>
<label for=section-d2ff9acb1ec90bec89f165361ced2010 class="flex justify-between"><a role=button>算法</a></label><ul><li><input type=checkbox id=section-30bb60688a753351f347686aa0c1d0ca class=toggle>
<label for=section-30bb60688a753351f347686aa0c1d0ca class="flex justify-between"><a role=button>_算法(第四版)_</a></label><ul><li><a href=/zh/docs/technology/Algorithm/algorithhms_4th/3.2.1/>算法红皮书 3.2.1</a></li><li><a href=/zh/docs/technology/Algorithm/algorithhms_4th/3.1.1-3.1.7/>算法红皮书 3.1.1-3.1.7</a></li><li><a href=/zh/docs/technology/Algorithm/algorithhms_4th/2.5/>算法红皮书 2.5</a></li><li><a href=/zh/docs/technology/Algorithm/algorithhms_4th/2.4/>算法红皮书 2.4</a></li><li><a href=/zh/docs/technology/Algorithm/algorithhms_4th/2.1.2-2.1.3/>算法红皮书 2.1.2-2.1.3</a></li><li><a href=/zh/docs/technology/Algorithm/algorithhms_4th/2.1.1/>算法红皮书 2.1.1</a></li><li><a href=/zh/docs/technology/Algorithm/algorithhms_4th/1.5.1-1.5.3/>算法红皮书 1.5.1-1.5.3</a></li><li><a href=/zh/docs/technology/Algorithm/algorithhms_4th/1.4.1-1.4.10/>算法红皮书 1.4.1-1.4.10</a></li><li><a href=/zh/docs/technology/Algorithm/algorithhms_4th/1.3.3.1-1.3.4/>算法红皮书1.3.3.1-1.3.4</a></li><li><a href=/zh/docs/technology/Algorithm/algorithhms_4th/1.3.1.1-1.3.2.5/>算法红皮书 1.3.1.1-1.3.2.5</a></li><li><a href=/zh/docs/technology/Algorithm/algorithhms_4th/1.2.1-1.2.5/>算法红皮书 1.2.1-1.2.5</a></li><li><a href=/zh/docs/technology/Algorithm/algorithhms_4th/1.1.6-1.1.11/>算法红皮书 1.1.6-1.1.11</a></li><li><a href=/zh/docs/technology/Algorithm/algorithhms_4th/1.1.1-1.1.5/>算法红皮书 1.1.1-1.1.5</a></li></ul></li></ul></li><li><input type=checkbox id=section-b414f13e51dbc5e90231aa49f06e7237 class=toggle>
<label for=section-b414f13e51dbc5e90231aa49f06e7237 class="flex justify-between"><a role=button>My Batis Plus</a></label><ul><li><input type=checkbox id=section-4e717bc1448c52e86ed955c4be3f428c class=toggle>
<label for=section-4e717bc1448c52e86ed955c4be3f428c class="flex justify-between"><a role=button>基础(尚硅谷)_</a></label><ul><li><a href=/zh/docs/technology/MyBatis-Plus/bl_sgg/40-57/>mybatis-plus-sgg-40-57</a></li><li><a href=/zh/docs/technology/MyBatis-Plus/bl_sgg/19-39/>mybatis-plus-sgg-19-39</a></li><li><a href=/zh/docs/technology/MyBatis-Plus/bl_sgg/12-18/>mybatis-plus-sgg-12-18</a></li><li><a href=/zh/docs/technology/MyBatis-Plus/bl_sgg/01-11/>mybatis-plus-sgg-01-11</a></li></ul></li><li><a href=/zh/docs/technology/MyBatis-Plus/official/hello/>官方的hello-world</a></li></ul></li><li><input type=checkbox id=section-1e5a67821c47d147a096480c75e0d7c4 class=toggle>
<label for=section-1e5a67821c47d147a096480c75e0d7c4 class="flex justify-between"><a role=button>Flowable</a></label><ul><li><input type=checkbox id=section-e53ff6c199f2d0902ca5c483279f25b8 class=toggle>
<label for=section-e53ff6c199f2d0902ca5c483279f25b8 class="flex justify-between"><a role=button>基础(波哥)_</a></label><ul><li><a href=/zh/docs/technology/Flowable/boge_blbl/03-others/>boge-03-其他</a></li><li><a href=/zh/docs/technology/Flowable/boge_blbl/02-advance_6/>boge-02-flowable进阶_6</a></li><li><a href=/zh/docs/technology/Flowable/boge_blbl/02-advance_5/>boge-02-flowable进阶_5</a></li><li><a href=/zh/docs/technology/Flowable/boge_blbl/02-advance_4/>boge-02-flowable进阶_4</a></li><li><a href=/zh/docs/technology/Flowable/boge_blbl/02-advance_3/>boge-02-flowable进阶_3</a></li><li><a href=/zh/docs/technology/Flowable/boge_blbl/02-advance_2/>boge-02-flowable进阶_2</a></li><li><a href=/zh/docs/technology/Flowable/boge_blbl/02-advance_1/>boge-02-flowable进阶_1</a></li><li><a href=/zh/docs/technology/Flowable/boge_blbl/01-base/>boge-01-flowable基础</a></li></ul></li><li><input type=checkbox id=section-6019d9043956834af14f96c2f7dcd5ca class=toggle>
<label for=section-6019d9043956834af14f96c2f7dcd5ca class="flex justify-between"><a role=button>官方文档</a></label><ul><li><a href=/zh/docs/technology/Flowable/offical/05/>Flowable-05-spring-boot</a></li><li><a href=/zh/docs/technology/Flowable/offical/04/>Flowable-04-spring</a></li><li><a href=/zh/docs/technology/Flowable/offical/03/>Flowable-03-api</a></li><li><a href=/zh/docs/technology/Flowable/offical/02/>Flowable-02-Configuration</a></li><li><a href=/zh/docs/technology/Flowable/offical/01/>Flowable-01-GettingStarted</a></li></ul></li><li><a href=/zh/docs/technology/Flowable/zsx_design/01/>zsx_flowable_design01</a></li></ul></li><li><input type=checkbox id=section-bcdb1ad0996261fc1aba63e3b9c9a8e8 class=toggle>
<label for=section-bcdb1ad0996261fc1aba63e3b9c9a8e8 class="flex justify-between"><a role=button>Rocket Mq</a></label><ul><li><input type=checkbox id=section-43a4f8091b9954bf8a9e95f6b71d2c49 class=toggle>
<label for=section-43a4f8091b9954bf8a9e95f6b71d2c49 class="flex justify-between"><a role=button>基础(黑马)_</a></label><ul><li><a href=/zh/docs/technology/RocketMQ/heima/05advance/>05高级功能</a></li><li><a href=/zh/docs/technology/RocketMQ/heima/04case/>04案例</a></li><li><a href=/zh/docs/technology/RocketMQ/heima/03messagetype/>03收发消息</a></li><li><a href=/zh/docs/technology/RocketMQ/heima/02buildcluster/>02双主双从集群搭建</a></li><li><a href=/zh/docs/technology/RocketMQ/heima/01base/>01rocketmq学习</a></li></ul></li></ul></li></ul></li><li class=book-section-flat><a href=/zh/docs/problem/>问题解决</a><ul><li><input type=checkbox id=section-ab4f1dd893a7409a00858148e98c245c class=toggle>
<label for=section-ab4f1dd893a7409a00858148e98c245c class="flex justify-between"><a role=button>Other</a></label><ul><li><a href=/zh/docs/problem/Other/01/>如何搜索</a></li></ul></li><li><input type=checkbox id=section-ef3324c710f7241c89fc009a5f576fbc class=toggle>
<label for=section-ef3324c710f7241c89fc009a5f576fbc class="flex justify-between"><a role=button>Linux</a></label><ul><li><a href=/zh/docs/problem/Linux/20230919/>Linux操作符问题</a></li><li><a href=/zh/docs/problem/Linux/20230819/>Debian问题处理3</a></li><li><a href=/zh/docs/problem/Linux/20230817/>Debian问题处理2</a></li><li><a href=/zh/docs/problem/Linux/20230815/>Debian问题处理1</a></li><li><a href=/zh/docs/problem/Linux/20230803/>安卓手机及平板安装linuxDeploy的问题简记</a></li><li><a href=/zh/docs/problem/Linux/20230523/>zsh卸载后root无法登录及vm扩容centos7报错处理</a></li><li><a href=/zh/docs/problem/Linux/20221101/>post</a></li></ul></li><li><input type=checkbox id=section-9e8cd5fa8604e5d54ff445fe44d3ca85 class=toggle>
<label for=section-9e8cd5fa8604e5d54ff445fe44d3ca85 class="flex justify-between"><a role=button>Jvm</a></label><ul><li><a href=/zh/docs/problem/JVM/20230526/>JDK代理和CGLIB代理</a></li><li><a href=/zh/docs/problem/JVM/2023052302/>linux中调试open jdk</a></li></ul></li><li><input type=checkbox id=section-a028a45b205904a783d0c60e8a184391 class=toggle>
<label for=section-a028a45b205904a783d0c60e8a184391 class="flex justify-between"><a role=button>Hexo</a></label><ul><li><a href=/zh/docs/problem/Hexo/01/>hexo在线查看pdf</a></li></ul></li><li><input type=checkbox id=section-1c55bf7a5578a7de17cc1ee45681106b class=toggle>
<label for=section-1c55bf7a5578a7de17cc1ee45681106b class="flex justify-between"><a role=button>Idea</a></label><ul><li><a href=/zh/docs/problem/Idea/01/>问题01</a></li></ul></li><li><input type=checkbox id=section-66dd985e53d8e0b78efdab983762411c class=toggle>
<label for=section-66dd985e53d8e0b78efdab983762411c class="flex justify-between"><a role=button>Git</a></label><ul><li><a href=/zh/docs/problem/Git/01/>git使用ssh连不上</a></li></ul></li><li><input type=checkbox id=section-9440d21f7eb9f8cf7f45b16969ab18dc class=toggle>
<label for=section-9440d21f7eb9f8cf7f45b16969ab18dc class="flex justify-between"><a role=button>Hugo</a></label><ul><li><a href=/zh/docs/problem/Hugo/p1/>hugo踩坑</a></li><li><a href=/zh/docs/problem/Hugo/01a/>图片测试(hugo踩坑)</a></li></ul></li></ul></li><li class=book-section-flat><a href=/zh/docs/life/>生活</a><ul><li><input type=checkbox id=section-c7f767205668758142bb8053263cc14f class=toggle>
<label for=section-c7f767205668758142bb8053263cc14f class="flex justify-between"><a role=button>往日归档</a></label><ul><li><a href=/zh/docs/life/archive/20231026/>成就</a></li><li><a href=/zh/docs/life/archive/20231013/>沉没</a></li><li><a href=/zh/docs/life/archive/20230913/>鲇鱼后思</a></li><li><a href=/zh/docs/life/archive/20230912/>病愈 有感</a></li><li><a href=/zh/docs/life/archive/20220724/>人为什么要结婚(找对象)</a></li><li><a href=/zh/docs/life/archive/20220416/>《作酒》有感</a></li><li><a href=/zh/docs/life/archive/20121226/>2021年最后一个周日</a></li><li><a href=/zh/docs/life/archive/20231021/>沉沦</a></li></ul></li><li><a href=/zh/docs/life/dailyExcerpt/>每日摘抄</a></li><li><a href=/zh/docs/life/20240626/>知命不惧 日日自新</a></li><li><a href=/zh/docs/life/20231227/>起床临感</a></li><li><a href=/zh/docs/life/20231101/>20231101</a></li></ul></li><li class=book-section-flat><a href=/zh/docs/test/>测试</a><ul><li><a href=/zh/docs/test/hello2/>pdfTest</a></li></ul></li></ul><ul><li><a href=/zh/posts/>博客</a></li></ul></nav><script>(function(){var e=document.querySelector("aside .book-menu-content");addEventListener("beforeunload",function(){localStorage.setItem("menu.scrollTop",e.scrollTop)}),e.scrollTop=localStorage.getItem("menu.scrollTop")})()</script></div></aside><div class=book-page><header class=book-header><div class="flex align-center justify-between"><label for=menu-control><img src=/svg/menu.svg class=book-icon alt=Menu></label><h3>06B+树索引</h3><label for=toc-control><img src=/svg/toc.svg class=book-icon alt="Table of Contents"></label></div><aside class="hidden clearfix"><nav id=TableOfContents><ul><li><a href=#概述>概述</a></li><li><a href=#没有索引时进行查找>没有索引时进行查找</a><ul><li><a href=#在一个页中查找>在一个页中查找</a></li><li><a href=#在很多页中查找>在很多页中查找</a></li></ul></li><li><a href=#索引>索引</a><ul><li><a href=#一个简单的索引方案>一个简单的索引方案</a><ul><li><a href=#有序>有序</a></li><li><a href=#给所有的页建立一个目录项>给所有的页建立一个目录项</a></li></ul></li><li><a href=#innodb中的索引方案>InnoDB中的索引方案</a><ul><li><a href=#上述方案的问题>上述方案的问题</a></li><li><a href=#方案>方案</a></li><li><a href=#举例>举例</a></li></ul></li><li><a href=#多个目录项记录页>多个目录项记录页</a><ul><li><a href=#聚簇索引>聚簇索引</a></li><li><a href=#二级索引>二级索引</a></li><li><a href=#联合索引>联合索引</a></li></ul></li><li><a href=#inno中b树索引的注意事项>Inno中B+树索引的注意事项</a><ul><li><a href=#根页面万年不动窝>根页面万年不动窝</a></li><li><a href=#内节点中目录项记录的唯一性>内节点中目录项记录的唯一性</a></li><li><a href=#一个页面至少容纳2条记录>一个页面至少容纳2条记录</a></li></ul></li><li><a href=#myisam中的索引方案简介>MyISAM中的索引方案简介</a><ul><li><a href=#数据文件>数据文件</a></li><li><a href=#索引-1>索引</a></li><li><a href=#其他索引>其他索引</a></li><li><a href=#总结>总结</a></li></ul></li><li><a href=#mysql中创建和删除索引的语句>MySQL中创建和删除索引的语句</a></li></ul></li></ul></nav></aside></header><article class="markdown book-article"><blockquote><p>学习《MySQL是怎样运行的》，感谢作者！</p></blockquote><h1 id=概述>概述
<a class=anchor href=#%e6%a6%82%e8%bf%b0>#</a></h1><p>数据页由<strong>7个</strong>组成部分，各个数据页可以组成一个<strong>双向链表</strong>，每个数据页中的记录会按照<strong>主键值从小到大的顺序</strong>组成一个<strong>单向链表</strong>。每个数据页都会为<strong>它里面的记录</strong>生成一个<strong>页目录</strong>，在通过主键查找某条记录的时候可以在<strong>页目录</strong>中使用二分法快速定位到<strong>对应的槽</strong>，然后再<strong>遍历该槽</strong>对应<strong>分组中的记录</strong>即可快速找到<strong>指定</strong>的记录。<strong>页和记录</strong>的关系</p><blockquote><p>页a，页b 可以<strong>不在物理结构上相连</strong>，只要通过<strong>双向链表相关联</strong>即可</p></blockquote><p><img src=img/ly-20241212142156258.png alt=ly-20241212142156258></p><h1 id=没有索引时进行查找>没有索引时进行查找
<a class=anchor href=#%e6%b2%a1%e6%9c%89%e7%b4%a2%e5%bc%95%e6%97%b6%e8%bf%9b%e8%a1%8c%e6%9f%a5%e6%89%be>#</a></h1><p>假设我们要搜索<strong>某个列</strong>等于<strong>某个常数</strong>的情况：<br><code>SELECT [查询列表] FROM 表名 WHERE 列名 = xxx</code></p><h2 id=在一个页中查找>在一个页中查找
<a class=anchor href=#%e5%9c%a8%e4%b8%80%e4%b8%aa%e9%a1%b5%e4%b8%ad%e6%9f%a5%e6%89%be>#</a></h2><p>假设记录极少，所有记录可以<strong>存放到一个页中</strong></p><ul><li>以<strong>主键</strong>位搜索条件：页目录中使用<strong>二分法</strong>快速定位到对应的<strong>槽</strong>，然后在<strong>遍历槽对应分组中的记录</strong>，即可快速找到指定记录</li><li>其他列作为搜索条件：对于<strong>非主键</strong>，数据页没有为<strong>非主键列</strong>建立所谓的<strong>页目录</strong>，所以<strong>无法通过二分法</strong>快速定位相应的槽。只能<strong>从Infimum依次遍历</strong>单向链表中的每条记录，然后对比，效率极低</li></ul><h2 id=在很多页中查找>在很多页中查找
<a class=anchor href=#%e5%9c%a8%e5%be%88%e5%a4%9a%e9%a1%b5%e4%b8%ad%e6%9f%a5%e6%89%be>#</a></h2><p>两个步骤：</p><ul><li><strong>定位到记录所在的页</strong></li><li>从<strong>所在页内</strong>查找相应的记录</li></ul><p><strong>没有索引</strong>情况下，不能快速定位到所在页，只能从<strong>第一页</strong>沿着<strong>双向链表</strong>一直往下找，而如果是主键，每一页则可以在<strong>页目录</strong>二分查找。<br>不过由于要<strong>遍历所有页</strong>，所以超级<strong>耗时</strong></p><h1 id=索引>索引
<a class=anchor href=#%e7%b4%a2%e5%bc%95>#</a></h1><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span><span style=color:#75715e>#例子</span>
</span></span><span style=display:flex><span>mysql&gt; CREATE TABLE index_demo<span style=color:#f92672>(</span>
</span></span><span style=display:flex><span>      c1 INT,
</span></span><span style=display:flex><span>      c2 INT,
</span></span><span style=display:flex><span>      c3 CHAR<span style=color:#f92672>(</span>1<span style=color:#f92672>)</span>,
</span></span><span style=display:flex><span>      PRIMARY KEY<span style=color:#f92672>(</span>c1<span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>)</span> ROW_FORMAT<span style=color:#f92672>=</span>COMPACT;
</span></span></code></pre></div><blockquote><p>完整的行格式</p></blockquote><p><img src=img/ly-20241212142156429.png alt=ly-20241212142156429></p><p>简化的行格式<br><img src=img/ly-20241212142156467.png alt=ly-20241212142156467></p><ul><li>record_type：<strong>记录头信息</strong>的一项属性，表示<strong>记录的类型</strong>。0：普通记录，2：Infimum记录，3：Supremum记录，1还没用过等会再说</li><li>next_record：<strong>记录头信息</strong>的一项属性，表示从当前记录的<strong>真实数据</strong>到<strong>下一条记录真实数据</strong>的距离</li><li>各个列的值：这里只展示在index_demo表中的<strong>3个列</strong>，分别是c1、c2、c3</li><li>其他信息：包括<strong>隐藏列</strong>及<strong>记录的额外信息</strong></li></ul><p>改为竖着查看：<br><img src=img/ly-20241212142156521.png alt=ly-20241212142156521></p><blockquote><p>上面图6-4的箭头其实有一点点出入，应该是指向z真实数据第1列那个位置，如下
<img src=img/ly-20241212142156561.png alt=ly-20241212142156561></p></blockquote><h2 id=一个简单的索引方案>一个简单的索引方案
<a class=anchor href=#%e4%b8%80%e4%b8%aa%e7%ae%80%e5%8d%95%e7%9a%84%e7%b4%a2%e5%bc%95%e6%96%b9%e6%a1%88>#</a></h2><p>思考：在<strong>根据某个条件</strong>查找一些记录，为什么要<strong>遍历所有</strong>的<strong>数据页</strong>呢？因为各个<strong>页</strong>中的记录没有规律，不知道<strong>搜索条件会匹配哪些页</strong><br>思路：为<strong>快速定位</strong>记录所在的<strong>数据页</strong>而建立一个别的目录</p><h3 id=有序>有序
<a class=anchor href=#%e6%9c%89%e5%ba%8f>#</a></h3><p>下一个数据页中<strong>用户记录</strong>的<strong>主键值</strong>必须大于上一页<strong>用户记录</strong>的<strong>主键值</strong><br>假设一页只能存放3条记录</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span><span style=color:#75715e>#插入3条记录</span>
</span></span><span style=display:flex><span>mysql&gt; INSERT INTO index_demo VALUES<span style=color:#f92672>(</span>1,4,<span style=color:#e6db74>&#39;u&#39;</span><span style=color:#f92672>)</span>,<span style=color:#f92672>(</span>3,9,<span style=color:#e6db74>&#39;d&#39;</span><span style=color:#f92672>)</span>,<span style=color:#f92672>(</span>5,3,<span style=color:#e6db74>&#39;y&#39;</span><span style=color:#f92672>)</span>;
</span></span><span style=display:flex><span>Query OK, <span style=color:#ae81ff>3</span> rows affected <span style=color:#f92672>(</span>0.02 sec<span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>Records: <span style=color:#ae81ff>3</span>  Duplicates: <span style=color:#ae81ff>0</span>  Warnings: <span style=color:#ae81ff>0</span>
</span></span></code></pre></div><p>此时页的情况<br><strong>记录组成了单链表</strong><br><img src=img/ly-20241212142156602.png alt=ly-20241212142156602></p><p>再<strong>插入一条记录</strong></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>mysql&gt; INSERT INTO index_demo VALUES<span style=color:#f92672>(</span>4,4,<span style=color:#e6db74>&#39;a&#39;</span><span style=color:#f92672>)</span>;
</span></span><span style=display:flex><span>Query OK, <span style=color:#ae81ff>1</span> row affected <span style=color:#f92672>(</span>0.01 sec<span style=color:#f92672>)</span>
</span></span></code></pre></div><p>(注意，页之间可能<strong>不是连续</strong>的)</p><p><img src=img/ly-20241212142156645.png alt=ly-20241212142156645></p><p>由于页10中<strong>最大记录</strong>是<strong>5</strong>，而页28中有一条记录是<strong>4</strong>，因为5>4，不符合<strong>下一个数据页中用户记录的主键值</strong>必须<strong>大于上一页中用户记录的主键值</strong>，所以在<strong>插入主键值为4的记录时需要伴随着一次记录移动</strong>，也就是把5的记录移动到<strong>页28</strong>中，再把<strong>主键值4</strong>的记录<strong>插入到页10中</strong><br><img src=img/ly-20241212142156685.png alt=ly-20241212142156685></p><p>这个过程表明，在对页中的记录进行<strong>增删改</strong>操作的过程中，我们必须通过一些诸如<strong>记录移动</strong>的操作来始终保证这个状态一直成立：<strong>下一个数据页中用户记录的主键值必须大于上一个页中用户记录的主键值</strong>。这个过程也可以称为<strong>页分裂</strong>。</p><h3 id=给所有的页建立一个目录项>给所有的页建立一个目录项
<a class=anchor href=#%e7%bb%99%e6%89%80%e6%9c%89%e7%9a%84%e9%a1%b5%e5%bb%ba%e7%ab%8b%e4%b8%80%e4%b8%aa%e7%9b%ae%e5%bd%95%e9%a1%b9>#</a></h3><p>前提：index_demo表中有多条记录的效果<br><img src=img/ly-20241212142156724.png alt=ly-20241212142156724></p><p>1页有16KB，这些页在磁盘上可能并不连续，<strong>要想从这么多页中</strong>根据<strong>主键值</strong>快速定位<strong>某些记录所在的页</strong>，需要给他们编制一个<strong>目录</strong>，每个页对应一个<strong>目录项</strong>，每个目录项包括<strong>两部分</strong>：</p><ul><li>页的<strong>用户记录</strong>中<strong>最小的主键值</strong>，用<strong>key</strong>表示</li><li>页号，<strong>page_no</strong>表示</li></ul><p><img src=img/ly-20241212142156764.png alt=ly-20241212142156764></p><p>假设我们此时把<strong>目录项</strong>在<strong>物理存储器上连续存储</strong>，比如放到数组中，此时就可以<strong>根据主键值</strong>快速查找<strong>某条记录</strong></p><ol><li><p>先用二分法快速定位主键20的记录在<strong>目录项3中</strong>（因为<strong>12&lt;20&lt;209</strong>)，对应页是9</p></li><li><p>根据前面说的方式在<strong>页9中</strong>定位具体记录</p><blockquote><p>先在<strong>页目录</strong>中二分查找，找到对应的组后<strong>沿链表遍历</strong></p></blockquote></li></ol><p>这个目录项的别名：<strong>索引</strong></p><h2 id=innodb中的索引方案>InnoDB中的索引方案
<a class=anchor href=#innodb%e4%b8%ad%e7%9a%84%e7%b4%a2%e5%bc%95%e6%96%b9%e6%a1%88>#</a></h2><h3 id=上述方案的问题>上述方案的问题
<a class=anchor href=#%e4%b8%8a%e8%bf%b0%e6%96%b9%e6%a1%88%e7%9a%84%e9%97%ae%e9%a2%98>#</a></h3><ul><li>InnoDB使用页作为<strong>管理存储空间</strong>的基本单位，即<strong>只能保证16KB</strong>的<strong>连续存储空间</strong>，如果记录非常多，则需要的<strong>连续存储空间</strong>就<strong>非常大</strong></li><li><strong>增删改</strong>是很频繁的，如果页28的记录全部移除，那么目录项2就没有出现的必要，即<strong>要删除目录项2</strong>，那么所有的<strong>目录项</strong>都需要<strong>左移</strong>/或者不移动，作为冗余<strong>放到目录项列表</strong>中，浪费空间</li></ul><h3 id=方案>方案
<a class=anchor href=#%e6%96%b9%e6%a1%88>#</a></h3><p>复用之前存储用户记录的<strong>数据页</strong>来存储目录项，用了和<strong>用户记录</strong>进行区分，把这些<strong>用来表示目录项</strong>的记录称为<strong>目录项记录</strong>。如何区分一条记录是<strong>普通用户记录</strong>，还是<strong>目录项记录</strong>：使用<strong>记录头信息</strong>中的<strong>record_type</strong>属性</p><ul><li>0：普通用户记录</li><li>1：目录项记录</li><li>2：Infimum记录</li><li>3：Supremum记录</li></ul><p><strong>将目录项放到数据页中</strong><br><img src=img/ly-20241212142156805.png alt=ly-20241212142156805></p><p><strong>新分配了一个编号为30的页来专门存储目录项记录</strong><br><strong>目录项记录</strong>和<strong>普通的用户记录</strong>的不同点</p><ul><li><p>目录项记录的<strong>record_type</strong>值为1，普通用户记录<strong>record_type</strong>值为0</p></li><li><p>目录项记录只有<strong>主键值</strong>和<strong>页的编号</strong>这两个列，而普通用户记录的<strong>列</strong>是用户自己定义的，可能包含许多列，另外还有<strong>InnoDB</strong>自己添加的<strong>隐藏列</strong></p></li><li><p><strong>记录头信息</strong>中有一个名为<strong>min_rec_flag</strong>的属性，只有目录项记录的min_rec_flag属性才可能为1，普通记录的min_rec_flag属性都是0</p><blockquote><p>B+ 树中<strong>每层</strong>非叶子节点中的<strong>最小的目录项</strong>记录都会添加该标记</p></blockquote></li></ul><p><strong>其他</strong>：<br>它们用的是<strong>一样的数据页</strong>(<strong>页面类型</strong>都是Ox45BF ，这个属性在File Header 中)；页的<strong>组成结构</strong>也是一样的〈就是我们前面介绍过的<strong>7 个部分</strong>)；都会为主键值生成<strong>Page Directory</strong>（页目录）从而在<strong>按照主键值进行查找</strong>时可以<strong>使用</strong>
<strong>二分法</strong>来加快查询速度。</p><h3 id=举例>举例
<a class=anchor href=#%e4%b8%be%e4%be%8b>#</a></h3><h4 id=单个-目录项记录页>单个 目录项记录页
<a class=anchor href=#%e5%8d%95%e4%b8%aa-%e7%9b%ae%e5%bd%95%e9%a1%b9%e8%ae%b0%e5%bd%95%e9%a1%b5>#</a></h4><p><img src=img/ly-20241212142156845.png alt=ly-20241212142156845></p><p>其中，页30中存储的<strong>主键值</strong>分别为<strong>1</strong>，<strong>5</strong>，<strong>12</strong>，<strong>209</strong><br>假设我们现在要查找<strong>主键值为20的记录</strong>：</p><ol><li>先到<strong>存储目录项记录的页（这里是页30）<strong>中，（由于有</strong>页目录</strong>）通过二分法<strong>快速</strong>定位到对应的<strong>目录项记录</strong>，因为12&lt;20&lt;209，所以定位到对应的<strong>用户记录</strong>所在的页就是<strong>页9</strong></li><li>再到<strong>存储用户记录</strong>的<strong>页9</strong>中根据<strong>二分法</strong>（<strong>由于有页目录）</strong>）快速定位到<strong>主键值为20</strong>的用户记录</li></ol><p><strong>目录项记录</strong>中只<strong>存储主键值</strong>和<strong>对应的页号</strong>，存储空间极小，但一个页只有16KB，存放的<strong>目录项记录</strong>有限。如果表中数据太多（<strong>页太多</strong>），以至于<strong>一个数据页</strong>不足以存放所有的<strong>目录项记录</strong></p><h4 id=多个-目录项记录的页>多个 目录项记录的页
<a class=anchor href=#%e5%a4%9a%e4%b8%aa-%e7%9b%ae%e5%bd%95%e9%a1%b9%e8%ae%b0%e5%bd%95%e7%9a%84%e9%a1%b5>#</a></h4><p>解决方案：<strong>新增一个存储目录项记录的页</strong></p><p><img src=img/ly-20241212142156887.png alt=ly-20241212142156887></p><p>此时再进行查找</p><ul><li>确定存储目录项记录的页<br>现在<strong>存储目录项记录的页</strong>有2个，即页30和页32。又因为页30表示的目录项<strong>记录主键值</strong>范围是**[1，320)<strong>，页32表示的</strong>目录项记录主键值<strong>范围 <strong>> 320</strong>。所以确定主键值为20的记录</strong>对应的目录项记录**在页30中</li><li>按照<strong>单个</strong> <strong>目录项记录页</strong>的方案查找</li></ul><h2 id=多个目录项记录页>多个目录项记录页
<a class=anchor href=#%e5%a4%9a%e4%b8%aa%e7%9b%ae%e5%bd%95%e9%a1%b9%e8%ae%b0%e5%bd%95%e9%a1%b5>#</a></h2><p>如果数据再增加，则再<strong>生成存储更高级目录项记录</strong>的<strong>数据页</strong><br><img src=img/ly-20241212142156927.png alt=ly-20241212142156927></p><p>无论是<strong>存放用户记录</strong>的数据页，还是<strong>存放目录项记录</strong>的数据页，都放到B+树数据结构中，我们也将这些<strong>数据页</strong>称为<strong>B+树的节点</strong><br>如图，我们真正的<strong>用户记录</strong>其实都存放在B+树<strong>最底层的节点上</strong>，这些节点也称为<strong>叶子节点</strong>或<strong>页节点</strong>，其余用来存放<strong>目录项记录</strong>的节点称为<strong>非叶子节点</strong>或者<strong>内节点</strong>，其中B+树最上边的那个节点也称为<strong>根节点</strong>
<img src=img/ly-20241212142156967.png alt=ly-20241212142156967></p><p>这里我们规定，<strong>最下面</strong>那层（存放<strong>用户记录</strong>的那层）为0层，之后<strong>层级</strong>依次往上加。<br>这里我们假设所有存放<strong>用户记录</strong>的<strong>叶子节点</strong>所代表的<strong>数据页</strong>可以存放100条<strong>用户记录</strong>（16KB=16 * 1024 ≈10000 字节，差不多一条记录100字节），假设所有存放<strong>目录项记录</strong>的<strong>内节点</strong>所代表的<strong>数据页</strong>可以存放1000条<strong>目录项记录</strong>（10000字节，假设<strong>1个目录项10字节</strong>），那么如果</p><ul><li>如果B+树有1层，那么只有一个用于存放用户记录的节点，那么能存放100条用户记录（1百）</li><li>如果B+树有2层，那么能存放 1000 * 100=100,000条用户记录(10万)</li><li>如果B+树有3层，那么能存放 1000 * 1000 * 100=100,000,000条用户记录(1亿)</li><li>如果B+树有4层，那么能存放 1000 * 1000 * 1000 * 100=100,000,000,000条用户记录 (1000亿)</li></ul><p>所以<strong>一般情况</strong>下，我们用到的<strong>B+树不会超过4层</strong>。</p><p>当我们要通过<strong>主键值</strong>查找**某条记录 **</p><ul><li><strong>最多只需要进行</strong>4个页面内的查找（查找<strong>3个存储目录项记录</strong>的页和<strong>1个存储用户记录</strong>的页）</li><li>每个页面内存在<strong>PageDirectory（页目录）</strong>，所以在页面内<strong>也可以</strong>通过<strong>二分法</strong>快速定位记录</li></ul><blockquote><p>PageHeader中，有一个名为<strong>PAGE_LEVEL</strong>的属性，代表着<strong>这个数据页</strong>作为<strong>节点</strong>在B+树中的层级</p></blockquote><h3 id=聚簇索引>聚簇索引
<a class=anchor href=#%e8%81%9a%e7%b0%87%e7%b4%a2%e5%bc%95>#</a></h3><p>前面介绍的B+树<strong>本身就是一个记录</strong>，或者说<strong>本身就是一个索引</strong>，有以下两个特点</p><ul><li>使用<strong>记录主键值</strong>的大小进行<strong>记录</strong>和<strong>页</strong>的排序<ol><li>页（包括<strong>叶子节点</strong>和<strong>内节点</strong>）内的记录，按照<strong>主键大小</strong>顺序排成一个单向链表，<strong>页内的记录</strong>被划分成<strong>若干个组</strong>，每个组中<strong>主键值最大</strong>的记录在<strong>页内的偏移量</strong>会被当作<strong>槽</strong>一次存放在<strong>页目录中</strong>（Supremum记录比任何用户记录都大）之后可以在<strong>页目录</strong>中通过<strong>二分法</strong>快速定位到<strong>主键列</strong>等于<strong>某个值</strong>的记录</li><li>各个<strong>存放用户记录</strong>的<strong>页</strong>也是根据<strong>页中用户记录</strong>的<strong>主键大小</strong>顺序排成一个<strong>双向链表</strong></li><li>存放<strong>目录项记录</strong>的页分为不同的<strong>层级</strong>，在<strong>同一层级中</strong>也是根据<strong>页目录项记录</strong>的<strong>主键大小</strong>顺序排成一个<strong>双向链表</strong></li></ol></li><li>B+树的<strong>叶子节点</strong>存储的是<strong>完整的用户记录</strong>（指的是<strong>这个记录中存储了所有列的值（包括隐藏列）</strong>）</li></ul><p>具有上面两个特点的<strong>B+树</strong>称为<strong>聚簇索引</strong>。所有<strong>完整的用户记录</strong>都存放在这个<strong>聚簇索引</strong>的<strong>叶子节点</strong>处。这种聚簇索引，不需要我们在MySQL语句中显示使用<strong>INDEX语句</strong>去创建，InnoDB会自动为我们<strong>创建聚簇索引</strong><br><strong>InnoDB存储引擎</strong>中，<strong>聚簇索引</strong>就是<strong>数据的存储方式</strong>（所有的<strong>用户记录</strong>都存储在了<strong>叶子节点</strong>）。<strong>索引即数据，数据即索引</strong></p><h3 id=二级索引>二级索引
<a class=anchor href=#%e4%ba%8c%e7%ba%a7%e7%b4%a2%e5%bc%95>#</a></h3><p>聚簇索引只能在搜索条件是<strong>主键值</strong>时才发挥作用，如果要以别的列作为搜索条件，可以<strong>多建几颗B+树</strong>，而且不同<strong>B+树</strong>中的数据，采用<strong>不同的排序规则</strong></p><blockquote><p>比如用c2列的大小作为<strong>数据页</strong>、<strong>页中记录</strong>的排序规则，再建一颗B+树</p></blockquote><blockquote><p>&ldquo;前言：c1已经是主键了&rdquo;</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span><span style=color:#75715e>#例子</span>
</span></span><span style=display:flex><span>mysql&gt; CREATE TABLE index_demo<span style=color:#f92672>(</span>
</span></span><span style=display:flex><span>      c1 INT,
</span></span><span style=display:flex><span>      c2 INT,
</span></span><span style=display:flex><span>      c3 CHAR<span style=color:#f92672>(</span>1<span style=color:#f92672>)</span>,
</span></span><span style=display:flex><span>      PRIMARY KEY<span style=color:#f92672>(</span>c1<span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>)</span> ROW_FORMAT<span style=color:#f92672>=</span>COMPACT;
</span></span></code></pre></div></blockquote><p><img src=img/ly-20241212142157007.png alt=ly-20241212142157007></p><p>下面是聚簇索引特点：<br><img src=img/ly-20241212142157045.png alt=ly-20241212142157045></p><p>二级索引说明：</p><ul><li>使用<strong>记录c2列</strong>的大小进行<strong>记录</strong>和<strong>页</strong>的排序<ol><li>页（包括<strong>叶子节点</strong>和<strong>内节点</strong>）内的记录，按照<strong>c2列大小</strong>顺序排成一个单向链表，<strong>页内的记录</strong>被划分成<strong>若干个组</strong>，每个组中<strong>c2列值最大</strong>的记录在<strong>页内的偏移量</strong>会被当作<strong>槽</strong>一次存放在<strong>页目录中</strong>（Supremum记录比任何用户记录都大）之后可以在<strong>页目录</strong>中通过<strong>二分法</strong>快速定位到<strong>c2列值</strong>等于<strong>某个值</strong>的记录</li><li>各个<strong>存放用户记录</strong>的<strong>页</strong>也是根据<strong>页中用户记录</strong>的<strong>c2列大小</strong>顺序排成一个<strong>双向链表</strong></li><li>存放<strong>目录项记录</strong>的页分为不同的<strong>层级</strong>，在<strong>同一层级中</strong>也是根据<strong>页目录项记录</strong>的<strong>c2列大小</strong>顺序排成一个<strong>双向链表</strong></li></ol></li><li>B+树的<strong>叶子节点</strong>存储的是<strong>并不是完整的用户记录</strong>，而只是<strong>c2列+主键</strong>这两个列的值</li><li>目录项记录中不再是<strong>主键+页号</strong>的匹配，而变成了<strong>c2列+页号</strong>的搭配</li></ul><p>B+树如下<br><img src=img/ly-20241212142157089.png alt=ly-20241212142157089></p><h4 id=举例-1>举例
<a class=anchor href=#%e4%b8%be%e4%be%8b-1>#</a></h4><p>假设要查找c2=4的记录，可以使用上面的B+树。由于c2没有唯一性约束，所以可能会有很多条：我们只需要在<strong>该B+树的叶子节点处</strong>定位到<strong>第一条</strong>满足搜索条件c2=4的那条，然后由<strong>记录</strong>组成的单向链表<strong>一直向后扫描</strong>即可。另外，<strong>各个叶子节点</strong>组成了<strong>双向链表</strong>，搜索完了<strong>本页面的记录</strong>后可以顺利跳到<strong>下一个页面</strong>中的<strong>第一条记录</strong>，然后沿着记录组成的<strong>单向链表</strong>向后扫描</p><h5 id=查找过程>查找过程
<a class=anchor href=#%e6%9f%a5%e6%89%be%e8%bf%87%e7%a8%8b>#</a></h5><ol><li><p>确定第一条符合c2=4条件的<strong>目录项记录</strong>所在的<strong>页</strong></p><blockquote><p>根据**根页面（44）**可以快速定位到第一条符合c2=4条件的目录项记录所在页为页42（因为2&lt;4&lt;9)</p></blockquote></li><li><p>通过第一条符合c2=4条件的目录项记录<strong>所在的页面</strong>确定第一条符合c2=4条件的<strong>用户记录</strong>所在的<strong>页</strong></p><blockquote><p>根据页42可以快速定位（通过<strong>页目录</strong>）到第一条符合条件的<strong>用户记录</strong>所在页为34或35，因为2&lt;4&lt;=4</p></blockquote></li><li><p>在<strong>真正存储</strong>第一条符合c2=4条件的<strong>用户记录的页</strong>中定位到具体的记录</p><blockquote><p>页34和页35中定位到具体的用户记录（如果页34使用<strong>页目录</strong>定位到<strong>第一条</strong>符合条件的用户记录，就不需要再到35中去再定位，因为直接一直往后查找到<strong>不等的记录</strong>即可）</p></blockquote></li><li><p>由于这个B+树的叶子节点的记录<strong>只存储了c2和c1（即主键）<strong>两个列。在叶子节点定位到</strong>第一条</strong>符合条件的那条用户记录之后，我们需要根据该纪录中的<strong>主键信息</strong>，到<strong>聚簇索引</strong>中查找到<strong>完整的用户记录</strong>，这个通过<strong>携带主键信息</strong>到<strong>聚簇索引</strong>中重新定位<strong>完整的用户记录</strong>的过程也称为<strong>回表</strong> 。<br>然后再返回到这棵B+ 树的<strong>叶子节点</strong>处，找到刚才定位到的<strong>符合条件</strong>的那条用户记录，并沿着记录组成的<strong>单向链表向后</strong>继续搜索其他也满足c2=4的记录**，每找到一条<strong>的话就继续进行回表操作。重复这个过程，<strong>直到</strong>下一条记录</strong>不满足c2 =4**的这个条件为止.</p></li></ol><blockquote><p>如果把完整的用户记录放到叶子节点是可以不用回表，但是太占地方了</p></blockquote><p>因为这种以<strong>非主键列的大小为排序规则</strong>而<strong>建立的B+ 树</strong>需要<strong>执行回表</strong>操作<strong>才可以定位到完整</strong>的用户记录，所以<strong>这种B+ 树</strong>也称为<strong>二级索引(Secondary Index)</strong> 或<strong>辅助索引</strong>。由于我们是以c2 列的大小作为B+ 树的排序规则，所以我们也称<strong>这棵B+ 树</strong>为<strong>为c2 列建立的索引</strong>，把<strong>c2列称为索引列</strong>。<strong>二级索引记录</strong>和<strong>聚簇索引记录</strong>使用的是<strong>一样的记录行格式</strong>，只不过<strong>二级索引</strong>记录存储的列<strong>不像聚簇索引记录那么完整</strong>。<br>把<strong>聚簇索引</strong>或者<strong>二级索引</strong>的<strong>叶子</strong>节点中的记录称为<strong>用户记录</strong>。为了区分，也把<strong>聚簇索引叶子节点</strong>中的记录称为<strong>完整的用户记录</strong>，把<strong>二级索引叶子节点</strong>中的记录称为<strong>不完整的用户记录</strong></p><blockquote><p>如果为一个<strong>存储字符串</strong>的列<strong>建立索引</strong>，别忘了前面说的<strong>字符集和比较规则</strong>，字符串也是可以<strong>比较大小</strong>的</p></blockquote><h3 id=联合索引>联合索引
<a class=anchor href=#%e8%81%94%e5%90%88%e7%b4%a2%e5%bc%95>#</a></h3><p>同时以<strong>多个列</strong>的大小作为<strong>排序规则</strong>，也就是同时为<strong>多个列</strong>建立索引，含义：</p><ol><li>先把各个<strong>记录</strong>和<strong>页</strong>按照<strong>c2列</strong>进行排序</li><li>记录的c2列相同的情况下，再采用c3进行排序</li></ol><p><img src=img/ly-20241212142157128.png alt=ly-20241212142157128></p><ol><li><p>每条<strong>目录项记录</strong>都由c2列、c3列、页号这3个部分组成。各条记录先按照<strong>c2列的值</strong>进行排序。如果记录的c2列<strong>相同</strong>，则按照<strong>c3列的值</strong>进行排序</p><blockquote><p>这里说的是极特殊的情况，也就是c2列相同的记录有<strong>很多很多条</strong>，导致<strong>好几个页都有c2 = x</strong>的记录，而且其中c3列的值还不同，那么就会出现<strong>目录项记录页</strong>中的目录项c2相同而c3不相同</p></blockquote></li><li><p>B+树<strong>叶子节点</strong>处的用户记录由c2列、c3列、和主键c1列组成</p></li></ol><p><strong>以c2 和c3 列的大小为排序规则</strong>建立的B+ 树称为<strong>联合索引</strong>，也称为<strong>复合索</strong>
<strong>引</strong>或<strong>多列索引</strong>。它<strong>本质</strong>上也是一个<strong>二级索引</strong>，它的索引列包括<strong>c2、c3</strong>.需要注意的是"<strong>以c2和c3列的大小为排序规则建立联合索引</strong>&ldquo;和&rdquo;<strong>分别为c2和d 列建立索引</strong>" 的表述是不同的， 不同点如下：</p><ol><li>建立联合索引<strong>只会</strong>建立如图6-15 所示的<strong>一棵</strong>B+ 树</li><li>为c2 和c3 列分别建立索引时，则会<strong>分别</strong>以c2 和c3 列的大小为排序规则建立<strong>两棵B+ 树</strong></li></ol><h2 id=inno中b树索引的注意事项>Inno中B+树索引的注意事项
<a class=anchor href=#inno%e4%b8%adb%e6%a0%91%e7%b4%a2%e5%bc%95%e7%9a%84%e6%b3%a8%e6%84%8f%e4%ba%8b%e9%a1%b9>#</a></h2><h3 id=根页面万年不动窝>根页面万年不动窝
<a class=anchor href=#%e6%a0%b9%e9%a1%b5%e9%9d%a2%e4%b8%87%e5%b9%b4%e4%b8%8d%e5%8a%a8%e7%aa%9d>#</a></h3><p>前面为了理解方便，我们先把存储<strong>用户记录</strong>的<strong>叶子节点</strong>都画出来，然后再画出存储<strong>目录项记录</strong>的<strong>内节点</strong>。而实际上是这样的：</p><ol><li>每当为<strong>某个表</strong>创建一个<strong>B+树索引</strong>（聚簇索引不是人为创建的，默认就存在）时，<strong>都</strong>会为这个索引创建一个<strong>根节点页面</strong>。<br>一开始表中<strong>没有数据</strong>的时候，每个B+树索引对应的<strong>根节点</strong>中既没有<strong>用户记录</strong>，也没有<strong>目录项记录</strong></li><li>随后向表中插入<strong>用户记录</strong>时，先把用户记录存储到这个<strong>根节点</strong>中</li><li>当<strong>根节点可用空间用完</strong>时，继续插入记录，此时会将<strong>根节点中的所有记录复制到一个新分配的页</strong>（比如页a）中，然后对这个新页进行<strong>页分裂</strong>操作，得到<strong>另一个新页</strong>（比如页b）[因为一个页放不下，所以还要这个新页]。这时新插入的<strong>记录</strong>会<strong>根据键值</strong>（也就是<strong>聚簇索引</strong>中的主键值，或者<strong>二级索引</strong>中对应的<strong>索引列</strong>的值）的大小分配到<strong>页a</strong>或者<strong>页b</strong>。根节点此时，便升级为<strong>存储目录项记录</strong>的页，也就需要把<strong>页a</strong>和<strong>页b</strong>对应的<strong>目录项记录</strong>插入到<strong>根节点</strong>中</li></ol><p>在这个过程中，需要特别注意的是， 一个<strong>B+ 树索引的根节点自创建之日</strong>起便<strong>不会再移动</strong>(也就是<strong>页号不再改变</strong>)。<br>由于这个特性，只要我们对<strong>某个表</strong>建立一个<strong>索引</strong>，那么它的<strong>根节点的页号便会被</strong>记录到某个地方，后续凡是InnoDB引擎需要用到这个索引，会从那个<strong>固定的地方</strong>取出<strong>根节点的页号</strong>，从而访问这个索引</p><blockquote><p>&ldquo;存储某个索引的根节点在哪个页面中&rdquo;，就是传说中的<strong>数据字典</strong>中的一项信息</p></blockquote><blockquote><p>这里还有一个问题，书上没说，就是根节点作为a，b页的存储目录项记录的页，一旦后面页越来越多，根节点放不下了，接下来<br>我猜是这样的，也是再新分配一个页X，然后对页X页分裂，得到页Y。把根节点此时的所有目录项全复制到页X，然后新插入的目录项记录根据键值分配到页X，或Y，然后根节点又变为<strong>存储目录项记录</strong>的页</p></blockquote><h3 id=内节点中目录项记录的唯一性>内节点中目录项记录的唯一性
<a class=anchor href=#%e5%86%85%e8%8a%82%e7%82%b9%e4%b8%ad%e7%9b%ae%e5%bd%95%e9%a1%b9%e8%ae%b0%e5%bd%95%e7%9a%84%e5%94%af%e4%b8%80%e6%80%a7>#</a></h3><p>目前为止，我们说<strong>B+树索引</strong>的<strong>内节点</strong>中，<strong>目录项记录</strong>的内容是<strong>索引列</strong>加<strong>页号</strong>的搭配，但是这个搭配对<strong>二级索引</strong>来说有点儿不太严谨。以下面这个表为例（c1是主键，c2是二级索引）</p><table><thead><tr><th>c1</th><th>c2</th><th>c3</th></tr></thead><tbody><tr><td>1</td><td>1</td><td>&lsquo;u&rsquo;</td></tr><tr><td>3</td><td>1</td><td>&rsquo;d'</td></tr><tr><td>5</td><td>1</td><td>&lsquo;y&rsquo;</td></tr><tr><td>7</td><td>1</td><td>&lsquo;a&rsquo;</td></tr></tbody></table><p>如果<strong>二级索引</strong>中，目录项记录的内容只是<strong>索引列+页号</strong>的匹配，那么为c2列建立索引后的B+树如下图6-16<br><img src=img/ly-20241212142157167.png alt=ly-20241212142157167></p><p>如果此时再插入一条记录 c1=9，c2=1，c3=&lsquo;c&rsquo;，那么在修改为c2列建立的<strong>二级索引</strong>对应的<strong>B+树</strong>时：由于页3中存储的目录项记录由<strong>c2列+页号</strong>构成，页3中两条目录项记录<strong>对应的c2列都是1</strong>，而新插入的这条记录中，c2列也是1，那么这条新插入的记录应该放在页4还是页5？<br>为了保证B+树<strong>同一层内节点</strong>的<strong>目录项记录</strong>除了<strong>页号</strong>这个字段以外是<strong>唯一</strong>，所以<strong>二级索引</strong>的<strong>内节点</strong>的<strong>目录项记录</strong>内容实际上由3部分构成： <strong>索引列的值</strong>，<strong>主键值</strong>，<strong>页号</strong> ，如上<strong>图6-17</strong></p><blockquote><p>插入记录（9，1，’c&rsquo;）时，由于页3 中存储的目录项记录是由<strong>c2 列</strong>+ <strong>主键</strong>+<strong>页号</strong>构成的， 因此可以先把<strong>新记录的c2 列</strong>的值和<strong>页3 中各目录项</strong>记录的c2 列的值进行比较， 如果<strong>c2 列的值</strong>相同，可以<strong>接着比较主键值</strong>。因为B+ 树<strong>同一层中不同目录项记录</strong>的c2 列+主键的值肯定是不一样的，所以最后肯定<strong>能定位到唯一的一条目录项记录</strong>。
在本例中， 最后确定新记录应该插入到页5 中</p></blockquote><p>对于二级索引，<strong>先按照二级索引列的值进行排序，如果相同，再按照主键值进行排序</strong>。所以，为c2列建立索引，相当于为（c2，c1）列建立了一个<strong>联合索引</strong>。另外，对于<strong>唯一二级索引</strong>来说（当我们为<strong>某个列</strong>或<strong>列组合</strong>声明<strong>UNIQUE</strong>属性时，便会为这个列或组合建立<strong>唯一索引</strong>），也可能出现多条记录<strong>键值相同</strong>的情况（1. 声明为UNIQUE的列可能存储多个NULL 2. 后面要讲的MVCC服务），唯一二级索引的<strong>内节点的目录项记录</strong>也会包含记录的主键值</p><blockquote><p>注意，书上没有讲到<strong>删除的情况</strong>，也就是假设有一种情形：索引值1的行被删了，后面又重新添加了。我的理解是不会出现两条索引值一样的记录在树上（根据前面记录行的delete_flag，有可能重复，但是我猜会覆盖掉，所以这里没讲到那个情况，暂时没找到资料证明）</p></blockquote><h3 id=一个页面至少容纳2条记录>一个页面至少容纳2条记录
<a class=anchor href=#%e4%b8%80%e4%b8%aa%e9%a1%b5%e9%9d%a2%e8%87%b3%e5%b0%91%e5%ae%b9%e7%ba%b32%e6%9d%a1%e8%ae%b0%e5%bd%95>#</a></h3><p>如果一个<strong>大的目录</strong>中只存放<strong>一个子目录</strong>，那么<strong>目录层级</strong>会非常多，而且最后那个<strong>存放真正数据</strong>的<strong>目录</strong>中只能存放<strong>一条记录</strong><br>如果让B+树的<strong>叶子节点只存储一条</strong>记录，让内节点存储多条记录，也还是可以发挥B+树作用的。为了避免B+树的层级增长过高，要求<strong>所有数据页</strong>都<strong>至少可以容纳2条记录</strong>（也就是说，会极力避免因为列值过大、或者过多导致容纳不了2条记录）</p><blockquote><p>InnoDB对列的数量有所限制，而如果在最大限制下，结合04章的结论：<br>如果一条记录的某个列中存储的数据<strong>占用字节数非常多</strong>，导致一个页<strong>没有办法</strong>存储<strong>两条记录</strong>，该列就可能会成为溢出列</p></blockquote><h2 id=myisam中的索引方案简介>MyISAM中的索引方案简介
<a class=anchor href=#myisam%e4%b8%ad%e7%9a%84%e7%b4%a2%e5%bc%95%e6%96%b9%e6%a1%88%e7%ae%80%e4%bb%8b>#</a></h2><p>为了内容完整性，介绍一下<strong>MyISAM存储引擎</strong>中的<strong>索引方案</strong><br><strong>InnoDB中，索引即数据</strong>，也就是<strong>聚簇索引</strong>的那颗B+树的<strong>叶子节点中</strong>包含了完整的用户记录。MyISAM虽然也是树形，但是<strong>索引</strong>和<strong>数据</strong>是分开的</p><h3 id=数据文件>数据文件
<a class=anchor href=#%e6%95%b0%e6%8d%ae%e6%96%87%e4%bb%b6>#</a></h3><p>表中的<strong>记录</strong>按照记录的<strong>插入顺序</strong>单独存储在一个文件中（称之为<strong>数据文件</strong>）<br>该文件不划分若干个数据页，有多少记录就往文件中塞多少。通过<strong>行号</strong>快速访问到<strong>一条记录</strong><br>MyISAM记录需要<strong>记录头信息</strong>来存储额外数据，以index_demo表为例，看一下这个表在使用MyISAM作为存储引擎时，它的<strong>记录如何在存储空间</strong>表示<br><img src=img/ly-20241212142157205.png alt=ly-20241212142157205></p><p>由于是按<strong>插入顺序</strong>，没有按<strong>主键大小排序</strong>，所以不能在这些数据上使用<strong>二分法</strong></p><h3 id=索引-1>索引
<a class=anchor href=#%e7%b4%a2%e5%bc%95-1>#</a></h3><p>MyISAM存储引擎会把<strong>索引信息</strong>单独存储到<strong>另一个文件中</strong>（即<strong>索引文件</strong>）<br>MyISAM会为表的主键<strong>单独</strong>创建一个索引，只不过在<strong>索引</strong>的叶子节点中存储的<strong>不是完整用户记录</strong>，而是<strong>主键值与行号</strong>的结合。即先通过<strong>索引</strong>找到对应的<strong>行号</strong>，再通过<strong>行号</strong>去找对应的<strong>记录</strong><br>与InnoDB不同，InnoDB存储隐情中，只需根据<strong>主键值</strong>对<strong>聚簇索引</strong>进行依次查找就能找到对应记录，而<strong>MyISAM</strong>中却需要进行一次<strong>回表</strong>操作。意味着<strong>MyISAM</strong>中建立的索引相当于都是<strong>二级索引</strong></p><h3 id=其他索引>其他索引
<a class=anchor href=#%e5%85%b6%e4%bb%96%e7%b4%a2%e5%bc%95>#</a></h3><p>可以为其他列<strong>分别建立索引</strong>或者<strong>建立联合索引</strong>，原理与InnoDB差不多，只不过叶子节点存储的是相应的<strong>列</strong>+<strong>行号</strong>（InnoDB中存储的则是<strong>主键</strong>）。这些索引也都是<strong>二级索引</strong>。</p><blockquote><p>MyISAM行格式有<strong>定长记录格式Static</strong>、<strong>变长记录格式Dynamic</strong>、<strong>压缩记录格式 Compressed</strong>。图6-18就是定长记录格式，即<strong>一条记录</strong>占用的存储空间是固定的，这样就可以<strong>使用行号</strong>轻松算出<strong>某条记录</strong>在数据文件中的<strong>地址偏移量</strong>，但是变长记录格式就不行乐，MyISAM会直接在<strong>索引叶子节点处</strong>存储该记录在<strong>数据文件</strong>中的<strong>偏移量</strong>。==> MyISAM回表快速，因为是拿着<strong>地址偏移量</strong>直接到文件中取数据。而InnoDB则是<strong>获取主键</strong>后，再去从<strong>聚簇索引</strong>中查找。</p></blockquote><h3 id=总结>总结
<a class=anchor href=#%e6%80%bb%e7%bb%93>#</a></h3><p>InnoDB：索引即数据<br>MyISAM：索引是索引，数据是数据</p><h2 id=mysql中创建和删除索引的语句>MySQL中创建和删除索引的语句
<a class=anchor href=#mysql%e4%b8%ad%e5%88%9b%e5%bb%ba%e5%92%8c%e5%88%a0%e9%99%a4%e7%b4%a2%e5%bc%95%e7%9a%84%e8%af%ad%e5%8f%a5>#</a></h2><p>InnoDB会自动为<strong>主键</strong>或者**带有UNIQUE **属性的列建立索引</p><blockquote><p>InnoDB不会自动为每个列创建索引，因为<strong>每</strong>建立一个索引都会建立一颗<strong>B+<strong>树，且</strong>增删改</strong>都要维护各个记录、数据页的<strong>排序关系</strong>，费<strong>性能</strong>和<strong>存储空间</strong></p></blockquote><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span><span style=color:#75715e>#语法</span>
</span></span><span style=display:flex><span>CREATE TABLE 表名<span style=color:#f92672>(</span>
</span></span><span style=display:flex><span>	各个列的信息...,
</span></span><span style=display:flex><span>	<span style=color:#f92672>(</span>KEY|INDEX<span style=color:#f92672>)</span> 索引名 <span style=color:#f92672>(</span>需要被索引的单个列或多个列<span style=color:#f92672>)</span>;
</span></span><span style=display:flex><span><span style=color:#f92672>)</span>
</span></span><span style=display:flex><span><span style=color:#75715e>#修改表结构  </span>
</span></span><span style=display:flex><span>ALTER TABLE 表名 ADD <span style=color:#f92672>(</span>INDEX|KEY<span style=color:#f92672>)</span> 索引名 <span style=color:#f92672>(</span>需要被索引的单个列或多个列<span style=color:#f92672>)</span>;
</span></span><span style=display:flex><span><span style=color:#75715e>#修改表结构的时候删除索引</span>
</span></span><span style=display:flex><span>ALTER TABLE 表名 DROP <span style=color:#f92672>(</span>INDEX|KEY<span style=color:#f92672>)</span> 索引名;
</span></span></code></pre></div><p>实例：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>mysql&gt; CREATE TABLE index_demo<span style=color:#f92672>(</span>
</span></span><span style=display:flex><span>      c1 INT,
</span></span><span style=display:flex><span>      c2 INT,
</span></span><span style=display:flex><span>      c3 CHAR<span style=color:#f92672>(</span>1<span style=color:#f92672>)</span>,
</span></span><span style=display:flex><span>      PRIMARY KEY <span style=color:#f92672>(</span>c1<span style=color:#f92672>)</span>,
</span></span><span style=display:flex><span>      INDEX idx_c2_c3 <span style=color:#f92672>(</span>c2,c3<span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>)</span>;
</span></span><span style=display:flex><span><span style=color:#75715e>#查看建表语句</span>
</span></span><span style=display:flex><span>mysql&gt; SHOW CREATE TABLE index_demo;
</span></span><span style=display:flex><span>+------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
</span></span><span style=display:flex><span>| Table      | Create Table                                                                                                                                                                                            |
</span></span><span style=display:flex><span>+------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
</span></span><span style=display:flex><span>| index_demo | CREATE TABLE <span style=color:#e6db74>`</span>index_demo<span style=color:#e6db74>`</span> <span style=color:#f92672>(</span>
</span></span><span style=display:flex><span>  <span style=color:#e6db74>`</span>c1<span style=color:#e6db74>`</span> int<span style=color:#f92672>(</span>11<span style=color:#f92672>)</span> NOT NULL,
</span></span><span style=display:flex><span>  <span style=color:#e6db74>`</span>c2<span style=color:#e6db74>`</span> int<span style=color:#f92672>(</span>11<span style=color:#f92672>)</span> DEFAULT NULL,
</span></span><span style=display:flex><span>  <span style=color:#e6db74>`</span>c3<span style=color:#e6db74>`</span> char<span style=color:#f92672>(</span>1<span style=color:#f92672>)</span> DEFAULT NULL,
</span></span><span style=display:flex><span>  PRIMARY KEY <span style=color:#f92672>(</span><span style=color:#e6db74>`</span>c1<span style=color:#e6db74>`</span><span style=color:#f92672>)</span>,
</span></span><span style=display:flex><span>  KEY <span style=color:#e6db74>`</span>idx_c2_c3<span style=color:#e6db74>`</span> <span style=color:#f92672>(</span><span style=color:#e6db74>`</span>c2<span style=color:#e6db74>`</span>,<span style=color:#e6db74>`</span>c3<span style=color:#e6db74>`</span><span style=color:#f92672>)</span>
</span></span><span style=display:flex><span><span style=color:#f92672>)</span> ENGINE<span style=color:#f92672>=</span>InnoDB DEFAULT CHARSET<span style=color:#f92672>=</span>utf8 |
</span></span><span style=display:flex><span>+------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
</span></span><span style=display:flex><span><span style=color:#ae81ff>1</span> row in set <span style=color:#f92672>(</span>0.00 sec<span style=color:#f92672>)</span>
</span></span></code></pre></div></article><footer class=book-footer><div class="flex flex-wrap justify-between"></div><script>(function(){function e(e){const t=window.getSelection(),n=document.createRange();n.selectNodeContents(e),t.removeAllRanges(),t.addRange(n)}document.querySelectorAll("pre code").forEach(t=>{t.addEventListener("click",function(){if(window.getSelection().toString())return;e(t.parentElement),navigator.clipboard&&navigator.clipboard.writeText(t.parentElement.textContent)})})})()</script></footer><div class=book-comments></div><label for=menu-control class="hidden book-menu-overlay"></label></div><aside class=book-toc><div class=book-toc-content><nav id=TableOfContents><ul><li><a href=#概述>概述</a></li><li><a href=#没有索引时进行查找>没有索引时进行查找</a><ul><li><a href=#在一个页中查找>在一个页中查找</a></li><li><a href=#在很多页中查找>在很多页中查找</a></li></ul></li><li><a href=#索引>索引</a><ul><li><a href=#一个简单的索引方案>一个简单的索引方案</a><ul><li><a href=#有序>有序</a></li><li><a href=#给所有的页建立一个目录项>给所有的页建立一个目录项</a></li></ul></li><li><a href=#innodb中的索引方案>InnoDB中的索引方案</a><ul><li><a href=#上述方案的问题>上述方案的问题</a></li><li><a href=#方案>方案</a></li><li><a href=#举例>举例</a></li></ul></li><li><a href=#多个目录项记录页>多个目录项记录页</a><ul><li><a href=#聚簇索引>聚簇索引</a></li><li><a href=#二级索引>二级索引</a></li><li><a href=#联合索引>联合索引</a></li></ul></li><li><a href=#inno中b树索引的注意事项>Inno中B+树索引的注意事项</a><ul><li><a href=#根页面万年不动窝>根页面万年不动窝</a></li><li><a href=#内节点中目录项记录的唯一性>内节点中目录项记录的唯一性</a></li><li><a href=#一个页面至少容纳2条记录>一个页面至少容纳2条记录</a></li></ul></li><li><a href=#myisam中的索引方案简介>MyISAM中的索引方案简介</a><ul><li><a href=#数据文件>数据文件</a></li><li><a href=#索引-1>索引</a></li><li><a href=#其他索引>其他索引</a></li><li><a href=#总结>总结</a></li></ul></li><li><a href=#mysql中创建和删除索引的语句>MySQL中创建和删除索引的语句</a></li></ul></li></ul></nav></div></aside></main></body></html>