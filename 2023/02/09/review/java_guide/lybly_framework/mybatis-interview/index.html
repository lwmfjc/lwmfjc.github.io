<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 6.3.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"lwmfjc.github.io","root":"/","scheme":"Pisces","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":true,"show_result":true,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":true},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},"path":"search.xml"};
  </script>

  <meta name="description" content="Mybatis面试">
<meta property="og:type" content="article">
<meta property="og:title" content="Mybatis面试">
<meta property="og:url" content="https://lwmfjc.github.io/2023/02/09/review/java_guide/lybly_framework/mybatis-interview/index.html">
<meta property="og:site_name" content="随记">
<meta property="og:description" content="Mybatis面试">
<meta property="og:locale" content="zh_CN">
<meta property="article:published_time" content="2023-02-09T16:34:39.000Z">
<meta property="article:modified_time" content="2023-02-09T16:34:39.000Z">
<meta property="article:author" content="刘易">
<meta property="article:tag" content="复习">
<meta property="article:tag" content="复习-javaGuide">
<meta property="article:tag" content="复习-javaGuide-framework">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="https://lwmfjc.github.io/2023/02/09/review/java_guide/lybly_framework/mybatis-interview/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : false,
    isPost : true,
    lang   : 'zh-CN'
  };
</script>

  <title>Mybatis面试 | 随记</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">随记</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>标签</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>分类</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档</a>

  </li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>搜索
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup">
        <div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off"
           placeholder="搜索..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div id="search-result">
  <div id="no-result">
    <i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>
  </div>
</div>

    </div>
  </div>

</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content post posts-expand">
            

    
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://lwmfjc.github.io/2023/02/09/review/java_guide/lybly_framework/mybatis-interview/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="https://raw.githubusercontent.com/lwmfjc/lwmfjc.github.io.resource/main/img/avatar.png">
      <meta itemprop="name" content="刘易">
      <meta itemprop="description" content="知命不惧 日日自新">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="随记">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          Mybatis面试
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2023-02-09 16:34:39" itemprop="dateCreated datePublished" datetime="2023-02-09T16:34:39+00:00">2023-02-09</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E5%AD%A6%E4%B9%A0/" itemprop="url" rel="index"><span itemprop="name">学习</span></a>
                </span>
            </span>

          
            <span class="post-meta-item" title="阅读次数" id="busuanzi_container_page_pv" style="display: none;">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">阅读次数：</span>
              <span id="busuanzi_value_page_pv"></span>
            </span><br>
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">本文字数：</span>
              <span>13k</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">阅读时长 &asymp;</span>
              <span>24 分钟</span>
            </span>
            <div class="post-description">Mybatis面试</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <blockquote>
<p>转载自https://github.com/Snailclimb/JavaGuide（添加小部分笔记）感谢作者!</p>
<p>部分疑问参考自 https://blog.csdn.net/Gherbirthday0916 感谢作者!</p>
</blockquote>
<h3 id="和-的区别是什么">#{} 和 ${} 的区别是什么？</h3>
<p>注：这道题是面试官面试我同事的。</p>
<p>答：</p>
<ul>
<li><code>$&#123;&#125;</code>是 Properties
<strong>文件中的变量占位符</strong>，它可以用于<strong>标签属性值</strong>和
<strong>sql
内部</strong>，属于<strong>静态文本替换</strong>，比如${driver}会被静态替换为<code>com.mysql.jdbc. Driver</code>。</li>
<li><code>#&#123;&#125;</code>是 sql 的参数占位符，MyBatis 会<strong>将 sql
中的<code>#&#123;&#125;</code></strong>替换为<strong>? 号</strong>，在 sql
执行前会使用 <strong>PreparedStatement
的参数设置</strong>方法，<strong>按序给 sql 的?
号占位符设置参数值</strong>，比如 ps.setInt(0,
parameterValue)，<code>#&#123;item.name&#125;</code>
的取值方式为使用<strong>反射从参数对象中获取 item 对象的 name
属性值</strong>，相当于
<strong><code>param.getItem().getName()</code></strong>。
[<strong>这里用到了反射</strong>]</li>
</ul>
<blockquote>
<p>在<strong>底层构造完整SQL</strong>语句时，MyBatis的两种<strong>传参方式</strong>所采取的方式不同。<code>#&#123;Parameter&#125;</code>采用<strong>预编译</strong>的方式构造SQL，<strong>避免了
SQL注入</strong>
的产生。而<strong><code>$&#123;Parameter&#125;</code>采用拼接</strong>的方式构造SQL，在<strong>对用户输入过滤不严格</strong>的前提下，此处很可能存在SQL注入</p>
</blockquote>
<h3
id="xml-映射文件中除了常见的-selectinsertupdatedelete-标签之外还有哪些标签">xml
映射文件中，除了常见的 select、insert、update、delete
标签之外，还有哪些标签？</h3>
<p>注：这道题是京东面试官面试我时问的。</p>
<p>答：还有很多其他的标签，
<strong><code>&lt;resultMap&gt;</code></strong> 、
<strong><code>&lt;parameterMap&gt;</code></strong> 、
<strong><code>&lt;sql&gt;</code></strong> 、
<strong><code>&lt;include&gt;</code></strong> 、
<strong><code>&lt;selectKey&gt;</code></strong> ，加上动态 sql 的 9
个标签，
<strong><code>trim|where|set|foreach|if|choose|when|otherwise|bind</code></strong>
等，其中 <code>&lt;sql&gt;</code> 为 sql 片段标签，通过
<code>&lt;include&gt;</code> 标签引入 sql 片段，
<code>&lt;selectKey&gt;</code> 为不支持自增的主键生成策略标签。</p>
<blockquote>
<p>set标签，是update用的</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">update</span> <span class="attr">id</span>=<span class="string">&quot;updateUserById&quot;</span> <span class="attr">parameterType</span>=<span class="string">&quot;user&quot;</span>&gt;</span></span><br><span class="line">     update user</span><br><span class="line">     <span class="tag">&lt;<span class="name">set</span>&gt;</span></span><br><span class="line">         <span class="tag">&lt;<span class="name">if</span> <span class="attr">test</span>=<span class="string">&quot;uid!=null&quot;</span>&gt;</span></span><br><span class="line">           uid=#&#123;uid&#125; </span><br><span class="line">         <span class="tag">&lt;/<span class="name">if</span>&gt;</span> </span><br><span class="line"> 	<span class="tag">&lt;/<span class="name">set</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">update</span>&gt;</span></span><br></pre></td></tr></table></figure>
<hr />
<ol type="1">
<li><p><strong>ResultMap（结果集映射）：</strong><br />
假设我们的<strong>数据库字段</strong>和<strong>映射pojo类的属性字段不一致</strong>，那么查询结果，不一致的字段值会为null<br />
这时可以使用Mybatis <code>ResultMap</code> 结果集映射</p></li>
<li><p><strong>parameterMap（参数类型映射）：</strong></p>
<blockquote>
<p>很少使用，基本都用<strong>parameterType</strong>替代</p>
</blockquote>
<p><code>parameterMap</code>标签可以用来定义参数组，可以为参数组<strong>指定ID</strong>、<strong>参数类型</strong></p>
<p>例如有一个bean是这样的：</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ArgBean</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> age;</span><br><span class="line">    <span class="comment">// 忽略 getter 和 setter</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>下面使用 <code>&lt;parameterMap&gt;</code> 将参数 ArgBean
对象进行映射</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">parameterMap</span> <span class="attr">id</span>=<span class="string">&quot;PARAM_MAP&quot;</span> <span class="attr">type</span>=<span class="string">&quot;com.hxstrive.mybatis.parameter.demo2.ArgBean&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">parameter</span> <span class="attr">property</span>=<span class="string">&quot;age&quot;</span> <span class="attr">javaType</span>=<span class="string">&quot;integer&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">parameter</span> <span class="attr">property</span>=<span class="string">&quot;name&quot;</span> <span class="attr">javaType</span>=<span class="string">&quot;String&quot;</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">parameterMap</span>&gt;</span> </span><br></pre></td></tr></table></figure></li>
<li><p><strong>sql（sql片段标签）/include（片段插入标签）：</strong>
重复的SQL预计永远不可避免，<code>&lt;sql&gt;</code>标签就是用来解决这个问题的</p>
<p>其中 <code>&lt;sql&gt;</code> 为 sql 片段标签，通过
<code>&lt;include&gt;</code> 标签引入 sql 片段</p>
<p>例如：</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">mapper</span> <span class="attr">namespace</span>=<span class="string">&quot;com.klza.dao.UserMapper&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">sql</span> <span class="attr">id</span>=<span class="string">&quot;sqlUserParameter&quot;</span>&gt;</span>id,username,password<span class="tag">&lt;/<span class="name">sql</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">&quot;getUserList&quot;</span> <span class="attr">resultType</span>=<span class="string">&quot;user&quot;</span>&gt;</span></span><br><span class="line">        select</span><br><span class="line">        <span class="tag">&lt;<span class="name">include</span> <span class="attr">refid</span>=<span class="string">&quot;sqlUserParameter&quot;</span>/&gt;</span></span><br><span class="line">        from test.user</span><br><span class="line">    <span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">mapper</span>&gt;</span> </span><br></pre></td></tr></table></figure>
<p><strong><code>&lt;selectKey&gt;</code>
为不支持自增的主键生成策略标签</strong></p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">insert</span> <span class="attr">id</span>=<span class="string">&quot;insert&quot;</span> <span class="attr">parameterType</span>=<span class="string">&quot;com.pinyougou.pojo.TbGoods&quot;</span> &gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">selectKey</span> <span class="attr">resultType</span>=<span class="string">&quot;java.lang.Long&quot;</span> <span class="attr">order</span>=<span class="string">&quot;AFTER&quot;</span> <span class="attr">keyProperty</span>=<span class="string">&quot;id&quot;</span>&gt;</span></span><br><span class="line">      SELECT LAST_INSERT_ID() AS id</span><br><span class="line">    <span class="tag">&lt;/<span class="name">selectKey</span>&gt;</span></span><br><span class="line">    insert into tb_goods (id, seller_id )</span><br><span class="line">    values (#&#123;id,jdbcType=BIGINT&#125;, #&#123;sellerId,jdbcType=VARCHAR&#125; </span><br><span class="line">  <span class="tag">&lt;/<span class="name">insert</span>&gt;</span></span><br></pre></td></tr></table></figure></li>
</ol>
</blockquote>
<h3
id="dao-接口的工作原理是什么dao-接口里的方法参数不同时方法能重载吗">Dao
接口的工作原理是什么？Dao 接口里的方法，参数不同时，方法能重载吗？</h3>
<p>注：这道题也是京东面试官面试我被问的。</p>
<p>答：最佳实践中，通常<strong>一个 xml
映射</strong>文件，都会写<strong>一个 Dao 接口</strong>与之对应。Dao
接口就是人们常说的 <code>Mapper</code>
<strong>接口</strong>，接口的全限名，就是<strong>映射文件中的 namespace
的值</strong>，<strong>接口的方法名</strong>，就是<strong>映射文件中
<code>MappedStatement</code> 的 id
值</strong>，接口方法内的<strong>参数</strong>，就是<strong>传递给 sql
的参数</strong>。 <code>Mapper</code>
接口是没有实现类的，当<strong>调用接口方法</strong>时，<strong>接口全限名+方法名拼接字符串作为
key</strong> 值，可<strong>唯一定位一个
<code>MappedStatement</code></strong> ，举例：
<code>com.mybatis3.mappers. StudentDao.findStudentById</code>
，可以唯一找到 namespace 为
<code>com.mybatis3.mappers. StudentDao</code> 下面
<code>id = findStudentById</code> 的 <code>MappedStatement</code> 。在
MyBatis 中，<strong>每一个 <code>&lt;select&gt;</code></strong> 、
<strong><code>&lt;insert&gt;</code></strong> 、
<strong><code>&lt;update&gt;</code></strong> 、
<strong><code>&lt;delete&gt;</code></strong> 标签，都会被解析为一个
<strong><code>MappedStatement</code></strong> 对象。</p>
<p><del>Dao
接口里的方法，是不能重载的，因为是全限名+方法名的保存和寻找策略。</del></p>
<p>Dao 接口里的<strong>方法可以重载</strong>，但是 Mybatis 的
<strong>xml 里面的 ID 不允许重复</strong>。</p>
<p>Mybatis 版本 3.3.0，亲测如下：</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Mapper接口里面方法重载</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">StuMapper</span> &#123;</span><br><span class="line"></span><br><span class="line">	List&lt;Student&gt; <span class="title function_">getAllStu</span><span class="params">()</span>;</span><br><span class="line"></span><br><span class="line">	List&lt;Student&gt; <span class="title function_">getAllStu</span><span class="params">(<span class="meta">@Param(&quot;id&quot;)</span> Integer id)</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>然后在 <code>StuMapper.xml</code> 中利用 Mybatis 的动态 sql
就可以实现。</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">&quot;getAllStu&quot;</span> <span class="attr">resultType</span>=<span class="string">&quot;com.pojo.Student&quot;</span>&gt;</span></span><br><span class="line">		select * from student</span><br><span class="line">	<span class="tag">&lt;<span class="name">where</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">if</span> <span class="attr">test</span>=<span class="string">&quot;id != null&quot;</span>&gt;</span></span><br><span class="line">			id = #&#123;id&#125;</span><br><span class="line">		<span class="tag">&lt;/<span class="name">if</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">where</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>能正常运行，并能得到相应的结果，这样就实现了在 Dao
接口中写重载方法。</p>
<p><strong>Mybatis 的 Dao
接口可以有多个重载方法，但是多个接口对应的映射必须只有一个，否则启动会报错。</strong></p>
<p>相关 issue ：<a
target="_blank" rel="noopener" href="https://github.com/Snailclimb/JavaGuide/issues/1122">更正：Dao
接口里的方法可以重载，但是 Mybatis 的 xml 里面的 ID
不允许重复！</a>。</p>
<p>Dao 接口的工作原理是 <strong>JDK 动态代理</strong>，MyBatis
运行时会<strong>使用 JDK 动态代理为 Dao 接口生成代理 proxy
对象</strong>，代理对象 proxy
会<strong>拦截接口方法</strong>，转而<strong>执行
<code>MappedStatement</code> 所代表的 sql</strong>，然后<strong>将 sql
执行结果返回</strong>。</p>
<p><strong>补充</strong> ：</p>
<p>Dao 接口方法可以重载，但是需要满足以下条件：</p>
<ol type="1">
<li><strong>仅有一个无参方法</strong>和<strong>一个有参方法</strong></li>
<li><strong>(多个参数)的方法中，参数数量必须(和xml中的)一致</strong>。且使用<strong>相同的
<code>@Param</code></strong> ，或者使用 <code>param1</code> 这种</li>
</ol>
<p><strong>测试如下</strong> ：</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">PersonDao.java</span><br><span class="line">Person <span class="title function_">queryById</span><span class="params">()</span>;</span><br><span class="line"></span><br><span class="line">Person <span class="title function_">queryById</span><span class="params">(<span class="meta">@Param(&quot;id&quot;)</span> Long id)</span>;</span><br><span class="line"></span><br><span class="line">Person <span class="title function_">queryById</span><span class="params">(<span class="meta">@Param(&quot;id&quot;)</span> Long id, <span class="meta">@Param(&quot;name&quot;)</span> String name)</span>;</span><br><span class="line">PersonMapper.xml</span><br><span class="line">&lt;select id=<span class="string">&quot;queryById&quot;</span> resultMap=<span class="string">&quot;PersonMap&quot;</span>&gt;</span><br><span class="line">    select</span><br><span class="line">      id, name, age, address</span><br><span class="line">    from person</span><br><span class="line">    &lt;where&gt;</span><br><span class="line">        &lt;<span class="keyword">if</span> test=<span class="string">&quot;id != null&quot;</span>&gt;</span><br><span class="line">            id = #&#123;id&#125;</span><br><span class="line">        &lt;/<span class="keyword">if</span>&gt;</span><br><span class="line">        &lt;<span class="keyword">if</span> test=<span class="string">&quot;name != null and name != &#x27;&#x27;&quot;</span>&gt;</span><br><span class="line">            <span class="type">and</span> <span class="variable">name</span> <span class="operator">=</span> #&#123;name&#125;</span><br><span class="line">        &lt;/<span class="keyword">if</span>&gt;</span><br><span class="line">    &lt;/where&gt;</span><br><span class="line">    limit <span class="number">1</span></span><br><span class="line">&lt;/select&gt;</span><br></pre></td></tr></table></figure>
<p><code>org.apache.ibatis.scripting.xmltags. DynamicContext. ContextAccessor#getProperty</code>
方法用于获取 <code>&lt;if&gt;</code> 标签中的条件值</p>
<blockquote>
<p>ContextAccessor 这个修饰符为默认（同一个包内）</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> Object <span class="title function_">getProperty</span><span class="params">(Map context, Object target, Object name)</span> &#123;</span><br><span class="line">  <span class="type">Map</span> <span class="variable">map</span> <span class="operator">=</span> (Map) target;</span><br><span class="line"></span><br><span class="line">  <span class="type">Object</span> <span class="variable">result</span> <span class="operator">=</span> map.get(name);</span><br><span class="line">  <span class="keyword">if</span> (map.containsKey(name) || result != <span class="literal">null</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> result;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="type">Object</span> <span class="variable">parameterObject</span> <span class="operator">=</span> map.get(PARAMETER_OBJECT_KEY);</span><br><span class="line">  <span class="keyword">if</span> (parameterObject <span class="keyword">instanceof</span> Map) &#123;</span><br><span class="line">    <span class="keyword">return</span> ((Map)parameterObject).get(name);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><code>parameterObject</code> 为 map，存放的是 Dao
接口中参数相关信息。</p>
<p><code>((Map)parameterObject).get(name)</code> 方法如下</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> V <span class="title function_">get</span><span class="params">(Object key)</span> &#123;</span><br><span class="line">  <span class="keyword">if</span> (!<span class="built_in">super</span>.containsKey(key)) &#123;</span><br><span class="line">    <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">BindingException</span>(<span class="string">&quot;Parameter &#x27;&quot;</span> + key + <span class="string">&quot;&#x27; not found. Available parameters are &quot;</span> + keySet());</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> <span class="built_in">super</span>.get(key);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ol type="1">
<li><code>queryById()</code>方法执行时，<strong><code>parameterObject</code>为
null</strong>，<strong><code>getProperty</code>方法返回 null
值</strong>，<strong><code>&lt;if&gt;</code>标签获取的所有条件值都为
null</strong>，所有条件不成立，动态 sql 可以正常执行。</li>
<li><code>queryById(1L)</code>方法执行时，<code>parameterObject</code>为
map，包含了<strong><code>id</code>和<code>param1</code></strong>两个 key
值。当获取<code>&lt;if&gt;</code>标签中<code>name</code>的属性值时，<strong>进入<code>((Map)parameterObject).get(name)</code>方法中，map
中 key 不包含<code>name</code>，所以抛出异常</strong>。</li>
<li><code>queryById(1L,"1")</code>方法执行时，<strong><code>parameterObject</code>中包含<code>id</code>,<code>param1</code>,<code>name</code>,<code>param2</code>四个
key
值，<code>id</code>和<code>name</code>属性都可以获取到</strong>，动态
sql 正常执行。</li>
</ol>
<blockquote>
<p>也就是说，if<strong>的test一定是会进行判断</strong>的(<strong>除非整个parameterObject为null)</strong>。但是如果这里面的param
不存在，那么就会抛异常 (BindingException)</p>
</blockquote>
<h3 id="mybatis-是如何进行分页的分页插件的原理是什么">MyBatis
是如何进行分页的？分页插件的原理是什么？</h3>
<p>注：我出的。</p>
<p>答：<strong>(1)</strong> MyBatis 使用 RowBounds
对象进行分页，它是<strong>针对 ResultSet
结果集</strong>执行的<strong>内存分页</strong>，而非物理分页；</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//使用 </span></span><br><span class="line"><span class="comment">//Mapper中  </span></span><br><span class="line">List&lt;User&gt; <span class="title function_">getUserListLimit</span><span class="params">(RowBounds rowBounds)</span>;</span><br><span class="line"><span class="comment">//Mapper.xml定义 （不变）  </span></span><br><span class="line">&lt;select id=<span class="string">&quot;getUserListLimit&quot;</span> resultType=<span class="string">&quot;user&quot;</span>&gt;</span><br><span class="line">    select * from test.user</span><br><span class="line">&lt;/select&gt;</span><br><span class="line"><span class="comment">//使用, 将会从index为0的记录开始，取两条记录</span></span><br><span class="line"></span><br><span class="line">List&lt;User&gt; userListLimit = userMapper.getUserListLimit(<span class="keyword">new</span> <span class="title class_">RowBounds</span>(<span class="number">0</span>, <span class="number">2</span>));</span><br><span class="line"><span class="keyword">for</span> (User user : userListLimit) &#123;</span><br><span class="line">    System.out.println(user);</span><br><span class="line">&#125; </span><br></pre></td></tr></table></figure>
<blockquote>
<p>想要使用mybatis日志，只要加上日志模块的依赖即可</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.slf4j<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>slf4j-api<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.7.30<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">      <span class="comment">&lt;!-- https://mvnrepository.com/artifact/ch.qos.logback/logback-classic --&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>ch.qos.logback<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>logback-classic<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.2.3<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>查看上面的日志可以发现，实际查找的是全部的数据(没有使用物理分页)</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">14:28:14.938 [main] DEBUG org.mybatis.example.BlogMapper.selectBlog - ==&gt;  Preparing: select * from Blog</span><br><span class="line">14:28:14.996 [main] DEBUG org.mybatis.example.BlogMapper.selectBlog - ==&gt; Parameters: </span><br><span class="line">[Blog&#123;id=2, name=&#x27;n2&#x27;, age=20&#125;, Blog&#123;id=3, name=&#x27;n3&#x27;, age=30&#125;]</span><br></pre></td></tr></table></figure>
</blockquote>
<p><strong>(2)</strong> <strong>可以在 sql
内直接书写带有物理分页的参数来完成物理分页功能</strong><br />
<strong>(3)</strong>
也可以<strong>使用分页插件</strong>来完成物理分页<br />
分页插件的基本原理是使用 MyBatis
提供的插件接口，实现自定义插件，在<strong>插件的拦截方法内拦截待执行的
sql</strong>，然后<strong>重写 sql</strong>，根据 dialect
方言，添加<strong>对应的物理分页语句</strong>和<strong>物理分页参数</strong>。</p>
<p>举例： <code>select _ from student</code> ，拦截 sql 后重写为：
<code>select t._ from （select \* from student）t limit 0，10</code></p>
<blockquote>
<p>分页插件的使用<br />
接下来介绍PageHelper插件的使用：</p>
<p>第一步，引入依赖：</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!-- https://mvnrepository.com/artifact/com.github.pagehelper/pagehelper --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.github.pagehelper<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>pagehelper<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>5.3.2<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>第二步，mybatis-config.xml配置拦截器：</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!-- 配置pageHelper拦截器 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">plugins</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">plugin</span> <span class="attr">interceptor</span>=<span class="string">&quot;com.github.pagehelper.PageInterceptor&quot;</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">plugins</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>第三步，代码编写：</p>
<p>Mapper接口类：</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">List&lt;User&gt; <span class="title function_">getUserListByPageHelper</span><span class="params">()</span>;</span><br></pre></td></tr></table></figure>
<p>Mapper.xml：</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">&quot;getUserListByPageHelper&quot;</span> <span class="attr">resultType</span>=<span class="string">&quot;user&quot;</span>&gt;</span></span><br><span class="line">    select * from test.user</span><br><span class="line"><span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>测试程序：</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 开启分页功能</span></span><br><span class="line"><span class="type">int</span> <span class="variable">pageNum</span> <span class="operator">=</span> <span class="number">1</span>;  <span class="comment">// 当前页码</span></span><br><span class="line"><span class="type">int</span> <span class="variable">pageSize</span> <span class="operator">=</span> <span class="number">2</span>;  <span class="comment">// 每页的记录数</span></span><br><span class="line">PageHelper.startPage(pageNum, pageSize);</span><br><span class="line">List&lt;User&gt; userListByPageHelper = userMapper.getUserListByPageHelper();</span><br><span class="line">userListByPageHelper.forEach(System.out::println); </span><br></pre></td></tr></table></figure>
<p>第四步：获取pageInfo信息：</p>
<p>pageHelper真正强大的地方在于它的pageInfo功能，它可以为我们提供详细的分页数据：</p>
<p>例如：</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 开启分页功能</span></span><br><span class="line"><span class="type">int</span> <span class="variable">pageNum</span> <span class="operator">=</span> <span class="number">2</span>;  <span class="comment">// 当前页码</span></span><br><span class="line"><span class="type">int</span> <span class="variable">pageSize</span> <span class="operator">=</span> <span class="number">5</span>;  <span class="comment">// 每页的记录数</span></span><br><span class="line">PageHelper.startPage(pageNum, pageSize);</span><br><span class="line">List&lt;User&gt; userListByPageHelper = userMapper.getUserListByPageHelper();</span><br><span class="line"><span class="comment">// 设置导航的卡片数为3</span></span><br><span class="line">PageInfo&lt;User&gt; userPageInfo = <span class="keyword">new</span> <span class="title class_">PageInfo</span>&lt;&gt;(userListByPageHelper, <span class="number">3</span>);</span><br><span class="line">System.out.println(userPageInfo);</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"> * PageInfo&#123;pageNum=2, pageSize=5, size=5, startRow=6, endRow=10, total=1004, pages=201,</span></span><br><span class="line"><span class="comment"> * list=Page&#123;count=true, pageNum=2, pageSize=5, startRow=5, endRow=10, total=1004, pages=201, reasonable=false, pageSizeZero=false&#125;</span></span><br><span class="line"><span class="comment"> * [User(id=6, username=Cheng Zhennan, password=Jx3SLGXeS4), User(id=7, username=Thelma Hernandez, password=VxVO6dEgym), User(id=8, username=Emma Wood, password=XljUnUrnFZ), User(id=9, username=Kikuchi Akina, password=IgditeatR7), User(id=10, username=Miura Kenta, password=2CbmTGczZv)],</span></span><br><span class="line"><span class="comment"> * prePage=1, nextPage=3, isFirstPage=false, isLastPage=false, hasPreviousPage=true, hasNextPage=true, navigatePages=3, navigateFirstPage=1, navigateLastPage=3, navigatepageNums=[1, 2, 3]&#125; </span></span><br></pre></td></tr></table></figure>
</blockquote>
<h3 id="简述-mybatis-的插件运行原理以及如何编写一个插件">简述 MyBatis
的插件运行原理，以及如何编写一个插件。</h3>
<p>注：我出的。</p>
<p>答：MyBatis 仅可以编写针对
<strong><code>ParameterHandler</code></strong> 、
<strong><code>ResultSetHandler</code></strong> 、
<strong><code>StatementHandler</code></strong> 、
<strong><code>Executor</code></strong> 这 4 种接口的插件，MyBatis
<strong>使用 JDK
的动态代理</strong>，为<strong>需要拦截的接口生成代理对象</strong>以实现接口方法拦截功能，<strong>每当执行这
4 种接口</strong>对象的方法时，就会进入拦截方法，具体就是
<strong><code>InvocationHandler</code> 的 <code>invoke()</code></strong>
方法，当然，只会<strong>拦截那些你指定需要拦截的方法</strong>。</p>
<p>实现 MyBatis 的 <code>Interceptor</code> 接口并复写
<code>intercept()</code>
方法，然后在<strong>给插件编写注解</strong>，<strong>指定要拦截哪一个接口的哪些方法</strong>即可，记住，别忘了<strong>在配置文件中配置你编写的插件</strong>。</p>
<h3 id="mybatis-执行批量插入能返回数据库主键列表吗">MyBatis
执行批量插入，能返回数据库主键列表吗？</h3>
<p>注：我出的。</p>
<p>答：能，JDBC 都能，MyBatis 当然也能。</p>
<h3
id="mybatis-动态-sql-是做什么的都有哪些动态-sql能简述一下动态-sql-的执行原理不">MyBatis
动态 sql 是做什么的？都有哪些动态 sql？能简述一下动态 sql
的执行原理不？</h3>
<p>注：我出的。</p>
<p>答：MyBatis 动态 sql 可以让我们在 xml
映射文件内，<strong>以标签的形式编写动态
sql</strong>，完成<strong>逻辑判断</strong>和<strong>动态拼接
sql</strong> 的功能。其执行原理为，使用 <strong>OGNL 从 sql
参数对象中计算表达式的值</strong>，<strong>根据表达式的值动态拼接
sql</strong>，<strong>以此来完成动态 sql 的功能</strong>。</p>
<p>MyBatis 提供了 9 种动态 sql 标签:</p>
<ul>
<li><code>&lt;if&gt;&lt;/if&gt;</code></li>
<li><code>&lt;where&gt;&lt;/where&gt;(trim,set)</code></li>
<li><code>&lt;choose&gt;&lt;/choose&gt;（when, otherwise）</code></li>
<li><code>&lt;foreach&gt;&lt;/foreach&gt;</code></li>
<li><code>&lt;bind/&gt;</code></li>
</ul>
<p>关于 MyBatis 动态 SQL 的详细介绍，请看这篇文章：<a
target="_blank" rel="noopener" href="https://segmentfault.com/a/1190000039335704">Mybatis
系列全解（八）：Mybatis 的 9 大动态 SQL 标签你知道几个？</a> 。</p>
<p>关于这些动态 SQL 的具体使用方法，请看这篇文章：<a
target="_blank" rel="noopener" href="https://cloud.tencent.com/developer/article/1943349">Mybatis【13】--
Mybatis 动态 sql 标签怎么使用？</a></p>
<h3
id="mybatis-是如何将-sql-执行结果封装为目标对象并返回的都有哪些映射形式">MyBatis
是如何将 sql 执行结果封装为目标对象并返回的？都有哪些映射形式？</h3>
<p>注：我出的。</p>
<p>答：第一种是使用 <strong><code>&lt;resultMap&gt;</code></strong>
标签，逐一定义列名和对象属性名之间的映射关系。第二种是使用 <strong>sql
列的别名</strong>功能，将列别名书写为<strong>对象属性名</strong>，比如
T_NAME AS NAME，对象属性名一般是
name，小写，但是<strong>列名不区分大小写</strong>，MyBatis
会忽略列名大小写，智能找到<strong>与之对应对象属性名</strong>，你甚至可以写成
T_NAME AS NaMe，MyBatis 一样可以正常工作。</p>
<p>有了列名与属性名的映射关系后，MyBatis
通过反射创建对象，同时<strong>使用反射</strong>
给对象的属性逐一赋值并返回，那些找不到映射关系的属性，是无法完成赋值的。</p>
<h3
id="mybatis-能执行一对一一对多的关联查询吗都有哪些实现方式以及它们之间的区别实际没有用过">MyBatis
能执行一对一、一对多的关联查询吗？都有哪些实现方式，以及它们之间的区别。【实际没有用过】</h3>
<p>注：我出的。</p>
<p>答：能，MyBatis
不仅可以执行<strong>一对一</strong>、<strong>一对多</strong>的关联查询，还可以执行<strong>多对一</strong>，<strong>多对多</strong>的关联查询，多对一查询，其实就是一对一查询，只需要把
<code>selectOne()</code> 修改为 <code>selectList()</code>
即可；多对多查询，其实就是一对多查询，只需要把 <code>selectOne()</code>
修改为 <code>selectList()</code> 即可。</p>
<p>关联对象查询，有两种实现方式，一种是单独发送一个 sql
去查询关联对象，赋给主对象，然后返回主对象。另一种是使用嵌套查询，嵌套查询的含义为使用
join 查询，一部分列是 A 对象的属性值，另外一部分列是关联对象 B
的属性值，好处是只发一个 sql
查询，就可以把主对象和其关联对象查出来。</p>
<p>那么问题来了，join 查询出来 100 条记录，如何确定主对象是 5 个，而不是
100 个？其去重复的原理是 <code>&lt;resultMap&gt;</code> 标签内的
<code>&lt;id&gt;</code> 子标签，指定了唯一确定一条记录的 id 列，MyBatis
根据 <code>&lt;id&gt;</code> 列值来完成 100 条记录的去重复功能，
<code>&lt;id&gt;</code> 可以有多个，代表了联合主键的语意。</p>
<p>同样主对象的关联对象，也是根据这个原理去重复的，尽管一般情况下，只有主对象会有重复记录，关联对象一般不会重复。</p>
<p>举例：下面 join 查询出来 6 条记录，一、二列是 Teacher
对象列，第三列为 Student 对象列，MyBatis 去重复处理后，结果为 1 个老师 6
个学生，而不是 6 个老师 6 个学生。</p>
<table>
<thead>
<tr class="header">
<th>t_id</th>
<th>t_name</th>
<th>s_id</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>1</td>
<td>teacher</td>
<td>38</td>
</tr>
<tr class="even">
<td>1</td>
<td>teacher</td>
<td>39</td>
</tr>
<tr class="odd">
<td>1</td>
<td>teacher</td>
<td>40</td>
</tr>
<tr class="even">
<td>1</td>
<td>teacher</td>
<td>41</td>
</tr>
<tr class="odd">
<td>1</td>
<td>teacher</td>
<td>42</td>
</tr>
<tr class="even">
<td>1</td>
<td>teacher</td>
<td>43</td>
</tr>
</tbody>
</table>
<h3 id="mybatis-是否支持延迟加载如果支持它的实现原理是什么">MyBatis
是否支持延迟加载？如果支持，它的实现原理是什么？</h3>
<p>注：我出的。</p>
<p>答：MyBatis <strong>仅支持 association 关联对象</strong>和
<strong>collection
关联集合对象</strong>的<strong>延迟加载</strong>，association
指的就是一对一，collection 指的就是一对多查询。在 MyBatis
配置文件中，可以配置是否启用延迟加载
<code>lazyLoadingEnabled=true|false。</code></p>
<p>它的原理是，使用 <code>CGLIB</code>
创建目标对象的代理对象，当调用目标方法时，进入拦截器方法，比如调用
<code>a.getB().getName()</code> ，拦截器 <code>invoke()</code> 方法发现
<code>a.getB()</code> 是 null 值，那么就会单独发送事先保存好的查询关联 B
对象的 sql，把 B 查询上来，然后调用 a.setB(b)，于是 a 的对象 b
属性就有值了，接着完成 <code>a.getB().getName()</code>
方法的调用。这就是延迟加载的基本原理。</p>
<p>当然了，不光是 MyBatis，几乎所有的包括
Hibernate，支持延迟加载的原理都是一样的。</p>
<h3
id="mybatis-的-xml-映射文件中不同的-xml-映射文件id-是否可以重复">MyBatis
的 xml 映射文件中，不同的 xml 映射文件，id 是否可以重复？</h3>
<p>注：我出的。</p>
<p>答：<strong>不同的 xml 映射文件，如果配置了 namespace，那么 id
可以重复；如果没有配置 namespace，那么 id 不能重复</strong>；毕竟
namespace 不是必须的，只是最佳实践而已。</p>
<p>原因就是 namespace+id 是作为
<code>Map&lt;String, MappedStatement&gt;</code> 的 key 使用的，如果没有
namespace，就剩下 id，那么，id 重复会导致数据互相覆盖。有了
namespace，自然 id 就可以重复，<strong>namespace 不同，namespace+id
自然也就不同</strong>。</p>
<h3 id="mybatis-中如何执行批处理">MyBatis 中如何执行批处理？</h3>
<p>注：我出的。</p>
<p>答：使用 <strong><code>BatchExecutor</code></strong> 完成批处理。</p>
<h3 id="mybatis-都有哪些-executor-执行器它们之间的区别是什么">MyBatis
都有哪些 Executor 执行器？它们之间的区别是什么？</h3>
<p>注：我出的</p>
<p>答：MyBatis 有三种基本的 <code>Executor</code> 执行器：</p>
<ul>
<li><strong><code>SimpleExecutor</code>：</strong>
<strong>每执行</strong>一次 <strong>update</strong> 或
<strong>select</strong>，就开启一个 Statement
对象，<strong>用完立刻关闭</strong> Statement 对象。</li>
<li><strong><code>ReuseExecutor</code>：</strong> 执行 update 或
select，<strong>以 sql 作为 key 查找 Statement
对象</strong>，存在就使用，不存在就创建，用完后，不关闭 Statement
对象，而是<strong>放置于 Map&lt;String,
Statement&gt;内，供下一次使用</strong>。简言之，就是重复使用 Statement
对象。</li>
<li><strong><code>BatchExecutor</code></strong> ：执行 update（没有
select，JDBC 批处理不支持 select），<strong>将所有 sql
都添加到批处理中</strong>（addBatch()），等待统一执行（executeBatch()），它缓存了多个
Statement 对象，每个 Statement 对象都是 addBatch()完毕后，等待逐一执行
executeBatch()批处理。与 JDBC 批处理相同。</li>
</ul>
<p>作用范围：<code>Executor</code> 的这些特点，都严格限制在 SqlSession
生命周期范围内。</p>
<h3 id="mybatis-中如何指定使用哪一种-executor-执行器">MyBatis
中如何指定使用哪一种 Executor 执行器？</h3>
<p>注：我出的</p>
<p>答：在 MyBatis 配置文件中，可以<strong>指定默认的
<code>ExecutorType</code></strong> 执行器类型，也可以手动给
<strong><code>DefaultSqlSessionFactory</code> 的创建 SqlSession
的方法传递 <code>ExecutorType</code> 类型参</strong>数。</p>
<h3 id="mybatis-是否可以映射-enum-枚举类">MyBatis 是否可以映射 Enum
枚举类？</h3>
<p>注：我出的</p>
<p>答：MyBatis 可以映射枚举类，不单可以映射枚举类，MyBatis
可以<strong>映射任何对象到表的一列</strong>上。映射方式为自定义一个
<code>TypeHandler</code> ，实现 <code>TypeHandler</code> 的
<code>setParameter()</code> 和 <code>getResult()</code> 接口方法。
<code>TypeHandler</code> 有两个作用：</p>
<ul>
<li>一是完成从 javaType 至 jdbcType 的转换；</li>
<li>二是完成 jdbcType 至 javaType 的转换，体现为
<code>setParameter()</code> 和 <code>getResult()</code>
两个方法，分别代表设置 sql 问号占位符参数和获取列查询结果。</li>
</ul>
<h3
id="mybatis-映射文件中如果-a-标签通过-include-引用了-b-标签的内容请问b-标签能否定义在-a-标签的后面还是说必须定义在-a-标签的前面">MyBatis
映射文件中，如果 A 标签通过 include 引用了 B 标签的内容，请问，B
标签能否定义在 A 标签的后面，还是说必须定义在 A 标签的前面？</h3>
<p>注：我出的</p>
<p>答：虽然 MyBatis 解析 xml
映射文件是按照顺序解析的，但是，<strong>被引用的 B
标签依然可以定义在任何地方</strong>，MyBatis 都可以正确识别。</p>
<p><strong>原理是，MyBatis 解析 A 标签，发现 A 标签引用了 B 标签，但是 B
标签尚未解析到，尚不存在，此时，MyBatis 会将 A
标签标记为未解析状态，然后继续解析余下的标签，包含 B
标签，待所有标签解析完毕，MyBatis
会重新解析那些被标记为未解析的标签，此时再解析 A 标签时，B
标签已经存在，A 标签也就可以正常解析完成了。</strong></p>
<h3
id="简述-mybatis-的-xml-映射文件和-mybatis-内部数据结构之间的映射关系不懂">简述
MyBatis 的 xml 映射文件和 MyBatis
内部数据结构之间的映射关系？[不懂]</h3>
<p>注：我出的</p>
<p>答：MyBatis 将所有 xml 配置信息都封装到 All-In-One 重量级对象
Configuration 内部。在 xml 映射文件中，
<code>&lt;parameterMap&gt;</code> 标签会被解析为
<code>ParameterMap</code> 对象，其每个子元素会被解析为 ParameterMapping
对象。 <code>&lt;resultMap&gt;</code> 标签会被解析为
<code>ResultMap</code> 对象，其每个子元素会被解析为
<code>ResultMapping</code> 对象。每一个
<code>&lt;select&gt;、&lt;insert&gt;、&lt;update&gt;、&lt;delete&gt;</code>
标签均会被解析为 <strong><code>MappedStatement</code></strong>
对象，<strong>标签内的 sql 会被解析为 BoundSql 对象</strong>。</p>
<h3
id="为什么说-mybatis-是半自动-orm-映射工具它与全自动的区别在哪里">为什么说
MyBatis 是半自动 ORM 映射工具？它与全自动的区别在哪里？</h3>
<p>注：我出的</p>
<p>答：Hibernate 属于全自动 ORM 映射工具，使用 <strong>Hibernate
查询关联对象</strong>或者<strong>关联集合对象</strong>时，可以<strong>根据对象关系模型直接获</strong>取，所以它是全自动的。而
MyBatis 在查询关联对象或关联集合对象时，需要<strong>手动编写 sql
来完成</strong>，所以，称之为<strong>半自动 ORM 映射工具</strong>。</p>
<p>面试题看似都很简单，但是想要能正确回答上来，必定是研究过源码且深入的人，而不是仅会使用的人或者用的很熟的人，以上所有面试题及其答案所涉及的内容，在我的
MyBatis 系列博客中都有详细讲解和原理分析。</p>

    </div>

    
    
    

      <footer class="post-footer">
          <div class="post-tags">
              <a href="/tags/%E5%A4%8D%E4%B9%A0/" rel="tag"># 复习</a>
              <a href="/tags/%E5%A4%8D%E4%B9%A0-javaGuide/" rel="tag"># 复习-javaGuide</a>
              <a href="/tags/%E5%A4%8D%E4%B9%A0-javaGuide-framework/" rel="tag"># 复习-javaGuide-framework</a>
          </div>

        


        
    <div class="post-nav">
      <div class="post-nav-item">
    <a href="/2023/02/09/review/java_guide/lybly_framework/conditional_on_class/" rel="prev" title="ConditionalOnClass实践">
      <i class="fa fa-chevron-left"></i> ConditionalOnClass实践
    </a></div>
      <div class="post-nav-item">
    <a href="/2023/02/10/review/java_guide/lybly_framework/mybatis/mybatis-principle1/" rel="next" title="Mybatis原理系列(1)">
      Mybatis原理系列(1) <i class="fa fa-chevron-right"></i>
    </a></div>
    </div>
      </footer>
    
  </article>
  
  
  



          </div>
          
    
  
  <div class="comments">
  <script src="https://utteranc.es/client.js" repo="lwmfjc/lwmfjc.github.io.comment" issue-term="pathname" theme="github-light" crossorigin="anonymous" async></script>
  </div>
  
  

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%92%8C-%E7%9A%84%E5%8C%BA%E5%88%AB%E6%98%AF%E4%BB%80%E4%B9%88"><span class="nav-number">1.</span> <span class="nav-text">#{} 和 ${} 的区别是什么？</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#xml-%E6%98%A0%E5%B0%84%E6%96%87%E4%BB%B6%E4%B8%AD%E9%99%A4%E4%BA%86%E5%B8%B8%E8%A7%81%E7%9A%84-selectinsertupdatedelete-%E6%A0%87%E7%AD%BE%E4%B9%8B%E5%A4%96%E8%BF%98%E6%9C%89%E5%93%AA%E4%BA%9B%E6%A0%87%E7%AD%BE"><span class="nav-number">2.</span> <span class="nav-text">xml
映射文件中，除了常见的 select、insert、update、delete
标签之外，还有哪些标签？</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#dao-%E6%8E%A5%E5%8F%A3%E7%9A%84%E5%B7%A5%E4%BD%9C%E5%8E%9F%E7%90%86%E6%98%AF%E4%BB%80%E4%B9%88dao-%E6%8E%A5%E5%8F%A3%E9%87%8C%E7%9A%84%E6%96%B9%E6%B3%95%E5%8F%82%E6%95%B0%E4%B8%8D%E5%90%8C%E6%97%B6%E6%96%B9%E6%B3%95%E8%83%BD%E9%87%8D%E8%BD%BD%E5%90%97"><span class="nav-number">3.</span> <span class="nav-text">Dao
接口的工作原理是什么？Dao 接口里的方法，参数不同时，方法能重载吗？</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#mybatis-%E6%98%AF%E5%A6%82%E4%BD%95%E8%BF%9B%E8%A1%8C%E5%88%86%E9%A1%B5%E7%9A%84%E5%88%86%E9%A1%B5%E6%8F%92%E4%BB%B6%E7%9A%84%E5%8E%9F%E7%90%86%E6%98%AF%E4%BB%80%E4%B9%88"><span class="nav-number">4.</span> <span class="nav-text">MyBatis
是如何进行分页的？分页插件的原理是什么？</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%AE%80%E8%BF%B0-mybatis-%E7%9A%84%E6%8F%92%E4%BB%B6%E8%BF%90%E8%A1%8C%E5%8E%9F%E7%90%86%E4%BB%A5%E5%8F%8A%E5%A6%82%E4%BD%95%E7%BC%96%E5%86%99%E4%B8%80%E4%B8%AA%E6%8F%92%E4%BB%B6"><span class="nav-number">5.</span> <span class="nav-text">简述 MyBatis
的插件运行原理，以及如何编写一个插件。</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#mybatis-%E6%89%A7%E8%A1%8C%E6%89%B9%E9%87%8F%E6%8F%92%E5%85%A5%E8%83%BD%E8%BF%94%E5%9B%9E%E6%95%B0%E6%8D%AE%E5%BA%93%E4%B8%BB%E9%94%AE%E5%88%97%E8%A1%A8%E5%90%97"><span class="nav-number">6.</span> <span class="nav-text">MyBatis
执行批量插入，能返回数据库主键列表吗？</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#mybatis-%E5%8A%A8%E6%80%81-sql-%E6%98%AF%E5%81%9A%E4%BB%80%E4%B9%88%E7%9A%84%E9%83%BD%E6%9C%89%E5%93%AA%E4%BA%9B%E5%8A%A8%E6%80%81-sql%E8%83%BD%E7%AE%80%E8%BF%B0%E4%B8%80%E4%B8%8B%E5%8A%A8%E6%80%81-sql-%E7%9A%84%E6%89%A7%E8%A1%8C%E5%8E%9F%E7%90%86%E4%B8%8D"><span class="nav-number">7.</span> <span class="nav-text">MyBatis
动态 sql 是做什么的？都有哪些动态 sql？能简述一下动态 sql
的执行原理不？</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#mybatis-%E6%98%AF%E5%A6%82%E4%BD%95%E5%B0%86-sql-%E6%89%A7%E8%A1%8C%E7%BB%93%E6%9E%9C%E5%B0%81%E8%A3%85%E4%B8%BA%E7%9B%AE%E6%A0%87%E5%AF%B9%E8%B1%A1%E5%B9%B6%E8%BF%94%E5%9B%9E%E7%9A%84%E9%83%BD%E6%9C%89%E5%93%AA%E4%BA%9B%E6%98%A0%E5%B0%84%E5%BD%A2%E5%BC%8F"><span class="nav-number">8.</span> <span class="nav-text">MyBatis
是如何将 sql 执行结果封装为目标对象并返回的？都有哪些映射形式？</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#mybatis-%E8%83%BD%E6%89%A7%E8%A1%8C%E4%B8%80%E5%AF%B9%E4%B8%80%E4%B8%80%E5%AF%B9%E5%A4%9A%E7%9A%84%E5%85%B3%E8%81%94%E6%9F%A5%E8%AF%A2%E5%90%97%E9%83%BD%E6%9C%89%E5%93%AA%E4%BA%9B%E5%AE%9E%E7%8E%B0%E6%96%B9%E5%BC%8F%E4%BB%A5%E5%8F%8A%E5%AE%83%E4%BB%AC%E4%B9%8B%E9%97%B4%E7%9A%84%E5%8C%BA%E5%88%AB%E5%AE%9E%E9%99%85%E6%B2%A1%E6%9C%89%E7%94%A8%E8%BF%87"><span class="nav-number">9.</span> <span class="nav-text">MyBatis
能执行一对一、一对多的关联查询吗？都有哪些实现方式，以及它们之间的区别。【实际没有用过】</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#mybatis-%E6%98%AF%E5%90%A6%E6%94%AF%E6%8C%81%E5%BB%B6%E8%BF%9F%E5%8A%A0%E8%BD%BD%E5%A6%82%E6%9E%9C%E6%94%AF%E6%8C%81%E5%AE%83%E7%9A%84%E5%AE%9E%E7%8E%B0%E5%8E%9F%E7%90%86%E6%98%AF%E4%BB%80%E4%B9%88"><span class="nav-number">10.</span> <span class="nav-text">MyBatis
是否支持延迟加载？如果支持，它的实现原理是什么？</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#mybatis-%E7%9A%84-xml-%E6%98%A0%E5%B0%84%E6%96%87%E4%BB%B6%E4%B8%AD%E4%B8%8D%E5%90%8C%E7%9A%84-xml-%E6%98%A0%E5%B0%84%E6%96%87%E4%BB%B6id-%E6%98%AF%E5%90%A6%E5%8F%AF%E4%BB%A5%E9%87%8D%E5%A4%8D"><span class="nav-number">11.</span> <span class="nav-text">MyBatis
的 xml 映射文件中，不同的 xml 映射文件，id 是否可以重复？</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#mybatis-%E4%B8%AD%E5%A6%82%E4%BD%95%E6%89%A7%E8%A1%8C%E6%89%B9%E5%A4%84%E7%90%86"><span class="nav-number">12.</span> <span class="nav-text">MyBatis 中如何执行批处理？</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#mybatis-%E9%83%BD%E6%9C%89%E5%93%AA%E4%BA%9B-executor-%E6%89%A7%E8%A1%8C%E5%99%A8%E5%AE%83%E4%BB%AC%E4%B9%8B%E9%97%B4%E7%9A%84%E5%8C%BA%E5%88%AB%E6%98%AF%E4%BB%80%E4%B9%88"><span class="nav-number">13.</span> <span class="nav-text">MyBatis
都有哪些 Executor 执行器？它们之间的区别是什么？</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#mybatis-%E4%B8%AD%E5%A6%82%E4%BD%95%E6%8C%87%E5%AE%9A%E4%BD%BF%E7%94%A8%E5%93%AA%E4%B8%80%E7%A7%8D-executor-%E6%89%A7%E8%A1%8C%E5%99%A8"><span class="nav-number">14.</span> <span class="nav-text">MyBatis
中如何指定使用哪一种 Executor 执行器？</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#mybatis-%E6%98%AF%E5%90%A6%E5%8F%AF%E4%BB%A5%E6%98%A0%E5%B0%84-enum-%E6%9E%9A%E4%B8%BE%E7%B1%BB"><span class="nav-number">15.</span> <span class="nav-text">MyBatis 是否可以映射 Enum
枚举类？</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#mybatis-%E6%98%A0%E5%B0%84%E6%96%87%E4%BB%B6%E4%B8%AD%E5%A6%82%E6%9E%9C-a-%E6%A0%87%E7%AD%BE%E9%80%9A%E8%BF%87-include-%E5%BC%95%E7%94%A8%E4%BA%86-b-%E6%A0%87%E7%AD%BE%E7%9A%84%E5%86%85%E5%AE%B9%E8%AF%B7%E9%97%AEb-%E6%A0%87%E7%AD%BE%E8%83%BD%E5%90%A6%E5%AE%9A%E4%B9%89%E5%9C%A8-a-%E6%A0%87%E7%AD%BE%E7%9A%84%E5%90%8E%E9%9D%A2%E8%BF%98%E6%98%AF%E8%AF%B4%E5%BF%85%E9%A1%BB%E5%AE%9A%E4%B9%89%E5%9C%A8-a-%E6%A0%87%E7%AD%BE%E7%9A%84%E5%89%8D%E9%9D%A2"><span class="nav-number">16.</span> <span class="nav-text">MyBatis
映射文件中，如果 A 标签通过 include 引用了 B 标签的内容，请问，B
标签能否定义在 A 标签的后面，还是说必须定义在 A 标签的前面？</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%AE%80%E8%BF%B0-mybatis-%E7%9A%84-xml-%E6%98%A0%E5%B0%84%E6%96%87%E4%BB%B6%E5%92%8C-mybatis-%E5%86%85%E9%83%A8%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B9%8B%E9%97%B4%E7%9A%84%E6%98%A0%E5%B0%84%E5%85%B3%E7%B3%BB%E4%B8%8D%E6%87%82"><span class="nav-number">17.</span> <span class="nav-text">简述
MyBatis 的 xml 映射文件和 MyBatis
内部数据结构之间的映射关系？[不懂]</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%B8%BA%E4%BB%80%E4%B9%88%E8%AF%B4-mybatis-%E6%98%AF%E5%8D%8A%E8%87%AA%E5%8A%A8-orm-%E6%98%A0%E5%B0%84%E5%B7%A5%E5%85%B7%E5%AE%83%E4%B8%8E%E5%85%A8%E8%87%AA%E5%8A%A8%E7%9A%84%E5%8C%BA%E5%88%AB%E5%9C%A8%E5%93%AA%E9%87%8C"><span class="nav-number">18.</span> <span class="nav-text">为什么说
MyBatis 是半自动 ORM 映射工具？它与全自动的区别在哪里？</span></a></li></ol></div>
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="刘易"
      src="https://raw.githubusercontent.com/lwmfjc/lwmfjc.github.io.resource/main/img/avatar.png">
  <p class="site-author-name" itemprop="name">刘易</p>
  <div class="site-description" itemprop="description">知命不惧 日日自新</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">230</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">6</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">43</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
        <a href="https://github.com/lwmfjc" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;lwmfjc" rel="noopener" target="_blank"><i class="fab fa-github fa-fw"></i></a>
      </span>
  </div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2023</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">刘易</span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-chart-area"></i>
    </span>
    <span title="站点总字数">1.5m</span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-coffee"></i>
    </span>
    <span title="站点阅读时长">45:11</span>
</div>
  <div class="powered-by">由 <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://pisces.theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Pisces</a> 强力驱动
  </div>

        
<div class="busuanzi-count">
  <script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
    <span class="post-meta-item" id="busuanzi_container_site_uv" style="display: none;">
      <span class="post-meta-item-icon">
        <i class="fa fa-user"></i>
      </span>
      <span class="site-uv" title="总访客量">
        <span id="busuanzi_value_site_uv"></span>
      </span>
    </span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item" id="busuanzi_container_site_pv" style="display: none;">
      <span class="post-meta-item-icon">
        <i class="fa fa-eye"></i>
      </span>
      <span class="site-pv" title="总访问量">
        <span id="busuanzi_value_site_pv"></span>
      </span>
    </span>
</div>








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/pisces.js"></script>


<script src="/js/next-boot.js"></script>




  




  
<script src="/js/local-search.js"></script>













  

  
      

<script>
  if (typeof MathJax === 'undefined') {
    window.MathJax = {
      loader: {
        source: {
          '[tex]/amsCd': '[tex]/amscd',
          '[tex]/AMScd': '[tex]/amscd'
        }
      },
      tex: {
        inlineMath: {'[+]': [['$', '$']]},
        tags: 'ams'
      },
      options: {
        renderActions: {
          findScript: [10, doc => {
            document.querySelectorAll('script[type^="math/tex"]').forEach(node => {
              const display = !!node.type.match(/; *mode=display/);
              const math = new doc.options.MathItem(node.textContent, doc.inputJax[0], display);
              const text = document.createTextNode('');
              node.parentNode.replaceChild(text, node);
              math.start = {node: text, delim: '', n: 0};
              math.end = {node: text, delim: '', n: 0};
              doc.math.push(math);
            });
          }, '', false],
          insertedScript: [200, () => {
            document.querySelectorAll('mjx-container').forEach(node => {
              let target = node.parentNode;
              if (target.nodeName.toLowerCase() === 'li') {
                target.parentNode.classList.add('has-jax');
              }
            });
          }, '', false]
        }
      }
    };
    (function () {
      var script = document.createElement('script');
      script.src = '//cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js';
      script.defer = true;
      document.head.appendChild(script);
    })();
  } else {
    MathJax.startup.document.state(0);
    MathJax.texReset();
    MathJax.typeset();
  }
</script>

    

  

</body>
</html>
